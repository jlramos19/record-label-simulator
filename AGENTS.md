# Agent Guide - Record Label Simulator

- Docs live in GitHub `docs/` (canon root); the decision register is `docs/DECISIONS.md`.
- GDD folder (Game Design Documents) lives at `game-design-documents/` (dashed, repo root).
- Google Drive mirrors GitHub; Drive is not canon.
- Conflicts are resolved case-by-case with GitHub as the tie-breaker.
- Unity-era content is retconned into web equivalents; keep concepts, rewrite Unity tooling language.
- Workflow: TODO -> Docs -> Code -> Patch Notes.
- Patch notes: append a short change code to each new patch note bullet (example: `[PN-YYYYMMDD-AC01]`) and add a matching expansion entry under a `Patch Note Codes` section at the end of `docs/PATCH_NOTES.md`.
- README upkeep: verify `README.md` is current; update content as needed and refresh a `Last updated: YYYY-MM-DD HH:mm:ss +/-HH:MM` timestamp. If your timestamp is more recent, override the existing one.
- When you stage changes in git, draft a commit message for me to push to main on GitHub.
- When making code changes, run `npm run build` and confirm the build succeeds; always request a test run when code is touched.
- Dev loop: run `npm run start` plus `npm run watch` for live TypeScript changes; static file edits (HTML/CSS/data JS) show on refresh, but `src/` changes require a build/watch.
- Staging order: stage changes after running `npm run build` so updated `assets/js/dist/*` output is included.
- Task intro: start each task by naming yourself `Agent Codex` and adding a current role/occupation (format: `Agent Codex â€” <role>`).
- Role alignment: user is the creative director doing "vibe coding" and UX direction; you implement and confirm details for behavior/tech tradeoffs.
- Observability focus: prioritize clear warning/error reporting and bug-handling surfaces when improving features.
- Primary dev environment: VS Code Run/Debug with Microsoft Edge. Prioritize this setup when developing and validating behavior.
- References: `docs/DECISIONS.md` and `docs/CONTRADICTIONS.md`.
- Coordination: Other AI agents may work in this repo; coordinate changes, avoid overlapping edits, and stop to ask when conflicts appear.
- Coordination addendum: If other agents made local changes that do not conflict with the task, incorporate them into the current pass.
- Git status handling: If `git status` shows local changes, proceed on top of them and incorporate them when there is no conflict; ask if there is a conflict or ambiguity.
- Unexpected files: always adapt to unexpected files found and account for them in the current pass when there is no conflict.
- Branching: use branches to isolate work when helpful; you may create branches directly, but ask for naming conventions or timing if unclear.
- Modifiers and tools rules:
  - Modifiers are consumable production tools applied per track (consume on sheet creation); inventory stores counts.
  - Skills are creator-intrinsic; bullet pens/mics are skill flavor, not tools.
  - Tools are permanent equip items that adjust creator preferences (theme/mood/alignment/genre), not occupations.
  - Preference tools must not target a theme/mood/alignment/genre the creator already prefers; do not consume the tool on a failed apply.
  - When applying a preference tool, replace a non-matching preference slot and avoid duplicate preferences.
  - If an item needs both a preference tweak and a production boost, keep them as separate tool + modifier entries.
