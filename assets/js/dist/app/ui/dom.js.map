{"version":3,"file":"dom.js","sourceRoot":"","sources":["../../../../../src/app/ui/dom.ts"],"names":[],"mappings":"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","sourcesContent":["const $ = (id: string): any => document.getElementById(id);\n\nfunction openOverlay(id: string) {\n  const el = $(id);\n  if (!el) return;\n  el.style.display = \"flex\";\n  el.setAttribute(\"aria-hidden\", \"false\");\n}\n\nfunction closeOverlay(id: string) {\n  const el = $(id);\n  if (!el) return;\n  el.style.display = \"none\";\n  el.setAttribute(\"aria-hidden\", \"true\");\n}\n\nfunction showEndScreen(title: string, lines: { title: string; detail?: string }[]) {\n  const titleEl = $(\"endTitle\");\n  const listEl = $(\"endMessage\");\n  if (!titleEl || !listEl) return;\n  titleEl.textContent = title;\n  listEl.innerHTML = lines.map((line) => `\n    <div class=\"list-item\">\n      <div class=\"item-title\">${line.title}</div>\n      ${line.detail ? `<div class=\"muted\">${line.detail}</div>` : \"\"}\n    </div>\n  `).join(\"\");\n  openOverlay(\"endModal\");\n}\n\nfunction getSlotElement(targetId: string) {\n  return document.querySelector(`[data-slot-target=\"${targetId}\"]`);\n}\n\nfunction shakeElement(el: Element | null) {\n  if (!el) return;\n  el.classList.remove(\"shake\");\n  void (el as HTMLElement).offsetWidth;\n  el.classList.add(\"shake\");\n  window.setTimeout(() => {\n    el.classList.remove(\"shake\");\n  }, 320);\n}\n\nfunction shakeSlot(targetId: string) {\n  shakeElement(getSlotElement(targetId));\n}\n\nfunction shakeField(fieldId: string) {\n  const el = $(fieldId);\n  if (!el) return;\n  const field = el.closest(\".field\") || el;\n  shakeElement(field);\n}\n\nfunction describeSlot(targetId: string) {\n  const slot = getSlotElement(targetId);\n  if (!slot) return targetId || \"-\";\n  const label = slot.querySelector(\".slot-label\");\n  return label ? (label as HTMLElement).textContent : targetId;\n}\n\nexport {\n  $,\n  closeOverlay,\n  describeSlot,\n  getSlotElement,\n  openOverlay,\n  shakeElement,\n  shakeField,\n  shakeSlot,\n  showEndScreen\n};\n"]}