{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../../src/app/ui/render/index.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nimport {\n  ACT_PROMO_WARNING_WEEKS,\n  ACHIEVEMENTS,\n  ACHIEVEMENT_TARGET,\r\n  CREATOR_FALLBACK_EMOJI,\r\n  CREATOR_FALLBACK_ICON,\r\n  DAY_MS,\r\n  DEFAULT_TRACK_SLOT_VISIBLE,\r\n  MARKET_ROLES,\r\n  QUARTERS_PER_HOUR,\r\n  RESOURCE_TICK_LEDGER_LIMIT,\r\n  ROLE_ACTIONS,\r\n  ROLE_ACTION_STATUS,\r\n  STAGE_STUDIO_LIMIT,\r\n  STAMINA_OVERUSE_LIMIT,\r\n  STUDIO_COLUMN_SLOT_COUNT,\n  TRACK_ROLE_KEYS,\n  TRACK_ROLE_TARGETS,\n  TREND_DETAIL_COUNT,\n  UI_REACT_ISLANDS_ENABLED,\n  UNASSIGNED_CREATOR_EMOJI,\n  UNASSIGNED_CREATOR_LABEL,\r\n  UNASSIGNED_SLOT_LABEL,\r\n  WEEKLY_SCHEDULE,\r\n  alignmentClass,\r\n  buildCalendarProjection,\r\n  buildStudioEntries,\r\n  buildTrackHistoryScopes,\r\n  chartScopeLabel,\r\n  chartWeightsForScope,\r\n  clamp,\r\n  collectTrendRanking,\r\n  commitSlotChange,\r\n  computeChartProjectionForScope,\r\n  computePopulationSnapshot,\r\n  countryColor,\r\n  countryDemonym,\r\n  creatorInitials,\r\n  currentYear,\r\n  ensureMarketCreators,\r\n  ensureTrackSlotArrays,\r\n  ensureTrackSlotVisibility,\r\n  formatCount,\r\n  formatDate,\r\n  formatHourCountdown,\r\n  formatMoney,\r\n  formatShortDate,\r\n  formatWeekRangeLabel,\r\n  getAct,\r\n  getActiveEras,\r\n  getBusyCreatorIds,\r\n  getCommunityLabelRankingLimit,\r\n  getCommunityTrendRankingLimit,\r\n  getCreator,\r\n  getCreatorPortraitUrl,\r\n  getCreatorSignLockout,\r\n  getCreatorStaminaSpentToday,\r\n  getEraById,\r\n  getFocusedEra,\r\n  getGameDifficulty,\r\n  getGameMode,\r\n  getLabelRanking,\r\n  getModifier,\r\n  getModifierInventoryCount,\r\n  getProjectTrackLimits,\r\n  getOwnedStudioSlots,\r\n  getReleaseAsapAt,\r\n  getReleaseDistributionFee,\r\n  getRivalByName,\r\n  getRolloutPlanningEra,\r\n  getRolloutStrategiesForEra,\r\n  getSlotData,\r\n  getSlotGameMode,\r\n  getSlotValue,\r\n  getStageCost,\r\n  getStageStudioAvailable,\r\n  getStudioAvailableSlots,\r\n  getStudioMarketSnapshot,\r\n  getStudioUsageCounts,\r\n  getTopActSnapshot,\r\n  getTopTrendGenre,\r\n  getTrack,\r\n  getTrackRoleIds,\r\n  getTrackRoleIdsFromSlots,\r\n  getWorkOrderCreatorIds,\r\n  hoursUntilNextScheduledTime,\r\n  isMasteringTrack,\r\n  listFromIds,\r\n  loadLossArchives,\r\n  logEvent,\r\n  makeGenre,\r\n  moodFromGenre,\r\n  normalizeProjectName,\r\n  normalizeProjectType,\r\n  normalizeRoleIds,\r\n  parseTrackRoleTarget,\r\n  pruneCreatorSignLockouts,\r\n  qualityGrade,\r\n  rankCandidates,\r\n  recommendPhysicalRun,\r\n  recommendReleasePlan,\r\n  releasedTracks,\r\n  roleLabel,\r\n  safeAvatarUrl,\r\n  saveToActiveSlot,\r\n  scoreGrade,\r\n  session,\r\n  setSelectedRolloutStrategyId,\r\n  setTimeSpeed,\r\n  shortGameModeLabel,\r\n  slugify,\r\n  staminaRequirement,\r\n  state,\r\n  syncLabelWallets,\r\n  themeFromGenre,\r\n  trackKey,\r\n  trackRoleLimit,\r\n  trendAlignmentLeader,\r\n  weekIndex,\r\n  weekNumberFromEpochMs,\r\n} from \"../../game.js\";\r\nimport { PROMO_TYPE_DETAILS } from \"../../promo_types.js\";\r\nimport { CalendarView } from \"../../calendar.js\";\r\nimport { fetchChartSnapshot, listChartWeeks } from \"../../db.js\";\r\nimport { $, describeSlot, getSlotElement, openOverlay } from \"../dom.js\";\r\nimport {\r\n  buildMoodOptions,\r\n  buildThemeOptions,\r\n  bindThemeSelectAccent,\r\n  getMoodEmoji,\r\n  setThemeSelectAccent\r\n} from \"../themeMoodOptions.js\";\r\nimport {\r\n  buildRolloutBudgetSummary,\r\n  getModifierCosts,\r\n  getPromoInflationMultiplier\r\n} from \"./promo-budget.js\";\r\n\r\nconst ACCESSIBLE_TEXT = { dark: \"#0b0f14\", light: \"#ffffff\" };\r\nconst PROMO_TRACK_REQUIRED_TYPES = Object.keys(PROMO_TYPE_DETAILS)\r\n  .filter((typeId) => PROMO_TYPE_DETAILS[typeId]?.requiresTrack);\r\nconst CREATE_PENDING_EMOJIS = { sheet: \"\", demo: \"\" };\r\nconst RELEASE_PENDING_EMOJI = \"\";\r\n\r\n\r\nfunction renderRolloutBudgetSummary(strategy) {\r\n  const summary = buildRolloutBudgetSummary(strategy);\r\n  if (!summary) return \"\";\r\n  if (!summary.eventCount) {\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Budget estimate</div>\r\n        <div class=\"muted\">No promo events scheduled yet.</div>\r\n      </div>\r\n    `;\r\n  }\r\n  const breakdown = summary.byType\r\n    .map((entry) => `${entry.label} x${entry.count}: ${formatMoney(entry.totalPlanned)}`)\r\n    .join(\" | \");\r\n  const breakdownLine = breakdown ? `<div class=\"muted\">${breakdown}</div>` : \"\";\r\n  return `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">Budget estimate</div>\r\n      <div class=\"muted\">Base ${formatMoney(summary.totalBase)} | Inflation-adjusted ${formatMoney(summary.totalAdjusted)} | Planned ${formatMoney(summary.totalPlanned)}</div>\r\n      ${breakdownLine}\r\n      <div class=\"muted\">Uses current promo budgets; adjust them to adapt.</div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nlet trackHistoryRequestId = 0;\r\nlet eraHistoryRequestId = 0;\r\n\r\nfunction resolveCssColor(value) {\r\n  const raw = String(value || \"\").trim();\r\n  if (!raw || !raw.startsWith(\"var(\")) return raw;\r\n  const match = raw.match(/var\\((--[^)]+)\\)/);\r\n  if (!match || typeof document === \"undefined\") return raw;\r\n  const resolved = getComputedStyle(document.documentElement).getPropertyValue(match[1]).trim();\r\n  return resolved || raw;\r\n}\r\n\r\nfunction parseColorToRgb(value) {\r\n  const color = resolveCssColor(value);\r\n  if (!color) return null;\r\n  if (color.startsWith(\"#\")) {\r\n    let hex = color.slice(1).trim();\r\n    if (hex.length === 3) {\r\n      hex = hex.split(\"\").map((ch) => ch + ch).join(\"\");\r\n    }\r\n    if (hex.length === 8) hex = hex.slice(0, 6);\r\n    if (hex.length !== 6) return null;\r\n    const r = parseInt(hex.slice(0, 2), 16);\r\n    const g = parseInt(hex.slice(2, 4), 16);\r\n    const b = parseInt(hex.slice(4, 6), 16);\r\n    return { r, g, b };\r\n  }\r\n  const rgbMatch = color.match(/^rgba?\\(([^)]+)\\)$/);\r\n  if (!rgbMatch) return null;\r\n  const parts = rgbMatch[1].split(\",\").map((part) => Number.parseFloat(part.trim()));\r\n  if (parts.length < 3 || parts.some((part) => Number.isNaN(part))) return null;\r\n  return { r: parts[0], g: parts[1], b: parts[2] };\r\n}\r\n\r\nfunction relativeLuminance(rgb) {\r\n  const toLinear = (value) => {\r\n    const channel = value / 255;\r\n    return channel <= 0.03928\r\n      ? channel / 12.92\r\n      : Math.pow((channel + 0.055) / 1.055, 2.4);\r\n  };\r\n  return 0.2126 * toLinear(rgb.r) + 0.7152 * toLinear(rgb.g) + 0.0722 * toLinear(rgb.b);\r\n}\r\n\r\nfunction contrastRatio(a, b) {\r\n  const lighter = Math.max(a, b);\r\n  const darker = Math.min(a, b);\r\n  return (lighter + 0.05) / (darker + 0.05);\r\n}\r\n\r\nfunction pickAccessibleTextColor(bgColor) {\r\n  const bg = parseColorToRgb(bgColor);\r\n  const dark = parseColorToRgb(ACCESSIBLE_TEXT.dark);\r\n  const light = parseColorToRgb(ACCESSIBLE_TEXT.light);\r\n  if (!bg || !dark || !light) return ACCESSIBLE_TEXT.dark;\r\n  const bgLum = relativeLuminance(bg);\r\n  const darkContrast = contrastRatio(bgLum, relativeLuminance(dark));\r\n  const lightContrast = contrastRatio(bgLum, relativeLuminance(light));\r\n  return lightContrast >= darkContrast ? ACCESSIBLE_TEXT.light : ACCESSIBLE_TEXT.dark;\r\n}\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderAlignmentTag(alignment) {\n  const cls = alignmentClass(alignment);\n  return `<span class=\"tag ${cls}\"><span class=\"tag-dot\"></span>${alignment}</span>`;\n}\n\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderThemeTag(theme) {\n  const cls = `theme-${slugify(theme)}`;\n  return `<span class=\"tag ${cls}\"><span class=\"tag-dot\"></span>${theme}</span>`;\n}\n\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderCountryTag(country) {\n  const cls = `country-${slugify(country)}`;\n  return `<span class=\"tag ${cls}\"><span class=\"tag-dot\"></span>${country}</span>`;\n}\n\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderNationalityPill(country) {\n  const color = countryColor(country);\n  const demonym = countryDemonym(country);\n  return `<span class=\"pill country-pill\" style=\"color:${color};\">${demonym}</span>`;\r\n}\r\n\r\n\r\nfunction getCreatorHangulName(creator) {\r\n  if (!creator) return \"\";\r\n  return creator.nameHangul\r\n    || (creator.surnameHangul && creator.givenNameHangul ? `${creator.surnameHangul}${creator.givenNameHangul}` : \"\");\r\n}\r\n\r\nfunction renderCreatorName(creator, { stacked = true } = {}) {\r\n  if (!creator) return \"\";\r\n  const romanized = creator.name || \"\";\r\n  const hangul = getCreatorHangulName(creator);\r\n  if (!hangul || !stacked) return romanized;\r\n  return `<span class=\"name-stack\"><span class=\"name-ko\" lang=\"ko\">${hangul}</span><span class=\"name-romanized\">${romanized}</span></span>`;\r\n}\r\n\r\nfunction isCreatorInAct(creatorId) {\r\n  if (!creatorId) return false;\r\n  return state.acts.some((act) => Array.isArray(act.memberIds) && act.memberIds.includes(creatorId));\r\n}\r\n\r\nfunction getCreatorStageName(creator) {\r\n  if (!creator) return \"\";\r\n  const stageName = typeof creator.stageName === \"string\" ? creator.stageName.trim() : \"\";\r\n  if (stageName) return stageName;\r\n  const fallback = String(creator.givenName || creator.name || \"\").trim();\r\n  return fallback;\r\n}\r\n\r\nfunction formatCreatorRealNameLine(creator) {\r\n  if (!creator) return \"\";\r\n  const romanized = String(creator.name || \"\").trim();\r\n  const hangul = getCreatorHangulName(creator);\r\n  if (hangul && romanized && hangul !== romanized) return `${hangul} / ${romanized}`;\r\n  return romanized || hangul;\r\n}\r\n\r\nfunction renderCreatorStudioName(creator) {\r\n  if (!creator) return \"\";\r\n  if (!isCreatorInAct(creator.id)) return renderCreatorName(creator);\r\n  const stageName = getCreatorStageName(creator);\r\n  if (!stageName) return renderCreatorName(creator);\r\n  const realName = formatCreatorRealNameLine(creator);\r\n  const realLine = realName ? `<span class=\"muted\">[${realName}]</span>` : \"\";\r\n  return `<span class=\"name-stack\"><span class=\"creator-stage-name\">${stageName}</span>${realLine}</span>`;\r\n}\r\n\r\nfunction buildWorkOrderCrewLabel(crew) {\r\n  const lead = crew[0] || null;\r\n  if (!lead) return { primary: \"Unassigned\", secondary: \"\" };\r\n  if (!isCreatorInAct(lead.id)) return { primary: lead.name || \"Unassigned\", secondary: \"\" };\r\n  const stageName = getCreatorStageName(lead) || lead.name || \"Unassigned\";\r\n  const suffix = crew.length > 1 ? ` +${crew.length - 1}` : \"\";\r\n  const realName = formatCreatorRealNameLine(lead);\r\n  return {\r\n    primary: `${stageName}${suffix}`,\r\n    secondary: realName ? `[${realName}]` : \"\"\r\n  };\r\n}\r\n\r\nconst SKILL_LEVEL_COUNT = 10;\r\nconst SKILL_EXP_PER_LEVEL = Math.max(1, (SKILL_MAX - SKILL_MIN + 1) / SKILL_LEVEL_COUNT);\r\nconst SKILL_EXP_PER_LEVEL_LABEL = Number.isInteger(SKILL_EXP_PER_LEVEL)\r\n  ? String(SKILL_EXP_PER_LEVEL)\r\n  : SKILL_EXP_PER_LEVEL.toFixed(2);\r\n\r\nfunction getCreatorSkillLevel(creator) {\r\n  const skill = Number.isFinite(creator?.skill) ? creator.skill : SKILL_MIN;\r\n  const bounded = clamp(skill, SKILL_MIN, SKILL_MAX) - SKILL_MIN;\r\n  return clamp(Math.floor(bounded / SKILL_EXP_PER_LEVEL) + 1, 1, SKILL_LEVEL_COUNT);\r\n}\r\n\r\nfunction getCreatorSkillExp(creator) {\r\n  const skill = Number.isFinite(creator?.skill) ? creator.skill : SKILL_MIN;\r\n  const progress = Number.isFinite(creator?.skillProgress) ? creator.skillProgress : 0;\r\n  const bounded = clamp(skill, SKILL_MIN, SKILL_MAX) - SKILL_MIN;\r\n  const exp = (bounded % SKILL_EXP_PER_LEVEL) + progress;\r\n  return clamp(exp, 0, SKILL_EXP_PER_LEVEL);\r\n}\r\n\r\nfunction renderCreatorSkillProgress(creator) {\r\n  const level = getCreatorSkillLevel(creator);\r\n  const exp = getCreatorSkillExp(creator);\r\n  return `Skill Level ${level} | EXP ${exp.toFixed(2)} / ${SKILL_EXP_PER_LEVEL_LABEL}`;\r\n}\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderLabelTag(label, country) {\n  const color = countryColor(country);\n  return `<span class=\"tag\" style=\"color:${color};\"><span class=\"tag-dot\"></span>${label}</span>`;\n}\n\n\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderMoodTag(mood, alignment) {\n  const emoji = getMoodEmoji(mood) || \"\\u2753\";\n  const cls = alignment ? alignmentClass(alignment) : \"neutral\";\n  return `<span class=\"tag mood ${cls}\"><span class=\"mood-emoji\">${emoji}</span>${mood}</span>`;\n}\n\n\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderMoodLabel(mood, alignment) {\n  const emoji = getMoodEmoji(mood) || \"\\u2753\";\n  const cls = alignment ? alignmentClass(alignment) : \"neutral\";\n  return `<span class=\"tag mood ${cls}\">${mood} <span class=\"mood-emoji\">${emoji}</span></span>`;\n}\n\r\n\r\nfunction formatModifierDelta(modifier) {\r\n  if (!modifier) return \"Quality 0 | Time 0h | Cost $0\";\r\n  const quality = Number(modifier.qualityDelta || 0);\r\n  const hours = Number(modifier.hoursDelta || 0);\r\n  const cost = Number(modifier.costDelta || 0);\r\n  const qualityLabel = `Quality ${quality > 0 ? \"+\" : \"\"}${quality}`;\r\n  const hoursLabel = `Time ${hours > 0 ? \"+\" : \"\"}${hours}h`;\r\n  const costLabel = `Cost ${cost > 0 ? \"+\" : \"\"}${formatMoney(cost)}`;\r\n  return `${qualityLabel} | ${hoursLabel} | ${costLabel}`;\r\n}\r\n\r\nfunction renderModifierFocus(modifier) {\r\n  if (!modifier) return \"\";\r\n  const tags = [];\r\n  if (modifier.theme) tags.push(renderThemeTag(modifier.theme));\r\n  if (modifier.mood) tags.push(renderMoodTag(modifier.mood, modifier.alignment));\r\n  if (modifier.alignment) tags.push(renderAlignmentTag(modifier.alignment));\r\n  if (!tags.length) return \"\";\r\n  return `<div class=\"muted\">Focus: ${tags.join(\" \")}</div>`;\r\n}\r\n\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderGenrePills(theme, mood, { fallback = \"-\", alignment } = {}) {\n  if (!theme || !mood) return fallback;\n  return `<span class=\"genre-pills\">${renderThemeTag(theme)} <span class=\"genre-connector\">but it's</span> ${renderMoodTag(mood, alignment)}</span>`;\n}\n\n\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderGenrePillsFromGenre(genre, options = {}) {\n  if (!genre) return options.fallback || \"-\";\n  const theme = themeFromGenre(genre);\n  const mood = moodFromGenre(genre);\n  return renderGenrePills(theme, mood, options);\n}\n\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderTrackGenrePills(track, options = {}) {\n  if (!track) return options.fallback || \"-\";\n  const theme = track.theme || themeFromGenre(track.genre);\r\n  const mood = track.mood || moodFromGenre(track.genre);\r\n  const alignment = options.alignment || track.alignment || state.label?.alignment || \"\";\r\n  return renderGenrePills(theme, mood, { ...options, alignment });\r\n}\r\n\r\n\r\nfunction ensureTrackSlotGrid() {\n  if (UI_REACT_ISLANDS_ENABLED) return;\n  const grid = $(\"trackSlotGrid\");\n  if (!grid || grid.dataset.built === \"true\") return;\n  grid.dataset.built = \"true\";\r\n  grid.innerHTML = \"\";\r\n  const roles = [\r\n    { role: \"Songwriter\", target: TRACK_ROLE_TARGETS.Songwriter },\r\n    { role: \"Performer\", target: TRACK_ROLE_TARGETS.Performer },\r\n    { role: \"Producer\", target: TRACK_ROLE_TARGETS.Producer }\r\n  ];\r\n  roles.forEach((entry) => {\r\n    const limit = trackRoleLimit(entry.role);\r\n    const group = document.createElement(\"div\");\r\n    group.className = \"slot-role-group\";\r\n    group.dataset.slotRoleGroup = entry.role;\r\n    const head = document.createElement(\"div\");\r\n    head.className = \"slot-group-head\";\r\n    const header = document.createElement(\"div\");\r\n    header.className = \"slot-group-label\";\r\n    header.dataset.slotGroupLabel = entry.role;\r\n    header.textContent = `${roleLabel(entry.role)} Slots (0/${limit})`;\r\n    const actions = document.createElement(\"div\");\r\n    actions.className = \"slot-group-actions\";\r\n    actions.innerHTML = `\r\n      <button type=\"button\" class=\"ghost mini\" data-slot-more=\"${entry.role}\">Add Slot</button>\r\n      <button type=\"button\" class=\"ghost mini\" data-slot-less=\"${entry.role}\">Show Less</button>\r\n    `;\r\n    head.appendChild(header);\r\n    head.appendChild(actions);\r\n    group.appendChild(head);\r\n    const slotGrid = document.createElement(\"div\");\r\n    slotGrid.className = \"slot-role-grid\";\r\n    slotGrid.dataset.slotRoleGrid = entry.role;\r\n    group.appendChild(slotGrid);\r\n    const columns = Math.max(1, Math.ceil(limit / STUDIO_COLUMN_SLOT_COUNT));\r\n    // Studio columns render five slots each to mirror studio capacity.\r\n    for (let col = 0; col < columns; col += 1) {\r\n      const columnLabel = document.createElement(\"div\");\r\n      columnLabel.className = \"slot-column-label\";\r\n      columnLabel.dataset.slotColumnLabel = `${entry.role}-${col + 1}`;\r\n      columnLabel.dataset.slotRole = entry.role;\r\n      columnLabel.dataset.slotColumnStart = String(col * STUDIO_COLUMN_SLOT_COUNT + 1);\r\n      columnLabel.textContent = `Studio ${col + 1}`;\r\n      slotGrid.appendChild(columnLabel);\r\n      for (let row = 0; row < STUDIO_COLUMN_SLOT_COUNT; row += 1) {\r\n        const index = col * STUDIO_COLUMN_SLOT_COUNT + row + 1;\r\n        if (index > limit) break;\r\n        const slot = document.createElement(\"div\");\r\n        slot.className = \"id-slot\";\r\n        slot.dataset.slotTarget = `${entry.target}-${index}`;\r\n        slot.dataset.slotType = \"creator\";\r\n        slot.dataset.slotRole = entry.role;\r\n        slot.dataset.slotGroup = \"track\";\r\n        slot.dataset.slotIndex = String(index);\r\n        const label = `${roleLabel(entry.role)} Slot`;\r\n        slot.innerHTML = `\r\n          <div class=\"slot-label\">${label} ${index}</div>\r\n          <div class=\"slot-id\">\r\n            <div class=\"slot-avatar\" aria-hidden=\"true\"></div>\r\n            <div class=\"slot-value\">${UNASSIGNED_CREATOR_LABEL}</div>\r\n          </div>\r\n          <div class=\"slot-actions\">\r\n            <button type=\"button\" class=\"ghost mini\" data-slot-recommend=\"${entry.target}-${index}\">Recommend</button>\r\n            <button type=\"button\" class=\"ghost mini\" data-slot-clear=\"${entry.target}-${index}\">Clear</button>\r\n          </div>\r\n        `;\r\n        slotGrid.appendChild(slot);\r\n      }\r\n    }\r\n    grid.appendChild(group);\r\n  });\r\n}\r\n\r\nfunction applyTrackSlotVisibility() {\n  if (UI_REACT_ISLANDS_ENABLED) return;\n  const grid = $(\"trackSlotGrid\");\n  if (!grid) return;\n  ensureTrackSlotVisibility();\r\n\r\n  [\"Songwriter\", \"Performer\", \"Producer\"].forEach((role) => {\r\n    const limit = trackRoleLimit(role);\r\n    const key = TRACK_ROLE_KEYS[role];\r\n    const assigned = listFromIds(state.ui.trackSlots?.[key]).length;\r\n    const fallback = Math.min(DEFAULT_TRACK_SLOT_VISIBLE, limit);\r\n    const current = Number(state.ui.trackSlotVisible?.[role]);\r\n    const desired = Number.isFinite(current) ? current : fallback;\r\n    const visibleCount = Math.max(fallback, Math.min(limit, Math.max(desired, assigned)));\r\n    state.ui.trackSlotVisible[role] = visibleCount;\r\n    const label = grid.querySelector(`[data-slot-group-label=\"${role}\"]`);\r\n    if (label) label.textContent = `${roleLabel(role)} Slots (${assigned}/${limit})`;\r\n    grid.querySelectorAll(`.id-slot[data-slot-role=\"${role}\"]`).forEach((slot) => {\r\n      const index = Number(slot.dataset.slotIndex || \"0\");\r\n      slot.classList.toggle(\"hidden\", index > visibleCount);\r\n    });\r\n    grid.querySelectorAll(`.slot-column-label[data-slot-role=\"${role}\"]`).forEach((column) => {\r\n      const start = Number(column.dataset.slotColumnStart || \"0\");\r\n      column.classList.toggle(\"hidden\", start > visibleCount);\r\n    });\r\n    const moreBtn = grid.querySelector(`[data-slot-more=\"${role}\"]`);\r\n    if (moreBtn) moreBtn.disabled = visibleCount >= limit;\r\n    const lessBtn = grid.querySelector(`[data-slot-less=\"${role}\"]`);\r\n    if (lessBtn) lessBtn.disabled = visibleCount <= Math.max(fallback, assigned);\r\n  });\r\n}\r\n\r\nfunction renderSlots() {\r\n  ensureTrackSlotGrid();\r\n  ensureTrackSlotArrays();\r\n  applyTrackSlotVisibility();\r\n  const activeTarget = state.ui.slotTarget;\r\n  document.querySelectorAll(\".id-slot\").forEach((slot) => {\r\n    if (slot.closest(\"#rls-react-trackslots-root\")) return;\r\n    const target = slot.dataset.slotTarget;\r\n    slot.classList.toggle(\"active\", target === activeTarget);\r\n  });\r\n\r\n  const actLead = getCreator(state.ui.actSlots.lead);\r\n  const actMember2 = getCreator(state.ui.actSlots.member2);\r\n  const actMember3 = getCreator(state.ui.actSlots.member3);\r\n  const trackAct = getAct(state.ui.trackSlots.actId);\r\n  const eraAct = getAct(state.ui.eraSlots.actId);\r\n  const promoTrack = state.marketTracks.find((entry) => entry.trackId === state.ui.promoSlots.trackId)\r\n    || getTrack(state.ui.promoSlots.trackId);\r\n  const socialTrack = getTrack(state.ui.socialSlots.trackId);\r\n\r\n  const unassignedLabel = UNASSIGNED_SLOT_LABEL;\r\n  const unassignedCreatorLabel = UNASSIGNED_CREATOR_LABEL;\r\n  if ($(\"actLeadSlot\")) $(\"actLeadSlot\").innerHTML = actLead ? renderCreatorName(actLead) : unassignedCreatorLabel;\r\n  if ($(\"actMember2Slot\")) $(\"actMember2Slot\").innerHTML = actMember2 ? renderCreatorName(actMember2) : unassignedCreatorLabel;\r\n  if ($(\"actMember3Slot\")) $(\"actMember3Slot\").innerHTML = actMember3 ? renderCreatorName(actMember3) : unassignedCreatorLabel;\r\n  if ($(\"trackActSlot\")) $(\"trackActSlot\").textContent = trackAct ? trackAct.name : unassignedLabel;\r\n  if ($(\"eraActSlot\")) $(\"eraActSlot\").textContent = eraAct ? eraAct.name : unassignedLabel;\r\n  if ($(\"promoTrackSlot\")) $(\"promoTrackSlot\").textContent = promoTrack ? promoTrack.title : unassignedLabel;\r\n  if ($(\"socialTrackSlot\")) $(\"socialTrackSlot\").textContent = socialTrack ? socialTrack.title : unassignedLabel;\r\n\r\n  document.querySelectorAll(\".id-slot\").forEach((slot) => {\r\n    if (slot.closest(\"#rls-react-trackslots-root\")) return;\r\n    const target = slot.dataset.slotTarget;\r\n    const type = slot.dataset.slotType;\r\n    const slotGroup = slot.dataset.slotGroup || \"\";\r\n    const value = getSlotValue(target);\r\n    const valueEl = slot.querySelector(\".slot-value\");\r\n    const avatarEl = slot.querySelector(\".slot-avatar\");\r\n    if (!valueEl) return;\r\n    if (type === \"creator\") {\r\n      const creator = value ? getCreator(value) : null;\r\n      if (creator && slotGroup === \"track\") {\r\n        valueEl.innerHTML = renderCreatorStudioName(creator);\r\n      } else {\r\n        valueEl.innerHTML = creator ? renderCreatorName(creator) : unassignedCreatorLabel;\r\n      }\r\n      if (avatarEl) {\r\n        const portraitUrl = creator ? getCreatorPortraitUrl(creator) : null;\r\n        const hasImage = Boolean(portraitUrl);\r\n        avatarEl.classList.toggle(\"has-image\", hasImage);\r\n        avatarEl.classList.toggle(\"is-empty\", !creator);\r\n        avatarEl.classList.toggle(\"has-symbols\", !hasImage);\r\n        if (hasImage) {\r\n          avatarEl.style.backgroundImage = `url(\"${safeAvatarUrl(portraitUrl)}\")`;\r\n          avatarEl.textContent = \"\";\r\n        } else {\r\n          avatarEl.style.backgroundImage = \"\";\r\n          avatarEl.innerHTML = renderCreatorFallbackSymbols({ unassigned: !creator });\r\n        }\r\n      }\r\n    } else if (type === \"act\") {\r\n      const act = value ? getAct(value) : null;\r\n      valueEl.textContent = act ? act.name : unassignedLabel;\r\n      if (avatarEl) {\r\n        avatarEl.classList.remove(\"has-image\");\r\n        avatarEl.classList.remove(\"is-empty\");\r\n        avatarEl.style.backgroundImage = \"\";\r\n        avatarEl.textContent = \"\";\r\n      }\r\n    } else if (type === \"track\") {\r\n      const track = value ? getTrack(value) : null;\r\n      let trackLabel = track ? track.title : unassignedLabel;\r\n      if (!track && target === \"promo-track\" && value) {\r\n        const marketEntry = state.marketTracks.find((entry) => entry.trackId === value);\r\n        if (marketEntry?.title) trackLabel = marketEntry.title;\r\n      }\r\n      valueEl.textContent = trackLabel;\r\n      if (avatarEl) {\r\n        avatarEl.classList.remove(\"has-image\");\r\n        avatarEl.classList.remove(\"is-empty\");\r\n        avatarEl.style.backgroundImage = \"\";\r\n        avatarEl.textContent = \"\";\r\n      }\r\n    }\r\n  });\r\n\r\n  document.querySelectorAll(\"[data-slot-group-label]\").forEach((label) => {\r\n    if (label.closest(\"#rls-react-trackslots-root\")) return;\r\n    const role = label.dataset.slotGroupLabel;\r\n    if (!role) return;\r\n    const limit = trackRoleLimit(role);\r\n    const assigned = getTrackRoleIdsFromSlots(role).length;\r\n    label.textContent = `${roleLabel(role)} Slots (${assigned}/${limit})`;\r\n  });\r\n\r\n  const createStage = state.ui.activeView === \"create\" ? (state.ui.createStage || \"sheet\") : null;\r\n  const stageRole = createStage === \"demo\"\r\n    ? \"Performer\"\r\n    : createStage === \"master\"\r\n      ? \"Producer\"\r\n      : createStage === \"sheet\"\r\n        ? \"Songwriter\"\r\n        : null;\r\n  document.querySelectorAll(\".slot-role-group\").forEach((group) => {\r\n    if (group.closest(\"#rls-react-trackslots-root\")) return;\r\n    const role = group.dataset.slotRoleGroup;\r\n    group.classList.toggle(\"is-active\", !!stageRole && role === stageRole);\r\n  });\r\n\r\n  const solo = $(\"actTypeSelect\") && $(\"actTypeSelect\").value === \"Solo Act\";\r\n  [\"act-member2\", \"act-member3\"].forEach((target) => {\r\n    const slot = getSlotElement(target);\r\n    if (slot) slot.classList.toggle(\"disabled\", solo);\r\n  });\r\n  if (typeof window !== \"undefined\" && window.ensureSlotDropdowns) {\r\n    window.ensureSlotDropdowns();\r\n  }\r\n  if (typeof window !== \"undefined\" && window.updateSlotDropdowns) {\r\n    window.updateSlotDropdowns();\r\n  }\r\n}\r\n\r\nfunction refreshSelectOptions() {\r\n  const labelAlignment = $(\"labelAlignment\");\r\n  if (labelAlignment) labelAlignment.innerHTML = ALIGNMENTS.map((a) => `<option value=\"${a}\">${a}</option>`).join(\"\");\r\n  const trackAlignment = $(\"trackAlignment\");\r\n  if (trackAlignment) trackAlignment.innerHTML = ALIGNMENTS.map((a) => `<option value=\"${a}\">${a}</option>`).join(\"\");\r\n  const themeSelect = $(\"themeSelect\");\r\n  if (themeSelect) {\r\n    themeSelect.innerHTML = buildThemeOptions();\r\n    bindThemeSelectAccent(themeSelect);\r\n  }\r\n  const moodSelect = $(\"moodSelect\");\r\n  if (moodSelect) moodSelect.innerHTML = buildMoodOptions();\r\n  const modifierSelect = $(\"modifierSelect\");\r\n  if (modifierSelect) {\r\n    const options = MODIFIERS.filter((mod) => mod.id === \"None\" || getModifierInventoryCount(mod.id) > 0);\r\n    modifierSelect.innerHTML = options.map((mod) => {\r\n      if (mod.id === \"None\") return `<option value=\"${mod.id}\">${mod.label}</option>`;\r\n      const count = getModifierInventoryCount(mod.id);\r\n      return `<option value=\"${mod.id}\">${mod.label} (x${count})</option>`;\r\n    }).join(\"\");\r\n  }\r\n  const actTypeSelect = $(\"actTypeSelect\");\r\n  if (actTypeSelect) actTypeSelect.innerHTML = ACT_TYPES.map((type) => `<option value=\"${type}\">${type}</option>`).join(\"\");\r\n  const actAlignmentSelect = $(\"actAlignmentSelect\");\r\n  if (actAlignmentSelect) actAlignmentSelect.innerHTML = ALIGNMENTS.map((a) => `<option value=\"${a}\">${a}</option>`).join(\"\");\r\n  const genreThemeFilter = $(\"genreThemeFilter\");\r\n  if (genreThemeFilter) {\r\n    genreThemeFilter.innerHTML = buildThemeOptions([{ value: \"All\", label: \"All Themes\" }]);\r\n    bindThemeSelectAccent(genreThemeFilter);\r\n  }\r\n  const genreMoodFilter = $(\"genreMoodFilter\");\r\n  if (genreMoodFilter) {\r\n    genreMoodFilter.innerHTML = buildMoodOptions([{ value: \"All\", label: \"All Moods\" }]);\r\n  }\r\n  const cccThemeFilter = $(\"cccThemeFilter\");\r\n  if (cccThemeFilter) {\r\n    cccThemeFilter.innerHTML = buildThemeOptions([{ value: \"All\", label: \"All Themes\" }]);\r\n    bindThemeSelectAccent(cccThemeFilter);\r\n  }\r\n  const cccMoodFilter = $(\"cccMoodFilter\");\r\n  if (cccMoodFilter) {\r\n    cccMoodFilter.innerHTML = buildMoodOptions([{ value: \"All\", label: \"All Moods\" }]);\r\n  }\r\n  const trendScopeSelect = $(\"trendScopeSelect\");\r\n  if (trendScopeSelect) trendScopeSelect.value = state.ui.trendScopeType || \"global\";\r\n  const eraRolloutSelect = $(\"eraRolloutSelect\");\r\n  if (eraRolloutSelect) {\r\n    eraRolloutSelect.innerHTML = ROLLOUT_PRESETS.map((preset) => `<option value=\"${preset.id}\">${preset.label}</option>`).join(\"\");\r\n  }\r\n  const eraPlanTheme = $(\"eraPlanTheme\");\r\n  if (eraPlanTheme) {\r\n    eraPlanTheme.innerHTML = buildThemeOptions([{ value: \"Any\", label: \"Any Theme\" }]);\r\n    eraPlanTheme.value = state.ui.eraPlan?.themeTarget || \"Any\";\r\n    bindThemeSelectAccent(eraPlanTheme);\r\n  }\r\n  const eraPlanMood = $(\"eraPlanMood\");\r\n  if (eraPlanMood) {\r\n    eraPlanMood.innerHTML = buildMoodOptions([{ value: \"Any\", label: \"Any Mood\" }]);\r\n    eraPlanMood.value = state.ui.eraPlan?.moodTarget || \"Any\";\r\n  }\r\n  const eraPlanRollout = $(\"eraPlanRollout\");\r\n  if (eraPlanRollout) {\r\n    eraPlanRollout.innerHTML = ROLLOUT_PRESETS.map((preset) => `<option value=\"${preset.id}\">${preset.label}</option>`).join(\"\");\r\n    eraPlanRollout.value = state.ui.eraPlan?.rolloutTemplateId || ROLLOUT_PRESETS[1].id;\r\n  }\r\n  const eraPlanCadence = $(\"eraPlanCadence\");\r\n  if (eraPlanCadence) {\r\n    const cadenceOptions = [\"Weekly\", \"Biweekly\", \"Monthly\", \"Quarterly\"];\r\n    eraPlanCadence.innerHTML = cadenceOptions.map((cadence) => `<option value=\"${cadence}\">${cadence}</option>`).join(\"\");\r\n    eraPlanCadence.value = state.ui.eraPlan?.cadence || \"Weekly\";\r\n  }\r\n  const eraPlanGoals = $(\"eraPlanGoals\");\r\n  if (eraPlanGoals) eraPlanGoals.value = state.ui.eraPlan?.goals || \"\";\r\n  const eraPlanSchedule = $(\"eraPlanSchedule\");\r\n  if (eraPlanSchedule) eraPlanSchedule.value = state.ui.eraPlan?.scheduleNote || \"\";\r\n  const eraPlanPlannedReleases = $(\"eraPlanPlannedReleases\");\r\n  if (eraPlanPlannedReleases) {\r\n    const planned = state.ui.eraPlan?.plannedReleaseIds || [];\r\n    eraPlanPlannedReleases.value = planned.join(\", \");\r\n  }\r\n  const projectTypeSelect = $(\"projectTypeSelect\");\r\n  if (projectTypeSelect && !projectTypeSelect.value) projectTypeSelect.value = \"Single\";\r\n  if (labelAlignment) labelAlignment.value = state.label.alignment;\r\n  if (trackAlignment) trackAlignment.value = state.label.alignment;\r\n  if (actAlignmentSelect) actAlignmentSelect.value = state.label.alignment;\r\n  const eraSeed = getActiveEras()[0];\r\n  if (eraSeed && eraSeed.rolloutId && eraRolloutSelect) {\r\n    eraRolloutSelect.value = eraSeed.rolloutId;\r\n  }\r\n  const labelNameInput = $(\"labelNameInput\");\r\n  if (labelNameInput) labelNameInput.value = state.label.name;\r\n  if (genreThemeFilter) {\r\n    genreThemeFilter.value = state.ui.genreTheme || \"All\";\r\n    setThemeSelectAccent(genreThemeFilter);\r\n  }\r\n  if (genreMoodFilter) genreMoodFilter.value = state.ui.genreMood || \"All\";\r\n  if (cccThemeFilter) {\r\n    cccThemeFilter.value = state.ui.cccThemeFilter || \"All\";\r\n    setThemeSelectAccent(cccThemeFilter);\r\n  }\r\n  if (cccMoodFilter) cccMoodFilter.value = state.ui.cccMoodFilter || \"All\";\r\n  const cccSort = $(\"cccSort\");\r\n  if (cccSort) cccSort.value = state.ui.cccSort || \"default\";\r\n  updateActMemberFields();\r\n  renderSlots();\r\n  updateGenrePreview();\r\n}\r\n\r\nfunction updateActMemberFields() {\r\n  const actTypeSelect = $(\"actTypeSelect\");\r\n  if (!actTypeSelect) return;\r\n  const solo = actTypeSelect.value === \"Solo Act\";\r\n  if (solo) {\r\n    state.ui.actSlots.member2 = null;\r\n    state.ui.actSlots.member3 = null;\r\n    if (state.ui.slotTarget === \"act-member2\" || state.ui.slotTarget === \"act-member3\") {\r\n      state.ui.slotTarget = null;\r\n    }\r\n  }\r\n  commitSlotChange();\r\n}\r\n\r\nfunction renderAutoAssignModal() {\r\n  const roles = [\"Songwriter\", \"Performer\", \"Producer\"];\r\n  const blocks = roles.map((role) => {\r\n    const candidates = rankCandidates(role).slice(0, 5);\r\n    const req = staminaRequirement(role);\r\n    const label = roleLabel(role);\r\n    if (!candidates.length) {\r\n      return `\r\n        <div class=\"auto-assign-role\">\r\n          <h3>${label}</h3>\r\n          <div class=\"muted\">No candidates available.</div>\r\n        </div>\r\n      `;\r\n    }\r\n    return `\r\n      <div class=\"auto-assign-role\">\r\n        <h3>${label}</h3>\r\n        ${candidates.map((creator) => {\r\n          const staminaPct = Math.round((creator.stamina / STAMINA_MAX) * 100);\r\n          const overuseSafe = getCreatorStaminaSpentToday(creator) + req <= STAMINA_OVERUSE_LIMIT;\r\n          const canAssign = creator.ready && overuseSafe;\r\n          return `\r\n          <div class=\"list-item\">\r\n            <div class=\"auto-assign-candidate\">\r\n              <div>\r\n                <div class=\"item-title\">${renderCreatorName(creator)}</div>\r\n                <div class=\"bar\"><span style=\"width:${staminaPct}%\"></span></div>\r\n                <div class=\"muted\">Stamina ${creator.stamina} / ${STAMINA_MAX}</div>\r\n                <div class=\"muted\">ID ${creator.id} | Skill <span class=\"grade-text\" data-grade=\"${scoreGrade(creator.skill)}\">${creator.skill}</span></div>\r\n                <div class=\"muted\">${renderCreatorSkillProgress(creator)}</div>\r\n              </div>\r\n              <div class=\"actions\">\r\n                ${creator.ready ? \"\" : `<span class=\"tag low\">Low stamina</span>`}\r\n                ${overuseSafe ? \"\" : `<span class=\"tag low\">Overuse limit</span>`}\r\n                <button type=\"button\" class=\"ghost\" data-assign-role=\"${role}\" data-assign-id=\"${creator.id}\"${canAssign ? \"\" : \" disabled\"}>Assign</button>\r\n              </div>\r\n            </div>\r\n            <div class=\"muted\">Needs ${req} stamina for ${label} stage</div>\r\n          </div>\r\n        `;\r\n        }).join(\"\")}\r\n      </div>\r\n    `;\r\n  });\r\n  $(\"autoAssignList\").innerHTML = blocks.join(\"\");\r\n}\r\n\r\nfunction renderTime() {\r\n  $(\"timeDisplay\").textContent = formatDate(state.time.epochMs);\r\n  $(\"weekDisplay\").textContent = `Week ${weekIndex() + 1}`;\r\n  const chartHours = hoursUntilNextScheduledTime(WEEKLY_SCHEDULE.chartUpdate);\r\n  $(\"chartCountdown\").textContent = `Charts update in ${formatHourCountdown(chartHours, { padHours: 3 })}h`;\r\n  const mode = getGameMode(state.meta?.gameMode);\r\n  const modeLabel = shortGameModeLabel(mode.label);\r\n  const modeEl = $(\"gameModeDisplay\");\r\n  if (modeEl) {\r\n    modeEl.textContent = modeLabel || \"-\";\r\n    if (mode?.id) {\r\n      modeEl.dataset.mode = mode.id;\r\n    } else {\r\n      modeEl.removeAttribute(\"data-mode\");\r\n    }\r\n    modeEl.setAttribute(\"title\", mode.label || \"\");\r\n    modeEl.setAttribute(\"aria-label\", mode.label ? `Game mode: ${mode.label}` : \"Game mode\");\r\n  }\r\n  const difficulty = getGameDifficulty(state.meta?.difficulty);\r\n  const difficultyEl = $(\"gameDifficultyDisplay\");\r\n  if (difficultyEl) {\r\n    difficultyEl.textContent = difficulty?.label || \"-\";\r\n    if (difficulty?.id) {\r\n      difficultyEl.dataset.difficulty = difficulty.id;\r\n    } else {\r\n      difficultyEl.removeAttribute(\"data-difficulty\");\r\n    }\r\n    difficultyEl.setAttribute(\"title\", difficulty?.label || \"\");\r\n    difficultyEl.setAttribute(\r\n      \"aria-label\",\r\n      difficulty?.label ? `Game difficulty: ${difficulty.label}` : \"Game difficulty\"\r\n    );\r\n  }\r\n}\r\n\r\nfunction renderFocusEraStatus() {\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const focusEra = getFocusedEra();\r\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\r\n  const displayEra = focusEra || fallbackEra;\r\n  const actName = displayEra ? getAct(displayEra.actId)?.name : null;\r\n  const stageName = displayEra ? ERA_STAGES[displayEra.stageIndex] || \"Active\" : \"\";\r\n  const baseLabel = displayEra\r\n    ? `${displayEra.name}${actName ? ` (${actName})` : \"\"}${stageName ? ` | ${stageName}` : \"\"}`\r\n    : \"\";\r\n  const headerLabel = focusEra\r\n    ? baseLabel\r\n    : fallbackEra\r\n      ? `${baseLabel} (Auto)`\r\n      : activeEras.length\r\n        ? \"Select focus\"\r\n        : \"No active eras\";\r\n  const detailLabel = focusEra\r\n    ? `Focused: ${baseLabel}`\r\n    : fallbackEra\r\n      ? `Auto: ${baseLabel}`\r\n      : activeEras.length\r\n        ? \"No focus selected\"\r\n        : \"No active eras\";\r\n  const promoLabel = focusEra\r\n    ? baseLabel\r\n    : fallbackEra\r\n      ? `${baseLabel} (Auto)`\r\n      : activeEras.length\r\n        ? \"Select focus\"\r\n        : \"No active eras\";\r\n\r\n  const headerEl = $(\"focusEraDisplay\");\r\n  if (headerEl) {\r\n    headerEl.textContent = headerLabel;\r\n    if (displayEra) {\r\n      const stageName = ERA_STAGES[displayEra.stageIndex] || \"Active\";\r\n      headerEl.title = `Act: ${actName || \"Unknown\"} | Stage: ${stageName}`;\r\n    } else {\r\n      headerEl.title = \"\";\r\n    }\r\n  }\r\n  const labelEl = $(\"eraFocusLabel\");\r\n  if (labelEl) labelEl.textContent = detailLabel;\r\n  const promoEl = $(\"promoFocusLabel\");\r\n  if (promoEl) promoEl.textContent = promoLabel;\r\n  const clearBtn = $(\"eraFocusClear\");\r\n  if (clearBtn) clearBtn.disabled = !focusEra;\r\n  const promoBtn = $(\"promoFocusPickBtn\");\r\n  if (promoBtn) promoBtn.disabled = !displayEra;\r\n}\r\n\r\nfunction renderStats() {\r\n  $(\"cashDisplay\").textContent = formatMoney(state.label.cash);\r\n  const counts = getStudioUsageCounts();\r\n  const ownedSlots = getOwnedStudioSlots();\r\n  const totalSlots = ownedSlots + counts.leased;\r\n  state.studio.inUse = counts.total;\r\n  $(\"studioDisplay\").textContent = `${counts.total} / ${totalSlots}`;\r\n  $(\"slotDisplay\").textContent = session.activeSlot ? `Slot ${session.activeSlot}` : \"-\";\r\n  $(\"slotTargetDisplay\").textContent = state.ui.slotTarget ? describeSlot(state.ui.slotTarget) : \"-\";\r\n  if ($(\"labelNameDisplay\")) {\r\n    $(\"labelNameDisplay\").textContent = state.label.name || \"Record Label\";\r\n  }\r\n  if ($(\"alignmentDisplay\")) {\r\n    $(\"alignmentDisplay\").innerHTML = renderAlignmentTag(state.label.alignment);\r\n  }\r\n  if ($(\"popularityDisplay\")) {\r\n    const ranking = getLabelRanking();\r\n    const index = ranking.findIndex((row) => row[0] === state.label.name);\r\n    $(\"popularityDisplay\").textContent = index >= 0 ? `#${index + 1}` : \"Unranked\";\r\n  }\r\n  if ($(\"reachDisplay\")) {\r\n    const snapshot = computePopulationSnapshot();\r\n    const reach = snapshot.total ? (state.label.fans / snapshot.total) * 100 : 0;\r\n    $(\"reachDisplay\").textContent = `${reach.toFixed(2)}%`;\r\n  }\r\n  if ($(\"achievementCount\")) {\r\n    const unlockedCount = state.meta.achievementsUnlocked?.length || 0;\r\n    const count = Math.max(unlockedCount, state.meta.achievements || 0);\r\n    $(\"achievementCount\").textContent = `${count} / ${ACHIEVEMENT_TARGET}`;\r\n  }\r\n  if ($(\"expDisplay\")) {\r\n    $(\"expDisplay\").textContent = formatCount(state.meta.exp || 0);\r\n  }\r\n  if ($(\"bailoutStatus\")) {\r\n    if (state.meta.bailoutPending) {\r\n      $(\"bailoutStatus\").textContent = \"Bailout offer pending.\";\r\n    } else if (state.meta.achievementsLocked) {\r\n      $(\"bailoutStatus\").textContent = \"Bailout used: achievements locked.\";\r\n    } else if (state.meta.bailoutUsed) {\r\n      $(\"bailoutStatus\").textContent = \"Bailout used.\";\r\n    } else {\r\n      $(\"bailoutStatus\").textContent = \"\";\r\n    }\r\n  }\r\n  if ($(\"winTrackDisplay\")) {\r\n    if (state.meta.winState) {\r\n      $(\"winTrackDisplay\").textContent = `Won ${state.meta.winState.year}`;\r\n    } else {\r\n      const year = currentYear();\r\n      if (year < 3000) $(\"winTrackDisplay\").textContent = \"12 Requests (no monopoly)\";\r\n      else if (year < 4000) $(\"winTrackDisplay\").textContent = \"12 Requests or Monopoly\";\r\n      else $(\"winTrackDisplay\").textContent = \"Top Label or Monopoly\";\r\n    }\r\n  }\r\n  renderFocusEraStatus();\r\n}\r\n\r\nfunction getCreatePendingCounts() {\r\n  const counts = { sheet: 0, demo: 0 };\r\n  if (!Array.isArray(state.tracks)) return { ...counts, total: 0 };\r\n  state.tracks.forEach((track) => {\r\n    if (!track) return;\r\n    const stageIndex = Number(track.stageIndex);\r\n    if (!Number.isFinite(stageIndex)) return;\r\n    if (stageIndex === 0) counts.sheet += 1;\r\n    if (stageIndex === 1) counts.demo += 1;\r\n  });\r\n  return { ...counts, total: counts.sheet + counts.demo };\r\n}\r\n\r\nfunction renderCreateNavBadge() {\r\n  const navItem = document.querySelector(\".app-nav [data-route=\\\"create\\\"]\");\r\n  const badge = $(\"createNavBadge\");\r\n  if (!navItem || !badge) return;\r\n  const totalEl = badge.querySelector(\"[data-create-pending-total]\");\r\n  const breakdownEl = badge.querySelector(\"[data-create-pending-breakdown]\");\r\n  const { sheet, demo, total } = getCreatePendingCounts();\r\n  if (totalEl) totalEl.textContent = formatCount(total);\r\n  if (breakdownEl) {\r\n    const sheetLabel = formatCount(sheet);\r\n    const demoLabel = formatCount(demo);\r\n    breakdownEl.textContent = `${CREATE_PENDING_EMOJIS.sheet}${sheetLabel} ${CREATE_PENDING_EMOJIS.demo}${demoLabel}`;\r\n  }\r\n  badge.classList.toggle(\"is-hidden\", total <= 0);\r\n  if (total > 0) {\r\n    const detail = `${sheet} sheet${sheet === 1 ? \"\" : \"s\"}, ${demo} demo${demo === 1 ? \"\" : \"s\"}`;\r\n    navItem.setAttribute(\"aria-label\", `Create (${total} pending: ${detail})`);\r\n    navItem.setAttribute(\"title\", `${total} pending: ${CREATE_PENDING_EMOJIS.sheet}${sheet} ${CREATE_PENDING_EMOJIS.demo}${demo}`);\r\n  } else {\r\n    navItem.setAttribute(\"aria-label\", \"Create\");\r\n    navItem.setAttribute(\"title\", \"Create\");\r\n  }\r\n}\r\n\r\nfunction getReleaseReadyCount() {\r\n  if (!Array.isArray(state.tracks)) return 0;\r\n  return state.tracks.filter((track) => track?.status === \"Ready\").length;\r\n}\r\n\r\nfunction renderReleaseNavBadge() {\r\n  const navItem = document.querySelector(\".app-nav [data-route=\\\"release\\\"]\");\r\n  const badge = $(\"releaseNavBadge\");\r\n  if (!navItem || !badge) return;\r\n  const totalEl = badge.querySelector(\"[data-release-ready-total]\");\r\n  const labelEl = badge.querySelector(\"[data-release-ready-label]\");\r\n  const total = getReleaseReadyCount();\r\n  if (totalEl) totalEl.textContent = formatCount(total);\r\n  if (labelEl) labelEl.textContent = `${RELEASE_PENDING_EMOJI} Ready`;\r\n  badge.classList.toggle(\"is-hidden\", total <= 0);\r\n  if (total > 0) {\r\n    navItem.setAttribute(\"aria-label\", `Release (${total} ready)`);\r\n    navItem.setAttribute(\"title\", `${total} ready to release`);\r\n  } else {\r\n    navItem.setAttribute(\"aria-label\", \"Release\");\r\n    navItem.setAttribute(\"title\", \"Release\");\r\n  }\r\n}\r\n\r\nfunction buildLabelRankingMeta() {\r\n  const fallbackSinceAt = Number.isFinite(state.time?.startEpochMs)\r\n    ? state.time.startEpochMs\r\n    : (Number.isFinite(state.time?.epochMs) ? state.time.epochMs : Date.now());\r\n  const metaByLabel = new Map();\r\n  const ensure = (label) => {\r\n    if (!label) return null;\r\n    const key = String(label);\r\n    if (!metaByLabel.has(key)) metaByLabel.set(key, { sinceAt: fallbackSinceAt });\r\n    return metaByLabel.get(key);\r\n  };\r\n  const addBaseMeta = (label, { country = null, cash = null } = {}) => {\r\n    const meta = ensure(label);\r\n    if (!meta) return;\r\n    if (country) meta.country = country;\r\n    if (Number.isFinite(cash)) meta.cash = cash;\r\n  };\r\n  addBaseMeta(state.label?.name, {\r\n    country: state.label?.country,\r\n    cash: state.label?.wallet?.cash ?? state.label?.cash\r\n  });\r\n  if (Array.isArray(state.rivals)) {\r\n    state.rivals.forEach((rival) => {\r\n      addBaseMeta(rival?.name, {\r\n        country: rival?.country,\r\n        cash: rival?.wallet?.cash ?? rival?.cash\r\n      });\r\n    });\r\n  }\r\n  if (Array.isArray(state.marketTracks)) {\r\n    state.marketTracks.forEach((entry) => {\r\n      const meta = ensure(entry?.label);\r\n      if (!meta) return;\r\n      const releasedAt = Number.isFinite(entry?.releasedAt) ? entry.releasedAt : null;\r\n      if (releasedAt && releasedAt < meta.sinceAt) meta.sinceAt = releasedAt;\r\n      if (!meta.country && entry?.country) meta.country = entry.country;\r\n    });\r\n  }\r\n  return { metaByLabel, fallbackSinceAt };\r\n}\r\n\r\nfunction getLabelRankingStatus(points, meta) {\r\n  if (points > 0) return null;\r\n  const cash = meta?.cash;\r\n  if (Number.isFinite(cash) && cash <= 0) return \"bankrupted\";\r\n  return \"inactive\";\r\n}\r\n\r\nfunction buildLabelRankingList({ limit = null, showMore = false } = {}) {\r\n  const fullRanking = getLabelRanking();\r\n  const { metaByLabel, fallbackSinceAt } = buildLabelRankingMeta();\r\n  const visible = typeof limit === \"number\" ? fullRanking.slice(0, limit) : fullRanking;\r\n  if (!visible.length) {\r\n    return { markup: `<div class=\"muted\">No labels yet.</div>`, visibleCount: 0, totalCount: fullRanking.length };\r\n  }\r\n  const list = visible.map((row, index) => {\r\n    const labelName = row[0];\r\n    const points = row[1];\r\n    const meta = metaByLabel.get(labelName) || { sinceAt: fallbackSinceAt };\r\n    const sinceAt = Number.isFinite(meta.sinceAt) ? meta.sinceAt : fallbackSinceAt;\r\n    const status = getLabelRankingStatus(points, meta);\r\n    const statusLabel = status === \"bankrupted\" ? \"Bankrupted\" : \"Inactive\";\r\n    const statusMarkup = status ? `<span class=\"label-status label-status--${status}\">${statusLabel}</span>` : \"\";\r\n    const country = meta.country || getRivalByName(labelName)?.country || state.label.country;\r\n    const moreAction = showMore && index === 0\r\n      ? `<button type=\"button\" class=\"ghost mini\" data-ranking-more=\"labels\">More</button>`\r\n      : \"\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div class=\"label-rank\">\r\n            <div class=\"item-title\">#${index + 1} ${renderLabelTag(labelName, country)}</div>\r\n            <div class=\"label-rank-meta\">\r\n              <span class=\"muted\">Since ${formatShortDate(sinceAt)}</span>\r\n              ${statusMarkup}\r\n            </div>\r\n          </div>\r\n          <div class=\"ranking-actions\">\r\n            <span class=\"muted\">${formatCount(points)} pts</span>\r\n            ${moreAction}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  return { markup: list.join(\"\"), visibleCount: visible.length, totalCount: fullRanking.length };\r\n}\r\n\r\nfunction renderCommunityLabels() {\r\n  const listEl = $(\"topLabelsWorldList\");\r\n  if (!listEl) return;\r\n  const limit = getCommunityLabelRankingLimit();\r\n  const { markup, visibleCount, totalCount } = buildLabelRankingList({ limit, showMore: true });\r\n  listEl.innerHTML = markup;\r\n  const meta = $(\"labelRankingMeta\");\r\n  if (meta) {\r\n    if (!totalCount) {\r\n      meta.textContent = \"No labels ranked yet.\";\r\n    } else if (visibleCount >= totalCount) {\r\n      meta.textContent = `Showing ${formatCount(totalCount)} labels.`;\r\n    } else {\r\n      meta.textContent = `Showing Top ${formatCount(visibleCount)} of ${formatCount(totalCount)} labels.`;\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderTopBar() {\r\n  const ranking = getLabelRanking(3);\r\n  const labelsMarkup = ranking.length\r\n    ? ranking.map((row, index) => `\r\n        <div class=\"top-mini-item\">\r\n          <span>${index + 1}. ${renderLabelTag(row[0], (getRivalByName(row[0])?.country || state.label.country))}</span>\r\n          <span class=\"muted\">${row[1]} pts</span>\r\n        </div>\r\n      `).join(\"\")\r\n    : `<div class=\"muted\">No labels yet</div>`;\r\n  const trendRanking = Array.isArray(state.trendRanking) && state.trendRanking.length\r\n    ? state.trendRanking\r\n    : (state.trends || []);\r\n  const trendsMarkup = trendRanking.length\r\n    ? trendRanking.slice(0, TREND_DETAIL_COUNT).map((trend, index) => `\r\n        <div class=\"top-mini-item\">\r\n          <span>${index + 1}. ${renderGenrePillsFromGenre(trend)}</span>\r\n        </div>\r\n      `).join(\"\")\r\n    : `<div class=\"muted\">No trends yet</div>`;\r\n  const headerList = $(\"topLabelsHeaderList\");\r\n  if (headerList) headerList.innerHTML = labelsMarkup;\r\n  const trendsList = $(\"topTrendsHeaderList\");\r\n  if (trendsList) trendsList.innerHTML = trendsMarkup;\r\n  const labelsMoreBtn = $(\"topLabelsMoreBtn\");\r\n  if (labelsMoreBtn) labelsMoreBtn.disabled = !ranking.length;\r\n  const trendsMoreBtn = $(\"topTrendsMoreBtn\");\r\n  if (trendsMoreBtn) trendsMoreBtn.disabled = !trendRanking.length;\r\n  const rankingWindow = $(\"rankingWindow\");\r\n  if (rankingWindow && !rankingWindow.classList.contains(\"hidden\")) {\r\n    const category = rankingWindow.dataset.category || \"labels\";\r\n    renderRankingWindow(category);\r\n  }\r\n  if ($(\"topActName\")) {\r\n    const topAct = getTopActSnapshot();\r\n    $(\"topActName\").textContent = topAct ? `Top Act: ${topAct.name}` : \"Top Act: -\";\r\n    $(\"topActPortrait\").textContent = topAct ? topAct.initials : \"RLS\";\r\n    $(\"topActPortrait\").style.background = topAct ? topAct.color : \"\";\r\n    $(\"topActPortrait\").style.color = topAct ? topAct.textColor : \"\";\r\n  }\r\n}\r\n\r\nfunction buildChartPulsePromoEntries({ startAt, endAt, scopeType, scopeTarget }) {\r\n  const entries = [];\r\n  const scopeNation = scopeType === \"global\"\r\n    ? null\r\n    : scopeType === \"nation\"\r\n      ? scopeTarget\r\n      : REGION_DEFS.find((region) => region.id === scopeTarget)?.nation || null;\r\n  const allowCountry = (country) => !scopeNation || country === scopeNation;\r\n  const labelName = state.label?.name || \"Label\";\r\n  const labelCountry = state.label?.country || \"Annglora\";\r\n\r\n  if (Array.isArray(state.scheduledEvents) && allowCountry(labelCountry)) {\r\n    state.scheduledEvents.forEach((entry) => {\r\n      if (entry.status === \"Cancelled\") return;\r\n      if (!Number.isFinite(entry.scheduledAt)) return;\r\n      if (entry.scheduledAt < startAt || entry.scheduledAt >= endAt) return;\r\n      const details = PROMO_TYPE_DETAILS[entry.actionType];\r\n      if (!details) return;\r\n      const track = entry.contentId ? getTrack(entry.contentId) : null;\r\n      const act = entry.actId ? getAct(entry.actId) : track ? getAct(track.actId) : null;\r\n      entries.push({\r\n        id: entry.id,\r\n        ts: entry.scheduledAt,\r\n        title: track ? track.title : details.label,\r\n        actName: act ? act.name : \"Unknown\",\r\n        label: labelName,\r\n        typeLabel: details.label,\r\n        impact: details.cost\r\n      });\r\n    });\r\n  }\r\n\r\n  if (Array.isArray(state.rivalReleaseQueue)) {\r\n    state.rivalReleaseQueue.forEach((entry) => {\r\n      if ((entry.queueType || \"release\") !== \"promo\") return;\r\n      if (!Number.isFinite(entry.releaseAt)) return;\r\n      if (entry.releaseAt < startAt || entry.releaseAt >= endAt) return;\r\n      const details = PROMO_TYPE_DETAILS[entry.promoType];\r\n      if (!details) return;\r\n      const rival = getRivalByName(entry.label);\r\n      const rivalCountry = rival?.country || entry.country || labelCountry;\r\n      if (!allowCountry(rivalCountry)) return;\r\n      entries.push({\r\n        id: entry.id,\r\n        ts: entry.releaseAt,\r\n        title: entry.title || details.label,\r\n        actName: entry.actName || \"Promotion\",\r\n        label: entry.label || \"Rival\",\r\n        typeLabel: details.label,\r\n        impact: details.cost\r\n      });\r\n    });\r\n  }\r\n\r\n  return entries\r\n    .sort((a, b) => b.impact - a.impact || a.ts - b.ts)\r\n    .slice(0, 5)\r\n    .map((entry, index) => ({ ...entry, rank: index + 1 }));\r\n}\r\n\r\nfunction renderDashboard() {\r\n  const statsEl = $(\"dashboardStats\");\r\n  if (!statsEl) return;\r\n  const weekLabel = $(\"dashboardWeekLabel\");\r\n  if (weekLabel) weekLabel.textContent = `Week ${weekIndex() + 1}`;\r\n  const dateLabel = $(\"dashboardDateLabel\");\r\n  if (dateLabel) dateLabel.textContent = formatDate(state.time.epochMs);\r\n\r\n  const activeTracks = state.tracks.filter((track) => track.status !== \"Released\");\r\n  const releasedTracks = state.tracks.filter((track) => track.status === \"Released\");\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const focusEra = getFocusedEra();\r\n  const studioCounts = getStudioUsageCounts();\r\n  const ownedSlots = getOwnedStudioSlots();\r\n  const totalSlots = ownedSlots + studioCounts.leased;\r\n  const topTrend = getTopTrendGenre() || \"-\";\r\n  const topAct = getTopActSnapshot();\r\n\r\n  const stats = [\r\n    { label: \"Cash\", value: formatMoney(state.label.cash), detail: `Weekly ${formatMoney(state.economy.lastRevenue || 0)}` },\r\n    { label: \"Active Tracks\", value: formatCount(activeTracks.length), detail: `Released ${formatCount(releasedTracks.length)}` },\r\n    { label: \"Creators\", value: formatCount(state.creators.length), detail: `Acts ${formatCount(state.acts.length)}` },\r\n    { label: \"Studios\", value: `${studioCounts.total}/${totalSlots}`, detail: `Owned ${ownedSlots}` },\r\n    { label: \"Active Eras\", value: formatCount(activeEras.length), detail: focusEra ? `Focus ${focusEra.name}` : \"No focus era\" },\r\n    { label: \"Top Trend\", value: topTrend, detail: topAct ? `Top Act ${topAct.name}` : \"Top Act -\" }\r\n  ];\r\n  statsEl.innerHTML = stats.map((stat) => `\r\n    <div class=\"dashboard-stat\">\r\n      <div class=\"stat-label\">${stat.label}</div>\r\n      <div class=\"stat-value\">${stat.value}</div>\r\n      <div class=\"tiny muted\">${stat.detail}</div>\r\n    </div>\r\n  `).join(\"\");\r\n\r\n  const workOrdersEl = $(\"dashboardWorkOrders\");\r\n  if (workOrdersEl) {\r\n    const activeOrders = state.workOrders.filter((order) => order.status === \"In Progress\");\r\n    if (!activeOrders.length) {\r\n      workOrdersEl.innerHTML = `<div class=\"muted\">No active work orders.</div>`;\r\n    } else {\r\n      const now = state.time.epochMs;\r\n      const list = activeOrders\r\n        .slice(0, 5)\r\n        .map((order) => {\r\n          const track = getTrack(order.trackId);\r\n          const crewIds = getWorkOrderCreatorIds(order);\r\n          const crew = crewIds.map((id) => getCreator(id)).filter(Boolean);\r\n          const crewLabel = buildWorkOrderCrewLabel(crew);\r\n          const stage = STAGES[order.stageIndex];\r\n          const hoursLeft = Math.max(0, Math.ceil((order.endAt - now) / HOUR_MS));\r\n          const crewLine = `${stage?.name || \"Stage\"} | ${crewLabel.primary}`;\r\n          const crewDetail = crewLabel.secondary ? `<div class=\"muted\">${crewLabel.secondary}</div>` : \"\";\r\n          return `\r\n            <div class=\"list-item\">\r\n              <div class=\"list-row\">\r\n                <div>\r\n                  <div class=\"item-title\">${track ? track.title : \"Unknown\"}</div>\r\n                  <div class=\"muted\">${crewLine}</div>\r\n                  ${crewDetail}\r\n                </div>\r\n                <div class=\"pill\">${hoursLeft}h</div>\r\n              </div>\r\n            </div>\r\n          `;\r\n        });\r\n      workOrdersEl.innerHTML = list.join(\"\");\r\n    }\r\n  }\r\n\r\n  const queueEl = $(\"dashboardReleaseQueue\");\r\n  if (queueEl) {\r\n    if (!state.releaseQueue.length) {\r\n      queueEl.innerHTML = `<div class=\"muted\">No releases scheduled.</div>`;\r\n    } else {\r\n      const list = state.releaseQueue\r\n        .slice()\r\n        .sort((a, b) => (a.releaseAt || 0) - (b.releaseAt || 0))\r\n        .slice(0, 5)\r\n        .map((entry) => {\r\n          const track = getTrack(entry.trackId);\r\n          const date = entry.releaseAt ? formatDate(entry.releaseAt) : \"TBD\";\r\n          const distribution = entry.distribution || entry.note || \"Digital\";\r\n          return `\r\n            <div class=\"list-item\">\r\n              <div class=\"list-row\">\r\n                <div>\r\n                  <div class=\"item-title\">${track ? track.title : \"Unknown\"}</div>\r\n                  <div class=\"muted\">${date} | ${distribution}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          `;\r\n        });\r\n      queueEl.innerHTML = list.join(\"\");\r\n    }\r\n  }\r\n\r\n  const chartsEl = $(\"dashboardChartsList\");\r\n  if (chartsEl) {\r\n    const scopeTabs = $(\"chartPulseScopeTabs\");\r\n    const contentTabs = $(\"chartPulseContentTabs\");\r\n    const targetSelect = $(\"chartPulseTarget\");\r\n    const targetLabel = $(\"chartPulseTargetLabel\");\r\n    const metaEl = $(\"chartPulseMeta\");\r\n    const contentType = state.ui.chartPulseContentType || \"tracks\";\r\n    const scopeType = state.ui.chartPulseScopeType || \"global\";\r\n    let scopeTarget = state.ui.chartPulseScopeTarget || \"global\";\r\n\r\n    if (contentTabs) {\r\n      contentTabs.querySelectorAll(\".tab\").forEach((btn) => {\r\n        btn.classList.toggle(\"active\", btn.dataset.chartPulseContent === contentType);\r\n      });\r\n    }\r\n    if (scopeTabs) {\r\n      scopeTabs.querySelectorAll(\".tab\").forEach((btn) => {\r\n        btn.classList.toggle(\"active\", btn.dataset.chartPulseScope === scopeType);\r\n      });\r\n    }\r\n\r\n    if (scopeType === \"global\") {\r\n      scopeTarget = \"global\";\r\n      state.ui.chartPulseScopeTarget = scopeTarget;\r\n      if (targetLabel) targetLabel.textContent = \"Global\";\r\n      if (targetSelect) {\r\n        targetSelect.disabled = true;\r\n        targetSelect.innerHTML = `<option value=\"global\">Global</option>`;\r\n        targetSelect.value = \"global\";\r\n      }\r\n    } else if (scopeType === \"nation\") {\r\n      const nations = Array.isArray(NATIONS) ? NATIONS : [];\r\n      const labelNation = nations.includes(state.label?.country) ? state.label.country : nations[0];\r\n      if (!nations.includes(scopeTarget)) scopeTarget = labelNation || \"\";\r\n      state.ui.chartPulseScopeTarget = scopeTarget;\r\n      if (targetLabel) targetLabel.textContent = \"Nation\";\r\n      if (targetSelect) {\r\n        targetSelect.disabled = false;\r\n        targetSelect.innerHTML = nations.map((nation) => `<option value=\"${nation}\">${nation}</option>`).join(\"\");\r\n        targetSelect.value = scopeTarget;\r\n      }\r\n    } else {\r\n      const regions = Array.isArray(REGION_DEFS) ? REGION_DEFS : [];\r\n      const regionIds = regions.map((region) => region.id);\r\n      const labelRegion = regions.find((region) => region.nation === state.label?.country)?.id;\r\n      if (!regionIds.includes(scopeTarget)) scopeTarget = labelRegion || regionIds[0] || \"\";\r\n      state.ui.chartPulseScopeTarget = scopeTarget;\r\n      if (targetLabel) targetLabel.textContent = \"Region\";\r\n      if (targetSelect) {\r\n        targetSelect.disabled = false;\r\n        targetSelect.innerHTML = regions.map((region) => `<option value=\"${region.id}\">${region.label}</option>`).join(\"\");\r\n        targetSelect.value = scopeTarget;\r\n      }\r\n    }\r\n\r\n    const scopeKey = scopeType === \"global\" ? \"global\" : scopeTarget;\r\n    const scopeLabel = chartScopeLabel(scopeKey);\r\n    const slotMs = DAY_MS / 4;\r\n    const slotCount = 6;\r\n    const slots = Array.from({ length: slotCount }).map((_, index) => {\r\n      const offsetHours = index * 6;\r\n      const slotStart = state.time.epochMs + index * slotMs;\r\n      const slotEnd = slotStart + slotMs;\r\n      let entries = [];\r\n\r\n      if (contentType === \"promos\") {\r\n        entries = buildChartPulsePromoEntries({\r\n          startAt: slotStart,\r\n          endAt: slotEnd,\r\n          scopeType,\r\n          scopeTarget\r\n        });\r\n      } else {\r\n        const projected = computeChartProjectionForScope({\r\n          targetEpochMs: slotStart,\r\n          scopeType,\r\n          scopeTarget,\r\n          limit: contentType === \"tracks\" ? 5 : null\r\n        });\r\n        entries = contentType === \"projects\"\r\n          ? collectProjectChartEntries(projected).slice(0, 5)\r\n          : projected.slice(0, 5);\r\n      }\r\n\r\n      return { offsetHours, slotStart, entries };\r\n    });\r\n\r\n    chartsEl.innerHTML = slots.map((slot) => {\r\n      const label = slot.offsetHours === 0 ? \"Now\" : `+${slot.offsetHours}h`;\r\n      const timeLabel = formatDate(slot.slotStart);\r\n      const emptyLabel = contentType === \"promos\"\r\n        ? \"No promo events in this window.\"\r\n        : \"No projected entries yet.\";\r\n      let entryMarkup = \"\";\r\n      if (!slot.entries.length) {\r\n        entryMarkup = `<div class=\"muted\">${emptyLabel}</div>`;\r\n      } else if (contentType === \"promos\") {\r\n        entryMarkup = slot.entries.map((entry) => `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">#${entry.rank} ${entry.title}</div>\r\n                <div class=\"muted\">${entry.typeLabel} | ${entry.actName} | ${entry.label}</div>\r\n              </div>\r\n              <div class=\"pill\">${formatMoney(entry.impact)}</div>\r\n            </div>\r\n          </div>\r\n        `).join(\"\");\r\n      } else if (contentType === \"projects\") {\r\n        entryMarkup = slot.entries.map((entry) => `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">#${entry.rank} ${entry.projectName}</div>\r\n                <div class=\"muted\">${entry.projectType} | ${entry.actName || \"-\"} | ${entry.label || \"-\"}</div>\r\n              </div>\r\n              <div class=\"pill\">${formatCount(entry.score)}</div>\r\n            </div>\r\n          </div>\r\n        `).join(\"\");\r\n      } else {\r\n        entryMarkup = slot.entries.map((entry) => {\r\n          const track = entry.track || entry;\r\n          return `\r\n            <div class=\"list-item\">\r\n              <div class=\"list-row\">\r\n                <div>\r\n                  <div class=\"item-title\">#${entry.rank} ${track?.title || \"Unknown Track\"}</div>\r\n                  <div class=\"muted\">${track?.label || \"Unknown\"} | ${renderTrackGenrePills(track, { fallback: \"Genre -\" })}</div>\r\n                </div>\r\n                <div class=\"pill\">${formatCount(entry.score)}</div>\r\n              </div>\r\n            </div>\r\n          `;\r\n        }).join(\"\");\r\n      }\r\n\r\n      return `\r\n        <div class=\"chart-pulse-slot\">\r\n          <div class=\"slot-head\">\r\n            <div>\r\n              <div class=\"slot-label\">${label}</div>\r\n              <div class=\"tiny muted\">${timeLabel}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"list\">\r\n            ${entryMarkup}\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n\r\n    if (metaEl) {\r\n      const contentLabel = contentType === \"projects\" ? \"Projects\" : contentType === \"promos\" ? \"Promos\" : \"Tracks\";\r\n      metaEl.textContent = contentType === \"promos\"\r\n        ? `Promo feed in 6h windows  ${scopeLabel}.`\r\n        : `Projected Top 5 every 6h  ${scopeLabel}  ${contentLabel}.`;\r\n    }\r\n  }\r\n\r\n  const eraList = $(\"dashboardEraList\");\r\n  if (eraList) {\r\n    if (!activeEras.length) {\r\n      eraList.innerHTML = `<div class=\"muted\">No active eras.</div>`;\r\n    } else {\r\n      eraList.innerHTML = activeEras.map((era) => `\r\n        <div class=\"list-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${era.name}</div>\r\n              <div class=\"muted\">${ERA_STAGES[era.stageIndex] || \"Active\"} | Week ${era.stageWeek}</div>\r\n            </div>\r\n            ${focusEra && focusEra.id === era.id ? `<span class=\"pill\">Focus</span>` : \"\"}\r\n          </div>\r\n        </div>\r\n      `).join(\"\");\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderPopulation() {\r\n  if (!$(\"populationList\")) return;\r\n  const snapshot = computePopulationSnapshot();\r\n  const stageLabel = snapshot.stage || \"Campaign Era\";\r\n  const list = [\r\n    `\r\n      <div class=\"list-item\">\r\n          <div class=\"list-row\">\r\n          <div>\r\n          <div class=\"item-title\">Gaia Population</div>\r\n          <div class=\"muted\">${stageLabel} - updates yearly</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(snapshot.total)}</div>\r\n        </div>\r\n      </div>\r\n    `\r\n  ];\r\n  snapshot.nations.forEach((nation) => {\r\n    list.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${nation.nation}</div>\r\n            <div class=\"muted\">Capital ${formatCount(nation.capital)} | Elsewhere ${formatCount(nation.elsewhere)}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(nation.total)}</div>\r\n        </div>\r\n      </div>\r\n    `);\r\n  });\r\n  $(\"populationList\").innerHTML = list.join(\"\");\r\n}\r\n\r\nfunction renderRoleActions() {\r\n  const listEl = $(\"roleActionsList\");\r\n  if (!listEl) return;\r\n  const badgeFor = (status) => {\r\n    const meta = ROLE_ACTION_STATUS[status] || ROLE_ACTION_STATUS.placeholder;\r\n    return `<span class=\"${meta.className}\">${meta.label}</span>`;\r\n  };\r\n  const renderAction = (action) => {\r\n    const label = action.label ? `${action.label}${action.priority ? ` (Priority ${action.priority})` : \"\"}: ` : \"\";\r\n    return `\r\n      <div class=\"list-row\">\r\n        <div class=\"muted\">${label}${action.verb} - ${action.detail}</div>\r\n        ${badgeFor(action.status)}\r\n      </div>\r\n    `;\r\n  };\r\n  listEl.innerHTML = ROLE_ACTIONS.map((group) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">${group.role}</div>\r\n      ${group.occupations.map((occupation) => `\r\n        <div class=\"muted\">${occupation.name}${occupation.note ? ` - ${occupation.note}` : \"\"}</div>\r\n        ${occupation.actions.map(renderAction).join(\"\")}\r\n      `).join(\"\")}\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction renderTutorialEconomy() {\r\n  const listEl = $(\"tutorialEconomyList\");\r\n  const tuningEl = $(\"tutorialEconomyTuning\");\r\n  const noticeEl = $(\"tutorialCheaterNotice\");\r\n  if (!listEl || !tuningEl) return;\r\n\r\n  const safeNumber = (value, fallback) => (Number.isFinite(value) ? value : fallback);\r\n  const cheaterActive = Boolean(state.meta?.cheaterMode);\r\n  if (noticeEl) {\r\n    noticeEl.textContent = cheaterActive\r\n      ? \"Cheater mode active. Achievements and quests are disabled while active.\"\r\n      : \"Enable Cheater Mode in Settings to edit economy tuning.\";\r\n  }\r\n\r\n  const revenueRate = safeNumber(ECONOMY_TUNING?.revenuePerChartPoint, 22);\r\n  const upkeepPerCreator = safeNumber(ECONOMY_TUNING?.upkeepPerCreator, 150);\r\n  const upkeepPerStudio = safeNumber(ECONOMY_TUNING?.upkeepPerOwnedStudio, 600);\r\n  const promoStep = safeNumber(ECONOMY_TUNING?.promoWeekBudgetStep, 1200);\r\n  const promoBase = safeNumber(ECONOMY_TUNING?.promoWeekBase, 1);\r\n  const promoMin = safeNumber(ECONOMY_TUNING?.promoWeeksMin, 1);\r\n  const promoMax = safeNumber(ECONOMY_TUNING?.promoWeeksMax, 4);\r\n  const releaseFee = safeNumber(ECONOMY_BASELINES?.physicalReleaseFee, 0);\r\n  const baseSingle = safeNumber(ECONOMY_BASELINES?.physicalSingle, 4.99);\r\n  const unitRatio = safeNumber(ECONOMY_BASELINES?.physicalUnitCostRatio, 0.35);\r\n  const unitCostMin = safeNumber(ECONOMY_TUNING?.physicalUnitCostMin, 0.5);\r\n  const runMin = safeNumber(ECONOMY_BASELINES?.physicalRunMin, 200);\r\n  const runMax = safeNumber(ECONOMY_BASELINES?.physicalRunMax, 25000);\r\n  const runRound = safeNumber(ECONOMY_BASELINES?.physicalRunRound, 50);\r\n  const multSingle = safeNumber(ECONOMY_PRICE_MULTIPLIERS?.single, 1);\r\n  const multEp = safeNumber(ECONOMY_PRICE_MULTIPLIERS?.ep, 1.55);\r\n  const multAlbum = safeNumber(ECONOMY_PRICE_MULTIPLIERS?.album, 2.25);\r\n\r\n  const ratioLabel = `${Math.round(unitRatio * 100)}%`;\r\n  listEl.innerHTML = [\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Weekly revenue</div>\r\n        <div class=\"muted\">Revenue = sum(max(0, score) * ${formatMoney(revenueRate)}) * difficulty revenue multiplier.</div>\r\n        <div class=\"tiny muted\">Each track uses the same ${formatMoney(revenueRate)} per chart score point.</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Weekly upkeep</div>\r\n        <div class=\"muted\">Upkeep = (creators * ${formatMoney(upkeepPerCreator)}) + (owned studios * ${formatMoney(upkeepPerStudio)}) + lease fees.</div>\r\n        <div class=\"tiny muted\">Final upkeep multiplies by difficulty upkeep modifier.</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Distribution fee</div>\r\n        <div class=\"muted\">Physical/Both releases charge ${formatMoney(releaseFee)} upfront; Digital releases are $0.</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Physical unit price</div>\r\n        <div class=\"muted\">Unit price = ${formatMoney(baseSingle)} * multiplier (Single ${multSingle}x, EP ${multEp}x, Album ${multAlbum}x).</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Physical unit cost</div>\r\n        <div class=\"muted\">Unit cost = max(${formatMoney(unitCostMin)}, unit price * ${ratioLabel}).</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Promo weeks from budget</div>\r\n        <div class=\"muted\">Promo weeks = clamp(floor(budget / ${formatMoney(promoStep)}) + ${formatCount(promoBase)}, ${formatCount(promoMin)} to ${formatCount(promoMax)}).</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Physical run rounding</div>\r\n        <div class=\"muted\">Recommended units round to ${formatCount(runRound)} and clamp between ${formatCount(runMin)} and ${formatCount(runMax)} (budget caps apply).</div>\r\n      </div>\r\n    `\r\n  ].join(\"\");\r\n\r\n  const attr = (name, value) => (typeof value === \"undefined\" || value === null ? \"\" : ` ${name}=\"${value}\"`);\r\n  const formatValue = (value, format) => {\r\n    if (!Number.isFinite(value)) return \"-\";\r\n    if (format === \"money\") return formatMoney(value);\r\n    if (format === \"percent\") return `${Math.round(value * 100)}%`;\r\n    if (format === \"multiplier\") return `${value.toFixed(2)}x`;\r\n    return formatCount(value);\r\n  };\r\n  const fields = [\r\n    {\r\n      label: \"Revenue per chart score\",\r\n      detail: \"Cash per chart score point.\",\r\n      target: \"tuning\",\r\n      key: \"revenuePerChartPoint\",\r\n      value: revenueRate,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Upkeep per creator\",\r\n      detail: \"Weekly upkeep per signed creator.\",\r\n      target: \"tuning\",\r\n      key: \"upkeepPerCreator\",\r\n      value: upkeepPerCreator,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Upkeep per owned studio\",\r\n      detail: \"Weekly upkeep per owned studio slot.\",\r\n      target: \"tuning\",\r\n      key: \"upkeepPerOwnedStudio\",\r\n      value: upkeepPerStudio,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Promo budget step\",\r\n      detail: \"Budget per promo week tier.\",\r\n      target: \"tuning\",\r\n      key: \"promoWeekBudgetStep\",\r\n      value: promoStep,\r\n      min: 0,\r\n      step: 50,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Promo week base\",\r\n      detail: \"Weeks added before clamp.\",\r\n      target: \"tuning\",\r\n      key: \"promoWeekBase\",\r\n      value: promoBase,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Promo weeks min\",\r\n      detail: \"Minimum promo weeks.\",\r\n      target: \"tuning\",\r\n      key: \"promoWeeksMin\",\r\n      value: promoMin,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Promo weeks max\",\r\n      detail: \"Maximum promo weeks.\",\r\n      target: \"tuning\",\r\n      key: \"promoWeeksMax\",\r\n      value: promoMax,\r\n      min: 1,\r\n      step: 1,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Physical release fee\",\r\n      detail: \"Upfront fee for Physical/Both releases.\",\r\n      target: \"baselines\",\r\n      key: \"physicalReleaseFee\",\r\n      value: releaseFee,\r\n      min: 0,\r\n      step: 50,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Physical single base price\",\r\n      detail: \"Base single price before multipliers.\",\r\n      target: \"baselines\",\r\n      key: \"physicalSingle\",\r\n      value: baseSingle,\r\n      min: 0.01,\r\n      step: 0.01,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Single price multiplier\",\r\n      detail: \"Single price multiplier.\",\r\n      target: \"priceMultipliers\",\r\n      key: \"single\",\r\n      value: multSingle,\r\n      min: 0,\r\n      step: 0.05,\r\n      format: \"multiplier\"\r\n    },\r\n    {\r\n      label: \"EP price multiplier\",\r\n      detail: \"EP price multiplier.\",\r\n      target: \"priceMultipliers\",\r\n      key: \"ep\",\r\n      value: multEp,\r\n      min: 0,\r\n      step: 0.05,\r\n      format: \"multiplier\"\r\n    },\r\n    {\r\n      label: \"Album price multiplier\",\r\n      detail: \"Album price multiplier.\",\r\n      target: \"priceMultipliers\",\r\n      key: \"album\",\r\n      value: multAlbum,\r\n      min: 0,\r\n      step: 0.05,\r\n      format: \"multiplier\"\r\n    },\r\n    {\r\n      label: \"Physical unit cost ratio\",\r\n      detail: \"Unit cost as % of unit price.\",\r\n      target: \"baselines\",\r\n      key: \"physicalUnitCostRatio\",\r\n      value: unitRatio,\r\n      min: 0,\r\n      max: 1,\r\n      step: 0.01,\r\n      format: \"percent\"\r\n    },\r\n    {\r\n      label: \"Physical unit cost floor\",\r\n      detail: \"Minimum unit cost.\",\r\n      target: \"tuning\",\r\n      key: \"physicalUnitCostMin\",\r\n      value: unitCostMin,\r\n      min: 0,\r\n      step: 0.1,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Physical run rounding\",\r\n      detail: \"Round units to this increment.\",\r\n      target: \"baselines\",\r\n      key: \"physicalRunRound\",\r\n      value: runRound,\r\n      min: 0,\r\n      step: 10,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Physical run min\",\r\n      detail: \"Minimum recommended units.\",\r\n      target: \"baselines\",\r\n      key: \"physicalRunMin\",\r\n      value: runMin,\r\n      min: 0,\r\n      step: 10,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Physical run max\",\r\n      detail: \"Maximum recommended units.\",\r\n      target: \"baselines\",\r\n      key: \"physicalRunMax\",\r\n      value: runMax,\r\n      min: 0,\r\n      step: 100,\r\n      format: \"count\"\r\n    }\r\n  ];\r\n\r\n  tuningEl.innerHTML = fields.map((field) => {\r\n    const inputValue = Number.isFinite(field.value) ? field.value : \"\";\r\n    const display = formatValue(field.value, field.format);\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${field.label}</div>\r\n            <div class=\"muted\">${field.detail}</div>\r\n          </div>\r\n          <input\r\n            type=\"number\"\r\n            class=\"tutorial-input\"\r\n            data-cheat-econ-target=\"${field.target}\"\r\n            data-cheat-econ-key=\"${field.key}\"\r\n            value=\"${inputValue}\"\r\n            ${cheaterActive ? \"\" : \"disabled\"}\r\n            ${attr(\"min\", field.min)}\r\n            ${attr(\"max\", field.max)}\r\n            ${attr(\"step\", field.step)}\r\n          >\r\n        </div>\r\n        <div class=\"tiny muted\">Current: ${display}</div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderEconomySummary() {\r\n  if (!$(\"economySummary\")) return;\r\n  const studioMarket = getStudioMarketSnapshot();\r\n  const summary = [\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Weekly Net</div>\r\n            <div class=\"muted\">Revenue ${formatMoney(state.economy.lastRevenue)} | Upkeep ${formatMoney(state.economy.lastUpkeep)}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatMoney(state.economy.lastRevenue - state.economy.lastUpkeep)}</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Studio Availability</div>\r\n            <div class=\"muted\">eyeriS ${formatCount(studioMarket.available)} | Rivals ${formatCount(studioMarket.rivals)} | You ${formatCount(studioMarket.player)}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(studioMarket.total)} total</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Baseline Prices</div>\r\n            <div class=\"muted\">Digital Single ${formatMoney(ECONOMY_BASELINES.digitalSingle)} | Physical Single ${formatMoney(ECONOMY_BASELINES.physicalSingle)}</div>\r\n          </div>\r\n          <div class=\"pill\">2025</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Studio Lease</div>\r\n            <div class=\"muted\">${formatMoney(ECONOMY_BASELINES.studioLease4y)} every 4 years | Build ${formatMoney(ECONOMY_BASELINES.studioBuildCost)}</div>\r\n          </div>\r\n          <div class=\"pill\">eyeriS</div>\r\n        </div>\r\n      </div>\r\n    `\r\n  ];\r\n  $(\"economySummary\").innerHTML = summary.join(\"\");\r\n}\r\n\r\nfunction renderActiveCampaigns() {\n  const listEl = $(\"activeCampaignList\");\n  if (!listEl) return;\n  const activeTracks = state.marketTracks.filter((entry) => entry.isPlayer && entry.promoWeeks > 0);\n  const activeActs = state.acts.filter((act) => act.promoWeeks > 0);\n  if (!activeTracks.length && !activeActs.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No active promo pushes.</div>`;\r\n    return;\r\n  }\r\n  const items = [\r\n    ...activeTracks.map((entry) => {\r\n      const track = entry.trackId ? getTrack(entry.trackId) : null;\r\n      const title = track ? track.title : entry.title;\r\n      const genreLabel = track\r\n        ? renderTrackGenrePills(track)\r\n        : renderGenrePillsFromGenre(entry.genre, { alignment: entry.alignment });\r\n      return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${title}</div>\r\n            <div class=\"muted\">${genreLabel}</div>\r\n          </div>\r\n          <div class=\"pill\">${entry.promoWeeks}w</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n    }),\r\n    ...activeActs.map((act) => `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${act.name}</div>\r\n            <div class=\"muted\">Act promo${act.alignment ? ` | ${renderAlignmentTag(act.alignment)}` : \"\"}</div>\r\n          </div>\r\n          <div class=\"pill\">${act.promoWeeks}w</div>\r\n        </div>\r\n      </div>\r\n    `)\r\n  ];\n  listEl.innerHTML = items.join(\"\");\n}\n\nfunction renderPromoAlerts() {\n  const listEl = $(\"promoAlertsList\");\n  if (!listEl) return;\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\n  const focusEra = getFocusedEra();\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\n  const displayEra = focusEra || fallbackEra;\n  if (!displayEra) {\n    listEl.innerHTML = `<div class=\"muted\">No active era promo alerts.</div>`;\n    return;\n  }\n  const act = getAct(displayEra.actId);\n  const stageName = ERA_STAGES[displayEra.stageIndex] || \"Active\";\n  const eraLabel = `${displayEra.name}${act ? ` (${act.name})` : \"\"} | ${stageName}`;\n  const now = state.time.epochMs;\n  const tracks = state.tracks.filter((track) => track.eraId === displayEra.id)\n    .filter((track) => track.status === \"Released\" || track.status === \"Scheduled\");\n  const trackAlerts = tracks.map((track) => {\n    const used = track.promo?.typesUsed || {};\n    const missing = PROMO_TRACK_REQUIRED_TYPES.filter((typeId) => {\n      if (typeId === \"musicVideo\" && track.status !== \"Released\") return false;\n      const count = Number.isFinite(used[typeId]) ? used[typeId] : 0;\n      if (count > 0) return false;\n      if (typeId === \"musicVideo\" && track.promo?.musicVideoUsed) return false;\n      return true;\n    });\n    if (!missing.length) return null;\n    return { track, missing };\n  }).filter(Boolean);\n  const actAlerts = [];\n  if (act) {\n    const referenceAt = Number.isFinite(act.lastPromoAt) ? act.lastPromoAt : displayEra.startedAt;\n    if (Number.isFinite(referenceAt)) {\n      const weeksSince = Math.floor(Math.max(0, now - referenceAt) / (DAY_MS * 7));\n      if (weeksSince >= ACT_PROMO_WARNING_WEEKS) {\n        actAlerts.push({ act, referenceAt, weeksSince });\n      }\n    }\n  }\n  const blocks = [\n    `\n      <div class=\"list-item\">\n        <div class=\"item-title\">Focus Era</div>\n        <div class=\"muted\">${eraLabel}</div>\n      </div>\n    `\n  ];\n  if (!actAlerts.length && !trackAlerts.length) {\n    blocks.push(`\n      <div class=\"list-item\">\n        <div class=\"item-title\">No promo alerts</div>\n        <div class=\"muted\">Active-era content has current promo coverage.</div>\n      </div>\n    `);\n    listEl.innerHTML = blocks.join(\"\");\n    return;\n  }\n  actAlerts.forEach((entry) => {\n    const alignmentLine = entry.act.alignment ? ` | ${renderAlignmentTag(entry.act.alignment)}` : \"\";\n    const lastPromoLabel = formatShortDate(entry.referenceAt);\n    blocks.push(`\n      <div class=\"list-item\">\n        <div class=\"list-row\">\n          <div>\n            <div class=\"item-title\">${entry.act.name}</div>\n            <div class=\"muted\">Last promo ${lastPromoLabel} (${entry.weeksSince}w ago)${alignmentLine}</div>\n            <div class=\"muted\">Warning: no promo activity in ${ACT_PROMO_WARNING_WEEKS} weeks.</div>\n          </div>\n          <span class=\"badge warn\">Stale act</span>\n        </div>\n      </div>\n    `);\n  });\n  trackAlerts.forEach(({ track, missing }) => {\n    const missingLabels = missing.map((typeId) => PROMO_TYPE_DETAILS[typeId]?.label || typeId).join(\", \");\n    const actName = track.actId ? getAct(track.actId)?.name : null;\n    const releaseLabel = track.releasedAt ? ` | Released ${formatShortDate(track.releasedAt)}` : \"\";\n    blocks.push(`\n      <div class=\"list-item\">\n        <div class=\"list-row\">\n          <div>\n            <div class=\"item-title\">${track.title}</div>\n            <div class=\"muted\">Missing promo: ${missingLabels}</div>\n            <div class=\"muted\">Act: ${actName || \"Unassigned\"} | Status: ${track.status}${releaseLabel}</div>\n          </div>\n          <span class=\"badge warn\">Promo gap</span>\n        </div>\n      </div>\n    `);\n  });\n  listEl.innerHTML = blocks.join(\"\");\n}\n\nfunction renderWallet() {\n  const items = [\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${state.label.name}</div>\r\n            <div class=\"muted\">Active funds</div>\r\n          </div>\r\n          <div class=\"pill\">${formatMoney(state.label.cash)}</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Last Weekly Report</div>\r\n            <div class=\"muted\">Week ${state.economy.lastWeek || 1}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatMoney(state.economy.lastRevenue)} / ${formatMoney(state.economy.lastUpkeep)}</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Audience Reach</div>\r\n            <div class=\"muted\">Active awareness</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(state.label.fans)}</div>\r\n        </div>\r\n      </div>\r\n    `\r\n  ];\r\n  const el = $(\"walletDetails\");\r\n  if (el) el.innerHTML = items.join(\"\");\r\n}\r\n\r\nfunction renderLossArchives() {\r\n  const target = $(\"usageLedgerList\");\r\n  if (!target) return;\r\n  const archives = loadLossArchives();\r\n  if (!archives.length) {\r\n    target.innerHTML = `<div class=\"muted\">No loss archives yet.</div>`;\r\n    return;\r\n  }\r\n  const sorted = archives.slice().sort((a, b) => (b.createdAt || 0) - (a.createdAt || 0));\r\n  target.innerHTML = sorted.map((entry) => {\r\n    const createdAt = entry.createdAt ? new Date(entry.createdAt).toLocaleString() : \"Unknown\";\r\n    const slot = entry.slot ? `Slot ${entry.slot}` : \"Slot -\";\r\n    const week = entry.week ? `Week ${entry.week}` : \"Week -\";\r\n    const year = entry.year || \"-\";\r\n    const uiCount = Array.isArray(entry.uiEvents) ? entry.uiEvents.length : 0;\r\n    const simCount = Array.isArray(entry.simEvents) ? entry.simEvents.length : 0;\r\n    const label = entry.label || \"Unknown Label\";\r\n    const reason = entry.reason || \"Loss recorded.\";\r\n    const lossId = entry.id || \"\";\r\n    const gameDate = entry.gameTime ? formatDate(entry.gameTime) : \"Unknown\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${label} - Loss</div>\r\n            <div class=\"muted\">${reason}</div>\r\n            <div class=\"muted\">${slot} | ${week} | Year ${year}</div>\r\n            <div class=\"muted\">Game date ${gameDate}</div>\r\n            <div class=\"muted\">UI ${uiCount} | System ${simCount} | Archived ${createdAt}</div>\r\n          </div>\r\n          <div class=\"actions\">\r\n            <button type=\"button\" class=\"ghost mini\" data-loss-action=\"download\" data-loss-id=\"${lossId}\">Download</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderResourceTickSummary() {\r\n  const target = $(\"resourceTickSummary\");\r\n  if (!target) return;\r\n  const ledger = state.resourceTickLedger?.hours || [];\r\n  const recent = ledger.slice(-RESOURCE_TICK_LEDGER_LIMIT);\r\n  const totals = recent.reduce((sum, entry) => ({\r\n    regenTotal: sum.regenTotal + (entry.regenTotal || 0),\r\n    spendTotal: sum.spendTotal + (entry.spendTotal || 0),\r\n    overuseCount: sum.overuseCount + (entry.overuseCount || 0),\r\n    departuresFlagged: sum.departuresFlagged + (entry.departuresFlagged || 0)\r\n  }), { regenTotal: 0, spendTotal: 0, overuseCount: 0, departuresFlagged: 0 });\r\n\r\n  const dayIndex = Math.floor(state.time.epochMs / DAY_MS);\r\n  const spentToday = state.creators.map((creator) => ({\r\n    creator,\r\n    spent: getCreatorStaminaSpentToday(creator)\r\n  }));\r\n  spentToday.sort((a, b) => b.spent - a.spent);\r\n  const topSpent = spentToday.filter((entry) => entry.spent > 0).slice(0, 5);\r\n  const overuseToday = state.creators.filter((creator) => creator.lastOveruseDay === dayIndex);\r\n  const departureRisks = state.creators.filter((creator) => creator.departurePending?.reason === \"overuse\");\r\n\r\n  const blocks = [];\r\n  blocks.push(`\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">Last 24h</div>\r\n      <div class=\"muted\">Regen +${formatCount(totals.regenTotal)} | Spend -${formatCount(totals.spendTotal)}</div>\r\n      <div class=\"muted\">Overuse strikes ${formatCount(totals.overuseCount)} | Departures flagged ${formatCount(totals.departuresFlagged)}</div>\r\n    </div>\r\n  `);\r\n\r\n  if (topSpent.length) {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Top Stamina Spent (Today)</div>\r\n        ${topSpent.map((entry) => `\r\n          <div class=\"muted\">${entry.creator.name} (${roleLabel(entry.creator.role)}) - ${formatCount(entry.spent)} / ${STAMINA_OVERUSE_LIMIT}</div>\r\n        `).join(\"\")}\r\n      </div>\r\n    `);\r\n  } else {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Top Stamina Spent (Today)</div>\r\n        <div class=\"muted\">No stamina spent yet.</div>\r\n      </div>\r\n    `);\r\n  }\r\n\r\n  if (overuseToday.length) {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Overuse Strikes Today</div>\r\n        ${overuseToday.map((creator) => `\r\n          <div class=\"muted\">${creator.name} (${roleLabel(creator.role)}) - strikes ${creator.overuseStrikes}</div>\r\n        `).join(\"\")}\r\n      </div>\r\n    `);\r\n  } else {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Overuse Strikes Today</div>\r\n        <div class=\"muted\">None.</div>\r\n      </div>\r\n    `);\r\n  }\r\n\r\n  if (departureRisks.length) {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Departure Risks</div>\r\n        ${departureRisks.map((creator) => `\r\n          <div class=\"muted\">${creator.name} (${roleLabel(creator.role)}) - strikes ${creator.overuseStrikes}</div>\r\n        `).join(\"\")}\r\n      </div>\r\n    `);\r\n  } else {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Departure Risks</div>\r\n        <div class=\"muted\">None.</div>\r\n      </div>\r\n    `);\r\n  }\r\n\r\n  target.innerHTML = blocks.join(\"\");\r\n}\r\n\r\nfunction renderQuickRecipes() {\r\n  if (!$(\"quickRecipesList\")) return;\r\n  const recipes = [\r\n    { title: \"Songwriting\", detail: \"Assign Songwriter ID + Theme to draft the sheet music.\" },\r\n    { title: \"Recording\", detail: \"Assign Recorder ID + Mood to craft the demo tone.\" },\r\n    { title: \"Production\", detail: \"Assign Producer ID to master the track quality.\" },\r\n    { title: \"Release\", detail: \"Move Ready tracks into Release Desk for scheduling.\" },\r\n    { title: \"Promo Pushes\", detail: \"Assign a Scheduled or Released Track ID to the Promo Push Slot.\" }\r\n  ];\r\n  $(\"quickRecipesList\").innerHTML = recipes.map((recipe) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">${recipe.title}</div>\r\n      <div class=\"muted\">${recipe.detail}</div>\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction renderActiveArea() {\r\n  if (!$(\"activeAreaDisplay\")) return;\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const counts = getStudioUsageCounts();\r\n  const ownedSlots = getOwnedStudioSlots();\r\n  const totalSlots = ownedSlots + counts.leased;\r\n  state.studio.inUse = counts.total;\r\n  let era = \"No active eras\";\r\n  if (activeEras.length === 1) {\r\n    const active = activeEras[0];\r\n    era = `${active.name} (${ERA_STAGES[active.stageIndex] || \"Active\"})`;\r\n  } else if (activeEras.length > 1) {\r\n    const names = activeEras.slice(0, 2).map((entry) => entry.name).join(\", \");\r\n    const extra = activeEras.length > 2 ? ` +${activeEras.length - 2}` : \"\";\r\n    era = `${activeEras.length} active (${names}${extra})`;\r\n  }\r\n  $(\"activeAreaDisplay\").innerHTML = `\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div>\r\n          <div class=\"item-title\">Studios</div>\r\n          <div class=\"muted\">${counts.total} active / ${totalSlots} total</div>\r\n        </div>\r\n        <div class=\"pill\">${totalSlots} rooms</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div>\r\n          <div class=\"item-title\">Active Era</div>\r\n          <div class=\"muted\">${era}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction renderInventory() {\r\n  if (!$(\"inventoryList\")) return;\r\n  const ready = state.tracks.filter((track) => track.status === \"Ready\" || track.status === \"Scheduled\");\r\n  if (!ready.length) {\r\n    $(\"inventoryList\").innerHTML = `<div class=\"muted\">No finished content yet.</div>`;\r\n    return;\r\n  }\r\n  $(\"inventoryList\").innerHTML = ready.map((track) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div class=\"item-main\">\r\n          <div class=\"content-thumb\" aria-hidden=\"true\"></div>\r\n          <div>\r\n            <div class=\"item-title\">${track.title}</div>\r\n            <div class=\"muted\">Item: Track \u0007 ID ${track.id}</div>\r\n            <div class=\"muted\">${track.status} \u0007 ${renderTrackGenrePills(track)}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"pill grade\" data-grade=\"${qualityGrade(track.quality)}\">${qualityGrade(track.quality)}</div>\r\n      </div>\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction renderModifierInventory() {\r\n  const listEl = $(\"modifierInventoryList\");\r\n  if (!listEl) return;\r\n  const items = MODIFIERS.filter((mod) => mod.id !== \"None\" && getModifierInventoryCount(mod.id) > 0);\r\n  if (!items.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No modifiers purchased yet.</div>`;\r\n    return;\r\n  }\r\n  listEl.innerHTML = items.map((modifier) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div>\r\n          <div class=\"item-title\">${modifier.label}</div>\r\n          <div class=\"muted\">${modifier.desc}</div>\r\n          ${renderModifierFocus(modifier)}\r\n          <div class=\"tiny muted\">${formatModifierDelta(modifier)}</div>\r\n        </div>\r\n        <div class=\"pill\">x${getModifierInventoryCount(modifier.id)}</div>\r\n      </div>\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction renderModifierTools() {\r\n  const listEl = $(\"communityToolsList\");\r\n  if (!listEl) return;\r\n  const inflationMultiplier = getPromoInflationMultiplier();\r\n  const inflationLabel = $(\"modifierInflationLabel\");\r\n  if (inflationLabel) inflationLabel.textContent = `Inflation x${inflationMultiplier.toFixed(2)}`;\r\n  const tools = MODIFIERS.filter((mod) => mod.id !== \"None\");\r\n  if (!tools.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No modifiers available.</div>`;\r\n    return;\r\n  }\r\n  listEl.innerHTML = tools.map((modifier) => {\r\n    const { baseCost, adjustedCost } = getModifierCosts(modifier, inflationMultiplier);\r\n    const ownedCount = getModifierInventoryCount(modifier.id);\r\n    const canAfford = state.label.cash >= adjustedCost;\r\n    const buttonLabel = `Buy ${formatMoney(adjustedCost)}${canAfford ? \"\" : \" (short)\"}`;\r\n    const buttonState = !canAfford ? \" disabled\" : \"\";\r\n    const focusLine = renderModifierFocus(modifier);\r\n    const deltaLine = `<div class=\"tiny muted\">${formatModifierDelta(modifier)}</div>`;\r\n    const priceLine = `<div class=\"tiny muted\">Base ${formatMoney(baseCost)} | Inflation-adjusted ${formatMoney(adjustedCost)}</div>`;\r\n    const ownedLine = ownedCount ? `<div class=\"tiny muted\">Owned: x${ownedCount}</div>` : \"\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${modifier.label}</div>\r\n            <div class=\"muted\">${modifier.desc}</div>\r\n            ${focusLine}\r\n            ${deltaLine}\r\n            ${priceLine}\r\n            ${ownedLine}\r\n          </div>\r\n          <button type=\"button\" class=\"ghost mini\" data-modifier-buy=\"${modifier.id}\"${buttonState}>${buttonLabel}</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderCalendarEraList(eras) {\r\n  if (!eras.length) {\r\n    return `<div class=\"muted\">No active eras on the calendar.</div>`;\r\n  }\r\n  return eras.map((era) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">${era.name}</div>\r\n      <div class=\"muted\">Act: ${era.actName} | Stage: ${era.stageName}</div>\r\n      <div class=\"muted\">Started Week ${era.startedWeek} | Content: ${era.content}</div>\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction renderCalendarView() {\r\n  const grid = $(\"calendarGrid\");\r\n  const list = $(\"calendarList\");\r\n  const eraList = $(\"calendarEraList\");\r\n  const footerPanel = $(\"calendarFooterPanel\");\r\n  const rangeLabel = $(\"calendarRangeLabel\");\r\n  const projection = buildCalendarProjection({ pastWeeks: 0, futureWeeks: 3 });\r\n  if (rangeLabel) rangeLabel.textContent = projection.rangeLabel || \"\";\r\n\r\n  if (projection.tab === \"eras\") {\r\n    if (grid) {\r\n      grid.innerHTML = \"\";\r\n      grid.classList.add(\"hidden\");\r\n    }\r\n    if (list) list.classList.add(\"hidden\");\r\n    if (footerPanel) footerPanel.classList.add(\"hidden\");\r\n    if (eraList) eraList.classList.remove(\"hidden\");\r\n    renderCalendarList(\"calendarEraList\", projection.weeks.length, projection);\r\n    return;\r\n  }\r\n\r\n  if (grid) {\r\n    grid.classList.remove(\"hidden\");\r\n    grid.innerHTML = CalendarView(projection);\r\n  }\r\n  if (eraList) {\r\n    eraList.classList.add(\"hidden\");\r\n    eraList.innerHTML = \"\";\r\n  }\r\n  if (list) list.classList.remove(\"hidden\");\r\n  if (footerPanel) footerPanel.classList.remove(\"hidden\");\r\n  const upcomingWeeks = projection.weeks.length || 1;\r\n  const upcomingProjection = buildCalendarProjection({\r\n    pastWeeks: 0,\r\n    futureWeeks: Math.max(0, upcomingWeeks - 1),\r\n    anchorWeekIndex: weekIndex() + 1\r\n  });\r\n  renderCalendarList(\"calendarList\", upcomingWeeks, upcomingProjection);\r\n}\r\n\r\nfunction renderCalendarUpcomingFooter(projection, tab) {\r\n  const daysWithEvents = [];\r\n  (projection.weeks || []).forEach((week) => {\r\n    const days = Array.isArray(week.days) ? week.days : [];\r\n    days.forEach((day) => {\r\n      if (Array.isArray(day.events) && day.events.length) daysWithEvents.push(day);\r\n    });\r\n  });\r\n\r\n  const countLabel = `${daysWithEvents.length} day${daysWithEvents.length === 1 ? \"\" : \"s\"}`;\r\n  const header = `\r\n    <div class=\"calendar-footer-head\">\r\n      <div class=\"subhead\">Upcoming</div>\r\n      <div class=\"tiny muted\">${countLabel}</div>\r\n    </div>\r\n  `;\r\n\r\n  if (!daysWithEvents.length) {\r\n    return `${header}<div class=\"calendar-upcoming calendar-upcoming--empty\"><div class=\"muted\">No upcoming events.</div></div>`;\r\n  }\r\n\r\n  const cards = daysWithEvents.map((day) => {\r\n    const events = Array.isArray(day.events) ? day.events.slice().sort((a, b) => a.ts - b.ts) : [];\r\n    const visible = events.slice(0, 3);\r\n    const overflow = events.length - visible.length;\r\n    const dayClass = day.isPreview ? \"calendar-upcoming-day is-preview\" : \"calendar-upcoming-day\";\r\n    const items = visible.map((entry) => {\r\n      const title = entry.title || \"Untitled\";\r\n      const typeLabel = entry.typeLabel || \"Event\";\r\n      const distribution = entry.distribution || \"Digital\";\r\n      const actName = entry.actName || \"Unknown\";\r\n      const labelName = entry.label || \"Label\";\r\n      const showLabel = entry.showLabel || tab === \"public\";\r\n      const labelCountry = getRivalByName(labelName)?.country || state.label.country || \"Annglora\";\r\n      const labelTag = showLabel ? renderLabelTag(labelName, labelCountry) : \"\";\r\n      const labelLine = showLabel\r\n        ? `${labelTag}<span class=\"calendar-upcoming-event-act\">${actName}</span>`\r\n        : `<span class=\"calendar-upcoming-event-act\">${actName}</span>`;\r\n      return `\r\n        <div class=\"calendar-upcoming-event\">\r\n          <div class=\"calendar-upcoming-event-title\">${title}</div>\r\n          <div class=\"calendar-upcoming-event-meta\">${typeLabel} | ${distribution}</div>\r\n          <div class=\"calendar-upcoming-event-label\">${labelLine}</div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n    const overflowHtml = overflow > 0\r\n      ? `<div class=\"calendar-upcoming-event calendar-upcoming-event--more\">+${overflow} more</div>`\r\n      : \"\";\r\n    return `\r\n      <div class=\"${dayClass}\" data-day-ts=\"${day.start}\">\r\n        <div class=\"calendar-upcoming-meta\">\r\n          <div class=\"calendar-upcoming-date\">\r\n            <span class=\"calendar-upcoming-dayname\">${day.dayLabel}</span>\r\n            <span class=\"calendar-upcoming-datelabel\">${day.dateLabel}</span>\r\n          </div>\r\n          <div class=\"calendar-upcoming-count\">${events.length} event${events.length === 1 ? \"\" : \"s\"}</div>\r\n        </div>\r\n        <div class=\"calendar-upcoming-events\">\r\n          ${items}\r\n          ${overflowHtml}\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n\r\n  return `${header}<div class=\"calendar-upcoming\">${cards}</div>`;\r\n}\r\n\r\nfunction renderCalendarList(targetId, weeks, projectionOverride) {\n  const target = $(targetId);\n  if (!target) return;\n  if (UI_REACT_ISLANDS_ENABLED && targetId === \"calendarFullList\") {\n    target.innerHTML = \"\";\n    return;\n  }\n  const futureWeeks = Math.max(0, (weeks || 1) - 1);\n  const projection = projectionOverride || buildCalendarProjection({ pastWeeks: 0, futureWeeks });\n  const tab = projection.tab || \"label\";\n  const filters = projection.filters || {};\n\n  const scope = target.closest(\"#calendarModal\") || target.closest(\".view\") || document;\n  scope.querySelectorAll(\"[data-calendar-tab]\").forEach((btn) => {\n    if (!btn.dataset.calendarTab) return;\n    btn.classList.toggle(\"active\", btn.dataset.calendarTab === tab);\n  });\n  scope.querySelectorAll(\"[data-calendar-filter]\").forEach((input) => {\n    const key = input.dataset.calendarFilter;\n    if (!key || typeof filters[key] !== \"boolean\") return;\n    input.checked = filters[key] !== false;\n  });\n\r\n  if (tab === \"eras\") {\r\n    target.innerHTML = renderCalendarEraList(projection.eras || []);\r\n    return;\r\n  }\r\n\r\n  if (targetId === \"calendarList\") {\r\n    target.innerHTML = renderCalendarUpcomingFooter(projection, tab);\r\n    return;\r\n  }\r\n\r\n  if (!projection.weeks.length) {\r\n    target.innerHTML = `<div class=\"muted\">No scheduled entries.</div>`;\r\n    return;\r\n  }\r\n\r\n  target.innerHTML = projection.weeks.map((week) => {\r\n    const entries = Array.isArray(week.events) ? week.events.slice() : [];\r\n    entries.sort((a, b) => a.ts - b.ts);\r\n    const weekLabel = `Week ${week.weekNumber}`;\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${weekLabel}</div>\r\n            <div class=\"muted\">${formatDate(week.start)} - ${formatDate(week.end - HOUR_MS)}</div>\r\n          </div>\r\n          <div class=\"pill\">${entries.length} event(s)</div>\r\n        </div>\r\n        ${entries.map((entry) => {\r\n          const label = entry.label || \"Label\";\r\n          const labelCountry = getRivalByName(label)?.country || state.label.country || \"Annglora\";\r\n          const labelTag = label ? renderLabelTag(label, labelCountry) : \"Label\";\r\n          const actName = entry.actName || \"Unknown\";\r\n          const title = entry.title || \"Untitled\";\r\n          const typeLabel = entry.typeLabel || \"Event\";\r\n          const distribution = entry.distribution || \"Digital\";\r\n          return `\r\n            <div class=\"muted\">${labelTag} | ${actName} | ${title} (${typeLabel}, ${distribution})</div>\r\n          `;\r\n        }).join(\"\")}\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderActs() {\r\n  if (!state.acts.length) {\r\n    $(\"actList\").innerHTML = `<div class=\"muted\">No acts yet.</div>`;\r\n    return;\r\n  }\r\n  const list = state.acts.map((act) => {\r\n    const activeEras = getActiveEras().filter((era) => era.actId === act.id && era.status === \"Active\");\r\n    const historyCount = state.era.history.filter((era) => era.actId === act.id).length;\r\n    const eraLabel = activeEras.length\r\n      ? activeEras.map((era) => `${era.name} (${ERA_STAGES[era.stageIndex] || \"Active\"})`).join(\", \")\r\n      : \"None active\";\r\n    const members = act.memberIds\r\n      .map((id) => {\r\n        const creator = getCreator(id);\r\n        return creator ? creator.name : \"Unknown\";\r\n      })\r\n      .join(\", \");\r\n    const inputId = `act-rename-${act.id}`;\r\n    return `\r\n      <div class=\"list-item\" data-entity-type=\"act\" data-entity-id=\"${act.id}\" data-entity-name=\"${act.name}\" draggable=\"true\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${act.name}</div>\r\n              <div class=\"muted\">ID ${act.id} | ${act.type}</div>\r\n              <div class=\"muted\">${renderAlignmentTag(act.alignment)}</div>\r\n            </div>\r\n            <button type=\"button\" class=\"ghost\" data-act-set=\"${act.id}\">Assign</button>\r\n          </div>\r\n        <div class=\"muted\">Members: ${members || \"None\"}</div>\r\n        <div class=\"muted\">Eras: ${eraLabel}${historyCount ? ` | Past ${historyCount}` : \"\"}</div>\r\n        <div class=\"field\">\r\n          <label for=\"${inputId}\">Rename Act</label>\r\n          <input id=\"${inputId}\" type=\"text\" value=\"${act.name}\" data-act-input=\"${act.id}\" aria-label=\"Rename act ${act.name}\">\r\n        </div>\r\n        <div class=\"actions\">\r\n          <button type=\"button\" class=\"ghost\" data-act-rename=\"${act.id}\">Save Name</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  $(\"actList\").innerHTML = list.join(\"\");\r\n}\r\n\r\nfunction renderCreatorFallbackSymbols({ unassigned = false } = {}) {\r\n  const emoji = unassigned ? UNASSIGNED_CREATOR_EMOJI : CREATOR_FALLBACK_EMOJI;\r\n  return `<span class=\"avatar-symbols\" aria-hidden=\"true\"><span class=\"material-symbols-rounded avatar-icon\">${CREATOR_FALLBACK_ICON}</span><span class=\"avatar-emoji\">${emoji}</span></span>`;\r\n}\r\n\r\nfunction renderCreatorAvatar(creator) {\r\n  const initials = creatorInitials(creator?.nameHangul || creator?.name || \"\");\r\n  const portraitUrl = getCreatorPortraitUrl(creator);\r\n  const hasImage = Boolean(portraitUrl);\r\n  const imageStyle = hasImage ? ` style=\"background-image: url('${safeAvatarUrl(portraitUrl)}')\"` : \"\";\r\n  const className = hasImage ? \"creator-avatar has-image\" : \"creator-avatar has-symbols\";\r\n  const content = hasImage ? initials : renderCreatorFallbackSymbols();\r\n  return `<div class=\"${className}\" aria-hidden=\"true\"${imageStyle}>${content}</div>`;\r\n}\r\n\r\nfunction renderCreators() {\r\n  const creatorList = $(\"creatorList\");\r\n  if (!creatorList) return;\r\n  const busyIds = getBusyCreatorIds(\"In Progress\");\r\n  const pool = state.creators || [];\r\n  const columns = MARKET_ROLES.map((role) => {\r\n    const roleLabelText = roleLabel(role);\r\n    const roleCreators = pool.filter((creator) => creator.role === role);\r\n    const list = roleCreators.map((creator) => {\r\n      const busy = busyIds.has(creator.id);\r\n      const staminaPct = Math.round((creator.stamina / STAMINA_MAX) * 100);\r\n      const skillGrade = scoreGrade(creator.skill);\r\n      const roleText = roleLabel(creator.role);\r\n      const themeCells = creator.prefThemes.map((theme) => renderThemeTag(theme)).join(\"\");\r\n      const moodCells = creator.prefMoods.map((mood) => renderMoodTag(mood)).join(\"\");\r\n      const nationalityPill = renderNationalityPill(creator.country);\r\n      const memberships = state.acts.filter((act) => act.memberIds.includes(creator.id)).map((act) => act.name);\r\n      const actText = memberships.length ? memberships.join(\", \") : \"No Act\";\r\n      return `\r\n        <div class=\"list-item\" data-entity-type=\"creator\" data-entity-id=\"${creator.id}\" data-entity-name=\"${creator.name}\" draggable=\"true\">\r\n          <div class=\"list-row\">\r\n            <div class=\"creator-card\">\r\n              ${renderCreatorAvatar(creator)}\r\n              <div>\r\n                <div class=\"item-title\">${renderCreatorName(creator)}</div>\r\n                <div class=\"bar\"><span style=\"width:${staminaPct}%\"></span></div>\r\n                <div class=\"muted\">Stamina ${creator.stamina} / ${STAMINA_MAX}</div>\r\n                <div class=\"muted\">ID ${creator.id} | ${roleText} | Skill <span class=\"grade-text\" data-grade=\"${skillGrade}\">${creator.skill}</span></div>\r\n                <div class=\"muted\">${renderCreatorSkillProgress(creator)}</div>\r\n                <div class=\"muted\">Acts: ${actText}</div>\r\n                <div class=\"time-row\">${nationalityPill}</div>\r\n                <div class=\"muted\">Preferred Themes:</div>\r\n              <div class=\"time-row\">${themeCells}</div>\r\n              <div class=\"muted\">Preferred Moods:</div>\r\n              <div class=\"time-row\">${moodCells}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"pill\">${busy ? \"Busy\" : \"Ready\"}</div>\r\n        </div>\r\n        </div>\r\n      `;\r\n    });\r\n    const emptyMsg = pool.length\r\n      ? `No ${roleLabelText} Creator IDs signed.`\r\n      : \"No Creator IDs signed.\";\r\n    return `\r\n      <div class=\"ccc-market-column\" data-role=\"${role}\">\r\n        <div class=\"ccc-market-head\">\r\n          <div class=\"ccc-market-title\">${roleLabelText}s</div>\r\n          <div class=\"tiny muted\">${roleCreators.length} signed</div>\r\n        </div>\r\n        <div class=\"list ccc-market-list\">\r\n          ${list.length ? list.join(\"\") : `<div class=\"muted\">${emptyMsg}</div>`}\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  creatorList.innerHTML = columns.join(\"\");\r\n}\r\n\r\nfunction renderMarket() {\r\n  ensureMarketCreators({}, { replenish: false });\r\n  const listEl = $(\"marketList\");\r\n  if (!listEl) return;\r\n  const filters = state.ui.cccFilters || {};\r\n  document.querySelectorAll(\"[data-ccc-filter]\").forEach((input) => {\r\n    const key = input.dataset.cccFilter;\r\n    if (!key) return;\r\n    input.checked = filters[key] !== false;\r\n  });\r\n  const themeFilter = state.ui.cccThemeFilter || \"All\";\r\n  const moodFilter = state.ui.cccMoodFilter || \"All\";\r\n  const sortMode = state.ui.cccSort || \"default\";\r\n  const themeSelect = $(\"cccThemeFilter\");\r\n  const moodSelect = $(\"cccMoodFilter\");\r\n  const sortSelect = $(\"cccSort\");\r\n  if (themeSelect) {\r\n    themeSelect.value = themeFilter;\r\n    setThemeSelectAccent(themeSelect);\r\n  }\r\n  if (moodSelect) moodSelect.value = moodFilter;\r\n  if (sortSelect) sortSelect.value = sortMode;\r\n  const filtersActive = themeFilter !== \"All\" || moodFilter !== \"All\";\r\n  const pool = state.marketCreators || [];\r\n  const now = state.time.epochMs;\r\n  pruneCreatorSignLockouts(now);\r\n\r\n  const sortCreators = (list) => {\r\n    if (!sortMode || sortMode === \"default\") return list;\r\n    const entries = list.map((creator, index) => ({ creator, index }));\r\n    const byText = (a, b) => a.localeCompare(b);\r\n    const themeKey = (creator) => (creator.prefThemes?.[0] ? creator.prefThemes[0] : \"\");\r\n    const themeKey2 = (creator) => (creator.prefThemes?.[1] ? creator.prefThemes[1] : \"\");\r\n    const moodKey = (creator) => (creator.prefMoods?.[0] ? creator.prefMoods[0] : \"\");\r\n    const moodKey2 = (creator) => (creator.prefMoods?.[1] ? creator.prefMoods[1] : \"\");\r\n    entries.sort((a, b) => {\r\n      if (sortMode === \"quality-desc\") {\r\n        return (b.creator.skill || 0) - (a.creator.skill || 0)\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"quality-asc\") {\r\n        return (a.creator.skill || 0) - (b.creator.skill || 0)\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"theme-asc\") {\r\n        return byText(themeKey(a.creator), themeKey(b.creator))\r\n          || byText(themeKey2(a.creator), themeKey2(b.creator))\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"theme-desc\") {\r\n        return byText(themeKey(b.creator), themeKey(a.creator))\r\n          || byText(themeKey2(b.creator), themeKey2(a.creator))\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"mood-asc\") {\r\n        return byText(moodKey(a.creator), moodKey(b.creator))\r\n          || byText(moodKey2(a.creator), moodKey2(b.creator))\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"mood-desc\") {\r\n        return byText(moodKey(b.creator), moodKey(a.creator))\r\n          || byText(moodKey2(b.creator), moodKey2(a.creator))\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      return a.index - b.index;\r\n    });\r\n    return entries.map((entry) => entry.creator);\r\n  };\r\n\r\n  const columns = MARKET_ROLES.map((role) => {\r\n    const roleLabelText = roleLabel(role);\r\n    const roleCreators = pool.filter((creator) => creator.role === role);\r\n    const filteredCreators = roleCreators.filter((creator) => {\r\n      const themeMatch = themeFilter === \"All\" || creator.prefThemes?.includes(themeFilter);\r\n      const moodMatch = moodFilter === \"All\" || creator.prefMoods?.includes(moodFilter);\r\n      return themeMatch && moodMatch;\r\n    });\r\n    const sortedCreators = sortCreators(filteredCreators);\r\n    const list = sortedCreators.map((creator) => {\r\n      const skillGrade = scoreGrade(creator.skill);\r\n      const staminaPct = Math.round((creator.stamina / STAMINA_MAX) * 100);\r\n      const nationalityPill = renderNationalityPill(creator.country);\r\n      const lockout = getCreatorSignLockout(creator.id, now);\r\n      const isLocked = !!lockout;\r\n      const signCost = Number.isFinite(creator.signCost) ? creator.signCost : 0;\r\n      const canAfford = state.label.cash >= signCost;\r\n      const itemClass = `list-item${isLocked ? \" ccc-market-item--failed\" : \"\"}`;\r\n      const buttonState = isLocked || !canAfford ? \" disabled\" : \"\";\r\n      const buttonLabel = isLocked\r\n        ? \"Locked until refresh\"\r\n        : `Sign ${formatMoney(signCost)}${canAfford ? \"\" : \" (not enough money)\"}`;\r\n      const lockoutReason = isLocked && lockout?.reason ? ` - ${lockout.reason}` : \"\";\r\n      const lockoutHint = isLocked ? `<div class=\"tiny muted\">Locked until 12AM refresh${lockoutReason}</div>` : \"\";\r\n      const lockoutTitle = isLocked && lockout\r\n        ? ` title=\"Locked until ${formatDate(lockout.lockedUntilEpochMs)}${lockout?.reason ? ` | ${lockout.reason}` : \"\"}\"`\r\n        : \"\";\r\n      const cashTitle = !isLocked && !canAfford\r\n        ? ' title=\"Not enough money to sign this creator.\"'\r\n        : \"\";\r\n      const buttonTitle = lockoutTitle || cashTitle;\r\n      const themeCells = (creator.prefThemes || []).map((theme) => renderThemeTag(theme)).join(\"\");\r\n      const moodCells = (creator.prefMoods || []).map((mood) => renderMoodTag(mood)).join(\"\");\r\n      return `\r\n        <div class=\"${itemClass}\" data-ccc-creator=\"${creator.id}\">\r\n          <div class=\"list-row\">\r\n            <div class=\"creator-card\">\r\n              ${renderCreatorAvatar(creator)}\r\n              <div>\r\n                <div class=\"item-title\">${renderCreatorName(creator)}</div>\r\n                <div class=\"bar\"><span style=\"width:${staminaPct}%\"></span></div>\r\n                <div class=\"muted\">Stamina ${creator.stamina} / ${STAMINA_MAX}</div>\r\n                <div class=\"muted\">ID ${creator.id} | ${roleLabelText} | Skill <span class=\"grade-text\" data-grade=\"${skillGrade}\">${creator.skill}</span></div>\r\n                <div class=\"muted\">${renderCreatorSkillProgress(creator)}</div>\r\n                <div class=\"time-row\">${nationalityPill}</div>\r\n                <div class=\"muted\">Preferred Themes:</div>\r\n                <div class=\"time-row\">${themeCells}</div>\r\n                <div class=\"muted\">Preferred Moods:</div>\r\n                <div class=\"time-row\">${moodCells}</div>\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <button type=\"button\" data-sign=\"${creator.id}\"${buttonState}${buttonTitle}>${buttonLabel}</button>\r\n              ${lockoutHint}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    });\r\n    const emptyMsg = filtersActive\r\n      ? `No ${roleLabelText} Creator IDs match the current filters.`\r\n      : pool.length\r\n        ? `No ${roleLabelText} Creator IDs available.`\r\n        : \"No Creator IDs available.\";\r\n    const columnState = filters[role] === false ? \" is-hidden\" : \"\";\r\n    const countLabel = filtersActive\r\n      ? `${sortedCreators.length} of ${roleCreators.length} available`\r\n      : `${roleCreators.length} available`;\r\n    return `\r\n      <div class=\"ccc-market-column${columnState}\" data-role=\"${role}\">\r\n        <div class=\"ccc-market-head\">\r\n          <div class=\"ccc-market-title\">${roleLabelText}s</div>\r\n          <div class=\"tiny muted\">${countLabel}</div>\r\n        </div>\r\n        <div class=\"list ccc-market-list\">\r\n          ${list.length ? list.join(\"\") : `<div class=\"muted\">${emptyMsg}</div>`}\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  listEl.innerHTML = columns.join(\"\");\r\n}\r\n\r\nfunction renderWorkOrders() {\r\n  const listEl = $(\"workOrderList\");\r\n  if (!listEl) return;\r\n  if (!state.workOrders.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No active work orders.</div>`;\r\n    return;\r\n  }\r\n  const now = state.time.epochMs;\r\n  const list = state.workOrders.map((order) => {\r\n    const track = getTrack(order.trackId);\r\n    const crewIds = getWorkOrderCreatorIds(order);\r\n    const crew = crewIds.map((id) => getCreator(id)).filter(Boolean);\r\n    const crewLabel = buildWorkOrderCrewLabel(crew);\r\n    const stage = STAGES[order.stageIndex];\r\n    const hoursLeft = order.status === \"In Progress\" ? Math.max(0, Math.ceil((order.endAt - now) / HOUR_MS)) : \"Queued\";\r\n    const crewLine = `${stage?.name || \"Stage\"} | ${crewLabel.primary}`;\r\n    const crewDetail = crewLabel.secondary ? `<div class=\"muted\">${crewLabel.secondary}</div>` : \"\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${track ? track.title : \"Unknown\"}</div>\r\n            <div class=\"muted\">${crewLine}</div>\r\n            ${crewDetail}\r\n          </div>\r\n          <div class=\"pill\">${hoursLeft}h</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  listEl.innerHTML = list.join(\"\");\r\n}\r\n\r\nfunction renderTrackHistoryPanel(activeTab) {\r\n  const panel = $(\"trackHistoryPanel\");\r\n  if (!panel || activeTab !== \"history\") return;\r\n  const listEl = $(\"trackHistoryList\");\r\n  if (!listEl) return;\r\n  const metaEl = $(\"trackHistoryMeta\");\r\n  const focusEra = getFocusedEra();\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\r\n  const targetEra = focusEra || fallbackEra;\r\n\r\n  if (!targetEra) {\r\n    panel.dataset.historyKey = \"\";\r\n    panel.dataset.historyStatus = \"\";\r\n    if (metaEl) metaEl.textContent = \"Focus an active era to view chart history.\";\r\n    listEl.innerHTML = `<div class=\"muted\">No active era selected.</div>`;\r\n    return;\r\n  }\r\n\r\n  const tracks = state.tracks.filter((track) => track.status === \"Released\" && track.eraId === targetEra.id);\r\n  if (metaEl) metaEl.textContent = `${targetEra.name} | ${formatCount(tracks.length)} released tracks`;\r\n  if (!tracks.length) {\r\n    panel.dataset.historyKey = \"\";\r\n    panel.dataset.historyStatus = \"\";\r\n    listEl.innerHTML = `<div class=\"muted\">No released tracks for ${targetEra.name} yet.</div>`;\r\n    return;\r\n  }\r\n\r\n  const chartWeek = Number.isFinite(state.meta?.chartHistoryLastWeek) ? state.meta.chartHistoryLastWeek : weekIndex() + 1;\r\n  const trackKey = tracks.map((track) => track.id).sort().join(\",\");\r\n  const cacheKey = `${targetEra.id}:${chartWeek}:${trackKey}`;\r\n  if (panel.dataset.historyKey === cacheKey && panel.dataset.historyStatus === \"ready\") {\r\n    return;\r\n  }\r\n\r\n  panel.dataset.historyKey = cacheKey;\r\n  panel.dataset.historyStatus = \"loading\";\r\n  listEl.innerHTML = `<div class=\"muted\">Loading chart history...</div>`;\r\n\r\n  const requestId = ++trackHistoryRequestId;\r\n  (async () => {\r\n    const weeks = await listChartWeeks();\r\n    if (requestId !== trackHistoryRequestId) return;\r\n    const currentWeek = weekIndex() + 1;\r\n    let weekNumbers = weeks.map((entry) => entry.week).filter((week) => week <= currentWeek);\r\n    if (!weekNumbers.length) {\r\n      listEl.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n      panel.dataset.historyStatus = \"ready\";\r\n      return;\r\n    }\r\n    const releaseWeeks = tracks\r\n      .map((track) => weekNumberFromEpochMs(track.releasedAt))\r\n      .filter((week) => Number.isFinite(week));\r\n    const minWeek = releaseWeeks.length ? Math.min(...releaseWeeks) : null;\r\n    if (minWeek) {\r\n      weekNumbers = weekNumbers.filter((week) => week >= minWeek);\r\n    }\r\n    if (!weekNumbers.length) {\r\n      listEl.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n      panel.dataset.historyStatus = \"ready\";\r\n      return;\r\n    }\r\n    weekNumbers.sort((a, b) => b - a);\r\n    const scopes = buildTrackHistoryScopes();\r\n    const snapshotsByWeek = new Map();\r\n    for (const week of weekNumbers) {\r\n      const snapshots = await Promise.all(scopes.map((scope) => fetchChartSnapshot(scope.scope, week)));\r\n      if (requestId !== trackHistoryRequestId) return;\r\n      const scopeMap = new Map();\r\n      snapshots.forEach((snapshot, index) => {\r\n        if (snapshot) scopeMap.set(scopes[index].scope, snapshot);\r\n      });\r\n      snapshotsByWeek.set(week, scopeMap);\r\n    }\r\n    if (requestId !== trackHistoryRequestId) return;\r\n\r\n    const headerCells = scopes.map((scope) => `<th title=\"${scope.title}\">${scope.label}</th>`).join(\"\");\r\n    const historyMarkup = tracks.map((track) => {\r\n      const act = getAct(track.actId);\r\n      const project = track.projectName || `${track.title} - Single`;\r\n      const projectType = track.projectType || \"Single\";\r\n      const releaseDate = track.releasedAt ? formatShortDate(track.releasedAt) : \"TBD\";\r\n      const releaseWeek = weekNumberFromEpochMs(track.releasedAt);\r\n      const rows = weekNumbers.map((week) => {\r\n        const weekTitle = formatWeekRangeLabel(week);\r\n        const weekLabel = `Week ${week}`;\r\n        const scopeMap = snapshotsByWeek.get(week);\r\n        const cells = scopes.map((scope) => {\r\n          const snapshot = scopeMap?.get(scope.scope);\r\n          const entry = snapshot?.entries?.find((item) => item.trackId === track.id);\r\n          let value = \"-\";\r\n          let cellClass = \"chart-rank is-unreleased\";\r\n          if (Number.isFinite(releaseWeek) && week >= releaseWeek) {\r\n            if (entry && Number.isFinite(entry.rank)) {\r\n              value = `#${entry.rank}`;\r\n              cellClass = \"chart-rank\";\r\n            } else {\r\n              value = \"DNC\";\r\n              cellClass = \"chart-rank is-dnc\";\r\n            }\r\n          }\r\n          return `<td class=\"${cellClass}\">${value}</td>`;\r\n        }).join(\"\");\r\n        return `<tr><td title=\"${weekTitle}\">${weekLabel}</td>${cells}</tr>`;\r\n      }).join(\"\");\r\n\r\n      return `\r\n        <div class=\"list-item track-history-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${track.title}</div>\r\n              <div class=\"muted\">Act: ${act ? act.name : \"Unassigned\"} | Project: ${project} (${projectType})</div>\r\n              <div class=\"muted\">Released ${releaseDate} | ${track.distribution || \"Digital\"}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"track-history-table-wrap\">\r\n            <table class=\"chart-table track-history-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Week</th>\r\n                  ${headerCells}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                ${rows}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n\r\n    listEl.innerHTML = historyMarkup;\r\n    panel.dataset.historyStatus = \"ready\";\r\n  })().catch(() => {\r\n    if (requestId !== trackHistoryRequestId) return;\r\n    listEl.innerHTML = `<div class=\"muted\">Chart history unavailable.</div>`;\r\n    panel.dataset.historyStatus = \"ready\";\r\n  });\r\n}\r\n\r\nfunction renderTracks() {\r\n  const activeView = state.ui.activeView || \"\";\r\n  const createStage = state.ui.createStage || \"sheet\";\r\n  const allTracks = state.tracks;\r\n  const pipelineTracks = allTracks.filter((track) => (\r\n    track.status === \"In Production\"\r\n    || track.status === \"Awaiting Demo\"\r\n    || track.status === \"Awaiting Master\"\r\n  ));\r\n  const archivedTracks = allTracks.filter((track) => track.status === \"Released\");\r\n  let tracks = allTracks.filter((track) => track.status !== \"Released\");\r\n  if (activeView === \"create\") {\r\n    tracks = pipelineTracks;\r\n    if (createStage === \"demo\") {\r\n      tracks = tracks.filter((track) => track.stageIndex === 1);\r\n    } else if (createStage === \"master\") {\r\n      tracks = tracks.filter((track) => track.stageIndex === 2);\r\n    }\r\n  }\r\n  const trackList = $(\"trackList\");\r\n  if (trackList) {\r\n    if (!tracks.length) {\r\n      let emptyMsg = activeView === \"create\" && createStage === \"demo\"\r\n        ? \"No sheet music awaiting demo recordings.\"\r\n        : activeView === \"create\" && createStage === \"master\"\r\n          ? \"No demos awaiting mastering.\"\r\n          : activeView === \"create\"\r\n            ? \"No tracks in the creation pipeline.\"\r\n            : \"No active tracks in catalog.\";\r\n      if (archivedTracks.length && emptyMsg === \"No active tracks in catalog.\") {\r\n        emptyMsg = `${emptyMsg} Released tracks are in the Archive.`;\r\n      }\r\n      trackList.innerHTML = `<div class=\"muted\">${emptyMsg}</div>`;\r\n    } else {\r\n      const focusEra = getFocusedEra();\r\n      const now = state.time.epochMs;\r\n      const list = tracks.map((track) => {\r\n    const stageName = track.status === \"In Production\" ? STAGES[Math.min(track.stageIndex, STAGES.length - 1)].name : track.status;\r\n    const grade = qualityGrade(track.quality);\r\n    const act = getAct(track.actId);\r\n    const project = track.projectName || `${track.title} - Single`;\r\n    const projectType = track.projectType || \"Single\";\r\n    const themeTag = renderThemeTag(track.theme);\r\n    const alignTag = renderAlignmentTag(track.alignment);\r\n    const actLine = activeView === \"create\"\r\n      ? `Project: ${project} (${projectType})`\r\n      : `Act: ${act ? act.name : \"Unassigned\"} | Project: ${project} (${projectType})`;\r\n    const era = track.eraId ? getEraById(track.eraId) : null;\r\n    const eraName = era ? era.name : null;\r\n    const focusSuffix = focusEra && era && focusEra.id === era.id ? \" | Focus\" : \"\";\r\n    const modifierName = track.modifier ? track.modifier.label : \"None\";\r\n    const genreLabel = renderTrackGenrePills(track, { fallback: \"Genre: -\" });\r\n    const activeOrder = track.status === \"In Production\"\r\n      ? state.workOrders.find((order) => order.trackId === track.id && order.status === \"In Progress\")\r\n      : null;\r\n    let progressBlock = \"\";\r\n    if (activeOrder && activeOrder.startAt && activeOrder.endAt) {\r\n      const total = Math.max(1, activeOrder.endAt - activeOrder.startAt);\r\n      const progress = clamp((now - activeOrder.startAt) / total, 0, 1);\r\n      const pct = Math.round(progress * 100);\r\n      const hoursLeft = Math.max(0, Math.ceil((activeOrder.endAt - now) / HOUR_MS));\r\n      progressBlock = `\r\n        <div class=\"bar\"><span style=\"width:${pct}%\"></span></div>\r\n        <div class=\"muted\">Progress: ${pct}%  ${hoursLeft}h left</div>\r\n      `;\r\n    } else if (track.status === \"In Production\") {\r\n      progressBlock = `<div class=\"muted\">Queued for studio time.</div>`;\r\n    }\r\n    return `\r\n      <div class=\"list-item\" data-entity-type=\"track\" data-entity-id=\"${track.id}\" data-entity-name=\"${track.title}\" draggable=\"true\">\r\n        <div class=\"list-row\">\r\n          <div class=\"item-main\">\r\n            <div class=\"content-thumb\" aria-hidden=\"true\"></div>\r\n            <div>\r\n              <div class=\"item-title\">${track.title}</div>\r\n              <div class=\"muted\">ID ${track.id} | Item: Track</div>\r\n              <div class=\"muted\">${genreLabel}</div>\r\n              <div class=\"muted\">${themeTag} ${alignTag}</div>\r\n              <div class=\"muted\">${actLine}</div>\r\n              <div class=\"muted\">Distribution: ${track.distribution || \"Digital\"}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"badge grade\" data-grade=\"${grade}\">${grade}</div>\r\n        </div>\r\n        <div class=\"muted\">Status: ${stageName} | Quality ${track.quality}${eraName ? ` | Era: ${eraName}${focusSuffix}` : \"\"}</div>\r\n        ${progressBlock}\r\n      </div>\r\n    `;\r\n      });\r\n      trackList.innerHTML = list.join(\"\");\r\n    }\r\n  }\r\n\r\n  const archiveList = $(\"trackArchiveList\");\r\n  if (!archiveList) return;\r\n  if (!archivedTracks.length) {\r\n    archiveList.innerHTML = `<div class=\"muted\">No released tracks yet.</div>`;\r\n    return;\r\n  }\r\n  const sortedArchive = archivedTracks.slice().sort((a, b) => (b.releasedAt || 0) - (a.releasedAt || 0));\r\n  const archiveItems = sortedArchive.map((track) => {\r\n    const act = getAct(track.actId);\r\n    const project = track.projectName || `${track.title} - Single`;\r\n    const projectType = track.projectType || \"Single\";\r\n    const releaseDate = track.releasedAt ? formatDate(track.releasedAt) : \"TBD\";\r\n    const grade = qualityGrade(track.quality);\r\n    const genreLabel = renderTrackGenrePills(track, { fallback: \"Genre: -\" });\r\n    const actLine = `Act: ${act ? act.name : \"Unassigned\"} | Project: ${project} (${projectType})`;\r\n    return `\r\n      <div class=\"list-item\" data-entity-type=\"track\" data-entity-id=\"${track.id}\" data-entity-name=\"${track.title}\" draggable=\"true\">\r\n        <div class=\"list-row\">\r\n          <div class=\"item-main\">\r\n            <div class=\"content-thumb\" aria-hidden=\"true\"></div>\r\n            <div>\r\n              <div class=\"item-title\">${track.title}</div>\r\n              <div class=\"muted\">ID ${track.id} | ${genreLabel}</div>\r\n              <div class=\"muted\">${actLine}</div>\r\n              <div class=\"muted\">Released ${releaseDate} | ${track.distribution || \"Digital\"}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"badge grade\" data-grade=\"${grade}\">${grade}</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  archiveList.innerHTML = archiveItems.join(\"\");\r\n\r\n  let activeTab = state.ui.trackPanelTab || \"active\";\r\n  if (activeTab === \"history\" && !$(\"trackHistoryPanel\")) {\r\n    activeTab = \"active\";\r\n  }\r\n  document.querySelectorAll(\"[data-track-tab]\").forEach((tab) => {\r\n    const isActive = tab.dataset.trackTab === activeTab;\r\n    tab.classList.toggle(\"active\", isActive);\r\n    tab.setAttribute(\"aria-pressed\", String(isActive));\r\n  });\r\n  document.querySelectorAll(\"[data-track-panel]\").forEach((panel) => {\r\n    const isActive = panel.dataset.trackPanel === activeTab;\r\n    panel.classList.toggle(\"hidden\", !isActive);\r\n  });\r\n  renderTrackHistoryPanel(activeTab);\r\n}\r\n\r\nfunction renderRolloutStrategyPlanner() {\r\n  const select = $(\"rolloutStrategySelect\");\r\n  const summary = $(\"rolloutStrategySummary\");\r\n  const weekInput = $(\"rolloutStrategyWeek\");\r\n  const dropInput = $(\"rolloutStrategyDropId\");\r\n  const eventTypeSelect = $(\"rolloutStrategyEventType\");\r\n  const eventContentInput = $(\"rolloutStrategyEventContent\");\r\n  const autoRunToggle = $(\"rolloutStrategyAutoRun\");\r\n  const expandBtn = $(\"rolloutStrategyExpand\");\r\n  const addDropBtn = $(\"rolloutStrategyAddDrop\");\r\n  const addEventBtn = $(\"rolloutStrategyAddEvent\");\r\n  const createBtn = $(\"rolloutStrategyCreate\");\r\n  if (!select || !summary) return;\r\n\r\n  const era = getRolloutPlanningEra();\r\n  if (!era) {\r\n    select.innerHTML = `<option value=\"\">No active era</option>`;\r\n    summary.innerHTML = `<div class=\"muted\">Focus an active era to plan a rollout strategy.</div>`;\r\n    if (weekInput) weekInput.disabled = true;\r\n    if (dropInput) dropInput.disabled = true;\r\n    if (eventTypeSelect) eventTypeSelect.disabled = true;\r\n    if (eventContentInput) eventContentInput.disabled = true;\r\n    if (autoRunToggle) autoRunToggle.disabled = true;\r\n    if (expandBtn) expandBtn.disabled = true;\r\n    if (addDropBtn) addDropBtn.disabled = true;\r\n    if (addEventBtn) addEventBtn.disabled = true;\r\n    if (createBtn) createBtn.disabled = true;\r\n    return;\r\n  }\r\n\r\n  const strategies = getRolloutStrategiesForEra(era.id);\r\n  if (!strategies.length) {\r\n    select.innerHTML = `<option value=\"\">No strategy yet</option>`;\r\n    summary.innerHTML = `<div class=\"muted\">No rollout strategies yet. Click New to create one.</div>`;\r\n    if (weekInput) weekInput.disabled = true;\r\n    if (dropInput) dropInput.disabled = true;\r\n    if (eventTypeSelect) eventTypeSelect.disabled = true;\r\n    if (eventContentInput) eventContentInput.disabled = true;\r\n    if (autoRunToggle) autoRunToggle.disabled = true;\r\n    if (expandBtn) expandBtn.disabled = true;\r\n    if (addDropBtn) addDropBtn.disabled = true;\r\n    if (addEventBtn) addEventBtn.disabled = true;\r\n    if (createBtn) createBtn.disabled = false;\r\n    return;\r\n  }\r\n\r\n  select.innerHTML = strategies.map((strategy) => (\r\n    `<option value=\"${strategy.id}\">${strategy.id} | ${strategy.status}</option>`\r\n  )).join(\"\");\r\n\r\n  const desiredId = state.ui.viewContext?.rolloutStrategyId || era.rolloutStrategyId || strategies[0].id;\r\n  const activeStrategy = strategies.find((strategy) => strategy.id === desiredId) || strategies[0];\r\n  select.value = activeStrategy.id;\r\n  setSelectedRolloutStrategyId(activeStrategy.id);\r\n\r\n  if (eventTypeSelect) {\r\n    eventTypeSelect.innerHTML = Object.keys(PROMO_TYPE_DETAILS)\r\n      .map((key) => `<option value=\"${key}\">${PROMO_TYPE_DETAILS[key].label}</option>`)\r\n      .join(\"\");\r\n    if (!eventTypeSelect.value) eventTypeSelect.value = DEFAULT_PROMO_TYPE;\r\n  }\r\n\r\n  if (weekInput) {\r\n    weekInput.disabled = false;\r\n    weekInput.max = String(activeStrategy.weeks.length);\r\n    const parsed = Math.max(1, Math.min(activeStrategy.weeks.length, Number(weekInput.value) || 1));\r\n    weekInput.value = String(parsed);\r\n  }\r\n  if (dropInput) dropInput.disabled = false;\r\n  if (eventTypeSelect) eventTypeSelect.disabled = false;\r\n  if (eventContentInput) eventContentInput.disabled = false;\r\n  if (autoRunToggle) {\r\n    autoRunToggle.disabled = false;\r\n    autoRunToggle.checked = Boolean(activeStrategy.autoRun);\r\n  }\r\n  if (expandBtn) expandBtn.disabled = false;\r\n  if (addDropBtn) addDropBtn.disabled = false;\r\n  if (addEventBtn) addEventBtn.disabled = false;\r\n  if (createBtn) createBtn.disabled = false;\r\n\r\n  const header = `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">Strategy ${activeStrategy.id}</div>\r\n      <div class=\"muted\">Status: ${activeStrategy.status} | Source: ${activeStrategy.source} | Weeks: ${activeStrategy.weeks.length}</div>\r\n    </div>\r\n  `;\r\n  const budgetSummary = renderRolloutBudgetSummary(activeStrategy);\r\n  const rows = activeStrategy.weeks.map((week, index) => {\r\n    const dropCount = Array.isArray(week.drops) ? week.drops.length : 0;\r\n    const eventCount = Array.isArray(week.events) ? week.events.length : 0;\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Week ${index + 1}</div>\r\n        <div class=\"muted\">Drops ${dropCount} | Events ${eventCount}</div>\r\n      </div>\r\n    `;\r\n  });\r\n  summary.innerHTML = rows.length\r\n    ? header + budgetSummary + rows.join(\"\")\r\n    : `${header}${budgetSummary}<div class=\"muted\">No rollout items yet.</div>`;\r\n}\r\n\r\nfunction renderEraStatus() {\r\n  const eraBox = $(\"eraStatus\");\r\n  if (!eraBox) return;\r\n  renderFocusEraStatus();\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const focusEra = getFocusedEra();\r\n  if (!activeEras.length) {\r\n    eraBox.innerHTML = `<div class=\"muted\">No active Eras. Start one or schedule a release.</div>`;\r\n    renderRolloutStrategyPlanner();\r\n    return;\r\n  }\r\n  eraBox.innerHTML = activeEras.map((era) => {\r\n    const act = getAct(era.actId);\r\n    const stageName = ERA_STAGES[era.stageIndex] || \"Complete\";\r\n    const stageWeeks = era.rolloutWeeks || ROLLOUT_PRESETS[1].weeks;\r\n    const stageTotal = stageWeeks[era.stageIndex] || 0;\r\n    const stageProgress = `${era.stageWeek}/${stageTotal} weeks`;\r\n    const content = era.contentTypes?.length ? era.contentTypes.join(\", \") : \"Unassigned\";\r\n    const isFocused = focusEra && focusEra.id === era.id;\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${era.name}</div>\r\n            <div class=\"muted\">Act: ${act ? act.name : \"Unknown\"}</div>\r\n            <div class=\"muted\">Stage: ${stageName} | ${stageProgress}</div>\r\n            <div class=\"muted\">Status: ${era.status} | Started Week ${era.startedWeek}</div>\r\n            <div class=\"muted\">Content: ${content}</div>\r\n          </div>\r\n          <div class=\"actions\">\r\n            ${isFocused ? `<span class=\"pill\">Focused</span>` : `<button type=\"button\" class=\"ghost mini\" data-era-focus=\"${era.id}\">Focus</button>`}\r\n            <button type=\"button\" class=\"ghost mini\" data-era-end=\"${era.id}\">End Era</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n  renderRolloutStrategyPlanner();\r\n}\r\n\r\nfunction renderEraHistoryPanel(targetEra) {\r\n  const panel = $(\"eraHistoryPanel\");\r\n  const listEl = $(\"eraHistoryList\");\r\n  if (!panel || !listEl) return;\r\n  const metaEl = $(\"eraHistoryMeta\");\r\n\r\n  if (!targetEra) {\r\n    panel.dataset.historyKey = \"\";\r\n    panel.dataset.historyStatus = \"\";\r\n    if (metaEl) metaEl.textContent = \"Focus an active era to view chart history.\";\r\n    listEl.innerHTML = `<div class=\"muted\">No active era selected.</div>`;\r\n    return;\r\n  }\r\n\r\n  const tracks = state.tracks.filter((track) => track.status === \"Released\" && track.eraId === targetEra.id);\r\n  if (metaEl) metaEl.textContent = `${targetEra.name} | ${formatCount(tracks.length)} released tracks`;\r\n  if (!tracks.length) {\r\n    panel.dataset.historyKey = \"\";\r\n    panel.dataset.historyStatus = \"\";\r\n    listEl.innerHTML = `<div class=\"muted\">No released tracks for ${targetEra.name} yet.</div>`;\r\n    return;\r\n  }\r\n\r\n  const chartWeek = Number.isFinite(state.meta?.chartHistoryLastWeek) ? state.meta.chartHistoryLastWeek : weekIndex() + 1;\r\n  const trackKey = tracks.map((track) => track.id).sort().join(\",\");\r\n  const cacheKey = `${targetEra.id}:${chartWeek}:${trackKey}`;\r\n  if (panel.dataset.historyKey === cacheKey && panel.dataset.historyStatus === \"ready\") {\r\n    return;\r\n  }\r\n\r\n  panel.dataset.historyKey = cacheKey;\r\n  panel.dataset.historyStatus = \"loading\";\r\n  listEl.innerHTML = `<div class=\"muted\">Loading chart history...</div>`;\r\n\r\n  const requestId = ++eraHistoryRequestId;\r\n  (async () => {\r\n    const weeks = await listChartWeeks();\r\n    if (requestId !== eraHistoryRequestId) return;\r\n    const currentWeek = weekIndex() + 1;\r\n    let weekNumbers = weeks.map((entry) => entry.week).filter((week) => week <= currentWeek);\r\n    if (!weekNumbers.length) {\r\n      listEl.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n      panel.dataset.historyStatus = \"ready\";\r\n      return;\r\n    }\r\n    const releaseWeeks = tracks\r\n      .map((track) => weekNumberFromEpochMs(track.releasedAt))\r\n      .filter((week) => Number.isFinite(week));\r\n    const minWeek = releaseWeeks.length ? Math.min(...releaseWeeks) : null;\r\n    if (minWeek) {\r\n      weekNumbers = weekNumbers.filter((week) => week >= minWeek);\r\n    }\r\n    if (!weekNumbers.length) {\r\n      listEl.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n      panel.dataset.historyStatus = \"ready\";\r\n      return;\r\n    }\r\n    weekNumbers.sort((a, b) => b - a);\r\n    const scopes = buildTrackHistoryScopes();\r\n    const snapshotsByWeek = new Map();\r\n    for (const week of weekNumbers) {\r\n      const snapshots = await Promise.all(scopes.map((scope) => fetchChartSnapshot(scope.scope, week)));\r\n      if (requestId !== eraHistoryRequestId) return;\r\n      const scopeMap = new Map();\r\n      snapshots.forEach((snapshot, index) => {\r\n        if (snapshot) scopeMap.set(scopes[index].scope, snapshot);\r\n      });\r\n      snapshotsByWeek.set(week, scopeMap);\r\n    }\r\n    if (requestId !== eraHistoryRequestId) return;\r\n\r\n    const headerCells = scopes.map((scope) => `<th title=\"${scope.title}\">${scope.label}</th>`).join(\"\");\r\n    const historyMarkup = tracks.map((track) => {\r\n      const act = getAct(track.actId);\r\n      const project = track.projectName || `${track.title} - Single`;\r\n      const projectType = track.projectType || \"Single\";\r\n      const releaseDate = track.releasedAt ? formatShortDate(track.releasedAt) : \"TBD\";\r\n      const releaseWeek = weekNumberFromEpochMs(track.releasedAt);\r\n      const rows = weekNumbers.map((week) => {\r\n        const weekTitle = formatWeekRangeLabel(week);\r\n        const weekLabel = `Week ${week}`;\r\n        const scopeMap = snapshotsByWeek.get(week);\r\n        const cells = scopes.map((scope) => {\r\n          const snapshot = scopeMap?.get(scope.scope);\r\n          const entry = snapshot?.entries?.find((item) => item.trackId === track.id);\r\n          let value = \"-\";\r\n          let cellClass = \"chart-rank is-unreleased\";\r\n          if (Number.isFinite(releaseWeek) && week >= releaseWeek) {\r\n            if (entry && Number.isFinite(entry.rank)) {\r\n              value = `#${entry.rank}`;\r\n              cellClass = \"chart-rank\";\r\n            } else {\r\n              value = \"DNC\";\r\n              cellClass = \"chart-rank is-dnc\";\r\n            }\r\n          }\r\n          return `<td class=\"${cellClass}\">${value}</td>`;\r\n        }).join(\"\");\r\n        return `<tr><td title=\"${weekTitle}\">${weekLabel}</td>${cells}</tr>`;\r\n      }).join(\"\");\r\n\r\n      return `\r\n        <div class=\"list-item track-history-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${track.title}</div>\r\n              <div class=\"muted\">Act: ${act ? act.name : \"Unassigned\"} | Project: ${project} (${projectType})</div>\r\n              <div class=\"muted\">Released ${releaseDate} | ${track.distribution || \"Digital\"}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"track-history-table-wrap\">\r\n            <table class=\"chart-table track-history-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Week</th>\r\n                  ${headerCells}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                ${rows}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n\r\n    listEl.innerHTML = historyMarkup;\r\n    panel.dataset.historyStatus = \"ready\";\r\n  })().catch(() => {\r\n    if (requestId !== eraHistoryRequestId) return;\r\n    listEl.innerHTML = `<div class=\"muted\">Chart history unavailable.</div>`;\r\n    panel.dataset.historyStatus = \"ready\";\r\n  });\r\n}\r\n\r\nfunction renderEraPerformance() {\r\n  const tableWrap = $(\"eraPerformanceTableWrap\");\r\n  if (!tableWrap) return;\r\n  const metaEl = $(\"eraPerformanceMeta\");\r\n  const focusEra = getFocusedEra();\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\r\n  const targetEra = focusEra || fallbackEra;\r\n\r\n  if (!targetEra) {\r\n    if (metaEl) metaEl.textContent = \"Focus an active era to see performance details.\";\r\n    tableWrap.innerHTML = `<div class=\"muted\">No active era selected.</div>`;\r\n    renderEraHistoryPanel(null);\r\n    return;\r\n  }\r\n\r\n  const eraTracks = state.tracks.filter((track) => track.eraId === targetEra.id);\r\n  const released = eraTracks.filter((track) => track.status === \"Released\");\r\n  if (metaEl) metaEl.textContent = `${targetEra.name} | ${formatCount(eraTracks.length)} tracks | Released ${formatCount(released.length)}`;\r\n  if (!eraTracks.length) {\r\n    tableWrap.innerHTML = `<div class=\"muted\">No tracks linked to ${targetEra.name} yet.</div>`;\r\n    renderEraHistoryPanel(targetEra);\r\n    return;\r\n  }\r\n\r\n  const rows = eraTracks.map((track) => {\r\n    const act = getAct(track.actId);\r\n    const economy = track.economy || {};\r\n    const isReleased = track.status === \"Released\";\r\n    const marketEntry = state.marketTracks.find((entry) => entry.trackId === track.id)\r\n      || state.meta?.marketTrackArchive?.find((entry) => entry.trackId === track.id);\r\n    const history = marketEntry?.chartHistory?.global || null;\r\n    const peakLabel = history?.peak ? `#${history.peak}` : \"-\";\r\n    const wocLabel = history?.weeks ? formatCount(history.weeks) : \"-\";\r\n    const chartPoints = isReleased ? formatCount(economy.chartPoints || 0) : \"-\";\r\n    const salesLabel = isReleased ? formatCount(economy.sales || 0) : \"-\";\r\n    const streamLabel = isReleased ? formatCount(economy.streaming || 0) : \"-\";\r\n    const revenueLabel = isReleased ? formatMoney(economy.revenue || 0) : \"-\";\r\n    const productionCost = economy.productionCost || 0;\r\n    const distributionFees = economy.distributionFees || 0;\r\n    const actualCosts = productionCost + distributionFees;\r\n    const net = isReleased ? formatMoney((economy.revenue || 0) - actualCosts) : \"-\";\r\n    const costsLabel = formatMoney(actualCosts || 0);\r\n    const physical = recommendPhysicalRun(track, { act, label: state.label });\r\n    const vinylUnits = physical.units ? formatCount(physical.units) : \"0\";\r\n    const vinylGross = formatMoney(physical.estimatedGross || 0);\r\n    const vinylCost = formatMoney(physical.estimatedCost || 0);\r\n    const unitPrice = formatMoney(physical.unitPrice || 0);\r\n    const unitCost = formatMoney(physical.unitCost || 0);\r\n    const budgetNote = physical.isBudgetCapped && Number.isFinite(physical.budgetCap)\r\n      ? `Budget cap ${formatCount(physical.budgetCap)}`\r\n      : \"\";\r\n    const releaseDate = track.releasedAt ? formatShortDate(track.releasedAt) : \"TBD\";\r\n    const projectType = track.projectType || \"Single\";\r\n    const distribution = track.distribution || \"Digital\";\r\n\r\n    return `\r\n      <tr>\r\n        <td>\r\n          <div class=\"item-title\">${track.title}</div>\r\n          <div class=\"muted\">Act: ${act ? act.name : \"Unassigned\"} | Status: ${track.status}</div>\r\n        </td>\r\n        <td>\r\n          <div>${projectType}</div>\r\n          <div class=\"muted\">${distribution}</div>\r\n          <div class=\"muted\">Release ${releaseDate}</div>\r\n        </td>\r\n        <td>\r\n          <div class=\"chart-score\">${chartPoints}</div>\r\n          <div class=\"muted\">Peak ${peakLabel} | WOC ${wocLabel}</div>\r\n        </td>\r\n        <td>\r\n          <div>Sales ${salesLabel}</div>\r\n          <div class=\"muted\">Stream ${streamLabel}</div>\r\n        </td>\r\n        <td>\r\n          <div>Revenue ${revenueLabel}</div>\r\n          <div class=\"muted\">Costs ${costsLabel}</div>\r\n          <div class=\"muted\">Net ${net}</div>\r\n        </td>\r\n        <td>\r\n          <div>${vinylUnits} units</div>\r\n          <div class=\"muted\">${unitPrice} ea | ${unitCost} cost</div>\r\n          <div class=\"muted\">Gross ${vinylGross} | Cost ${vinylCost}</div>\r\n          ${budgetNote ? `<div class=\"muted\">${budgetNote}</div>` : \"\"}\r\n        </td>\r\n      </tr>\r\n    `;\r\n  }).join(\"\");\r\n\r\n  tableWrap.innerHTML = `\r\n    <table class=\"chart-table era-performance-table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Content</th>\r\n          <th>Type</th>\r\n          <th>Charts</th>\r\n          <th>Sales</th>\r\n          <th>Economics</th>\r\n          <th>Vinyl Run</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        ${rows}\r\n      </tbody>\r\n    </table>\r\n  `;\r\n\r\n  renderEraHistoryPanel(targetEra);\r\n}\r\n\r\nfunction projectKey(projectName, projectType) {\r\n  const nameKey = normalizeProjectName(projectName);\r\n  const typeKey = normalizeProjectType(projectType);\r\n  return `${nameKey}::${typeKey}`;\r\n}\r\n\r\nfunction collectProjectSummaries(tracks, queuedIds) {\r\n  const summaries = new Map();\r\n  tracks.forEach((track) => {\r\n    const projectName = track.projectName || `${track.title} - Single`;\r\n    const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n    const key = projectKey(projectName, projectType);\r\n    const summary = summaries.get(key) || {\r\n      projectName,\r\n      projectType,\r\n      trackCount: 0,\r\n      readyCount: 0,\r\n      masteringCount: 0,\r\n      scheduledCount: 0,\r\n      releasedCount: 0,\r\n      actNames: new Set()\r\n    };\r\n    summary.trackCount += 1;\r\n    if (track.status === \"Released\") summary.releasedCount += 1;\r\n    if (track.status === \"Ready\") summary.readyCount += 1;\r\n    if (track.status !== \"Ready\" && isMasteringTrack(track)) summary.masteringCount += 1;\r\n    if (queuedIds.has(track.id)) summary.scheduledCount += 1;\r\n    const act = track.actId ? getAct(track.actId) : null;\r\n    if (act?.name) summary.actNames.add(act.name);\r\n    summaries.set(key, summary);\r\n  });\r\n  return Array.from(summaries.values()).sort((a, b) => a.projectName.localeCompare(b.projectName));\r\n}\r\n\r\nfunction renderReleaseDesk() {\r\n  const readyList = $(\"readyList\");\r\n  if (!readyList) return;\r\n  if (!state.ui) state.ui = {};\r\n  if (typeof document !== \"undefined\") {\r\n    const active = document.activeElement;\r\n    const activeSelect = active && active.matches\r\n      ? active.matches(\"select[data-assign-act]\") && readyList.contains(active)\r\n      : false;\r\n    if (state.ui.releaseDeskLock && !activeSelect) state.ui.releaseDeskLock = false;\r\n    if (state.ui.releaseDeskLock) return;\r\n  } else if (state.ui.releaseDeskLock) {\r\n    state.ui.releaseDeskLock = false;\r\n  }\r\n  const queuedIds = new Set(state.releaseQueue.map((entry) => entry.trackId));\r\n  const projectSummaries = collectProjectSummaries(state.tracks, queuedIds);\r\n  const projectSummaryByKey = new Map(\r\n    projectSummaries.map((summary) => [projectKey(summary.projectName, summary.projectType), summary])\r\n  );\r\n  const projectList = $(\"releaseProjectList\");\r\n  if (projectList) {\r\n    if (!projectSummaries.length) {\r\n      projectList.innerHTML = `<div class=\"muted\">No projects yet. Create content in Create, then return here to schedule releases.</div>`;\r\n    } else {\r\n      projectList.innerHTML = projectSummaries.map((summary) => {\r\n        const limits = getProjectTrackLimits(summary.projectType);\r\n        const minRemaining = Math.max(0, limits.min - summary.trackCount);\r\n        const maxRemaining = Math.max(0, limits.max - summary.trackCount);\r\n        const statusLabel = minRemaining > 0\r\n          ? `${minRemaining} to minimum`\r\n          : maxRemaining === 0\r\n            ? \"At cap\"\r\n            : `+${maxRemaining} slots`;\r\n        const statusClass = minRemaining > 0 || maxRemaining === 0 ? \"badge warn\" : \"badge\";\r\n        const readyTotal = summary.readyCount + summary.masteringCount;\r\n        const actLabel = summary.actNames.size ? Array.from(summary.actNames).join(\", \") : \"Unassigned\";\r\n        return `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">${summary.projectName}</div>\r\n                <div class=\"muted\">${summary.projectType} | Tracks ${summary.trackCount}/${limits.max} | Ready ${formatCount(readyTotal)} | Scheduled ${formatCount(summary.scheduledCount)} | Released ${formatCount(summary.releasedCount)}</div>\r\n                <div class=\"muted\">Acts: ${actLabel}</div>\r\n              </div>\r\n              <div class=\"${statusClass}\">${statusLabel}</div>\r\n            </div>\r\n          </div>\r\n        `;\r\n      }).join(\"\");\r\n    }\r\n  }\r\n  const asapAt = getReleaseAsapAt();\r\n  const asapLabel = formatDate(asapAt);\r\n  const distributionSelect = $(\"releaseDistribution\");\r\n  const selectedDistribution = distributionSelect ? distributionSelect.value : \"Digital\";\r\n  const selectedFeeLabel = formatMoney(getReleaseDistributionFee(selectedDistribution));\r\n  const readyTracks = state.tracks.filter((track) => {\r\n    if (queuedIds.has(track.id)) return false;\r\n    if (track.status === \"Ready\") return true;\r\n    return isMasteringTrack(track);\r\n  });\r\n  const readyHtml = readyTracks.length\r\n    ? readyTracks.map((track) => {\r\n      const isReady = track.status === \"Ready\";\r\n      const isMastering = isMasteringTrack(track);\r\n      const act = getAct(track.actId);\r\n      const actOptions = state.acts.map((entry) => `<option value=\"${entry.id}\"${entry.id === track.actId ? \" selected\" : \"\"}>${entry.name}</option>`).join(\"\");\r\n      const actSelect = state.acts.length\r\n        ? `\r\n          <div class=\"field\">\r\n            <label>Assign Act</label>\r\n            <div class=\"input-row\">\r\n              <select data-assign-act=\"${track.id}\">\r\n                <option value=\"\">Select Act</option>\r\n                ${actOptions}\r\n              </select>\r\n              <button type=\"button\" class=\"ghost mini\" data-act-recommend=\"${track.id}\">Recommend</button>\r\n            </div>\r\n          </div>\r\n        `\r\n        : `<div class=\"muted\">No Acts available. Create one in Roster.</div>`;\r\n      const project = track.projectName || `${track.title} - Single`;\r\n      const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n      const limits = getProjectTrackLimits(projectType);\r\n      const summaryKey = projectKey(project, projectType);\r\n      const summary = projectSummaryByKey.get(summaryKey);\r\n      const projectCount = summary ? summary.trackCount : 1;\r\n      const minRemaining = Math.max(0, limits.min - projectCount);\r\n      const maxRemaining = Math.max(0, limits.max - projectCount);\r\n      const projectCountLine = minRemaining > 0\r\n        ? `Project size: ${projectCount}/${limits.max} (${minRemaining} to minimum)`\r\n        : maxRemaining === 0\r\n          ? `Project size: ${projectCount}/${limits.max} (at cap)`\r\n          : `Project size: ${projectCount}/${limits.max}`;\r\n      const themeTag = renderThemeTag(track.theme);\r\n      const alignTag = renderAlignmentTag(track.alignment);\r\n      const modifierName = track.modifier ? track.modifier.label : \"None\";\r\n      const derivedGenre = track.genre || makeGenre(track.theme, track.mood);\r\n      const grade = qualityGrade(track.quality);\r\n      const rec = derivedGenre ? recommendReleasePlan({ ...track, genre: derivedGenre }) : recommendReleasePlan(track);\r\n      const recLabel = `${rec.distribution} ${rec.scheduleKey === \"now\" ? \"now\" : rec.scheduleKey === \"fortnight\" ? \"+14d\" : \"+7d\"}`;\r\n      const recFeeLabel = formatMoney(getReleaseDistributionFee(rec.distribution));\r\n      const statusLabel = isReady ? \"\" : track.status === \"In Production\" ? \"Mastering\" : \"Awaiting Master\";\r\n      const genreLabel = renderGenrePillsFromGenre(derivedGenre, { fallback: \"-\", alignment: track.alignment });\r\n      const hasAct = Boolean(track.actId);\r\n      const canSchedule = hasAct && (isReady || isMastering);\r\n      return `\r\n        <div class=\"list-item\">\r\n          <div class=\"list-row\">\r\n            <div class=\"item-main\">\r\n              <div class=\"content-thumb\" aria-hidden=\"true\"></div>\r\n              <div>\r\n                <div class=\"item-title\">${track.title}</div>\r\n                <div class=\"muted\">${genreLabel} | <span class=\"grade-text\" data-grade=\"${grade}\">${grade}</span>${isReady ? \"\" : ` | ${statusLabel}`}</div>\r\n                <div class=\"muted\">${themeTag} ${alignTag}</div>\r\n                <div class=\"muted\">Act: ${act ? act.name : \"Unassigned\"} | Project: ${project} (${projectType})</div>\r\n                <div class=\"muted\">${projectCountLine}</div>\r\n                <div class=\"muted\">Modifier: ${modifierName}</div>\r\n                <div class=\"muted\">Recommended: ${recLabel} - ${rec.reason}</div>\r\n                ${actSelect}\r\n              </div>\r\n            </div>\r\n            <div class=\"time-row\">\r\n              <div>\r\n                <button type=\"button\" data-release=\"asap\" data-track=\"${track.id}\"${canSchedule ? \"\" : \" disabled\"}>Release ASAP (${selectedFeeLabel})</button>\r\n                <div class=\"time-meta\">${asapLabel} (earliest Friday at midnight)</div>\r\n              </div>\r\n              <button type=\"button\" class=\"ghost\" data-release=\"week\" data-track=\"${track.id}\"${canSchedule ? \"\" : \" disabled\"}>+7d (${selectedFeeLabel})</button>\r\n              <button type=\"button\" class=\"ghost\" data-release=\"fortnight\" data-track=\"${track.id}\"${canSchedule ? \"\" : \" disabled\"}>+14d (${selectedFeeLabel})</button>\r\n              <button type=\"button\" class=\"ghost\" data-release=\"recommend\" data-track=\"${track.id}\"${canSchedule ? \"\" : \" disabled\"}>Use Recommended (${recFeeLabel})</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join(\"\")\r\n    : `<div class=\"muted\">No ready or mastering tracks.</div>`;\r\n  readyList.innerHTML = readyHtml;\r\n\r\n  if (!state.releaseQueue.length) {\r\n    $(\"releaseQueueList\").innerHTML = `<div class=\"muted\">No scheduled releases.</div>`;\r\n    return;\r\n  }\r\n  const queue = state.releaseQueue.map((entry) => {\r\n    const track = getTrack(entry.trackId);\r\n    const date = formatDate(entry.releaseAt);\r\n    const act = track ? getAct(track.actId) : null;\r\n    const project = track ? (track.projectName || `${track.title} - Single`) : \"Unknown\";\r\n    const projectType = track ? normalizeProjectType(track.projectType || \"Single\") : \"Single\";\r\n    const distribution = entry.distribution || entry.note || \"Digital\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div class=\"item-main\">\r\n            <div class=\"content-thumb\" aria-hidden=\"true\"></div>\r\n            <div>\r\n              <div class=\"item-title\">${track ? track.title : \"Unknown\"}</div>\r\n              <div class=\"muted\">${date} | ${distribution}</div>\r\n              <div class=\"muted\">Act: ${track ? (act ? act.name : \"Unassigned\") : \"Unknown\"} | Project: ${project} (${projectType})</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  $(\"releaseQueueList\").innerHTML = queue.join(\"\");\r\n}\r\n\r\nfunction collectProjectChartEntries(entries) {\r\n  const projects = new Map();\r\n  (entries || []).forEach((entry) => {\r\n    const track = entry.track || entry;\r\n    if (!track) return;\r\n    const projectName = track.projectName || `${track.title} - Single`;\r\n    const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n    const label = track.label || \"Unknown\";\r\n    const actName = track.actName || \"-\";\r\n    const key = `${normalizeProjectName(projectName)}::${projectType}::${label}::${actName}`;\r\n    const metrics = entry.metrics || {};\r\n    const score = Number(entry.score || 0);\r\n    const existing = projects.get(key) || {\r\n      projectName,\r\n      projectType,\r\n      label,\r\n      actName,\r\n      alignment: track.alignment,\r\n      country: track.country || \"Annglora\",\r\n      primaryTrack: track,\r\n      primaryScore: Number.isFinite(score) ? score : 0,\r\n      trackCount: 0,\r\n      metrics: { sales: 0, streaming: 0, airplay: 0, social: 0 },\r\n      score: 0\r\n    };\r\n    existing.trackCount += 1;\r\n    if (Number.isFinite(score)) {\r\n      existing.score += score;\r\n      if (!existing.primaryTrack || score > existing.primaryScore) {\r\n        existing.primaryTrack = track;\r\n        existing.primaryScore = score;\r\n      }\r\n    }\r\n    existing.metrics.sales += Number(metrics.sales || 0);\r\n    existing.metrics.streaming += Number(metrics.streaming || 0);\r\n    existing.metrics.airplay += Number(metrics.airplay || 0);\r\n    existing.metrics.social += Number(metrics.social || 0);\r\n    projects.set(key, existing);\r\n  });\r\n  return Array.from(projects.values())\r\n    .sort((a, b) => b.score - a.score)\r\n    .map((entry, index) => ({ ...entry, rank: index + 1 }));\r\n}\r\n\r\nfunction buildTrendRankingList({ limit = null, showMore = false } = {}) {\r\n  const { visible, aggregate } = collectTrendRanking();\r\n  const displayed = typeof limit === \"number\" ? visible.slice(0, limit) : visible;\r\n  if (!displayed.length) {\r\n    return { markup: `<div class=\"muted\">No trends yet.</div>`, visibleCount: 0, totalCount: visible.length };\r\n  }\r\n  const alignmentScores = aggregate.alignmentScores || {};\r\n  const list = displayed.map((trend, index) => {\r\n    const theme = themeFromGenre(trend);\r\n    const mood = moodFromGenre(trend);\r\n    const isTop = index < TREND_DETAIL_COUNT;\r\n    const leader = isTop ? trendAlignmentLeader(trend, alignmentScores) : null;\r\n    const detail = isTop\r\n      ? `\r\n        <div class=\"trend-detail\">\r\n          <div class=\"trend-detail-row\">\r\n            <span class=\"trend-detail-pill\">Alignment push</span>\r\n            ${leader\r\n              ? `${renderAlignmentTag(leader.alignment)} <span class=\"muted\">${leader.share}% of trend points</span>`\r\n              : `<span class=\"muted\">No clear alignment leader</span>`}\r\n          </div>\r\n        </div>\r\n      `\r\n      : \"\";\r\n    const moreAction = showMore && index === 0\r\n      ? `<button type=\"button\" class=\"ghost mini\" data-ranking-more=\"trends\">More</button>`\r\n      : \"\";\r\n    return `\r\n      <div class=\"list-item trend-item${isTop ? \" trend-item--top\" : \"\"}\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">#${index + 1} ${renderGenrePills(theme, mood)}</div>\r\n          </div>\r\n          <div class=\"ranking-actions\">\r\n            <div class=\"badge warn\">Hot</div>\r\n            ${moreAction}\r\n          </div>\r\n        </div>\r\n        ${detail}\r\n      </div>\r\n    `;\r\n  });\r\n  return { markup: list.join(\"\"), visibleCount: displayed.length, totalCount: visible.length };\r\n}\r\n\r\nfunction renderTrends() {\r\n  const listEl = $(\"trendList\");\r\n  if (!listEl) return;\r\n  const scopeSelect = $(\"trendScopeSelect\");\r\n  const targetSelect = $(\"trendScopeTarget\");\r\n  const targetLabel = $(\"trendScopeTargetLabel\");\r\n  const scopeMeta = $(\"trendScopeMeta\");\r\n  if (scopeSelect) {\r\n    scopeSelect.value = \"global\";\r\n    scopeSelect.disabled = true;\r\n  }\r\n  if (targetLabel) targetLabel.textContent = \"Global\";\r\n  if (targetSelect) {\r\n    targetSelect.disabled = true;\r\n    targetSelect.innerHTML = `<option value=\"global\">Global</option>`;\r\n  }\r\n  const limit = getCommunityTrendRankingLimit();\r\n  const { markup, visibleCount, totalCount } = buildTrendRankingList({ limit, showMore: true });\r\n  listEl.innerHTML = markup;\r\n  if (scopeMeta) {\r\n    if (!totalCount) {\r\n      scopeMeta.textContent = \"No trends available yet.\";\r\n    } else if (visibleCount >= totalCount) {\r\n      scopeMeta.textContent = `Showing ${formatCount(totalCount)} global trends.`;\r\n    } else {\r\n      scopeMeta.textContent = `Showing Global Top ${formatCount(visibleCount)} of ${formatCount(totalCount)} trends.`;\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderCommunityRankings() {\r\n  renderCommunityLabels();\r\n  renderTrends();\r\n}\r\n\r\nfunction renderRankingModal(category) {\r\n  const titleEl = $(\"rankingModalTitle\");\r\n  const listEl = $(\"rankingModalList\");\r\n  const metaEl = $(\"rankingModalMeta\");\r\n  if (!titleEl || !listEl) return;\r\n  if (category === \"labels\") {\r\n    const { markup, totalCount } = buildLabelRankingList();\r\n    titleEl.textContent = \"Label Rankings\";\r\n    listEl.innerHTML = markup;\r\n    if (metaEl) {\r\n      metaEl.textContent = totalCount\r\n        ? `Showing ${formatCount(totalCount)} ranked labels.`\r\n        : \"No labels ranked yet.\";\r\n    }\r\n  } else if (category === \"trends\") {\r\n    const { markup, totalCount } = buildTrendRankingList();\r\n    titleEl.textContent = \"Trend Rankings\";\r\n    listEl.innerHTML = markup;\r\n    if (metaEl) {\r\n      metaEl.textContent = totalCount\r\n        ? `Showing ${formatCount(totalCount)} global trends.`\r\n        : \"No trends available yet.\";\r\n    }\r\n  }\r\n  openOverlay(\"rankingModal\");\r\n}\r\n\r\nfunction renderRankingWindow(category) {\r\n  const windowEl = $(\"rankingWindow\");\r\n  const titleEl = $(\"rankingWindowTitle\");\r\n  const listEl = $(\"rankingWindowList\");\r\n  const metaEl = $(\"rankingWindowMeta\");\r\n  if (!windowEl || !titleEl || !listEl) return;\r\n  const isLabels = category === \"labels\";\r\n  if (isLabels) {\r\n    const { markup, visibleCount, totalCount } = buildLabelRankingList({ limit: 8 });\r\n    titleEl.textContent = \"Top Labels\";\r\n    listEl.innerHTML = markup;\r\n    if (metaEl) {\r\n      if (!totalCount) {\r\n        metaEl.textContent = \"No labels ranked yet.\";\r\n      } else if (visibleCount >= totalCount) {\r\n        metaEl.textContent = `Showing ${formatCount(totalCount)} labels.`;\r\n      } else {\r\n        metaEl.textContent = `Showing Top ${formatCount(visibleCount)} of ${formatCount(totalCount)} labels.`;\r\n      }\r\n    }\r\n    return;\r\n  }\r\n  const { markup, visibleCount, totalCount } = buildTrendRankingList({ limit: 40 });\r\n  titleEl.textContent = \"Top Trends\";\r\n  listEl.innerHTML = markup;\r\n  if (metaEl) {\r\n    if (!totalCount) {\r\n      metaEl.textContent = \"No trends available yet.\";\r\n    } else if (visibleCount >= totalCount) {\r\n      metaEl.textContent = `Showing ${formatCount(totalCount)} global trends.`;\r\n    } else {\r\n      metaEl.textContent = `Showing Global Top ${formatCount(visibleCount)} of ${formatCount(totalCount)} trends.`;\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderCreateTrends() {\r\n  const listEl = $(\"createTrendList\");\r\n  if (!listEl) return;\r\n  const ranking = Array.isArray(state.trendRanking) && state.trendRanking.length ? state.trendRanking : (state.trends || []);\r\n  const list = ranking.slice(0, TREND_DETAIL_COUNT).map((trend, index) => {\r\n    const theme = themeFromGenre(trend);\r\n    const mood = moodFromGenre(trend);\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">#${index + 1} ${renderGenrePills(theme, mood)}</div>\r\n          </div>\r\n          <div class=\"badge warn\">Hot</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  listEl.innerHTML = list.length ? list.join(\"\") : `<div class=\"muted\">No trends yet.</div>`;\r\n}\r\n\r\nfunction renderGenreIndex() {\r\n  const listEl = $(\"genreList\");\r\n  if (!listEl) return;\r\n  const themeFilter = state.ui.genreTheme || \"All\";\r\n  const moodFilter = state.ui.genreMood || \"All\";\r\n  const list = [];\r\n  THEMES.forEach((theme) => {\r\n    if (themeFilter !== \"All\" && theme !== themeFilter) return;\r\n    MOODS.forEach((mood) => {\r\n      if (moodFilter !== \"All\" && mood !== moodFilter) return;\r\n      const genre = makeGenre(theme, mood);\r\n      const label = renderGenrePills(theme, mood);\r\n      const hot = state.trends.includes(genre);\r\n      list.push(`\r\n        <div class=\"list-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${label}</div>\r\n            </div>\r\n            ${hot ? `<div class=\"badge warn\">Hot</div>` : `<div class=\"pill\">Catalog</div>`}\r\n          </div>\r\n        </div>\r\n      `);\r\n    });\r\n  });\r\n  listEl.innerHTML = list.length ? list.join(\"\") : `<div class=\"muted\">No genres match the filters.</div>`;\r\n}\r\n\r\nfunction renderStudiosList() {\r\n  const listEl = $(\"studioList\");\r\n  if (!listEl) return;\r\n  const filters = state.ui.studioFilters || {};\r\n  const ownerFilter = state.ui.studioOwnerFilter || \"all\";\r\n  const restrictToOwned = state.ui.activeView === \"create\";\r\n  document.querySelectorAll(\"[data-studio-filter]\").forEach((input) => {\r\n    const key = input.dataset.studioFilter;\r\n    if (!key || typeof filters[key] !== \"boolean\") return;\r\n    input.checked = filters[key] !== false;\r\n  });\r\n\r\n  const ownerSelect = $(\"studioOwnerFilter\");\r\n  if (ownerSelect) {\r\n    const options = [\r\n      `<option value=\"all\">All rivals</option>`,\r\n      ...state.rivals.map((rival) => `<option value=\"${rival.id}\">${rival.name}</option>`)\r\n    ];\r\n    ownerSelect.innerHTML = options.join(\"\");\r\n    const validOwners = new Set([\"all\", ...state.rivals.map((rival) => rival.id)]);\r\n    if (!validOwners.has(ownerFilter)) state.ui.studioOwnerFilter = \"all\";\r\n    ownerSelect.value = state.ui.studioOwnerFilter || \"all\";\r\n    ownerSelect.disabled = restrictToOwned || filters.unowned === false;\r\n  }\r\n\r\n  const showOwned = restrictToOwned ? true : filters.owned !== false;\r\n  const showUnowned = restrictToOwned ? false : filters.unowned !== false;\r\n  const showOccupied = filters.occupied !== false;\r\n  const showUnoccupied = filters.unoccupied !== false;\r\n  const filtered = buildStudioEntries().filter((entry) => {\r\n    if (entry.ownerType === \"player\" && !showOwned) return false;\r\n    if (entry.ownerType !== \"player\" && !showUnowned) return false;\r\n    if (entry.ownerType !== \"player\" && ownerFilter !== \"all\" && entry.ownerId !== ownerFilter) return false;\r\n    if (entry.occupied && !showOccupied) return false;\r\n    if (!entry.occupied && !showUnoccupied) return false;\r\n    return true;\r\n  });\r\n\r\n  if (!filtered.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No studios match the filters.</div>`;\r\n    return;\r\n  }\r\n\r\n  listEl.innerHTML = filtered.map((entry) => {\r\n    const ownership = entry.ownerType === \"player\" ? \"Owned\" : \"Unowned\";\r\n    const status = entry.occupied ? \"Occupied\" : \"Available\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${entry.ownerName} Studio ${entry.slotIndex}</div>\r\n            <div class=\"muted\">${ownership} | Slot ${entry.slotIndex} of ${entry.slotCount}</div>\r\n          </div>\r\n          <div class=\"pill\">${status}</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderCharts() {\r\n  const contentType = state.ui.chartContentType || \"tracks\";\r\n  document.querySelectorAll(\"#chartTypeTabs .tab\").forEach((btn) => {\r\n    btn.classList.toggle(\"active\", btn.dataset.chartContent === contentType);\r\n  });\r\n  document.querySelectorAll(\"#chartTabs .tab\").forEach((btn) => {\r\n    btn.classList.toggle(\"active\", btn.dataset.chart === state.ui.activeChart);\r\n  });\r\n  const activeChart = state.ui.activeChart || \"global\";\r\n  const chartSource = contentType === \"promotions\"\r\n    ? state.promoCharts\r\n    : contentType === \"tours\"\r\n      ? state.tourCharts\r\n      : state.charts;\r\n  let entries = [];\r\n  let size = CHART_SIZES.global;\r\n  let baseScopeKey = \"global\";\r\n  if (activeChart === \"global\") {\r\n    entries = chartSource?.global || [];\r\n    size = CHART_SIZES.global;\r\n    baseScopeKey = \"global\";\r\n  } else if (NATIONS.includes(activeChart)) {\r\n    entries = chartSource?.nations?.[activeChart] || [];\r\n    size = CHART_SIZES.nation;\r\n    baseScopeKey = `nation:${activeChart}`;\r\n  } else {\r\n    entries = chartSource?.regions?.[activeChart] || [];\r\n    size = CHART_SIZES.region;\r\n    baseScopeKey = `region:${activeChart}`;\r\n  }\r\n  const scopeKey = contentType === \"promotions\"\r\n    ? `promo:${baseScopeKey}`\r\n    : contentType === \"tours\"\r\n      ? `tour:${baseScopeKey}`\r\n      : baseScopeKey;\r\n  const scopeLabel = chartScopeLabel(activeChart);\r\n\r\n  const historyWeek = state.ui.chartHistoryWeek;\r\n  const historySnapshot = state.ui.chartHistorySnapshot;\r\n  let historyMissing = false;\r\n  if (historyWeek) {\r\n    if (historySnapshot && historySnapshot.week === historyWeek && historySnapshot.scope === scopeKey) {\r\n      entries = historySnapshot.entries || [];\r\n    } else {\r\n      entries = [];\r\n      historyMissing = true;\r\n    }\r\n  }\r\n  entries = Array.isArray(entries) ? entries : [];\r\n  const displayEntries = contentType === \"projects\" ? collectProjectChartEntries(entries) : entries;\r\n\r\n  const weekLabel = formatWeekRangeLabel(historyWeek || (weekIndex() + 1));\r\n  if ($(\"chartWeekRange\")) $(\"chartWeekRange\").textContent = weekLabel;\r\n  if ($(\"chartHistoryNotice\")) {\r\n    if (historyWeek && historyMissing) {\r\n      $(\"chartHistoryNotice\").textContent = \"History view: no snapshot available for this week.\";\r\n    } else if (historyWeek) {\r\n      $(\"chartHistoryNotice\").textContent = `History view: ${weekLabel}`;\r\n    } else {\r\n      $(\"chartHistoryNotice\").textContent = \"\";\r\n    }\r\n  }\r\n\r\n  const meta = $(\"chartMeta\");\r\n  if (meta) {\r\n    if (contentType === \"tracks\" || contentType === \"projects\") {\r\n      const weights = chartWeightsForScope(state.ui.activeChart || \"global\");\r\n      const pct = (value) => Math.round(value * 100);\r\n      const contentLabel = contentType === \"projects\" ? \"Project\" : \"Track\";\r\n      meta.textContent = `Top ${size} | ${scopeLabel} | ${contentLabel} charts | Weights S ${pct(weights.sales)}% / Stream ${pct(weights.streaming)}% / Air ${pct(weights.airplay)}% / Social ${pct(weights.social)}%`;\r\n    } else if (contentType === \"promotions\") {\r\n      meta.textContent = `Top ${size} | ${scopeLabel} | Promotions chart | Metrics Likes / Views / Comments`;\r\n    } else {\r\n      meta.textContent = `Top ${size} | ${scopeLabel} | Touring chart | Metric Attendance draw`;\r\n    }\r\n  }\r\n\r\n  const globalLocked = contentType === \"tracks\" && activeChart === \"global\" && displayEntries.length < size;\r\n  if (historyMissing) {\r\n    $(\"chartList\").innerHTML = `<div class=\"muted\">No saved chart history for this week and scope.</div>`;\r\n  } else if (globalLocked) {\r\n    const remaining = Math.max(0, size - displayEntries.length);\r\n    $(\"chartList\").innerHTML = `<div class=\"muted\">Global chart unlocks when ${formatCount(size)} tracks are in circulation. ${formatCount(remaining)} more needed.</div>`;\r\n  } else if (!displayEntries.length) {\r\n    $(\"chartList\").innerHTML = `<div class=\"muted\">No chart data yet.</div>`;\r\n  } else {\r\n    let rows = [];\r\n    if (contentType === \"projects\") {\r\n      rows = displayEntries.map((entry) => {\r\n        const labelTag = renderLabelTag(entry.label, entry.country || \"Annglora\");\r\n        const alignTag = renderAlignmentTag(entry.alignment);\r\n        const metrics = entry.metrics || {};\r\n        const trackCount = entry.trackCount || 0;\r\n        const genreLine = entry.primaryTrack\r\n          ? renderTrackGenrePills(entry.primaryTrack, { fallback: \"Genre -\" })\r\n          : \"Genre -\";\r\n        return `\r\n          <tr>\r\n            <td class=\"chart-rank\">#${entry.rank}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">${entry.projectName}</div>\r\n              <div class=\"muted\">${entry.projectType} | ${formatCount(trackCount)} track${trackCount === 1 ? \"\" : \"s\"}</div>\r\n            </td>\r\n            <td class=\"chart-label\">${labelTag}</td>\r\n            <td class=\"chart-act\">\r\n              <div>${entry.actName || \"-\"}</div>\r\n              <div class=\"muted\">${genreLine}</div>\r\n            </td>\r\n            <td class=\"chart-align\">${alignTag}</td>\r\n            <td class=\"chart-metrics\">\r\n              <div class=\"muted\">Charting tracks ${formatCount(trackCount)}</div>\r\n              <div class=\"muted\">Sales ${formatCount(metrics.sales || 0)} | Stream ${formatCount(metrics.streaming || 0)}</div>\r\n              <div class=\"muted\">Air ${formatCount(metrics.airplay || 0)} | Social ${formatCount(metrics.social || 0)}</div>\r\n            </td>\r\n            <td class=\"chart-score\">${formatCount(entry.score || 0)}</td>\r\n          </tr>\r\n        `;\r\n      });\r\n    } else if (contentType === \"promotions\") {\r\n      rows = displayEntries.map((entry) => {\r\n        const labelTag = renderLabelTag(entry.label, entry.country || \"Annglora\");\r\n        const alignTag = renderAlignmentTag(entry.alignment);\r\n        const actName = entry.actName || \"-\";\r\n        const trackTitle = entry.trackTitle || entry.title || \"\";\r\n        const targetLine = trackTitle ? `Track: ${trackTitle}` : \"Act push\";\r\n        const projectLine = entry.projectName || (trackTitle ? \"Single\" : \"Act visibility\");\r\n        const lastRank = entry.lastRank ? `LW ${entry.lastRank}` : \"LW --\";\r\n        const peak = entry.peak ? `Peak ${entry.peak}` : \"Peak --\";\r\n        const woc = entry.woc ? `WOC ${entry.woc}` : \"WOC 0\";\r\n        const metrics = entry.metrics || {};\r\n        const primaryLabel = metrics.primaryLabel || \"Engagement\";\r\n        const primaryValue = Number(metrics.primary || 0);\r\n        return `\r\n          <tr>\r\n            <td class=\"chart-rank\">#${entry.rank}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">${entry.promoLabel || \"Promo push\"}</div>\r\n              <div class=\"muted\">${targetLine}</div>\r\n            </td>\r\n            <td class=\"chart-label\">${labelTag}</td>\r\n            <td class=\"chart-act\">\r\n              <div>${actName}</div>\r\n              <div class=\"muted\">${projectLine}</div>\r\n            </td>\r\n            <td class=\"chart-align\">${alignTag}</td>\r\n            <td class=\"chart-metrics\">\r\n              <div class=\"muted\">${lastRank} | ${peak} | ${woc}</div>\r\n              <div class=\"muted\">${primaryLabel} ${formatCount(primaryValue)}</div>\r\n              <div class=\"muted\">Likes ${formatCount(metrics.likes || 0)} | Views ${formatCount(metrics.views || 0)} | Comments ${formatCount(metrics.comments || 0)}</div>\r\n            </td>\r\n            <td class=\"chart-score\">${formatCount(entry.score || 0)}</td>\r\n          </tr>\r\n        `;\r\n      });\r\n    } else if (contentType === \"tours\") {\r\n      rows = displayEntries.map((entry) => {\r\n        const labelTag = renderLabelTag(entry.label, entry.country || \"Annglora\");\r\n        const alignTag = renderAlignmentTag(entry.alignment);\r\n        const trackCount = entry.trackCount || 0;\r\n        const primaryTrack = entry.primaryTrack || {\r\n          title: entry.primaryTrackTitle || entry.title || \"-\",\r\n          theme: entry.primaryTrackTheme || entry.theme || \"\",\r\n          mood: entry.primaryTrackMood || entry.mood || \"\",\r\n          genre: entry.primaryTrackGenre || entry.genre || \"\"\r\n        };\r\n        const genreLine = renderTrackGenrePills(primaryTrack, { fallback: \"Genre -\" });\r\n        const lastRank = entry.lastRank ? `LW ${entry.lastRank}` : \"LW --\";\r\n        const peak = entry.peak ? `Peak ${entry.peak}` : \"Peak --\";\r\n        const woc = entry.woc ? `WOC ${entry.woc}` : \"WOC 0\";\r\n        const metrics = entry.metrics || {};\r\n        return `\r\n          <tr>\r\n            <td class=\"chart-rank\">#${entry.rank}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">${entry.actName || \"-\"}</div>\r\n              <div class=\"muted\">Charting tracks ${formatCount(trackCount)}</div>\r\n            </td>\r\n            <td class=\"chart-label\">${labelTag}</td>\r\n            <td class=\"chart-act\">\r\n              <div>${primaryTrack?.title || \"-\"}</div>\r\n              <div class=\"muted\">${genreLine}</div>\r\n            </td>\r\n            <td class=\"chart-align\">${alignTag}</td>\r\n            <td class=\"chart-metrics\">\r\n              <div class=\"muted\">${lastRank} | ${peak} | ${woc}</div>\r\n              <div class=\"muted\">Attendance ${formatCount(metrics.attendance || 0)}</div>\r\n              <div class=\"muted\">Sales ${formatCount(metrics.sales || 0)} | Stream ${formatCount(metrics.streaming || 0)}</div>\r\n              <div class=\"muted\">Air ${formatCount(metrics.airplay || 0)} | Social ${formatCount(metrics.social || 0)}</div>\r\n            </td>\r\n            <td class=\"chart-score\">${formatCount(entry.score || 0)}</td>\r\n          </tr>\r\n        `;\r\n      });\r\n    } else {\r\n      rows = displayEntries.map((entry) => {\r\n        const track = entry.track || entry;\r\n        const labelTag = renderLabelTag(track.label, track.country || \"Annglora\");\r\n        const alignTag = renderAlignmentTag(track.alignment);\r\n        const actName = track.actName || \"-\";\r\n        const projectName = track.projectName || \"-\";\r\n        const lastRank = entry.lastRank ? `LW ${entry.lastRank}` : \"LW --\";\r\n        const peak = entry.peak ? `Peak ${entry.peak}` : \"Peak --\";\r\n        const woc = entry.woc ? `WOC ${entry.woc}` : \"WOC 0\";\r\n        const metrics = entry.metrics || {};\r\n        return `\r\n          <tr>\r\n            <td class=\"chart-rank\">#${entry.rank}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">${track.title}</div>\r\n              <div class=\"muted\">${renderTrackGenrePills(track, { fallback: \"Genre -\" })}</div>\r\n            </td>\r\n            <td class=\"chart-label\">${labelTag}</td>\r\n            <td class=\"chart-act\">\r\n              <div>${actName}</div>\r\n              <div class=\"muted\">${projectName}</div>\r\n            </td>\r\n            <td class=\"chart-align\">${alignTag}</td>\r\n            <td class=\"chart-metrics\">\r\n              <div class=\"muted\">${lastRank} | ${peak} | ${woc}</div>\r\n              <div class=\"muted\">Sales ${formatCount(metrics.sales || 0)} | Stream ${formatCount(metrics.streaming || 0)}</div>\r\n              <div class=\"muted\">Air ${formatCount(metrics.airplay || 0)} | Social ${formatCount(metrics.social || 0)}</div>\r\n            </td>\r\n            <td class=\"chart-score\">${entry.score}</td>\r\n          </tr>\r\n        `;\r\n      });\r\n    }\r\n\r\n    if (displayEntries.length < size) {\r\n      for (let i = displayEntries.length + 1; i <= size; i += 1) {\r\n        let statsMarkup = `\r\n          <div class=\"muted\">LW -- | Peak -- | WOC 0</div>\r\n          <div class=\"muted\">Sales N/A | Stream N/A</div>\r\n          <div class=\"muted\">Air N/A | Social N/A</div>\r\n        `;\r\n        if (contentType === \"projects\") {\r\n          statsMarkup = `\r\n            <div class=\"muted\">Charting tracks N/A</div>\r\n            <div class=\"muted\">Sales N/A | Stream N/A</div>\r\n            <div class=\"muted\">Air N/A | Social N/A</div>\r\n          `;\r\n        } else if (contentType === \"promotions\") {\r\n          statsMarkup = `\r\n            <div class=\"muted\">LW -- | Peak -- | WOC 0</div>\r\n            <div class=\"muted\">Engagement N/A</div>\r\n            <div class=\"muted\">Likes N/A | Views N/A | Comments N/A</div>\r\n          `;\r\n        } else if (contentType === \"tours\") {\r\n          statsMarkup = `\r\n            <div class=\"muted\">LW -- | Peak -- | WOC 0</div>\r\n            <div class=\"muted\">Attendance N/A</div>\r\n            <div class=\"muted\">Sales N/A | Stream N/A</div>\r\n            <div class=\"muted\">Air N/A | Social N/A</div>\r\n          `;\r\n        }\r\n        rows.push(`\r\n          <tr class=\"chart-empty\">\r\n            <td class=\"chart-rank\">#${i}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">N/A</div>\r\n              <div class=\"muted\">N/A</div>\r\n            </td>\r\n            <td class=\"chart-label\"><span class=\"muted\">N/A</span></td>\r\n            <td class=\"chart-act\">\r\n              <div>N/A</div>\r\n              <div class=\"muted\">N/A</div>\r\n            </td>\r\n            <td class=\"chart-align\"><span class=\"muted\">N/A</span></td>\r\n            <td class=\"chart-metrics\">\r\n              ${statsMarkup}\r\n            </td>\r\n            <td class=\"chart-score\">N/A</td>\r\n          </tr>\r\n        `);\r\n      }\r\n    }\r\n    const rowMarkup = rows.join(\"\");\r\n    const contentHeader = contentType === \"projects\"\r\n      ? \"Project\"\r\n      : contentType === \"promotions\"\r\n        ? \"Promotion\"\r\n        : contentType === \"tours\"\r\n          ? \"Tour\"\r\n          : \"Track\";\r\n    const actHeader = contentType === \"projects\"\r\n      ? \"Act / Genre\"\r\n      : contentType === \"promotions\"\r\n        ? \"Act / Target\"\r\n        : contentType === \"tours\"\r\n          ? \"Top Track / Genre\"\r\n          : \"Act / Project\";\r\n    $(\"chartList\").innerHTML = `\r\n      <div class=\"chart-table-wrap\">\r\n        <table class=\"chart-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Rank</th>\r\n              <th>${contentHeader}</th>\r\n              <th>Label</th>\r\n              <th>${actHeader}</th>\r\n              <th>Alignment</th>\r\n              <th>Stats</th>\r\n              <th>Score</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            ${rowMarkup}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n}\r\n\r\nfunction renderAchievements() {\r\n  const listEl = $(\"achievementList\");\r\n  const summaryEl = $(\"achievementSummary\");\r\n  if (!listEl) return;\r\n  const unlocked = new Set(state.meta.achievementsUnlocked || []);\r\n  const rankIds = new Set([\"REQ-01\", \"REQ-02\", \"REQ-03\"]);\r\n  listEl.innerHTML = ACHIEVEMENTS.map((achievement) => {\r\n    const done = unlocked.has(achievement.id);\r\n    const badgeClass = done ? \"badge\" : \"badge warn\";\r\n    let progressText = \"\";\r\n    if (typeof achievement.progress === \"function\" && typeof achievement.target !== \"undefined\") {\r\n      const value = achievement.progress();\r\n      if (rankIds.has(achievement.id)) {\r\n        const best = value === null ? \"--\" : value;\r\n        progressText = `Best #${best} / Target #${achievement.target}`;\r\n      } else if (achievement.id === \"REQ-08\") {\r\n        progressText = `Reach ${value.toFixed(2)}% / ${achievement.target}%`;\r\n      } else if (achievement.id === \"REQ-04\") {\r\n        progressText = `Best Q ${value} / ${achievement.target}`;\r\n      } else if (achievement.id === \"REQ-11\") {\r\n        progressText = `Net ${formatMoney(value)} / ${formatMoney(achievement.target)}`;\r\n      } else {\r\n        progressText = `${formatCount(value)} / ${formatCount(achievement.target)}`;\r\n      }\r\n    }\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${achievement.id} ${achievement.label}</div>\r\n            <div class=\"muted\">${achievement.desc}</div>\r\n          </div>\r\n          <div class=\"${badgeClass}\">${done ? \"Done\" : \"Active\"}</div>\r\n        </div>\r\n        <div class=\"muted\">${progressText} | Reward ${formatCount(achievement.exp)} EXP</div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n  if (summaryEl) {\r\n    const count = Math.max(unlocked.size, state.meta.achievements || 0);\r\n    const notes = [];\r\n    if (state.meta.achievementsLocked) notes.push(\"Achievements locked after bailout.\");\r\n    if (state.meta.cheaterMode) notes.push(\"Cheater mode active: achievements paused.\");\r\n    const noteText = notes.join(\" \");\r\n    summaryEl.textContent = `CEO Requests ${count} / ${ACHIEVEMENT_TARGET}${noteText ? ` | ${noteText}` : \"\"}`;\r\n  }\r\n}\r\n\r\nfunction renderQuests() {\r\n  renderAchievements();\r\n  const questList = $(\"questList\");\r\n  if (!questList) return;\r\n  if (state.meta.cheaterMode) {\r\n    questList.innerHTML = `<div class=\"muted\">Cheater mode active. Quests are disabled.</div>`;\r\n    return;\r\n  }\r\n  if (!state.quests.length) {\r\n    questList.innerHTML = `<div class=\"muted\">No active quests.</div>`;\r\n    return;\r\n  }\r\n  const list = state.quests.map((quest) => {\r\n    let detail = \"\";\r\n    if (quest.type === \"releaseCount\") detail = `${quest.progress}/${quest.target} released`;\r\n    if (quest.type === \"trendRelease\") detail = `${quest.progress}/${quest.target} released`;\r\n    if (quest.type === \"countryTop\") detail = quest.bestRank ? `Best rank #${quest.bestRank}` : \"No chart entries\";\r\n    if (quest.type === \"cash\") detail = `${formatMoney(quest.progress)} / ${formatMoney(quest.target)}`;\r\n    const badgeClass = quest.done ? \"badge\" : \"badge warn\";\r\n    const expReward = Math.round(quest.expReward ?? (quest.reward / 8));\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${quest.id}</div>\r\n            <div class=\"muted\">${quest.text}</div>\r\n            <div class=\"muted\">${quest.story}</div>\r\n          </div>\r\n          <div class=\"${badgeClass}\">${quest.done ? \"Done\" : \"Active\"}</div>\r\n        </div>\r\n        <div class=\"muted\">${detail} | Reward ${formatMoney(quest.reward)} + ${formatCount(expReward)} EXP</div>\r\n      </div>\r\n    `;\r\n  });\r\n  questList.innerHTML = list.join(\"\");\r\n}\r\n\r\nfunction renderSocialFeed() {\r\n  const listEl = $(\"socialFeed\");\r\n  if (!listEl) return;\r\n  const showInternal = state.ui.socialShowInternal !== false;\r\n  const filters = state.ui.socialFilters || {};\r\n  const posts = [];\r\n\r\n  if (showInternal) {\r\n    state.events.forEach((entry) => {\r\n      posts.push({\r\n        id: `LOG-${entry.ts}`,\r\n        ts: entry.ts,\r\n        handle: \"@System\",\r\n        title: entry.text,\r\n        lines: [],\r\n        type: \"system\",\r\n        order: 3\r\n      });\r\n    });\r\n  }\r\n\r\n  (state.social?.posts || []).forEach((post) => {\r\n    posts.push({ ...post, order: post.order || 0 });\r\n  });\r\n\r\n  const filtered = posts.filter((post) => {\r\n    const type = post.type || \"system\";\r\n    return filters[type] !== false;\r\n  });\r\n\r\n  filtered.sort((a, b) => (b.ts - a.ts) || (a.order - b.order));\r\n\r\n  if (!filtered.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No eyeriSocial posts yet.</div>`;\r\n    return;\r\n  }\r\n\r\n  const summarize = (value) => {\r\n    if (!value) return \"\";\r\n    const text = String(value).replace(/\\s+/g, \" \").trim();\r\n    return text.length > 120 ? `${text.slice(0, 120)}...` : text;\r\n  };\r\n\r\n  listEl.innerHTML = filtered.map((post) => {\r\n    const handle = post.handle || \"@Gaia\";\r\n    const title = post.title || post.text || \"Update\";\r\n    const fullLines = post.lines?.length ? post.lines : (post.text && post.title ? [post.text] : []);\r\n    const emailTypes = [\"quest\", \"contract\", \"receipt\"];\r\n    const preview = emailTypes.includes(post.type) ? \"\" : summarize(fullLines[0] || \"\");\r\n    return `\r\n      <div class=\"list-item social-item\" data-post-id=\"${post.id}\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${title}</div>\r\n            <div class=\"muted\">${handle} | ${formatDate(post.ts)}</div>\r\n            ${preview ? `<div class=\"muted\">${preview}</div>` : \"\"}\r\n          </div>\r\n          <div class=\"pill\">${post.type || \"system\"}</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n\r\n  const toggle = $(\"socialShowInternal\");\r\n  if (toggle) toggle.checked = Boolean(showInternal);\r\n  document.querySelectorAll(\"[data-social-filter]\").forEach((input) => {\r\n    const key = input.dataset.socialFilter;\r\n    if (!key) return;\r\n    input.checked = filters[key] !== false;\r\n  });\r\n}\r\n\r\nfunction renderEventLog() {\r\n  renderSocialFeed();\r\n  renderSystemLog();\r\n}\r\n\r\nfunction renderSystemLog() {\r\n  const target = $(\"eventLogList\");\r\n  if (!target) return;\r\n  if (!state.events.length) {\r\n    target.innerHTML = `<div class=\"muted\">No system updates yet.</div>`;\r\n    return;\r\n  }\r\n  target.innerHTML = state.events.slice(0, 80).map((entry) => {\r\n    const time = formatDate(entry.ts);\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${entry.kind?.toUpperCase() || \"INFO\"}</div>\r\n            <div class=\"muted\">${time}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"muted\">${entry.text}</div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderMainMenu() {\r\n  const list = [];\r\n  for (let i = 1; i <= SLOT_COUNT; i += 1) {\r\n    const data = getSlotData(i);\r\n    const hasData = Boolean(data);\r\n    const labelName = data?.label?.name || \"Empty Game Slot\";\r\n    const savedAt = data?.meta?.savedAt ? new Date(data.meta.savedAt).toLocaleString() : \"Never saved\";\r\n    const totalQuarters = data?.time?.totalQuarters;\r\n    const hours = Number.isFinite(totalQuarters)\r\n      ? Math.floor(totalQuarters / QUARTERS_PER_HOUR)\r\n      : data?.time?.totalHours || 0;\r\n    const week = Math.floor(hours / WEEK_HOURS) + 1;\r\n    const cash = data?.label?.cash ?? 0;\r\n    const mode = getSlotGameMode(data);\r\n    const modeLabel = mode ? shortGameModeLabel(mode.label) : \"\";\r\n    const modeTag = mode && modeLabel\r\n      ? `<span class=\"pill mode-pill\" data-mode=\"${mode.id}\" title=\"${mode.label}\">${modeLabel}</span>`\r\n      : \"\";\r\n    const metaLine = data\r\n      ? `${modeTag ? `${modeTag} ` : \"\"}Week ${week} | ${formatMoney(cash)} | ${savedAt}`\r\n      : \"Create a new label in this game slot.\";\r\n    list.push(`\r\n      <div class=\"slot-card\" data-slot-index=\"${i}\" data-slot-has-data=\"${hasData ? \"1\" : \"0\"}\" data-slot-default=\"${hasData ? \"continue\" : \"new\"}\">\r\n        <div class=\"slot-row\">\r\n          <div>\r\n            <div class=\"item-title\">Game Slot ${i}: ${data ? labelName : \"Empty\"}</div>\r\n            <div class=\"muted\">${metaLine}</div>\r\n          </div>\r\n          <div class=\"actions\">\r\n            <button type=\"button\" data-slot-action=\"continue\" data-slot-index=\"${i}\" ${hasData ? \"\" : \"disabled\"}>Continue</button>\r\n            <button type=\"button\" class=\"ghost\" data-slot-action=\"new\" data-slot-index=\"${i}\">Create New</button>\r\n            ${hasData ? `<button type=\"button\" class=\"ghost\" data-slot-action=\"delete\" data-slot-index=\"${i}\">Delete</button>` : \"\"}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `);\r\n  }\r\n  $(\"slotList\").innerHTML = list.join(\"\");\r\n  const closeBtn = $(\"menuCloseBtn\");\r\n  if (closeBtn) {\r\n    closeBtn.disabled = !session.activeSlot;\r\n  }\r\n  const saveBtn = $(\"menuSaveBtn\");\r\n  if (saveBtn) {\r\n    saveBtn.disabled = !session.activeSlot;\r\n  }\r\n  const autoSaveMinutes = $(\"autoSaveMinutes\");\r\n  const autoSaveToggle = $(\"autoSaveToggle\");\r\n  if (autoSaveMinutes && autoSaveToggle) {\r\n    const options = [];\r\n    for (let i = 2; i <= 10; i += 1) {\r\n      options.push(`<option value=\"${i}\">${i} min</option>`);\r\n    }\r\n    autoSaveMinutes.innerHTML = options.join(\"\");\r\n    autoSaveMinutes.value = String(state.meta.autoSave.minutes || 5);\r\n    autoSaveToggle.checked = Boolean(state.meta.autoSave.enabled);\r\n    const disabled = !session.activeSlot;\r\n    autoSaveMinutes.disabled = disabled;\r\n    autoSaveToggle.disabled = disabled;\r\n  }\r\n  const cheaterToggle = $(\"cheaterModeToggle\");\r\n  if (cheaterToggle) {\r\n    cheaterToggle.checked = Boolean(state.meta.cheaterMode);\r\n    cheaterToggle.disabled = !session.activeSlot;\r\n  }\r\n}\r\n\r\nfunction openMainMenu() {\r\n  document.body.classList.add(\"menu-open\");\r\n  if (state.time.speed !== \"pause\") {\r\n    session.prevSpeed = state.time.speed;\r\n  }\r\n  setTimeSpeed(\"pause\");\r\n  renderMainMenu();\r\n}\r\n\r\nfunction closeMainMenu() {\r\n  document.body.classList.remove(\"menu-open\");\r\n  if (session.prevSpeed) {\r\n    setTimeSpeed(session.prevSpeed);\r\n    session.prevSpeed = null;\r\n  }\r\n}\r\n\r\nfunction updateGenrePreview() {\r\n  const themeSelect = $(\"themeSelect\");\r\n  const moodSelect = $(\"moodSelect\");\r\n  if (!themeSelect || !moodSelect) return;\r\n  const theme = themeSelect.value;\r\n  const mood = moodSelect.value;\r\n  const preview = $(\"genrePreview\");\r\n  const alignmentSelect = $(\"trackAlignment\");\n  const alignment = alignmentSelect ? alignmentSelect.value : (state.label?.alignment || \"\");\n  if (!preview) return;\r\n  if (!theme || !mood) {\r\n    preview.textContent = \"Planned Genre: -\";\r\n    return;\r\n  }\r\n  preview.innerHTML = `Planned Genre: ${renderGenrePills(theme, mood, { alignment })}`;\r\n}\r\n\r\nfunction stageLabelFromId(stageId) {\r\n  if (stageId === \"demo\") return \"Demo Recording\";\r\n  if (stageId === \"master\") return \"Master Recording\";\r\n  return \"Sheet Music\";\r\n}\r\n\r\nfunction stageIndexFromId(stageId) {\r\n  if (stageId === \"demo\") return 1;\r\n  if (stageId === \"master\") return 2;\r\n  return 0;\r\n}\r\n\r\nfunction renderActiveStudiosSelect(stageId, selectId, metaId) {\r\n  const stageKey = stageId || \"sheet\";\r\n  const select = $(selectId);\r\n  if (!select) return;\r\n  const stageIndex = stageIndexFromId(stageKey);\r\n  const stageLabel = stageLabelFromId(stageKey);\r\n  const labelEl = select.closest(\".field\")?.querySelector(\"label\");\r\n  if (labelEl) labelEl.textContent = `Active Studios (${stageLabel})`;\r\n\r\n  const active = state.workOrders\r\n    .filter((order) => order.status === \"In Progress\" && order.stageIndex === stageIndex)\r\n    .map((order) => {\r\n      const track = getTrack(order.trackId);\r\n      const crewIds = getWorkOrderCreatorIds(order);\r\n      const crew = crewIds.map((id) => getCreator(id)).filter(Boolean);\r\n      const lead = crew[0] || null;\r\n      const stageName = STAGES[order.stageIndex]?.name || stageLabel;\r\n      const crewLabel = buildWorkOrderCrewLabel(crew);\r\n      const crewText = lead\r\n        ? `${crewLabel.primary}${crewLabel.secondary ? ` ${crewLabel.secondary}` : \"\"}`\r\n        : null;\r\n      return {\r\n        slot: Number.isFinite(order.studioSlot) ? order.studioSlot : null,\r\n        trackTitle: track ? track.title : \"Unknown Track\",\r\n        creatorName: crewText,\r\n        stageName\r\n      };\r\n    })\r\n    .sort((a, b) => (a.slot || 0) - (b.slot || 0));\r\n\r\n  if (!active.length) {\r\n    select.innerHTML = `<option value=\"\">No active studios</option>`;\r\n    select.disabled = true;\r\n  } else {\r\n    select.innerHTML = active\r\n      .map((entry, index) => {\r\n        const slotLabel = entry.slot ? `Studio ${entry.slot}` : `Studio ${index + 1}`;\r\n        const creatorLabel = entry.creatorName ? ` | ${entry.creatorName}` : \"\";\r\n        return `<option value=\"${entry.slot || index + 1}\">${slotLabel} | ${entry.trackTitle}${creatorLabel}</option>`;\r\n      })\r\n      .join(\"\");\r\n    select.disabled = false;\r\n  }\r\n\r\n  const meta = $(metaId);\r\n  if (meta) {\r\n    const counts = getStudioUsageCounts();\r\n    const ownedSlots = getOwnedStudioSlots();\r\n    const totalSlots = ownedSlots + counts.leased;\r\n    meta.textContent = `Active ${active.length}/${STAGE_STUDIO_LIMIT} | Global ${counts.total}/${totalSlots}`;\r\n  }\r\n}\r\n\r\nfunction renderCreateStageTrackSelect() {\r\n  const renderStageSelect = (stageId, selectId, metaId) => {\r\n    const select = $(selectId);\r\n    if (!select) return;\r\n    const meta = $(metaId);\r\n    const isDemo = stageId === \"demo\";\r\n    const status = isDemo ? \"Awaiting Demo\" : \"Awaiting Master\";\r\n    const tracks = state.tracks.filter((track) => track.status === status);\r\n    if (!tracks.length) {\r\n      select.innerHTML = `<option value=\"\">No tracks awaiting ${isDemo ? \"demo recording\" : \"mastering\"}.</option>`;\r\n      select.disabled = true;\r\n      if (state.ui.createTrackIds) state.ui.createTrackIds[stageId] = null;\r\n      if (state.ui.createStage === stageId) state.ui.createTrackId = null;\r\n      if (meta) meta.textContent = `Awaiting ${isDemo ? \"demo recordings\" : \"mastering\"}: 0`;\r\n      return;\r\n    }\r\n    select.innerHTML = tracks\r\n      .map((track) => `<option value=\"${track.id}\">${track.title}</option>`)\r\n      .join(\"\");\r\n    const stored = state.ui.createTrackIds ? state.ui.createTrackIds[stageId] : null;\r\n    const preferred = tracks.some((track) => track.id === stored)\r\n      ? stored\r\n      : tracks[0].id;\r\n    if (state.ui.createTrackIds) state.ui.createTrackIds[stageId] = preferred;\r\n    if (state.ui.createStage === stageId) state.ui.createTrackId = preferred;\r\n    select.value = preferred;\r\n    select.disabled = false;\r\n    if (meta) meta.textContent = `Awaiting ${isDemo ? \"demo recordings\" : \"mastering\"}: ${tracks.length}`;\r\n  };\r\n\r\n  renderStageSelect(\"demo\", \"demoTrackSelect\", \"demoTrackMeta\");\r\n  renderStageSelect(\"master\", \"masterTrackSelect\", \"masterTrackMeta\");\r\n}\r\n\r\nfunction getSheetStartPlan({ mode, theme, modifierId, cash } = {}) {\r\n  const resolvedMode = mode || state.ui.recommendAllMode || \"solo\";\r\n  const resolvedTheme = typeof theme === \"string\"\r\n    ? theme\r\n    : ($(\"themeSelect\") ? $(\"themeSelect\").value : \"\");\r\n  const resolvedModifierId = typeof modifierId === \"string\"\r\n    ? modifierId\r\n    : ($(\"modifierSelect\") ? $(\"modifierSelect\").value : \"None\");\r\n  const modifier = getModifier(resolvedModifierId);\r\n  const assignedSongwriters = [...new Set(getTrackRoleIdsFromSlots(\"Songwriter\"))];\r\n  const req = staminaRequirement(\"Songwriter\");\r\n  const eligibleSongwriters = assignedSongwriters.filter((id) => {\r\n    const creator = getCreator(id);\r\n    return creator && creator.stamina >= req;\r\n  });\r\n  const cashOnHand = Number.isFinite(cash) ? cash : state.label.cash;\r\n  const studioSlotsAvailable = getStudioAvailableSlots();\r\n  const sheetStageSlots = getStageStudioAvailable(0);\r\n  const capacityLimit = Math.min(studioSlotsAvailable, sheetStageSlots);\r\n  const themeReady = !!resolvedTheme;\r\n\r\n  if (resolvedMode === \"collab\") {\r\n    const sheetCrew = assignedSongwriters;\r\n    const sheetCost = sheetCrew.length ? getStageCost(0, modifier, sheetCrew) : 0;\r\n    const canStart = themeReady\r\n      && sheetCrew.length > 0\r\n      && cashOnHand >= sheetCost\r\n      && capacityLimit > 0;\r\n    return {\r\n      mode: resolvedMode,\r\n      themeReady,\r\n      modifier,\r\n      assignedSongwriters,\r\n      eligibleSongwriters,\r\n      startableSongwriters: canStart ? sheetCrew : [],\r\n      startableCount: canStart ? 1 : 0,\r\n      sheetCost,\r\n      capacityLimit,\r\n      studioSlotsAvailable,\r\n      sheetStageSlots,\r\n      stoppedByCash: themeReady && sheetCrew.length > 0 && cashOnHand < sheetCost,\r\n      stoppedByCapacity: themeReady && sheetCrew.length > 0 && capacityLimit <= 0,\r\n      staminaRequirement: req\r\n    };\r\n  }\r\n\r\n  if (!themeReady) {\r\n    let previewCash = cashOnHand;\r\n    let previewCapacity = capacityLimit;\r\n    let sheetCost = 0;\r\n    for (let i = 0; i < eligibleSongwriters.length; i += 1) {\r\n      if (previewCapacity <= 0) break;\r\n      const songwriterId = eligibleSongwriters[i];\r\n      const stageCost = getStageCost(0, modifier, [songwriterId]);\r\n      if (previewCash < stageCost) break;\r\n      previewCash -= stageCost;\r\n      previewCapacity -= 1;\r\n      sheetCost += stageCost;\r\n    }\r\n    return {\r\n      mode: resolvedMode,\r\n      themeReady,\r\n      modifier,\r\n      assignedSongwriters,\r\n      eligibleSongwriters,\r\n      startableSongwriters: [],\r\n      startableCount: 0,\r\n      sheetCost,\r\n      capacityLimit,\r\n      studioSlotsAvailable,\r\n      sheetStageSlots,\r\n      stoppedByCash: false,\r\n      stoppedByCapacity: false,\r\n      staminaRequirement: req\r\n    };\r\n  }\r\n\r\n  let remainingCash = cashOnHand;\r\n  let remainingCapacity = capacityLimit;\r\n  let stoppedByCash = false;\r\n  let stoppedByCapacity = false;\r\n  const startableSongwriters = [];\r\n  let sheetCost = 0;\r\n  for (let i = 0; i < eligibleSongwriters.length; i += 1) {\r\n    if (remainingCapacity <= 0) {\r\n      stoppedByCapacity = true;\r\n      break;\r\n    }\r\n    const songwriterId = eligibleSongwriters[i];\r\n    const stageCost = getStageCost(0, modifier, [songwriterId]);\r\n    if (remainingCash < stageCost) {\r\n      stoppedByCash = true;\r\n      break;\r\n    }\r\n    startableSongwriters.push(songwriterId);\r\n    remainingCash -= stageCost;\r\n    remainingCapacity -= 1;\r\n    sheetCost += stageCost;\r\n  }\r\n\r\n  return {\r\n    mode: resolvedMode,\r\n    themeReady,\r\n    modifier,\r\n    assignedSongwriters,\r\n    eligibleSongwriters,\r\n    startableSongwriters,\r\n    startableCount: startableSongwriters.length,\r\n    sheetCost,\r\n    capacityLimit,\r\n    studioSlotsAvailable,\r\n    sheetStageSlots,\r\n    stoppedByCash,\r\n    stoppedByCapacity,\r\n    staminaRequirement: req\r\n  };\r\n}\r\n\r\nfunction getCreateStageAvailability() {\r\n  const theme = $(\"themeSelect\") ? $(\"themeSelect\").value : \"\";\r\n  const modifierId = $(\"modifierSelect\") ? $(\"modifierSelect\").value : \"None\";\r\n  const sheetPlan = getSheetStartPlan({ theme, modifierId });\r\n  const sheetReadyCount = sheetPlan.startableCount;\r\n  const studioSlotsAvailable = sheetPlan.studioSlotsAvailable;\r\n  const sheetStageSlots = sheetPlan.sheetStageSlots;\r\n  const sheetCanStart = sheetPlan.startableCount > 0;\r\n  const sheetReason = (() => {\r\n    if (!sheetPlan.themeReady) return \"Select a Theme to create sheet music.\";\r\n    if (!sheetPlan.assignedSongwriters.length) return \"Assign a Songwriter ID to create sheet music.\";\r\n    if (sheetPlan.mode === \"solo\" && sheetPlan.assignedSongwriters.length && !sheetPlan.eligibleSongwriters.length) {\r\n      return `No available Songwriter creators with ${sheetPlan.staminaRequirement} stamina.`;\r\n    }\r\n    if (sheetStageSlots <= 0) return \"No studio slots available for sheet music. Wait for a studio to free up.\";\r\n    if (studioSlotsAvailable <= 0) return \"No studio slots available. Finish a production or expand capacity first.\";\r\n    if (sheetPlan.stoppedByCash && !sheetPlan.startableCount) return \"Not enough cash to create sheet music.\";\r\n    return \"\";\r\n  })();\r\n\r\n  const demoTracks = state.tracks.filter((track) => track.status === \"Awaiting Demo\");\r\n  const masterTracks = state.tracks.filter((track) => track.status === \"Awaiting Master\");\r\n  const demoCount = demoTracks.length;\r\n  const masterCount = masterTracks.length;\r\n\r\n  const demoTrackId = (state.ui.createTrackIds ? state.ui.createTrackIds.demo : null)\r\n    || $(\"demoTrackSelect\")?.value\r\n    || null;\r\n  const demoTrack = demoTrackId ? getTrack(demoTrackId) : null;\r\n  const mood = $(\"moodSelect\") ? $(\"moodSelect\").value : \"\";\r\n  const moodValid = !!mood && (!Array.isArray(MOODS) || MOODS.includes(mood));\r\n  const demoPerformers = getTrackRoleIdsFromSlots(\"Performer\");\r\n  const demoAssigned = demoPerformers.length\r\n    ? normalizeRoleIds(demoPerformers, \"Performer\")\r\n    : getTrackRoleIds(demoTrack, \"Performer\");\r\n  const demoCost = demoAssigned.length ? getStageCost(1, demoTrack?.modifier, demoAssigned) : 0;\r\n  const demoReady = demoTrack && demoTrack.status === \"Awaiting Demo\" && demoTrack.stageIndex === 1;\r\n  const demoStageSlots = getStageStudioAvailable(1);\r\n  const demoCanStart = !!demoReady\r\n    && moodValid\r\n    && demoAssigned.length > 0\r\n    && state.label.cash >= demoCost\r\n    && studioSlotsAvailable > 0\r\n    && demoStageSlots > 0;\r\n  const demoReason = (() => {\r\n    if (!demoCount) return \"No tracks awaiting demo recording.\";\r\n    if (!demoTrackId) return \"Select a track awaiting demo recording.\";\r\n    if (!demoTrack) return \"Track not found for demo recording.\";\r\n    if (!demoReady) return \"Track is not ready for demo recording.\";\r\n    if (!mood) return \"Select a Mood to create the demo recording.\";\r\n    if (!moodValid) return \"Select a valid Mood to create the demo recording.\";\r\n    if (!demoAssigned.length) return \"Assign a Recorder ID to create the demo recording.\";\r\n    if (studioSlotsAvailable <= 0) return \"No studio slots available. Finish a production or expand capacity first.\";\r\n    if (demoStageSlots <= 0) return \"No studio slots available for demo recording. Wait for a studio to free up.\";\r\n    if (state.label.cash < demoCost) return \"Not enough cash to create the demo recording.\";\r\n    return \"\";\r\n  })();\r\n\r\n  const masterTrackId = (state.ui.createTrackIds ? state.ui.createTrackIds.master : null)\r\n    || $(\"masterTrackSelect\")?.value\r\n    || null;\r\n  const masterTrack = masterTrackId ? getTrack(masterTrackId) : null;\r\n  const alignmentInput = $(\"trackAlignment\") ? $(\"trackAlignment\").value : \"\";\r\n  const resolvedAlignment = alignmentInput || masterTrack?.alignment || state.label.alignment || \"\";\r\n  const alignmentValid = !!resolvedAlignment && (!Array.isArray(ALIGNMENTS) || ALIGNMENTS.includes(resolvedAlignment));\r\n  const masterProducers = getTrackRoleIdsFromSlots(\"Producer\");\r\n  const masterAssigned = masterProducers.length\r\n    ? normalizeRoleIds(masterProducers, \"Producer\")\r\n    : getTrackRoleIds(masterTrack, \"Producer\");\r\n  const masterCost = masterAssigned.length ? getStageCost(2, masterTrack?.modifier, masterAssigned) : 0;\r\n  const masterReady = masterTrack\r\n    && masterTrack.status === \"Awaiting Master\"\r\n    && masterTrack.stageIndex === 2\r\n    && !!masterTrack.mood;\r\n  const masterStageSlots = getStageStudioAvailable(2);\r\n  const masterCanStart = !!masterReady\r\n    && alignmentValid\r\n    && masterAssigned.length > 0\r\n    && state.label.cash >= masterCost\r\n    && studioSlotsAvailable > 0\r\n    && masterStageSlots > 0;\r\n  const masterReason = (() => {\r\n    if (!masterCount) return \"No tracks awaiting mastering.\";\r\n    if (!masterTrackId) return \"Select a track awaiting mastering.\";\r\n    if (!masterTrack) return \"Track not found for mastering.\";\r\n    if (!masterTrack.status || masterTrack.status !== \"Awaiting Master\" || masterTrack.stageIndex !== 2) {\r\n      return \"Track is not ready for mastering.\";\r\n    }\r\n    if (!masterTrack.mood) return \"Demo recording must assign a Mood before mastering.\";\r\n    if (!masterAssigned.length) return \"Assign a Producer ID to create the master recording.\";\r\n    if (!resolvedAlignment) return \"Select a Content Alignment before mastering.\";\r\n    if (!alignmentValid) return \"Select a valid Content Alignment before mastering.\";\r\n    if (studioSlotsAvailable <= 0) return \"No studio slots available. Finish a production or expand capacity first.\";\r\n    if (masterStageSlots <= 0) return \"No studio slots available for mastering. Wait for a studio to free up.\";\r\n    if (state.label.cash < masterCost) return \"Not enough cash to create the master recording.\";\r\n    return \"\";\r\n  })();\r\n\r\n  return {\r\n    sheetReadyCount,\r\n    demoCount,\r\n    masterCount,\r\n    sheetCanStart,\r\n    demoCanStart,\r\n    masterCanStart,\r\n    sheetCost: Number.isFinite(sheetPlan.sheetCost) ? sheetPlan.sheetCost : 0,\r\n    demoCost,\r\n    masterCost,\r\n    sheetReason: sheetCanStart ? \"\" : (sheetReason || \"Requirements not met.\"),\r\n    demoReason: demoCanStart ? \"\" : (demoReason || \"Requirements not met.\"),\r\n    masterReason: masterCanStart ? \"\" : (masterReason || \"Requirements not met.\")\r\n  };\r\n}\r\n\r\nfunction renderProjectTypeMeta() {\r\n  const meta = $(\"projectTypeMeta\");\r\n  if (!meta) return;\r\n  const projectNameInput = $(\"projectName\");\r\n  const rawName = projectNameInput ? projectNameInput.value.trim() : \"\";\r\n  const projectType = $(\"projectTypeSelect\") ? $(\"projectTypeSelect\").value : \"Single\";\r\n  const limits = getProjectTrackLimits(projectType);\r\n  const typeLabel = limits.type || normalizeProjectType(projectType);\r\n  if (!rawName) {\r\n    meta.textContent = `${typeLabel} projects target ${limits.min}-${limits.max} tracks.`;\r\n    return;\r\n  }\r\n  const normalizedName = normalizeProjectName(rawName);\r\n  const projectTracks = state.tracks.filter((track) => {\r\n    const trackName = track.projectName || `${track.title} - Single`;\r\n    return normalizeProjectName(trackName) === normalizedName;\r\n  });\r\n  const existingTypes = Array.from(new Set(projectTracks.map((track) => normalizeProjectType(track.projectType))));\r\n  if (existingTypes.length && !existingTypes.includes(typeLabel)) {\r\n    meta.textContent = `${rawName} already uses ${existingTypes.join(\" / \")}. Switch the Content Type or rename the project.`;\r\n    return;\r\n  }\r\n  const count = projectTracks.length;\r\n  const minRemaining = Math.max(0, limits.min - count);\r\n  const maxRemaining = Math.max(0, limits.max - count);\r\n  let detail = `${count}/${limits.max} tracks`;\r\n  if (minRemaining > 0) {\r\n    detail += ` | ${minRemaining} to minimum`;\r\n  } else if (maxRemaining === 0) {\r\n    detail += \" | Maxed\";\r\n  } else {\r\n    detail += ` | ${maxRemaining} slots left`;\r\n  }\r\n  meta.textContent = `${rawName} (${typeLabel}): ${detail}`;\r\n}\r\n\r\nfunction renderCreateStageControls() {\r\n  const stageButtons = document.querySelectorAll(\"[data-create-stage]\");\r\n  if (!stageButtons.length) return;\r\n  let stage = state.ui.createStage || \"sheet\";\r\n  const validStages = [\"sheet\", \"demo\", \"master\"];\r\n  if (!validStages.includes(stage)) {\r\n    logEvent(\"Unknown creation stage selected. Reverting to Sheet Music.\", \"warn\");\r\n    stage = \"sheet\";\r\n  }\r\n  state.ui.createStage = stage;\r\n  renderCreateStageTrackSelect();\r\n  const availability = getCreateStageAvailability();\r\n  const sheetCountEl = $(\"createStageCountSheet\");\r\n  if (sheetCountEl) sheetCountEl.textContent = `(${availability.sheetReadyCount} available)`;\r\n  const demoCountEl = $(\"createStageCountDemo\");\r\n  if (demoCountEl) demoCountEl.textContent = `(${availability.demoCount} available)`;\r\n  const masterCountEl = $(\"createStageCountMaster\");\r\n  if (masterCountEl) masterCountEl.textContent = `(${availability.masterCount} available)`;\r\n  stageButtons.forEach((btn) => {\r\n    const id = btn.dataset.createStage;\r\n    if (!id || !validStages.includes(id)) return;\r\n    const isActive = id === stage;\r\n    btn.classList.toggle(\"active\", isActive);\r\n    btn.setAttribute(\"aria-pressed\", String(isActive));\r\n    const column = btn.closest(\".create-stage-column\");\r\n    if (column) column.classList.toggle(\"is-active\", isActive);\r\n  });\r\n\r\n  const desiredRole = stage === \"demo\"\r\n    ? \"Performer\"\r\n    : stage === \"master\"\r\n      ? \"Producer\"\r\n      : stage === \"sheet\"\r\n        ? \"Songwriter\"\r\n        : null;\r\n  const currentRole = parseTrackRoleTarget(state.ui.slotTarget || \"\")?.role || null;\r\n  if (desiredRole && currentRole !== desiredRole) {\r\n    state.ui.slotTarget = `${TRACK_ROLE_TARGETS[desiredRole]}-1`;\r\n  }\r\n  if (stage === \"demo\" || stage === \"master\") {\r\n    const tracked = state.ui.createTrackIds ? state.ui.createTrackIds[stage] : null;\r\n    state.ui.createTrackId = tracked || null;\r\n  }\r\n  const sheetBtn = $(\"startSheetBtn\");\r\n  if (sheetBtn) {\r\n    const sheetCostLabel = formatMoney(availability.sheetCost || 0);\r\n    sheetBtn.textContent = `Create Sheet Music (${sheetCostLabel})`;\r\n    sheetBtn.disabled = !availability.sheetCanStart;\r\n    sheetBtn.title = availability.sheetCanStart ? \"\" : availability.sheetReason;\r\n  }\r\n  const sheetReason = $(\"startSheetReason\");\r\n  if (sheetReason) {\r\n    sheetReason.textContent = availability.sheetReason || \"\";\r\n    sheetReason.classList.toggle(\"hidden\", !availability.sheetReason);\r\n  }\r\n  const demoBtn = $(\"startDemoBtn\");\r\n  if (demoBtn) {\r\n    const demoCostLabel = formatMoney(availability.demoCost || 0);\r\n    demoBtn.textContent = `Create Demo Recording (${demoCostLabel})`;\r\n    demoBtn.disabled = !availability.demoCanStart;\r\n    demoBtn.title = availability.demoCanStart ? \"\" : availability.demoReason;\r\n  }\r\n  const demoReason = $(\"startDemoReason\");\r\n  if (demoReason) {\r\n    demoReason.textContent = availability.demoReason || \"\";\r\n    demoReason.classList.toggle(\"hidden\", !availability.demoReason);\r\n  }\r\n  const masterBtn = $(\"startMasterBtn\");\r\n  if (masterBtn) {\r\n    const masterCostLabel = formatMoney(availability.masterCost || 0);\r\n    masterBtn.textContent = `Create Master Recording (${masterCostLabel})`;\r\n    masterBtn.disabled = !availability.masterCanStart;\r\n    masterBtn.title = availability.masterCanStart ? \"\" : availability.masterReason;\r\n  }\r\n  const masterReason = $(\"startMasterReason\");\r\n  if (masterReason) {\r\n    masterReason.textContent = availability.masterReason || \"\";\r\n    masterReason.classList.toggle(\"hidden\", !availability.masterReason);\r\n  }\r\n  const recommendSelect = $(\"recommendAllMode\");\r\n  if (recommendSelect) recommendSelect.value = state.ui.recommendAllMode || \"solo\";\r\n  const recommendHelp = $(\"recommendAllHelp\");\r\n  if (recommendHelp) {\r\n    recommendHelp.textContent = stage === \"sheet\"\r\n      ? \"Solo starts separate sheet music for each assigned songwriter. Collab fills one track with everyone.\"\r\n      : \"Solo/collab applies to sheet music only. Demo and master stages always run one track at a time.\";\r\n  }\r\n  const advanced = $(\"createAdvancedOptions\");\r\n  if (advanced) {\r\n    const showAdvanced = !!state.ui.createAdvancedOpen;\r\n    advanced.classList.toggle(\"hidden\", !showAdvanced);\r\n  }\r\n  renderActiveStudiosSelect(\"sheet\", \"activeStudiosSelectSheet\", \"activeStudiosMetaSheet\");\r\n  renderActiveStudiosSelect(\"demo\", \"activeStudiosSelectDemo\", \"activeStudiosMetaDemo\");\r\n  renderActiveStudiosSelect(\"master\", \"activeStudiosSelectMaster\", \"activeStudiosMetaMaster\");\r\n  renderProjectTypeMeta();\r\n}\r\n\r\nfunction renderActiveView(view) {\r\n  const raw = view || state.ui.activeView || \"dashboard\";\r\n  const active = raw === \"promotion\" ? \"logs\" : raw === \"era\" ? \"eras\" : raw;\r\n  if (active === \"dashboard\") {\r\n    renderDashboard();\r\n  } else if (active === \"charts\") {\r\n    renderCharts();\r\n    renderSlots();\r\n  } else if (active === \"release\") {\r\n    renderReleaseDesk();\r\n  } else if (active === \"create\") {\r\n    renderCreateStageControls();\r\n    renderSlots();\r\n    renderTracks();\r\n    renderModifierInventory();\r\n    renderCreateTrends();\r\n    updateGenrePreview();\r\n    if (typeof window !== \"undefined\" && typeof window.updateCreateModePanels === \"function\") {\r\n      window.updateCreateModePanels();\r\n    }\r\n    if (typeof window !== \"undefined\" && typeof window.updateAutoCreateSummary === \"function\") {\r\n      window.updateAutoCreateSummary();\r\n    }\r\n  } else if (active === \"releases\") {\r\n    renderCalendarView();\r\n  } else if (active === \"eras\") {\r\n    renderEraStatus();\r\n    renderSlots();\r\n    renderEraPerformance();\r\n  } else if (active === \"roster\") {\r\n    renderCreators();\r\n    renderActs();\r\n    renderSlots();\r\n  } else if (active === \"world\") {\r\n    renderMarket();\r\n    renderModifierTools();\r\n    renderPopulation();\r\n    renderGenreIndex();\r\n    renderEconomySummary();\r\n    renderQuests();\r\n    renderTopBar();\r\n  } else if (active === \"logs\") {\n    renderSlots();\n    renderEventLog();\n    renderPromoAlerts();\n    renderWallet();\n    renderResourceTickSummary();\n    renderLossArchives();\n    if (typeof window !== \"undefined\" && typeof window.updateAutoPromoSummary === \"function\") {\r\n      window.updateAutoPromoSummary();\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderAll({ save = true } = {}) {\r\n  syncLabelWallets();\r\n  renderTime();\r\n  renderStats();\r\n  renderCreateNavBadge();\r\n  renderReleaseNavBadge();\r\n  renderTopBar();\r\n  renderActiveView(state.ui.activeView);\r\n  renderWallet();\r\n  if (typeof window !== \"undefined\" && window.updateTimeControls) {\r\n    window.updateTimeControls();\r\n  }\r\n  if (typeof window !== \"undefined\" && window.updateRecommendations) {\r\n    window.updateRecommendations();\r\n  }\r\n  if (save) saveToActiveSlot();\r\n}\r\n\r\nexport {\r\n  refreshSelectOptions,\r\n  updateActMemberFields,\r\n  renderAutoAssignModal,\r\n  renderTime,\r\n  renderStats,\r\n  renderSlots,\r\n  renderActs,\r\n  renderCreators,\r\n  renderEraStatus,\r\n  renderTracks,\r\n  renderModifierInventory,\r\n  renderReleaseDesk,\r\n  renderQuickRecipes,\r\n  renderCalendarView,\r\n  renderCalendarList,\r\n  renderGenreIndex,\r\n  renderCommunityRankings,\r\n  renderStudiosList,\r\n  renderRoleActions,\r\n  renderTutorialEconomy,\r\n  renderModifierTools,\r\n  renderCharts,\r\n  renderWallet,\r\n  renderLossArchives,\r\n  renderResourceTickSummary,\r\n  renderSocialFeed,\r\n  renderMainMenu,\r\n  renderRankingModal,\r\n  renderRankingWindow,\r\n  renderAll,\r\n  renderActiveStudiosSelect,\r\n  renderCreateStageTrackSelect,\r\n  renderCreateStageControls,\r\n  renderActiveView,\r\n  renderMarket,\r\n  renderEventLog,\r\n  renderSystemLog,\r\n  renderTrends,\r\n  renderCommunityLabels,\r\n  renderTopBar,\r\n  renderPopulation,\r\n  renderEconomySummary,\r\n  renderActiveCampaigns,\r\n  renderInventory,\r\n  renderWorkOrders,\r\n  renderTrackHistoryPanel,\r\n  renderRolloutStrategyPlanner,\r\n  renderCreateTrends,\r\n  renderAchievements,\r\n  renderQuests,\r\n  renderActiveArea,\r\n  renderCalendarEraList,\r\n  renderCreatorFallbackSymbols,\r\n  renderCreatorAvatar,\r\n  openMainMenu,\r\n  closeMainMenu,\r\n  updateGenrePreview,\r\n};\r\n"]}