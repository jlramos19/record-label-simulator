{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../../src/app/ui/render/index.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nimport {\n  ACT_PROMO_WARNING_WEEKS,\n  ACHIEVEMENTS,\n  ACHIEVEMENT_TARGET,\n  CREATOR_FALLBACK_EMOJI,\r\n  CREATOR_FALLBACK_ICON,\r\n  DAY_MS,\r\n  DEFAULT_TRACK_SLOT_VISIBLE,\r\n  MARKET_ROLES,\r\n  QUARTERS_PER_HOUR,\r\n  RESOURCE_TICK_LEDGER_LIMIT,\r\n  ROLE_ACTIONS,\r\n  ROLE_ACTION_STATUS,\r\n  STAGE_STUDIO_LIMIT,\r\n  STAMINA_OVERUSE_LIMIT,\r\n  STUDIO_COLUMN_SLOT_COUNT,\r\n  TRACK_ROLE_KEYS,\r\n  TRACK_ROLE_TARGETS,\r\n  TREND_DETAIL_COUNT,\r\n  UI_REACT_ISLANDS_ENABLED,\r\n  UNASSIGNED_CREATOR_EMOJI,\r\n  UNASSIGNED_CREATOR_LABEL,\r\n  UNASSIGNED_SLOT_LABEL,\r\n  WEEKLY_SCHEDULE,\n  alignmentClass,\n  buildCalendarProjection,\n  buildPromoProjectKeyFromTrack,\n  buildStudioEntries,\n  buildTrackHistoryScopes,\n  chartScopeLabel,\n  chartWeightsForScope,\n  clamp,\n  collectTrendRanking,\n  commitSlotChange,\n  computeAudienceEngagementRate,\n  computeAudienceWeeklyBudget,\n  computeAudienceWeeklyHours,\n  computeChartProjectionForScope,\n  computeCreatorCatharsisScore,\n  computePopulationSnapshot,\n  computeTourDraftSummary,\n  computeTourProjection,\n  countryColor,\n  countryDemonym,\n  creatorInitials,\n  currentYear,\n  ensureMarketCreators,\n  ensureTrackSlotArrays,\n  ensureTrackSlotVisibility,\n  formatCount,\n  formatDate,\n  formatHourCountdown,\n  formatGenreKeyLabel,\n  formatMoney,\n  formatShortDate,\r\n  formatWeekRangeLabel,\n  getAct,\n  hasHangulText,\n  lookupActNameDetails,\n  getActPopularityLeaderboard,\n  getActiveEras,\n  getAudienceChunksSnapshot,\n  getBusyCreatorIds,\n  getCommunityLabelRankingLimit,\r\n  getCommunityTrendRankingLimit,\r\n  getCreator,\r\n  getCreatorPortraitUrl,\r\n  getCreatorSignLockout,\r\n  getCreatorStaminaSpentToday,\r\n  getEraById,\n  getFocusedEra,\n  getGameDifficulty,\n  getGameMode,\n  getLabelRanking,\n  getLatestActiveEraForAct,\n  getModifier,\n  getModifierInventoryCount,\n  getPromoFacilityAvailability,\n  getProjectTrackLimits,\n  getTourVenueAvailability,\n  getOwnedStudioSlots,\n  getReleaseAsapAt,\n  getReleaseDistributionFee,\n  getRivalByName,\n  getRolloutPlanningEra,\n  getRolloutStrategiesForEra,\r\n  getSlotData,\r\n  getSlotGameMode,\r\n  getSlotValue,\r\n  getStageCost,\r\n  getStageStudioAvailable,\r\n  getStudioAvailableSlots,\r\n  getStudioMarketSnapshot,\r\n  getStudioUsageCounts,\r\n  getTopActSnapshot,\n  getTopTrendGenre,\n  getTrack,\n  getTrackRoleIds,\n  getTrackRoleIdsFromSlots,\n  getSelectedTourDraft,\n  getWorkOrderCreatorIds,\n  hoursUntilNextScheduledTime,\n  isMasteringTrack,\n  listFromIds,\n  listTourBookings,\n  listTourDrafts,\n  listTourTiers,\n  listTourVenues,\n  loadLossArchives,\n  logEvent,\n  makeGenre,\n  moodFromGenre,\n  normalizeProjectName,\n  normalizeProjectType,\n  normalizeRoleIds,\n  parseTrackRoleTarget,\n  parsePromoProjectKey,\n  pruneCreatorSignLockouts,\n  PROJECT_TITLE_TRANSLATIONS,\r\n  qualityGrade,\r\n  rankCandidates,\r\n  recommendPhysicalRun,\n  recommendReleasePlan,\n  releasedTracks,\n  resolveTrackReleaseType,\n  resolveTourAnchor,\n  roleLabel,\n  safeAvatarUrl,\r\n  saveToActiveSlot,\r\n  scoreGrade,\r\n  session,\r\n  setSelectedRolloutStrategyId,\n  setTimeSpeed,\n  shortGameModeLabel,\n  slugify,\n  staminaRequirement,\n  state,\n  selectTourDraft,\n  syncLabelWallets,\n  themeFromGenre,\n  trackKey,\n  trackRoleLimit,\n  touringBalanceEnabled,\n  trendAlignmentLeader,\n  weekIndex,\n  weekStartEpochMs,\n  weekNumberFromEpochMs,\n  validateTourBooking,\n} from \"../../game.js\";\nimport { PROMO_TYPE_DETAILS } from \"../../promo_types.js\";\r\nimport { CalendarView } from \"../../calendar.js\";\r\nimport { fetchChartSnapshot, listChartWeeks } from \"../../db.js\";\r\nimport { $, describeSlot, getSlotElement, openOverlay } from \"../dom.js\";\r\nimport {\r\n  buildMoodOptions,\r\n  buildThemeOptions,\r\n  bindThemeSelectAccent,\r\n  getMoodEmoji,\r\n  setThemeSelectAccent\r\n} from \"../themeMoodOptions.js\";\r\nimport {\r\n  buildRolloutBudgetSummary,\r\n  getModifierCosts,\r\n  getPromoInflationMultiplier\r\n} from \"./promo-budget.js\";\r\n\r\nconst ACCESSIBLE_TEXT = { dark: \"#000000\", light: \"#ffffff\" };\r\nconst PROMO_TRACK_REQUIRED_TYPES = Object.keys(PROMO_TYPE_DETAILS)\r\n  .filter((typeId) => PROMO_TYPE_DETAILS[typeId]?.requiresTrack);\r\nconst CREATE_PENDING_EMOJIS = { sheet: \"\", demo: \"\" };\r\nconst RELEASE_PENDING_EMOJI = \"\";\r\n\r\n\r\nfunction renderRolloutBudgetSummary(strategy) {\r\n  const summary = buildRolloutBudgetSummary(strategy);\r\n  if (!summary) return \"\";\r\n  if (!summary.eventCount) {\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Budget estimate</div>\r\n        <div class=\"muted\">No promo events scheduled yet.</div>\r\n      </div>\r\n    `;\r\n  }\r\n  const breakdown = summary.byType\r\n    .map((entry) => `${entry.label} x${entry.count}: ${formatMoney(entry.totalPlanned)}`)\r\n    .join(\" | \");\r\n  const breakdownLine = breakdown ? `<div class=\"muted\">${breakdown}</div>` : \"\";\r\n  return `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">Budget estimate</div>\r\n      <div class=\"muted\">Base ${formatMoney(summary.totalBase)} | Inflation-adjusted ${formatMoney(summary.totalAdjusted)} | Planned ${formatMoney(summary.totalPlanned)}</div>\r\n      ${breakdownLine}\r\n      <div class=\"muted\">Uses current promo budgets; adjust them to adapt.</div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nlet trackHistoryRequestId = 0;\r\nlet eraHistoryRequestId = 0;\r\n\r\nfunction resolveCssColor(value) {\r\n  const raw = String(value || \"\").trim();\r\n  if (!raw || !raw.startsWith(\"var(\")) return raw;\r\n  const match = raw.match(/var\\((--[^)]+)\\)/);\r\n  if (!match || typeof document === \"undefined\") return raw;\r\n  const resolved = getComputedStyle(document.documentElement).getPropertyValue(match[1]).trim();\r\n  return resolved || raw;\r\n}\r\n\r\nfunction parseColorToRgb(value) {\r\n  const color = resolveCssColor(value);\r\n  if (!color) return null;\r\n  if (color.startsWith(\"#\")) {\r\n    let hex = color.slice(1).trim();\r\n    if (hex.length === 3) {\r\n      hex = hex.split(\"\").map((ch) => ch + ch).join(\"\");\r\n    }\r\n    if (hex.length === 8) hex = hex.slice(0, 6);\r\n    if (hex.length !== 6) return null;\r\n    const r = parseInt(hex.slice(0, 2), 16);\r\n    const g = parseInt(hex.slice(2, 4), 16);\r\n    const b = parseInt(hex.slice(4, 6), 16);\r\n    return { r, g, b };\r\n  }\r\n  const rgbMatch = color.match(/^rgba?\\(([^)]+)\\)$/);\r\n  if (!rgbMatch) return null;\r\n  const parts = rgbMatch[1].split(\",\").map((part) => Number.parseFloat(part.trim()));\r\n  if (parts.length < 3 || parts.some((part) => Number.isNaN(part))) return null;\r\n  return { r: parts[0], g: parts[1], b: parts[2] };\r\n}\r\n\r\nfunction relativeLuminance(rgb) {\r\n  const toLinear = (value) => {\r\n    const channel = value / 255;\r\n    return channel <= 0.03928\r\n      ? channel / 12.92\r\n      : Math.pow((channel + 0.055) / 1.055, 2.4);\r\n  };\r\n  return 0.2126 * toLinear(rgb.r) + 0.7152 * toLinear(rgb.g) + 0.0722 * toLinear(rgb.b);\r\n}\r\n\r\nfunction contrastRatio(a, b) {\r\n  const lighter = Math.max(a, b);\r\n  const darker = Math.min(a, b);\r\n  return (lighter + 0.05) / (darker + 0.05);\r\n}\r\n\r\nfunction pickAccessibleTextColor(bgColor) {\r\n  const bg = parseColorToRgb(bgColor);\r\n  const dark = parseColorToRgb(ACCESSIBLE_TEXT.dark);\r\n  const light = parseColorToRgb(ACCESSIBLE_TEXT.light);\r\n  if (!bg || !dark || !light) return ACCESSIBLE_TEXT.dark;\r\n  const bgLum = relativeLuminance(bg);\r\n  const darkContrast = contrastRatio(bgLum, relativeLuminance(dark));\r\n  const lightContrast = contrastRatio(bgLum, relativeLuminance(light));\r\n  return lightContrast >= darkContrast ? ACCESSIBLE_TEXT.light : ACCESSIBLE_TEXT.dark;\r\n}\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderAlignmentTag(alignment) {\n  const cls = alignmentClass(alignment);\n  return `<span class=\"tag tag--alignment ${cls}\"><span class=\"tag-dot\"></span><span class=\"tag-label\">${alignment}</span></span>`;\n}\n\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderThemeTag(theme, options = {}) {\n  const cls = `theme-${slugify(theme)}`;\n  const label = options?.label || theme;\n  return `<span class=\"tag tag--theme ${cls}\"><span class=\"tag-dot\"></span><span class=\"tag-label\">${label}</span></span>`;\n}\n\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderCountryTag(country) {\n  const cls = `country-${slugify(country)}`;\n  return `<span class=\"tag tag--country ${cls}\"><span class=\"tag-dot\"></span><span class=\"tag-label\">${country}</span></span>`;\n}\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderNationalityPill(country) {\r\n  const color = countryColor(country);\r\n  const demonym = countryDemonym(country);\r\n  return `<span class=\"pill country-pill\" style=\"color:${color};\">${demonym}</span>`;\r\n}\r\n\r\n\r\nfunction getCreatorHangulName(creator) {\r\n  if (!creator) return \"\";\r\n  return creator.nameHangul\r\n    || (creator.surnameHangul && creator.givenNameHangul ? `${creator.surnameHangul}${creator.givenNameHangul}` : \"\");\r\n}\r\n\r\nfunction renderCreatorName(creator, { stacked = true } = {}) {\r\n  if (!creator) return \"\";\r\n  const romanized = creator.name || \"\";\r\n  const hangul = getCreatorHangulName(creator);\r\n  if (!hangul || !stacked) return romanized;\r\n  return `<span class=\"name-stack\"><span class=\"name-ko\" lang=\"ko\">${hangul}</span><span class=\"name-romanized\">${romanized}</span></span>`;\r\n}\r\n\r\nconst HANGUL_REGEX = /[\\uAC00-\\uD7A3]/;\r\n\r\nfunction splitNameSuffix(name) {\r\n  const raw = String(name || \"\").trim();\r\n  if (!raw) return { base: \"\", suffix: \"\" };\r\n  const match = raw.match(/^(.*?)(\\s*\\([^)]*\\))$/);\r\n  if (!match) return { base: raw, suffix: \"\" };\r\n  return { base: match[1].trim(), suffix: match[2] };\r\n}\r\n\r\nfunction lookupTrackTitleTranslation(name) {\r\n  if (!name || !HANGUL_REGEX.test(name)) return \"\";\r\n  if (typeof TRACK_TITLE_TRANSLATIONS_KR === \"object\" && TRACK_TITLE_TRANSLATIONS_KR[name]) {\r\n    return TRACK_TITLE_TRANSLATIONS_KR[name];\r\n  }\r\n  return \"\";\r\n}\r\n\r\nfunction lookupProjectTitleTranslation(name) {\n  if (!name || !HANGUL_REGEX.test(name)) return \"\";\n  return PROJECT_TITLE_TRANSLATIONS?.[name] || \"\";\n}\n\nfunction escapeAttribute(value) {\n  return String(value || \"\")\n    .replace(/&/g, \"&amp;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\");\n}\n\nfunction renderLocalizedName(primary, translation, { lang = \"ko\", romanized = \"\" } = {}) {\n  if (!translation) return primary;\n  const titleAttr = romanized ? ` title=\"${escapeAttribute(romanized)}\"` : \"\";\n  return `<span class=\"name-stack\"${titleAttr}><span class=\"name-ko\" lang=\"${lang}\">${primary}</span><span class=\"name-romanized\">${translation}</span></span>`;\n}\n\r\nfunction renderTrackTitle(title) {\r\n  if (!title) return \"\";\r\n  const { base, suffix } = splitNameSuffix(title);\r\n  const translation = lookupTrackTitleTranslation(base);\r\n  if (!translation) return title;\r\n  return renderLocalizedName(`${base}${suffix}`, translation);\r\n}\r\n\r\nfunction renderProjectName(name) {\r\n  const raw = String(name || \"\").trim();\r\n  if (!raw) return \"\";\r\n  const singleMatch = raw.match(/^(.*)\\s+-\\s+Single$/);\r\n  if (singleMatch) {\r\n    const base = singleMatch[1].trim();\r\n    const baseTranslation = lookupProjectTitleTranslation(base) || lookupTrackTitleTranslation(base);\r\n    if (baseTranslation) {\r\n      return renderLocalizedName(`${base} - Single`, `${baseTranslation} - Single`);\r\n    }\r\n  }\r\n  const { base, suffix } = splitNameSuffix(raw);\r\n  const translation = lookupProjectTitleTranslation(base);\r\n  if (!translation) return raw;\r\n  return renderLocalizedName(`${base}${suffix}`, translation);\r\n}\r\n\r\nfunction normalizeActKind(value) {\n  const raw = String(value || \"\").trim();\n  if (!raw) return null;\n  const lowered = raw.toLowerCase();\n  if (lowered === \"solo\" || lowered === \"solo act\") return \"solo\";\n  if (lowered === \"group\" || lowered === \"group act\") return \"group\";\n  return null;\n}\n\nfunction resolveActNameParts(act) {\n  if (!act) return { name: \"\", nameKey: null, actKind: null };\n  if (typeof act === \"object\") {\n    const name = String(act.name || act.actName || \"\").trim();\n    const nameKey = act.nameKey || act.actNameKey || null;\n    const actKind = normalizeActKind(act.actKind || act.actType || act.type);\n    return { name, nameKey, actKind };\n  }\n  return { name: String(act || \"\").trim(), nameKey: null, actKind: null };\n}\n\nfunction renderActName(act) {\n  const { name, nameKey, actKind } = resolveActNameParts(act);\n  if (!name) return \"\";\n  if (!hasHangulText(name)) return name;\n  const { translation, romanized } = lookupActNameDetails({ name, nameKey, actKind });\n  if (!translation) return name;\n  return renderLocalizedName(name, translation, { romanized });\n}\n\nfunction formatActNamePlain(act) {\n  const { name, nameKey, actKind } = resolveActNameParts(act);\n  if (!name) return \"\";\n  if (!hasHangulText(name)) return name;\n  const { translation, romanized } = lookupActNameDetails({ name, nameKey, actKind });\n  if (!translation) return name;\n  return romanized ? `${name} / ${translation} (${romanized})` : `${name} / ${translation}`;\n}\n\nfunction isCreatorInAct(creatorId) {\n  if (!creatorId) return false;\n  return state.acts.some((act) => Array.isArray(act.memberIds) && act.memberIds.includes(creatorId));\n}\n\r\nfunction getCreatorStageName(creator) {\r\n  if (!creator) return \"\";\r\n  const stageName = typeof creator.stageName === \"string\" ? creator.stageName.trim() : \"\";\r\n  if (stageName) return stageName;\r\n  const fallback = String(creator.givenName || creator.name || \"\").trim();\r\n  return fallback;\r\n}\r\n\r\nfunction formatCreatorRealNameLine(creator) {\r\n  if (!creator) return \"\";\r\n  const romanized = String(creator.name || \"\").trim();\r\n  const hangul = getCreatorHangulName(creator);\r\n  if (hangul && romanized && hangul !== romanized) return `${hangul} / ${romanized}`;\r\n  return romanized || hangul;\r\n}\r\n\r\nfunction renderCreatorStudioName(creator) {\r\n  if (!creator) return \"\";\r\n  if (!isCreatorInAct(creator.id)) return renderCreatorName(creator);\r\n  const stageName = getCreatorStageName(creator);\r\n  if (!stageName) return renderCreatorName(creator);\r\n  const realName = formatCreatorRealNameLine(creator);\r\n  const realLine = realName ? `<span class=\"muted\">[${realName}]</span>` : \"\";\r\n  return `<span class=\"name-stack\"><span class=\"creator-stage-name\">${stageName}</span>${realLine}</span>`;\r\n}\r\n\r\nfunction buildWorkOrderCrewLabel(crew) {\r\n  const lead = crew[0] || null;\r\n  if (!lead) return { primary: \"Unassigned\", secondary: \"\" };\r\n  if (!isCreatorInAct(lead.id)) return { primary: lead.name || \"Unassigned\", secondary: \"\" };\r\n  const stageName = getCreatorStageName(lead) || lead.name || \"Unassigned\";\r\n  const suffix = crew.length > 1 ? ` +${crew.length - 1}` : \"\";\r\n  const realName = formatCreatorRealNameLine(lead);\r\n  return {\r\n    primary: `${stageName}${suffix}`,\r\n    secondary: realName ? `[${realName}]` : \"\"\r\n  };\r\n}\r\n\r\nconst SKILL_LEVEL_COUNT = 10;\nconst SKILL_EXP_PER_LEVEL = Math.max(1, (SKILL_MAX - SKILL_MIN + 1) / SKILL_LEVEL_COUNT);\nconst SKILL_EXP_PER_LEVEL_LABEL = Number.isInteger(SKILL_EXP_PER_LEVEL)\n  ? String(SKILL_EXP_PER_LEVEL)\n  : SKILL_EXP_PER_LEVEL.toFixed(2);\n\nfunction getCreatorSkillLevel(creator) {\n  const skill = Number.isFinite(creator?.skill) ? creator.skill : SKILL_MIN;\n  const bounded = clamp(skill, SKILL_MIN, SKILL_MAX) - SKILL_MIN;\n  return clamp(Math.floor(bounded / SKILL_EXP_PER_LEVEL) + 1, 1, SKILL_LEVEL_COUNT);\n}\n\nfunction getCreatorSkillExp(creator) {\n  const skill = Number.isFinite(creator?.skill) ? creator.skill : SKILL_MIN;\n  const progress = Number.isFinite(creator?.skillProgress) ? creator.skillProgress : 0;\n  const bounded = clamp(skill, SKILL_MIN, SKILL_MAX) - SKILL_MIN;\n  const exp = (bounded % SKILL_EXP_PER_LEVEL) + progress;\n  return clamp(exp, 0, SKILL_EXP_PER_LEVEL);\n}\n\nfunction renderCreatorSkillProgress(creator) {\n  const level = getCreatorSkillLevel(creator);\n  const exp = getCreatorSkillExp(creator);\n  return `Skill Level ${level} | EXP ${exp.toFixed(2)} / ${SKILL_EXP_PER_LEVEL_LABEL}`;\n}\n\nfunction formatCreatorAgeMeta(creator) {\n  if (!creator) return \"Age -\";\n  const age = Number.isFinite(creator.age) ? creator.age : null;\n  const group = creator.ageGroup || \"\";\n  if (age !== null && group) return `Age ${age} (${group})`;\n  if (age !== null) return `Age ${age}`;\n  if (group) return `Age Group ${group}`;\n  return \"Age -\";\n}\n\nfunction getCreatorCatharsisScore(creator) {\n  return computeCreatorCatharsisScore(creator);\n}\n\nfunction splitRecordLabelName(label) {\n  const raw = String(label || \"\").trim();\n  if (!raw) return { primary: \"Label\", secondary: \"Record Label\" };\n  const match = raw.match(/^(.*?)(?:\\s+Record Label)$/i);\n  const primary = match ? match[1].trim() : raw;\n  if (!primary) return { primary: raw, secondary: \"\" };\n  return { primary, secondary: \"Record Label\" };\n}\n\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderLabelTag(label, country) {\n  const color = countryColor(country);\n  const { primary, secondary } = splitRecordLabelName(label);\n  const secondaryLine = secondary ? `<span class=\"tag-line tag-line--sub\">${secondary}</span>` : \"\";\n  return `<span class=\"tag tag--label\" style=\"color:${color};\"><span class=\"tag-dot\"></span><span class=\"tag-label tag-label--stacked\"><span class=\"tag-line\">${primary}</span>${secondaryLine}</span></span>`;\n}\n\n\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderMoodTag(mood, alignment, options = {}) {\n  const emoji = getMoodEmoji(mood) || \"\\u2753\";\n  const cls = alignment ? alignmentClass(alignment) : \"neutral\";\n  const label = options?.label || mood;\n  return `<span class=\"tag tag--mood mood ${cls}\"><span class=\"mood-emoji\">${emoji}</span><span class=\"tag-label\">${label}</span></span>`;\n}\n\n\n/** @deprecated Replaced by React Pill/Tag components. */\nfunction renderMoodLabel(mood, alignment) {\n  const emoji = getMoodEmoji(mood) || \"\\u2753\";\n  const cls = alignment ? alignmentClass(alignment) : \"neutral\";\n  return `<span class=\"tag tag--mood mood ${cls}\"><span class=\"tag-label\">${mood}</span><span class=\"mood-emoji\">${emoji}</span></span>`;\n}\n\r\n\r\nfunction formatModifierDelta(modifier) {\r\n  if (!modifier) return \"Quality 0 | Time 0h | Cost $0\";\r\n  const quality = Number(modifier.qualityDelta || 0);\r\n  const hours = Number(modifier.hoursDelta || 0);\r\n  const cost = Number(modifier.costDelta || 0);\r\n  const qualityLabel = `Quality ${quality > 0 ? \"+\" : \"\"}${quality}`;\r\n  const hoursLabel = `Time ${hours > 0 ? \"+\" : \"\"}${hours}h`;\r\n  const costLabel = `Cost ${cost > 0 ? \"+\" : \"\"}${formatMoney(cost)}`;\r\n  return `${qualityLabel} | ${hoursLabel} | ${costLabel}`;\r\n}\r\n\r\nfunction renderModifierFocus(modifier) {\r\n  if (!modifier) return \"\";\r\n  const tags = [];\r\n  if (modifier.theme) tags.push(renderThemeTag(modifier.theme));\r\n  if (modifier.mood) tags.push(renderMoodTag(modifier.mood, modifier.alignment));\r\n  if (modifier.alignment) tags.push(renderAlignmentTag(modifier.alignment));\r\n  if (!tags.length) return \"\";\r\n  return `<div class=\"muted\">Focus: ${tags.join(\" \")}</div>`;\r\n}\r\n\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderGenrePills(theme, mood, { fallback = \"-\", alignment } = {}) {\n  if (!theme || !mood) return fallback;\n  const themeTag = renderThemeTag(theme, { label: `${theme} but` });\n  const moodTag = renderMoodTag(mood, alignment, { label: `it's ${mood}` });\n  return `<span class=\"genre-pills\"><span class=\"genre-line\">${themeTag}</span><span class=\"genre-line\">${moodTag}</span></span>`;\n}\n\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderGenrePillsFromGenre(genre, options = {}) {\r\n  if (!genre) return options.fallback || \"-\";\r\n  const theme = themeFromGenre(genre);\r\n  const mood = moodFromGenre(genre);\r\n  return renderGenrePills(theme, mood, options);\r\n}\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderTrackGenrePills(track, options = {}) {\r\n  if (!track) return options.fallback || \"-\";\r\n  const theme = track.theme || themeFromGenre(track.genre);\r\n  const mood = track.mood || moodFromGenre(track.genre);\r\n  const alignment = options.alignment || track.alignment || state.label?.alignment || \"\";\r\n  return renderGenrePills(theme, mood, { ...options, alignment });\r\n}\r\n\r\n\r\nfunction ensureTrackSlotGrid() {\r\n  if (UI_REACT_ISLANDS_ENABLED) return;\r\n  const grid = $(\"trackSlotGrid\");\r\n  if (!grid || grid.dataset.built === \"true\") return;\r\n  grid.dataset.built = \"true\";\r\n  grid.innerHTML = \"\";\r\n  const roles = [\r\n    { role: \"Songwriter\", target: TRACK_ROLE_TARGETS.Songwriter },\r\n    { role: \"Performer\", target: TRACK_ROLE_TARGETS.Performer },\r\n    { role: \"Producer\", target: TRACK_ROLE_TARGETS.Producer }\r\n  ];\r\n  roles.forEach((entry) => {\r\n    const limit = trackRoleLimit(entry.role);\r\n    const group = document.createElement(\"div\");\r\n    group.className = \"slot-role-group\";\r\n    group.dataset.slotRoleGroup = entry.role;\r\n    const head = document.createElement(\"div\");\r\n    head.className = \"slot-group-head\";\r\n    const header = document.createElement(\"div\");\r\n    header.className = \"slot-group-label\";\r\n    header.dataset.slotGroupLabel = entry.role;\r\n    header.textContent = `${roleLabel(entry.role)} Slots (0/${limit})`;\r\n    const actions = document.createElement(\"div\");\r\n    actions.className = \"slot-group-actions\";\r\n    actions.innerHTML = `\r\n      <button type=\"button\" class=\"ghost mini\" data-slot-more=\"${entry.role}\">Add Slot</button>\r\n      <button type=\"button\" class=\"ghost mini\" data-slot-less=\"${entry.role}\">Show Less</button>\r\n    `;\r\n    head.appendChild(header);\r\n    head.appendChild(actions);\r\n    group.appendChild(head);\r\n    const slotGrid = document.createElement(\"div\");\r\n    slotGrid.className = \"slot-role-grid\";\r\n    slotGrid.dataset.slotRoleGrid = entry.role;\r\n    group.appendChild(slotGrid);\r\n    const columns = Math.max(1, Math.ceil(limit / STUDIO_COLUMN_SLOT_COUNT));\r\n    // Studio columns render five slots each to mirror studio capacity.\r\n    for (let col = 0; col < columns; col += 1) {\r\n      const columnLabel = document.createElement(\"div\");\r\n      columnLabel.className = \"slot-column-label\";\r\n      columnLabel.dataset.slotColumnLabel = `${entry.role}-${col + 1}`;\r\n      columnLabel.dataset.slotRole = entry.role;\r\n      columnLabel.dataset.slotColumnStart = String(col * STUDIO_COLUMN_SLOT_COUNT + 1);\r\n      columnLabel.textContent = `Studio ${col + 1}`;\r\n      slotGrid.appendChild(columnLabel);\r\n      for (let row = 0; row < STUDIO_COLUMN_SLOT_COUNT; row += 1) {\r\n        const index = col * STUDIO_COLUMN_SLOT_COUNT + row + 1;\r\n        if (index > limit) break;\r\n        const slot = document.createElement(\"div\");\r\n        slot.className = \"id-slot\";\r\n        slot.dataset.slotTarget = `${entry.target}-${index}`;\r\n        slot.dataset.slotType = \"creator\";\r\n        slot.dataset.slotRole = entry.role;\r\n        slot.dataset.slotGroup = \"track\";\r\n        slot.dataset.slotIndex = String(index);\r\n        const label = `${roleLabel(entry.role)} Slot`;\r\n        slot.innerHTML = `\r\n          <div class=\"slot-label\">${label} ${index}</div>\r\n          <div class=\"slot-id\">\r\n            <div class=\"slot-avatar\" aria-hidden=\"true\"></div>\r\n            <div class=\"slot-value\">${UNASSIGNED_CREATOR_LABEL}</div>\r\n          </div>\r\n          <div class=\"slot-actions\">\r\n            <button type=\"button\" class=\"ghost mini\" data-slot-recommend=\"${entry.target}-${index}\">Recommend</button>\r\n            <button type=\"button\" class=\"ghost mini\" data-slot-clear=\"${entry.target}-${index}\">Clear</button>\r\n          </div>\r\n        `;\r\n        slotGrid.appendChild(slot);\r\n      }\r\n    }\r\n    grid.appendChild(group);\r\n  });\r\n}\r\n\r\nfunction applyTrackSlotVisibility() {\r\n  if (UI_REACT_ISLANDS_ENABLED) return;\r\n  const grid = $(\"trackSlotGrid\");\r\n  if (!grid) return;\r\n  ensureTrackSlotVisibility();\r\n\r\n  [\"Songwriter\", \"Performer\", \"Producer\"].forEach((role) => {\r\n    const limit = trackRoleLimit(role);\r\n    const key = TRACK_ROLE_KEYS[role];\r\n    const assigned = listFromIds(state.ui.trackSlots?.[key]).length;\r\n    const fallback = Math.min(DEFAULT_TRACK_SLOT_VISIBLE, limit);\r\n    const current = Number(state.ui.trackSlotVisible?.[role]);\r\n    const desired = Number.isFinite(current) ? current : fallback;\r\n    const visibleCount = Math.max(fallback, Math.min(limit, Math.max(desired, assigned)));\r\n    state.ui.trackSlotVisible[role] = visibleCount;\r\n    const label = grid.querySelector(`[data-slot-group-label=\"${role}\"]`);\r\n    if (label) label.textContent = `${roleLabel(role)} Slots (${assigned}/${limit})`;\r\n    grid.querySelectorAll(`.id-slot[data-slot-role=\"${role}\"]`).forEach((slot) => {\r\n      const index = Number(slot.dataset.slotIndex || \"0\");\r\n      slot.classList.toggle(\"hidden\", index > visibleCount);\r\n    });\r\n    grid.querySelectorAll(`.slot-column-label[data-slot-role=\"${role}\"]`).forEach((column) => {\r\n      const start = Number(column.dataset.slotColumnStart || \"0\");\r\n      column.classList.toggle(\"hidden\", start > visibleCount);\r\n    });\r\n    const moreBtn = grid.querySelector(`[data-slot-more=\"${role}\"]`);\r\n    if (moreBtn) moreBtn.disabled = visibleCount >= limit;\r\n    const lessBtn = grid.querySelector(`[data-slot-less=\"${role}\"]`);\r\n    if (lessBtn) lessBtn.disabled = visibleCount <= Math.max(fallback, assigned);\r\n  });\r\n}\r\n\r\nfunction renderSlots() {\r\n  ensureTrackSlotGrid();\r\n  ensureTrackSlotArrays();\r\n  applyTrackSlotVisibility();\r\n  const activeTarget = state.ui.slotTarget;\r\n  document.querySelectorAll(\".id-slot\").forEach((slot) => {\r\n    if (slot.closest(\"#rls-react-trackslots-root\")) return;\r\n    const target = slot.dataset.slotTarget;\r\n    slot.classList.toggle(\"active\", target === activeTarget);\r\n  });\r\n\r\n  const actLead = getCreator(state.ui.actSlots.lead);\r\n  const actMember2 = getCreator(state.ui.actSlots.member2);\n  const actMember3 = getCreator(state.ui.actSlots.member3);\n  const trackAct = getAct(state.ui.trackSlots.actId);\n  const eraAct = getAct(state.ui.eraSlots.actId);\n  const promoProject = state.ui.promoSlots.projectId ? parsePromoProjectKey(state.ui.promoSlots.projectId) : null;\n  const promoTrack = state.marketTracks.find((entry) => entry.trackId === state.ui.promoSlots.trackId)\n    || getTrack(state.ui.promoSlots.trackId);\n  const socialTrack = getTrack(state.ui.socialSlots.trackId);\n\r\n  const unassignedLabel = UNASSIGNED_SLOT_LABEL;\r\n  const unassignedCreatorLabel = UNASSIGNED_CREATOR_LABEL;\r\n  if ($(\"actLeadSlot\")) $(\"actLeadSlot\").innerHTML = actLead ? renderCreatorName(actLead) : unassignedCreatorLabel;\r\n  if ($(\"actMember2Slot\")) $(\"actMember2Slot\").innerHTML = actMember2 ? renderCreatorName(actMember2) : unassignedCreatorLabel;\r\n  if ($(\"actMember3Slot\")) $(\"actMember3Slot\").innerHTML = actMember3 ? renderCreatorName(actMember3) : unassignedCreatorLabel;\r\n  if ($(\"trackActSlot\")) $(\"trackActSlot\").innerHTML = trackAct ? renderActName(trackAct) : unassignedLabel;\n  if ($(\"eraActSlot\")) $(\"eraActSlot\").innerHTML = eraAct ? renderActName(eraAct) : unassignedLabel;\n  if ($(\"promoProjectSlot\")) {\n    const projectType = promoProject ? normalizeProjectType(promoProject.projectType || \"Single\") : \"Single\";\n    const label = promoProject\n      ? `${renderProjectName(promoProject.projectName)} (${projectType})`\n      : unassignedLabel;\n    $(\"promoProjectSlot\").innerHTML = label;\n  }\n  if ($(\"promoTrackSlot\")) $(\"promoTrackSlot\").innerHTML = promoTrack ? renderTrackTitle(promoTrack.title) : unassignedLabel;\n  if ($(\"socialTrackSlot\")) $(\"socialTrackSlot\").innerHTML = socialTrack ? renderTrackTitle(socialTrack.title) : unassignedLabel;\n\r\n  document.querySelectorAll(\".id-slot\").forEach((slot) => {\r\n    if (slot.closest(\"#rls-react-trackslots-root\")) return;\r\n    const target = slot.dataset.slotTarget;\r\n    const type = slot.dataset.slotType;\r\n    const slotGroup = slot.dataset.slotGroup || \"\";\r\n    const value = getSlotValue(target);\r\n    const valueEl = slot.querySelector(\".slot-value\");\r\n    const avatarEl = slot.querySelector(\".slot-avatar\");\r\n    if (!valueEl) return;\r\n    if (type === \"creator\") {\r\n      const creator = value ? getCreator(value) : null;\r\n      if (creator && slotGroup === \"track\") {\r\n        valueEl.innerHTML = renderCreatorStudioName(creator);\r\n      } else {\r\n        valueEl.innerHTML = creator ? renderCreatorName(creator) : unassignedCreatorLabel;\r\n      }\r\n      if (avatarEl) {\n        const portraitUrl = creator ? getCreatorPortraitUrl(creator) : null;\n        const hasImage = Boolean(portraitUrl);\n        avatarEl.classList.toggle(\"has-image\", hasImage);\n        avatarEl.classList.toggle(\"is-empty\", !creator);\n        avatarEl.classList.toggle(\"has-symbols\", !hasImage);\n        if (hasImage) {\n          avatarEl.style.backgroundImage = `url(\"${safeAvatarUrl(portraitUrl)}\")`;\n          avatarEl.textContent = \"\";\n        } else {\n          avatarEl.style.backgroundImage = \"\";\n          avatarEl.innerHTML = renderCreatorFallbackSymbols({ unassigned: !creator });\n        }\n        avatarEl.title = creator?.portraitNote || \"\";\n      }\n    } else if (type === \"act\") {\r\n      const act = value ? getAct(value) : null;\r\n      valueEl.innerHTML = act ? renderActName(act) : unassignedLabel;\r\n      if (avatarEl) {\r\n        avatarEl.classList.remove(\"has-image\");\r\n        avatarEl.classList.remove(\"is-empty\");\r\n        avatarEl.style.backgroundImage = \"\";\r\n        avatarEl.textContent = \"\";\r\n      }\r\n    } else if (type === \"track\") {\n      const track = value ? getTrack(value) : null;\n      let trackLabel = track ? track.title : unassignedLabel;\n      const isPromoTrackSlot = target === \"promo-track\" || (typeof target === \"string\" && target.startsWith(\"auto-promo-track-\"));\n      if (!track && isPromoTrackSlot && value) {\n        const marketEntry = state.marketTracks.find((entry) => entry.trackId === value);\n        if (marketEntry?.title) trackLabel = marketEntry.title;\n      }\n      valueEl.innerHTML = trackLabel ? renderTrackTitle(trackLabel) : trackLabel;\n      if (avatarEl) {\n        avatarEl.classList.remove(\"has-image\");\n        avatarEl.classList.remove(\"is-empty\");\n        avatarEl.style.backgroundImage = \"\";\n        avatarEl.textContent = \"\";\n      }\n    } else if (type === \"project\") {\n      const project = value ? parsePromoProjectKey(value) : null;\n      const projectType = project ? normalizeProjectType(project.projectType || \"Single\") : \"Single\";\n      const label = project\n        ? `${renderProjectName(project.projectName)} (${projectType})`\n        : unassignedLabel;\n      valueEl.innerHTML = label;\n      if (avatarEl) {\n        avatarEl.classList.remove(\"has-image\");\n        avatarEl.classList.remove(\"is-empty\");\n        avatarEl.style.backgroundImage = \"\";\n        avatarEl.textContent = \"\";\n      }\n    }\n  });\n\r\n  document.querySelectorAll(\"[data-slot-group-label]\").forEach((label) => {\r\n    if (label.closest(\"#rls-react-trackslots-root\")) return;\r\n    const role = label.dataset.slotGroupLabel;\r\n    if (!role) return;\r\n    const limit = trackRoleLimit(role);\r\n    const assigned = getTrackRoleIdsFromSlots(role).length;\r\n    label.textContent = `${roleLabel(role)} Slots (${assigned}/${limit})`;\r\n  });\r\n\r\n  const createStage = state.ui.activeView === \"create\" ? (state.ui.createStage || \"sheet\") : null;\r\n  const stageRole = createStage === \"demo\"\r\n    ? \"Performer\"\r\n    : createStage === \"master\"\r\n      ? \"Producer\"\r\n      : createStage === \"sheet\"\r\n        ? \"Songwriter\"\r\n        : null;\r\n  document.querySelectorAll(\".slot-role-group\").forEach((group) => {\r\n    if (group.closest(\"#rls-react-trackslots-root\")) return;\r\n    const role = group.dataset.slotRoleGroup;\r\n    group.classList.toggle(\"is-active\", !!stageRole && role === stageRole);\r\n  });\r\n\r\n  const solo = $(\"actTypeSelect\") && $(\"actTypeSelect\").value === \"Solo Act\";\r\n  [\"act-member2\", \"act-member3\"].forEach((target) => {\r\n    const slot = getSlotElement(target);\r\n    if (slot) slot.classList.toggle(\"disabled\", solo);\r\n  });\r\n  if (typeof window !== \"undefined\" && window.ensureSlotDropdowns) {\r\n    window.ensureSlotDropdowns();\r\n  }\r\n  if (typeof window !== \"undefined\" && window.updateSlotDropdowns) {\r\n    window.updateSlotDropdowns();\r\n  }\r\n}\r\n\r\nfunction refreshSelectOptions() {\r\n  const labelAlignment = $(\"labelAlignment\");\r\n  if (labelAlignment) labelAlignment.innerHTML = ALIGNMENTS.map((a) => `<option value=\"${a}\">${a}</option>`).join(\"\");\r\n  const trackAlignment = $(\"trackAlignment\");\r\n  if (trackAlignment) trackAlignment.innerHTML = ALIGNMENTS.map((a) => `<option value=\"${a}\">${a}</option>`).join(\"\");\r\n  const themeSelect = $(\"themeSelect\");\r\n  if (themeSelect) {\r\n    themeSelect.innerHTML = buildThemeOptions();\r\n    bindThemeSelectAccent(themeSelect);\r\n  }\r\n  const moodSelect = $(\"moodSelect\");\r\n  if (moodSelect) moodSelect.innerHTML = buildMoodOptions();\r\n  const modifierSelect = $(\"modifierSelect\");\r\n  if (modifierSelect) {\r\n    const options = MODIFIERS.filter((mod) => mod.id === \"None\" || getModifierInventoryCount(mod.id) > 0);\r\n    modifierSelect.innerHTML = options.map((mod) => {\r\n      if (mod.id === \"None\") return `<option value=\"${mod.id}\">${mod.label}</option>`;\r\n      const count = getModifierInventoryCount(mod.id);\r\n      return `<option value=\"${mod.id}\">${mod.label} (x${count})</option>`;\r\n    }).join(\"\");\r\n  }\r\n  const actTypeSelect = $(\"actTypeSelect\");\r\n  if (actTypeSelect) actTypeSelect.innerHTML = ACT_TYPES.map((type) => `<option value=\"${type}\">${type}</option>`).join(\"\");\r\n  const actAlignmentSelect = $(\"actAlignmentSelect\");\r\n  if (actAlignmentSelect) actAlignmentSelect.innerHTML = ALIGNMENTS.map((a) => `<option value=\"${a}\">${a}</option>`).join(\"\");\r\n  const genreThemeFilter = $(\"genreThemeFilter\");\r\n  if (genreThemeFilter) {\r\n    genreThemeFilter.innerHTML = buildThemeOptions([{ value: \"All\", label: \"All Themes\" }]);\r\n    bindThemeSelectAccent(genreThemeFilter);\r\n  }\r\n  const genreMoodFilter = $(\"genreMoodFilter\");\r\n  if (genreMoodFilter) {\r\n    genreMoodFilter.innerHTML = buildMoodOptions([{ value: \"All\", label: \"All Moods\" }]);\r\n  }\r\n  const cccThemeFilter = $(\"cccThemeFilter\");\r\n  if (cccThemeFilter) {\r\n    cccThemeFilter.innerHTML = buildThemeOptions([{ value: \"All\", label: \"All Themes\" }]);\r\n    bindThemeSelectAccent(cccThemeFilter);\r\n  }\r\n  const cccMoodFilter = $(\"cccMoodFilter\");\r\n  if (cccMoodFilter) {\r\n    cccMoodFilter.innerHTML = buildMoodOptions([{ value: \"All\", label: \"All Moods\" }]);\r\n  }\r\n  const trendScopeSelect = $(\"trendScopeSelect\");\r\n  if (trendScopeSelect) trendScopeSelect.value = state.ui.trendScopeType || \"global\";\r\n  const eraRolloutSelect = $(\"eraRolloutSelect\");\r\n  if (eraRolloutSelect) {\r\n    eraRolloutSelect.innerHTML = ROLLOUT_PRESETS.map((preset) => `<option value=\"${preset.id}\">${preset.label}</option>`).join(\"\");\r\n  }\r\n  const eraPlanTheme = $(\"eraPlanTheme\");\r\n  if (eraPlanTheme) {\r\n    eraPlanTheme.innerHTML = buildThemeOptions([{ value: \"Any\", label: \"Any Theme\" }]);\r\n    eraPlanTheme.value = state.ui.eraPlan?.themeTarget || \"Any\";\r\n    bindThemeSelectAccent(eraPlanTheme);\r\n  }\r\n  const eraPlanMood = $(\"eraPlanMood\");\r\n  if (eraPlanMood) {\r\n    eraPlanMood.innerHTML = buildMoodOptions([{ value: \"Any\", label: \"Any Mood\" }]);\r\n    eraPlanMood.value = state.ui.eraPlan?.moodTarget || \"Any\";\r\n  }\r\n  const eraPlanRollout = $(\"eraPlanRollout\");\r\n  if (eraPlanRollout) {\r\n    eraPlanRollout.innerHTML = ROLLOUT_PRESETS.map((preset) => `<option value=\"${preset.id}\">${preset.label}</option>`).join(\"\");\r\n    eraPlanRollout.value = state.ui.eraPlan?.rolloutTemplateId || ROLLOUT_PRESETS[1].id;\r\n  }\r\n  const eraPlanCadence = $(\"eraPlanCadence\");\r\n  if (eraPlanCadence) {\r\n    const cadenceOptions = [\"Weekly\", \"Biweekly\", \"Monthly\", \"Quarterly\"];\r\n    eraPlanCadence.innerHTML = cadenceOptions.map((cadence) => `<option value=\"${cadence}\">${cadence}</option>`).join(\"\");\r\n    eraPlanCadence.value = state.ui.eraPlan?.cadence || \"Weekly\";\r\n  }\r\n  const eraPlanGoals = $(\"eraPlanGoals\");\r\n  if (eraPlanGoals) eraPlanGoals.value = state.ui.eraPlan?.goals || \"\";\r\n  const eraPlanSchedule = $(\"eraPlanSchedule\");\r\n  if (eraPlanSchedule) eraPlanSchedule.value = state.ui.eraPlan?.scheduleNote || \"\";\r\n  const eraPlanPlannedReleases = $(\"eraPlanPlannedReleases\");\r\n  if (eraPlanPlannedReleases) {\r\n    const planned = state.ui.eraPlan?.plannedReleaseIds || [];\r\n    eraPlanPlannedReleases.value = planned.join(\", \");\r\n  }\r\n  const projectTypeSelect = $(\"projectTypeSelect\");\r\n  if (projectTypeSelect && !projectTypeSelect.value) projectTypeSelect.value = \"Single\";\r\n  if (labelAlignment) labelAlignment.value = state.label.alignment;\r\n  if (trackAlignment) trackAlignment.value = state.label.alignment;\r\n  if (actAlignmentSelect) actAlignmentSelect.value = state.label.alignment;\r\n  const eraSeed = getActiveEras()[0];\r\n  if (eraSeed && eraSeed.rolloutId && eraRolloutSelect) {\r\n    eraRolloutSelect.value = eraSeed.rolloutId;\r\n  }\r\n  const labelNameInput = $(\"labelNameInput\");\r\n  if (labelNameInput) labelNameInput.value = state.label.name;\r\n  if (genreThemeFilter) {\r\n    genreThemeFilter.value = state.ui.genreTheme || \"All\";\r\n    setThemeSelectAccent(genreThemeFilter);\r\n  }\r\n  if (genreMoodFilter) genreMoodFilter.value = state.ui.genreMood || \"All\";\r\n  if (cccThemeFilter) {\r\n    cccThemeFilter.value = state.ui.cccThemeFilter || \"All\";\r\n    setThemeSelectAccent(cccThemeFilter);\r\n  }\r\n  if (cccMoodFilter) cccMoodFilter.value = state.ui.cccMoodFilter || \"All\";\r\n  const cccSort = $(\"cccSort\");\r\n  if (cccSort) cccSort.value = state.ui.cccSort || \"default\";\r\n  updateActMemberFields();\r\n  renderSlots();\r\n  updateGenrePreview();\r\n}\r\n\r\nfunction updateActMemberFields() {\r\n  const actTypeSelect = $(\"actTypeSelect\");\r\n  if (!actTypeSelect) return;\r\n  const solo = actTypeSelect.value === \"Solo Act\";\r\n  if (solo) {\r\n    state.ui.actSlots.member2 = null;\r\n    state.ui.actSlots.member3 = null;\r\n    if (state.ui.slotTarget === \"act-member2\" || state.ui.slotTarget === \"act-member3\") {\r\n      state.ui.slotTarget = null;\r\n    }\r\n  }\r\n  commitSlotChange();\r\n}\r\n\r\nfunction renderAutoAssignModal() {\r\n  const roles = [\"Songwriter\", \"Performer\", \"Producer\"];\r\n  const blocks = roles.map((role) => {\r\n    const candidates = rankCandidates(role).slice(0, 5);\r\n    const req = staminaRequirement(role);\r\n    const label = roleLabel(role);\r\n    if (!candidates.length) {\r\n      return `\r\n        <div class=\"auto-assign-role\">\r\n          <h3>${label}</h3>\r\n          <div class=\"muted\">No candidates available.</div>\r\n        </div>\r\n      `;\r\n    }\r\n    return `\r\n      <div class=\"auto-assign-role\">\r\n        <h3>${label}</h3>\r\n        ${candidates.map((creator) => {\n          const staminaPct = Math.round((creator.stamina / STAMINA_MAX) * 100);\n          const catharsisScore = getCreatorCatharsisScore(creator);\n          const catharsisGrade = scoreGrade(catharsisScore);\n          const skillGrade = scoreGrade(creator.skill);\n          const overuseSafe = getCreatorStaminaSpentToday(creator) + req <= STAMINA_OVERUSE_LIMIT;\n          const canAssign = creator.ready && overuseSafe;\n          return `\n          <div class=\"list-item\">\n            <div class=\"auto-assign-candidate\">\n              <div>\n                <div class=\"item-title\">${renderCreatorName(creator)}</div>\n                <div class=\"bar\"><span style=\"width:${staminaPct}%\"></span></div>\n                <div class=\"muted\">Stamina ${creator.stamina} / ${STAMINA_MAX}</div>\n                <div class=\"muted\">${formatCreatorAgeMeta(creator)}</div>\n                <div class=\"muted\">ID ${creator.id} | Skill <span class=\"grade-text\" data-grade=\"${skillGrade}\">${creator.skill}</span></div>\n                <div class=\"muted\">${renderCreatorSkillProgress(creator)}</div>\n                <div class=\"muted\">Catharsis <span class=\"grade-text\" data-grade=\"${catharsisGrade}\">${catharsisScore}</span></div>\n              </div>\n              <div class=\"actions\">\n                ${creator.ready ? \"\" : `<span class=\"tag low\">Low stamina</span>`}\n                ${overuseSafe ? \"\" : `<span class=\"tag low\">Overuse limit</span>`}\n                <button type=\"button\" class=\"ghost\" data-assign-role=\"${role}\" data-assign-id=\"${creator.id}\"${canAssign ? \"\" : \" disabled\"}>Assign</button>\n              </div>\n            </div>\n            <div class=\"muted\">Needs ${req} stamina for ${label} stage</div>\n          </div>\n        `;\n        }).join(\"\")}\n      </div>\r\n    `;\r\n  });\r\n  $(\"autoAssignList\").innerHTML = blocks.join(\"\");\r\n}\r\n\r\nfunction renderTime() {\r\n  $(\"timeDisplay\").textContent = formatDate(state.time.epochMs);\r\n  $(\"weekDisplay\").textContent = `Week ${weekIndex() + 1}`;\r\n  const chartHours = hoursUntilNextScheduledTime(WEEKLY_SCHEDULE.chartUpdate);\r\n  $(\"chartCountdown\").textContent = `Charts update in ${formatHourCountdown(chartHours, { padHours: 3 })}h`;\r\n  const mode = getGameMode(state.meta?.gameMode);\r\n  const modeLabel = shortGameModeLabel(mode.label);\r\n  const modeEl = $(\"gameModeDisplay\");\r\n  if (modeEl) {\r\n    modeEl.textContent = modeLabel || \"-\";\r\n    if (mode?.id) {\r\n      modeEl.dataset.mode = mode.id;\r\n    } else {\r\n      modeEl.removeAttribute(\"data-mode\");\r\n    }\r\n    modeEl.setAttribute(\"title\", mode.label || \"\");\r\n    modeEl.setAttribute(\"aria-label\", mode.label ? `Game mode: ${mode.label}` : \"Game mode\");\r\n  }\r\n  const difficulty = getGameDifficulty(state.meta?.difficulty);\r\n  const difficultyEl = $(\"gameDifficultyDisplay\");\r\n  if (difficultyEl) {\r\n    difficultyEl.textContent = difficulty?.label || \"-\";\r\n    if (difficulty?.id) {\r\n      difficultyEl.dataset.difficulty = difficulty.id;\r\n    } else {\r\n      difficultyEl.removeAttribute(\"data-difficulty\");\r\n    }\r\n    difficultyEl.setAttribute(\"title\", difficulty?.label || \"\");\r\n    difficultyEl.setAttribute(\r\n      \"aria-label\",\r\n      difficulty?.label ? `Game difficulty: ${difficulty.label}` : \"Game difficulty\"\r\n    );\r\n  }\r\n}\r\n\r\nfunction renderFocusEraStatus() {\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const focusEra = getFocusedEra();\r\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\r\n  const displayEra = focusEra || fallbackEra;\r\n  const act = displayEra ? getAct(displayEra.actId) : null;\n  const actName = act ? act.name : null;\n  const actLabel = act ? renderActName(act) : \"\";\n  const stageName = displayEra ? ERA_STAGES[displayEra.stageIndex] || \"Active\" : \"\";\n  const baseLabel = displayEra\n    ? `${displayEra.name}${actLabel ? ` (${actLabel})` : \"\"}${stageName ? ` | ${stageName}` : \"\"}`\n    : \"\";\n  const headerLabel = focusEra\r\n    ? baseLabel\r\n    : fallbackEra\r\n      ? `${baseLabel} (Auto)`\r\n      : activeEras.length\r\n        ? \"Select focus\"\r\n        : \"No active eras\";\r\n  const detailLabel = focusEra\r\n    ? `Focused: ${baseLabel}`\r\n    : fallbackEra\r\n      ? `Auto: ${baseLabel}`\r\n      : activeEras.length\r\n        ? \"No focus selected\"\r\n        : \"No active eras\";\r\n  const promoLabel = focusEra\r\n    ? baseLabel\r\n    : fallbackEra\r\n      ? `${baseLabel} (Auto)`\r\n      : activeEras.length\r\n        ? \"Select focus\"\r\n        : \"No active eras\";\r\n\r\n  const headerEl = $(\"focusEraDisplay\");\n  if (headerEl) {\n    headerEl.innerHTML = headerLabel;\n    if (displayEra) {\n      const stageName = ERA_STAGES[displayEra.stageIndex] || \"Active\";\n      const actTitle = act ? formatActNamePlain(act) : \"Unknown\";\n      headerEl.title = `Act: ${actTitle} | Stage: ${stageName}`;\n    } else {\n      headerEl.title = \"\";\n    }\n  }\n  const labelEl = $(\"eraFocusLabel\");\n  if (labelEl) labelEl.innerHTML = detailLabel;\n  const promoEl = $(\"promoFocusLabel\");\n  if (promoEl) promoEl.innerHTML = promoLabel;\n  const clearBtn = $(\"eraFocusClear\");\r\n  if (clearBtn) clearBtn.disabled = !focusEra;\r\n  const promoBtn = $(\"promoFocusPickBtn\");\r\n  if (promoBtn) promoBtn.disabled = !displayEra;\r\n}\r\n\r\nfunction renderStats() {\r\n  $(\"cashDisplay\").textContent = formatMoney(state.label.cash);\r\n  const counts = getStudioUsageCounts();\r\n  const ownedSlots = getOwnedStudioSlots();\r\n  const totalSlots = ownedSlots + counts.leased;\r\n  state.studio.inUse = counts.total;\r\n  $(\"studioDisplay\").textContent = `${counts.total} / ${totalSlots}`;\r\n  $(\"slotDisplay\").textContent = session.activeSlot ? `Slot ${session.activeSlot}` : \"-\";\r\n  $(\"slotTargetDisplay\").textContent = state.ui.slotTarget ? describeSlot(state.ui.slotTarget) : \"-\";\r\n  if ($(\"labelNameDisplay\")) {\r\n    $(\"labelNameDisplay\").textContent = state.label.name || \"Record Label\";\r\n  }\r\n  if ($(\"alignmentDisplay\")) {\r\n    $(\"alignmentDisplay\").innerHTML = renderAlignmentTag(state.label.alignment);\r\n  }\r\n  if ($(\"popularityDisplay\")) {\r\n    const ranking = getLabelRanking();\r\n    const index = ranking.findIndex((row) => row[0] === state.label.name);\r\n    $(\"popularityDisplay\").textContent = index >= 0 ? `#${index + 1}` : \"Unranked\";\r\n  }\r\n  if ($(\"reachDisplay\")) {\r\n    const snapshot = computePopulationSnapshot();\r\n    const reach = snapshot.total ? (state.label.fans / snapshot.total) * 100 : 0;\r\n    $(\"reachDisplay\").textContent = `${reach.toFixed(2)}%`;\r\n  }\r\n  if ($(\"achievementCount\")) {\r\n    const unlockedCount = state.meta.achievementsUnlocked?.length || 0;\r\n    const count = Math.max(unlockedCount, state.meta.achievements || 0);\r\n    $(\"achievementCount\").textContent = `${count} / ${ACHIEVEMENT_TARGET}`;\r\n  }\r\n  if ($(\"expDisplay\")) {\r\n    $(\"expDisplay\").textContent = formatCount(state.meta.exp || 0);\r\n  }\r\n  if ($(\"bailoutStatus\")) {\r\n    if (state.meta.bailoutPending) {\r\n      $(\"bailoutStatus\").textContent = \"Bailout offer pending.\";\r\n    } else if (state.meta.achievementsLocked) {\r\n      $(\"bailoutStatus\").textContent = \"Bailout used: achievements locked.\";\r\n    } else if (state.meta.bailoutUsed) {\r\n      $(\"bailoutStatus\").textContent = \"Bailout used.\";\r\n    } else {\r\n      $(\"bailoutStatus\").textContent = \"\";\r\n    }\r\n  }\r\n  if ($(\"winTrackDisplay\")) {\r\n    if (state.meta.winState) {\r\n      $(\"winTrackDisplay\").textContent = `Won ${state.meta.winState.year}`;\r\n    } else {\r\n      const year = currentYear();\r\n      if (year < 3000) $(\"winTrackDisplay\").textContent = \"12 Requests (no monopoly)\";\r\n      else if (year < 4000) $(\"winTrackDisplay\").textContent = \"12 Requests or Monopoly\";\r\n      else $(\"winTrackDisplay\").textContent = \"Top Label or Monopoly\";\r\n    }\r\n  }\r\n  renderFocusEraStatus();\r\n}\r\n\r\nfunction getCreatePendingCounts() {\r\n  const counts = { sheet: 0, demo: 0 };\r\n  if (!Array.isArray(state.tracks)) return { ...counts, total: 0 };\r\n  state.tracks.forEach((track) => {\r\n    if (!track) return;\r\n    const stageIndex = Number(track.stageIndex);\r\n    if (!Number.isFinite(stageIndex)) return;\r\n    if (stageIndex === 0) counts.sheet += 1;\r\n    if (stageIndex === 1) counts.demo += 1;\r\n  });\r\n  return { ...counts, total: counts.sheet + counts.demo };\r\n}\r\n\r\nfunction renderCreateNavBadge() {\r\n  const navItem = document.querySelector(\".app-nav [data-route=\\\"create\\\"]\");\r\n  const badge = $(\"createNavBadge\");\r\n  if (!navItem || !badge) return;\r\n  const totalEl = badge.querySelector(\"[data-create-pending-total]\");\r\n  const breakdownEl = badge.querySelector(\"[data-create-pending-breakdown]\");\r\n  const { sheet, demo, total } = getCreatePendingCounts();\r\n  if (totalEl) totalEl.textContent = formatCount(total);\r\n  if (breakdownEl) {\r\n    const sheetLabel = formatCount(sheet);\r\n    const demoLabel = formatCount(demo);\r\n    breakdownEl.textContent = `${CREATE_PENDING_EMOJIS.sheet}${sheetLabel} ${CREATE_PENDING_EMOJIS.demo}${demoLabel}`;\r\n  }\r\n  badge.classList.toggle(\"is-hidden\", total <= 0);\r\n  if (total > 0) {\r\n    const detail = `${sheet} sheet${sheet === 1 ? \"\" : \"s\"}, ${demo} demo${demo === 1 ? \"\" : \"s\"}`;\r\n    navItem.setAttribute(\"aria-label\", `Create (${total} pending: ${detail})`);\r\n    navItem.setAttribute(\"title\", `${total} pending: ${CREATE_PENDING_EMOJIS.sheet}${sheet} ${CREATE_PENDING_EMOJIS.demo}${demo}`);\r\n  } else {\r\n    navItem.setAttribute(\"aria-label\", \"Create\");\r\n    navItem.setAttribute(\"title\", \"Create\");\r\n  }\r\n}\r\n\r\nfunction getReleaseReadyCount() {\r\n  if (!Array.isArray(state.tracks)) return 0;\r\n  return state.tracks.filter((track) => track?.status === \"Ready\").length;\r\n}\r\n\r\nfunction renderReleaseNavBadge() {\r\n  const navItem = document.querySelector(\".app-nav [data-route=\\\"release\\\"]\");\r\n  const badge = $(\"releaseNavBadge\");\r\n  if (!navItem || !badge) return;\r\n  const totalEl = badge.querySelector(\"[data-release-ready-total]\");\r\n  const labelEl = badge.querySelector(\"[data-release-ready-label]\");\r\n  const total = getReleaseReadyCount();\r\n  if (totalEl) totalEl.textContent = formatCount(total);\r\n  if (labelEl) labelEl.textContent = `${RELEASE_PENDING_EMOJI} Ready`;\r\n  badge.classList.toggle(\"is-hidden\", total <= 0);\r\n  if (total > 0) {\r\n    navItem.setAttribute(\"aria-label\", `Release (${total} ready)`);\r\n    navItem.setAttribute(\"title\", `${total} ready to release`);\r\n  } else {\r\n    navItem.setAttribute(\"aria-label\", \"Release\");\r\n    navItem.setAttribute(\"title\", \"Release\");\r\n  }\r\n}\r\n\r\nfunction buildLabelRankingMeta() {\n  const fallbackSinceAt = Number.isFinite(state.time?.startEpochMs)\n    ? state.time.startEpochMs\n    : (Number.isFinite(state.time?.epochMs) ? state.time.epochMs : Date.now());\n  const metaByLabel = new Map();\r\n  const ensure = (label) => {\r\n    if (!label) return null;\r\n    const key = String(label);\r\n    if (!metaByLabel.has(key)) metaByLabel.set(key, { sinceAt: fallbackSinceAt });\r\n    return metaByLabel.get(key);\r\n  };\r\n  const addBaseMeta = (label, { country = null, cash = null } = {}) => {\r\n    const meta = ensure(label);\r\n    if (!meta) return;\r\n    if (country) meta.country = country;\r\n    if (Number.isFinite(cash)) meta.cash = cash;\r\n  };\r\n  addBaseMeta(state.label?.name, {\r\n    country: state.label?.country,\r\n    cash: state.label?.wallet?.cash ?? state.label?.cash\r\n  });\r\n  if (Array.isArray(state.rivals)) {\r\n    state.rivals.forEach((rival) => {\r\n      addBaseMeta(rival?.name, {\r\n        country: rival?.country,\r\n        cash: rival?.wallet?.cash ?? rival?.cash\r\n      });\r\n    });\r\n  }\r\n  if (Array.isArray(state.marketTracks)) {\r\n    state.marketTracks.forEach((entry) => {\r\n      const meta = ensure(entry?.label);\r\n      if (!meta) return;\r\n      const releasedAt = Number.isFinite(entry?.releasedAt) ? entry.releasedAt : null;\r\n      if (releasedAt && releasedAt < meta.sinceAt) meta.sinceAt = releasedAt;\r\n      if (!meta.country && entry?.country) meta.country = entry.country;\r\n    });\r\n  }\n  return { metaByLabel, fallbackSinceAt };\n}\n\nfunction buildLabelUsageByName() {\n  const usageByLabel = new Map();\n  if (!Array.isArray(state.marketTracks)) return usageByLabel;\n  state.marketTracks.forEach((entry) => {\n    if (!entry) return;\n    const label = String(entry.label || \"\").trim();\n    if (!label) return;\n    const theme = entry.theme || themeFromGenre(entry.genre);\n    const mood = entry.mood || moodFromGenre(entry.genre);\n    const current = usageByLabel.get(label) || { total: 0, themes: {}, moods: {} };\n    current.total += 1;\n    if (theme) current.themes[theme] = (current.themes[theme] || 0) + 1;\n    if (mood) current.moods[mood] = (current.moods[mood] || 0) + 1;\n    usageByLabel.set(label, current);\n  });\n  return usageByLabel;\n}\n\nfunction pickTopUsage(counts) {\n  const entries = Object.entries(counts || {});\n  if (!entries.length) return null;\n  entries.sort((a, b) => {\n    const diff = b[1] - a[1];\n    if (diff !== 0) return diff;\n    return String(a[0]).localeCompare(String(b[0]));\n  });\n  return { value: entries[0][0], count: entries[0][1] };\n}\n\nfunction getLabelUsageSummary(labelName, usageByLabel) {\n  if (!usageByLabel) {\n    return { total: 0, theme: null, themeCount: 0, mood: null, moodCount: 0 };\n  }\n  const key = String(labelName || \"\").trim();\n  const usage = usageByLabel.get(key) || { total: 0, themes: {}, moods: {} };\n  const themeTop = pickTopUsage(usage.themes);\n  const moodTop = pickTopUsage(usage.moods);\n  return {\n    total: usage.total || 0,\n    theme: themeTop?.value || null,\n    themeCount: themeTop?.count || 0,\n    mood: moodTop?.value || null,\n    moodCount: moodTop?.count || 0\n  };\n}\n\nfunction renderLabelUsageColumn(labelName, usageByLabel) {\n  const usage = getLabelUsageSummary(labelName, usageByLabel);\n  if (!usage.total) {\n    return `\n      <div class=\"label-rank-usage\">\n        <div class=\"muted\">Top Theme / Mood</div>\n        <div class=\"label-usage-empty muted\">No releases yet</div>\n      </div>\n    `;\n  }\n  const alignment = labelName === state.label?.name\n    ? state.label?.alignment\n    : getRivalByName(labelName)?.alignment;\n  const themeTag = usage.theme ? renderThemeTag(usage.theme) : `<span class=\"muted\">-</span>`;\n  const moodTag = usage.mood ? renderMoodTag(usage.mood, alignment) : `<span class=\"muted\">-</span>`;\n  return `\n    <div class=\"label-rank-usage\">\n      <div class=\"muted\">Top Theme / Mood</div>\n      <div class=\"label-usage-tags\">\n        ${themeTag}\n        ${moodTag}\n      </div>\n    </div>\n  `;\n}\n\nfunction getLabelRankingStatus(points, meta) {\n  if (points > 0) return null;\n  const cash = meta?.cash;\n  if (Number.isFinite(cash) && cash <= 0) return \"bankrupted\";\n  return \"inactive\";\n}\n\nfunction buildLabelRankingList({ limit = null, showMore = false, showUsage = false } = {}) {\n  const fullRanking = getLabelRanking();\n  const { metaByLabel, fallbackSinceAt } = buildLabelRankingMeta();\n  const usageByLabel = showUsage ? buildLabelUsageByName() : null;\n  const visible = typeof limit === \"number\" ? fullRanking.slice(0, limit) : fullRanking;\n  if (!visible.length) {\n    return { markup: `<div class=\"muted\">No labels yet.</div>`, visibleCount: 0, totalCount: fullRanking.length };\n  }\n  const list = visible.map((row, index) => {\n    const labelName = row[0];\n    const points = row[1];\n    const meta = metaByLabel.get(labelName) || { sinceAt: fallbackSinceAt };\n    const sinceAt = Number.isFinite(meta.sinceAt) ? meta.sinceAt : fallbackSinceAt;\r\n    const status = getLabelRankingStatus(points, meta);\r\n    const statusLabel = status === \"bankrupted\" ? \"Bankrupted\" : \"Inactive\";\r\n    const statusMarkup = status ? `<span class=\"label-status label-status--${status}\">${statusLabel}</span>` : \"\";\r\n    const country = meta.country || getRivalByName(labelName)?.country || state.label.country;\r\n    const moreAction = showMore && index === 0\r\n      ? `<button type=\"button\" class=\"ghost mini\" data-ranking-more=\"labels\">More</button>`\r\n      : \"\";\r\n    const usageMarkup = showUsage ? renderLabelUsageColumn(labelName, usageByLabel) : \"\";\n    const rowClass = showUsage ? \"list-row label-ranking-row\" : \"list-row\";\n    return `\n      <div class=\"list-item\">\n        <div class=\"${rowClass}\">\n          <div class=\"label-rank\">\n            <div class=\"item-title\">#${index + 1} ${renderLabelTag(labelName, country)}</div>\n            <div class=\"label-rank-meta\">\n              <span class=\"muted\">Since ${formatShortDate(sinceAt)}</span>\n              ${statusMarkup}\n            </div>\n          </div>\n          ${usageMarkup}\n          <div class=\"ranking-actions\">\n            <span class=\"muted\">${formatCount(points)} pts</span>\n            ${moreAction}\n          </div>\n        </div>\n      </div>\n    `;\n  });\n  return { markup: list.join(\"\"), visibleCount: visible.length, totalCount: fullRanking.length };\n}\n\r\nfunction renderCommunityLabels() {\r\n  const listEl = $(\"topLabelsWorldList\");\r\n  if (!listEl) return;\r\n  const limit = getCommunityLabelRankingLimit();\r\n  const { markup, visibleCount, totalCount } = buildLabelRankingList({ limit, showMore: true });\r\n  listEl.innerHTML = markup;\r\n  const meta = $(\"labelRankingMeta\");\r\n  if (meta) {\r\n    if (!totalCount) {\r\n      meta.textContent = \"No labels ranked yet.\";\r\n    } else if (visibleCount >= totalCount) {\r\n      meta.textContent = `Showing ${formatCount(totalCount)} labels.`;\r\n    } else {\r\n      meta.textContent = `Showing Top ${formatCount(visibleCount)} of ${formatCount(totalCount)} labels.`;\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderTopBar() {\r\n  const ranking = getLabelRanking(3);\r\n  const labelsMarkup = ranking.length\r\n    ? ranking.map((row, index) => `\r\n        <div class=\"top-mini-item\">\n          <span>${index + 1}. ${renderLabelTag(row[0], (getRivalByName(row[0])?.country || state.label.country))}</span>\n          <span class=\"muted\">${formatCount(row[1])} pts</span>\n        </div>\n      `).join(\"\")\n    : `<div class=\"muted\">No labels yet</div>`;\r\n  const trendRanking = Array.isArray(state.trendRanking) && state.trendRanking.length\r\n    ? state.trendRanking\r\n    : (state.trends || []);\r\n  const trendsMarkup = trendRanking.length\r\n    ? trendRanking.slice(0, TREND_DETAIL_COUNT).map((trend, index) => `\r\n        <div class=\"top-mini-item\">\r\n          <span>${index + 1}. ${renderGenrePillsFromGenre(trend)}</span>\r\n        </div>\r\n      `).join(\"\")\r\n    : `<div class=\"muted\">No trends yet</div>`;\r\n  const headerList = $(\"topLabelsHeaderList\");\r\n  if (headerList) headerList.innerHTML = labelsMarkup;\r\n  const trendsList = $(\"topTrendsHeaderList\");\r\n  if (trendsList) trendsList.innerHTML = trendsMarkup;\r\n  const labelsMoreBtn = $(\"topLabelsMoreBtn\");\r\n  if (labelsMoreBtn) labelsMoreBtn.disabled = !ranking.length;\r\n  const trendsMoreBtn = $(\"topTrendsMoreBtn\");\r\n  if (trendsMoreBtn) trendsMoreBtn.disabled = !trendRanking.length;\r\n  const rankingWindow = $(\"rankingWindow\");\r\n  if (rankingWindow && !rankingWindow.classList.contains(\"hidden\")) {\r\n    const category = rankingWindow.dataset.category || \"labels\";\r\n    renderRankingWindow(category);\r\n  }\r\n  const topActNameEl = $(\"topActName\");\n  if (topActNameEl) {\n    const topAct = getTopActSnapshot();\n    topActNameEl.innerHTML = topAct ? `Top Act: ${renderActName(topAct)}` : \"Top Act: -\";\n    $(\"topActPortrait\").textContent = topAct ? topAct.initials : \"RLS\";\n    $(\"topActPortrait\").style.background = topAct ? topAct.color : \"\";\n    $(\"topActPortrait\").style.color = topAct ? topAct.textColor : \"\";\n  }\n}\r\n\r\nfunction buildChartPulsePromoEntries({ startAt, endAt, scopeType, scopeTarget }) {\r\n  const entries = [];\r\n  const scopeNation = scopeType === \"global\"\r\n    ? null\r\n    : scopeType === \"nation\"\r\n      ? scopeTarget\r\n      : REGION_DEFS.find((region) => region.id === scopeTarget)?.nation || null;\r\n  const allowCountry = (country) => !scopeNation || country === scopeNation;\r\n  const labelName = state.label?.name || \"Label\";\r\n  const labelCountry = state.label?.country || \"Annglora\";\r\n\r\n  if (Array.isArray(state.scheduledEvents) && allowCountry(labelCountry)) {\r\n    state.scheduledEvents.forEach((entry) => {\r\n      if (entry.status === \"Cancelled\") return;\r\n      if (!Number.isFinite(entry.scheduledAt)) return;\r\n      if (entry.scheduledAt < startAt || entry.scheduledAt >= endAt) return;\r\n      const details = PROMO_TYPE_DETAILS[entry.actionType];\r\n      if (!details) return;\r\n      const track = entry.contentId ? getTrack(entry.contentId) : null;\r\n      const act = entry.actId ? getAct(entry.actId) : track ? getAct(track.actId) : null;\r\n      entries.push({\n        id: entry.id,\n        ts: entry.scheduledAt,\n        title: track ? track.title : details.label,\n        actName: act ? act.name : \"Unknown\",\n        actNameKey: act?.nameKey || null,\n        label: labelName,\n        typeLabel: details.label,\n        impact: details.cost\n      });\n    });\r\n  }\r\n\r\n  if (Array.isArray(state.rivalReleaseQueue)) {\r\n    state.rivalReleaseQueue.forEach((entry) => {\r\n      if ((entry.queueType || \"release\") !== \"promo\") return;\r\n      if (!Number.isFinite(entry.releaseAt)) return;\r\n      if (entry.releaseAt < startAt || entry.releaseAt >= endAt) return;\r\n      const details = PROMO_TYPE_DETAILS[entry.promoType];\r\n      if (!details) return;\r\n      const rival = getRivalByName(entry.label);\r\n      const rivalCountry = rival?.country || entry.country || labelCountry;\r\n      if (!allowCountry(rivalCountry)) return;\r\n      entries.push({\n        id: entry.id,\n        ts: entry.releaseAt,\n        title: entry.title || details.label,\n        actName: entry.actName || \"Promotion\",\n        actNameKey: entry.actNameKey || null,\n        label: entry.label || \"Rival\",\n        typeLabel: details.label,\n        impact: details.cost\n      });\n    });\r\n  }\r\n\r\n  return entries\n    .sort((a, b) => b.impact - a.impact || a.ts - b.ts)\n    .slice(0, 5)\n    .map((entry, index) => ({ ...entry, rank: index + 1 }));\n}\n\nconst DASHBOARD_FOCUS_PANELS = [\"charts\", \"quests\", \"requests\", \"eras\"];\n\nfunction normalizeDashboardFocusPanel(value) {\n  return DASHBOARD_FOCUS_PANELS.includes(value) ? value : \"charts\";\n}\n\nfunction renderDashboardFocusPanels() {\n  const tabs = $(\"dashboardFocusTabs\");\n  const panels = typeof document === \"undefined\"\n    ? []\n    : Array.from(document.querySelectorAll(\"[data-dashboard-focus-panel]\"));\n  if (!tabs && !panels.length) return;\n  const active = normalizeDashboardFocusPanel(state.ui.dashboardFocusPanel);\n  if (state.ui.dashboardFocusPanel !== active) {\n    state.ui.dashboardFocusPanel = active;\n  }\n  if (tabs) {\n    tabs.querySelectorAll(\".tab\").forEach((tab) => {\n      const isActive = tab.dataset.dashboardFocus === active;\n      tab.classList.toggle(\"active\", isActive);\n      tab.setAttribute(\"aria-pressed\", String(isActive));\n    });\n  }\n  panels.forEach((panel) => {\n    const isActive = panel.dataset.dashboardFocusPanel === active;\n    panel.classList.toggle(\"is-active\", isActive);\n    panel.setAttribute(\"aria-hidden\", String(!isActive));\n  });\n}\n\nfunction formatAudienceHour(hour) {\n  if (!Number.isFinite(hour)) return \"--\";\n  return `${String(Math.round(hour)).padStart(2, \"0\")}:00`;\n}\n\nfunction formatAudienceActiveHours(chunk) {\n  const hours = chunk?.activeHours || null;\n  const label = hours?.label || chunk?.timeProfile || \"Active\";\n  const start = Number.isFinite(hours?.startHour) ? formatAudienceHour(hours.startHour) : null;\n  const end = Number.isFinite(hours?.endHour) ? formatAudienceHour(hours.endHour) : null;\n  if (start && end) return `${label} ${start}-${end}`;\n  return label;\n}\n\nfunction renderDashboardAudienceChunks() {\n  const listEl = $(\"dashboardAudienceList\");\n  if (!listEl) return;\n  const metaEl = $(\"dashboardAudienceMeta\");\n  const snapshot = getAudienceChunksSnapshot();\n  const chunks = Array.isArray(snapshot?.chunks) ? snapshot.chunks : [];\n  const year = Number.isFinite(snapshot?.lastUpdateYear) ? snapshot.lastUpdateYear : currentYear();\n  if (metaEl) {\n    const updated = Number.isFinite(snapshot?.lastUpdateAt) ? formatShortDate(snapshot.lastUpdateAt) : null;\n    metaEl.textContent = updated\n      ? `${formatCount(chunks.length)} chunks | Year ${year} | Updated ${updated}`\n      : `${formatCount(chunks.length)} chunks | Year ${year}`;\n  }\n  if (!chunks.length) {\n    listEl.innerHTML = `<div class=\"muted\">No audience chunks yet.</div>`;\n    return;\n  }\n  const ordered = chunks\n    .slice()\n    .sort((a, b) => (a.nation || \"\").localeCompare(b.nation || \"\") || (b.age || 0) - (a.age || 0));\n  const display = ordered.slice(0, 8);\n  listEl.innerHTML = display.map((chunk) => {\n    const community = formatGenreKeyLabel(chunk.communityId || \"\");\n    const age = Number.isFinite(chunk.age) ? `Age ${chunk.age}` : \"Age -\";\n    const ageGroup = chunk.ageGroup ? `(${chunk.ageGroup})` : \"\";\n    const generation = chunk.generation ? `Gen ${chunk.generation}` : \"Gen -\";\n    const budget = Number.isFinite(chunk.weeklyBudget) ? `${formatMoney(chunk.weeklyBudget)}/wk` : \"-\";\n    const engagement = Number.isFinite(chunk.engagementRate) ? `${Math.round(chunk.engagementRate * 100)}%` : \"-\";\n    const hours = Number.isFinite(chunk.weeklyHours) ? `${chunk.weeklyHours}h/wk` : \"-\";\n    const life = chunk.lifeExpectancy?.label || \"-\";\n    const repro = Number.isFinite(chunk.reproductionRate) ? chunk.reproductionRate : \"-\";\n    const emigrate = Number.isFinite(chunk.emigrationRate) ? `${Math.round(chunk.emigrationRate * 100)}%` : \"-\";\n    const themes = Array.isArray(chunk.prefThemes) && chunk.prefThemes.length ? chunk.prefThemes.join(\", \") : \"-\";\n    const moods = Array.isArray(chunk.prefMoods) && chunk.prefMoods.length ? chunk.prefMoods.join(\", \") : \"-\";\n    return `\n      <div class=\"list-item\">\n        <div class=\"item-title\">${community}</div>\n        <div class=\"muted\">${chunk.nation || \"Unknown\"} | ${age} ${ageGroup} | ${generation}</div>\n        <div class=\"muted\">Budget (int.) ${budget} | Engage ${engagement} | Time ${hours} | ${formatAudienceActiveHours(chunk)}</div>\n        <div class=\"tiny muted\">Life ${life} | Repro ${repro} | Emigrate ${emigrate}</div>\n        <div class=\"tiny muted\">Prefs: Themes ${themes} | Moods ${moods}</div>\n      </div>\n    `;\n  }).join(\"\");\n}\n\nfunction renderDashboard() {\n  const statsEl = $(\"dashboardStats\");\n  if (!statsEl) return;\n  renderDashboardFocusPanels();\n  const weekLabel = $(\"dashboardWeekLabel\");\n  if (weekLabel) weekLabel.textContent = `Week ${weekIndex() + 1}`;\n  const dateLabel = $(\"dashboardDateLabel\");\n  if (dateLabel) dateLabel.textContent = formatDate(state.time.epochMs);\n\r\n  const activeTracks = state.tracks.filter((track) => track.status !== \"Released\");\r\n  const releasedTracks = state.tracks.filter((track) => track.status === \"Released\");\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const focusEra = getFocusedEra();\r\n  const studioCounts = getStudioUsageCounts();\r\n  const ownedSlots = getOwnedStudioSlots();\r\n  const totalSlots = ownedSlots + studioCounts.leased;\r\n  const topTrend = getTopTrendGenre() || \"-\";\r\n  const topAct = getTopActSnapshot();\r\n\r\n  const stats = [\r\n    { label: \"Cash\", value: formatMoney(state.label.cash), detail: `Weekly ${formatMoney(state.economy.lastRevenue || 0)}` },\r\n    { label: \"Active Tracks\", value: formatCount(activeTracks.length), detail: `Released ${formatCount(releasedTracks.length)}` },\r\n    { label: \"Creators\", value: formatCount(state.creators.length), detail: `Acts ${formatCount(state.acts.length)}` },\r\n    { label: \"Studios\", value: `${studioCounts.total}/${totalSlots}`, detail: `Owned ${ownedSlots}` },\r\n    { label: \"Active Eras\", value: formatCount(activeEras.length), detail: focusEra ? `Focus ${focusEra.name}` : \"No focus era\" },\r\n    { label: \"Top Trend\", value: topTrend, detail: topAct ? `Top Act ${topAct.name}` : \"Top Act -\" }\r\n  ];\r\n  statsEl.innerHTML = stats.map((stat) => `\r\n    <div class=\"dashboard-stat\">\r\n      <div class=\"stat-label\">${stat.label}</div>\r\n      <div class=\"stat-value\">${stat.value}</div>\r\n      <div class=\"tiny muted\">${stat.detail}</div>\r\n    </div>\r\n  `).join(\"\");\r\n\r\n  const workOrdersEl = $(\"dashboardWorkOrders\");\r\n  if (workOrdersEl) {\r\n    const activeOrders = state.workOrders.filter((order) => order.status === \"In Progress\");\r\n    if (!activeOrders.length) {\r\n      workOrdersEl.innerHTML = `<div class=\"muted\">No active work orders.</div>`;\r\n    } else {\r\n      const now = state.time.epochMs;\r\n      const list = activeOrders\r\n        .slice(0, 5)\r\n        .map((order) => {\r\n          const track = getTrack(order.trackId);\r\n          const crewIds = getWorkOrderCreatorIds(order);\r\n          const crew = crewIds.map((id) => getCreator(id)).filter(Boolean);\r\n          const crewLabel = buildWorkOrderCrewLabel(crew);\r\n          const stage = STAGES[order.stageIndex];\r\n          const hoursLeft = Math.max(0, Math.ceil((order.endAt - now) / HOUR_MS));\r\n          const crewLine = `${stage?.name || \"Stage\"} | ${crewLabel.primary}`;\r\n          const crewDetail = crewLabel.secondary ? `<div class=\"muted\">${crewLabel.secondary}</div>` : \"\";\r\n          return `\r\n            <div class=\"list-item\">\r\n              <div class=\"list-row\">\r\n                <div>\r\n                  <div class=\"item-title\">${track ? renderTrackTitle(track.title) : \"Unknown\"}</div>\r\n                  <div class=\"muted\">${crewLine}</div>\r\n                  ${crewDetail}\r\n                </div>\r\n                <div class=\"pill\">${hoursLeft}h</div>\r\n              </div>\r\n            </div>\r\n          `;\r\n        });\r\n      workOrdersEl.innerHTML = list.join(\"\");\r\n    }\r\n  }\r\n\r\n  const queueEl = $(\"dashboardReleaseQueue\");\r\n  if (queueEl) {\r\n    if (!state.releaseQueue.length) {\r\n      queueEl.innerHTML = `<div class=\"muted\">No releases scheduled.</div>`;\r\n    } else {\r\n      const list = state.releaseQueue\r\n        .slice()\r\n        .sort((a, b) => (a.releaseAt || 0) - (b.releaseAt || 0))\r\n        .slice(0, 5)\r\n        .map((entry) => {\r\n          const track = getTrack(entry.trackId);\r\n          const date = entry.releaseAt ? formatDate(entry.releaseAt) : \"TBD\";\r\n          const distribution = entry.distribution || entry.note || \"Digital\";\r\n          return `\r\n            <div class=\"list-item\">\r\n              <div class=\"list-row\">\r\n                <div>\r\n                  <div class=\"item-title\">${track ? renderTrackTitle(track.title) : \"Unknown\"}</div>\r\n                  <div class=\"muted\">${date} | ${distribution}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          `;\r\n        });\r\n      queueEl.innerHTML = list.join(\"\");\r\n    }\r\n  }\r\n\r\n  const chartsEl = $(\"dashboardChartsList\");\n  if (chartsEl) {\n    const scopeTabs = $(\"chartPulseScopeTabs\");\r\n    const contentTabs = $(\"chartPulseContentTabs\");\r\n    const targetSelect = $(\"chartPulseTarget\");\r\n    const targetLabel = $(\"chartPulseTargetLabel\");\r\n    const metaEl = $(\"chartPulseMeta\");\r\n    const contentType = state.ui.chartPulseContentType || \"tracks\";\r\n    const scopeType = state.ui.chartPulseScopeType || \"global\";\r\n    let scopeTarget = state.ui.chartPulseScopeTarget || \"global\";\r\n\r\n    if (contentTabs) {\r\n      contentTabs.querySelectorAll(\".tab\").forEach((btn) => {\r\n        btn.classList.toggle(\"active\", btn.dataset.chartPulseContent === contentType);\r\n      });\r\n    }\r\n    if (scopeTabs) {\r\n      scopeTabs.querySelectorAll(\".tab\").forEach((btn) => {\r\n        btn.classList.toggle(\"active\", btn.dataset.chartPulseScope === scopeType);\r\n      });\r\n    }\r\n\r\n    if (scopeType === \"global\") {\r\n      scopeTarget = \"global\";\r\n      state.ui.chartPulseScopeTarget = scopeTarget;\r\n      if (targetLabel) targetLabel.textContent = \"Global\";\r\n      if (targetSelect) {\r\n        targetSelect.disabled = true;\r\n        targetSelect.innerHTML = `<option value=\"global\">Global</option>`;\r\n        targetSelect.value = \"global\";\r\n      }\r\n    } else if (scopeType === \"nation\") {\r\n      const nations = Array.isArray(NATIONS) ? NATIONS : [];\r\n      const labelNation = nations.includes(state.label?.country) ? state.label.country : nations[0];\r\n      if (!nations.includes(scopeTarget)) scopeTarget = labelNation || \"\";\r\n      state.ui.chartPulseScopeTarget = scopeTarget;\r\n      if (targetLabel) targetLabel.textContent = \"Nation\";\r\n      if (targetSelect) {\r\n        targetSelect.disabled = false;\r\n        targetSelect.innerHTML = nations.map((nation) => `<option value=\"${nation}\">${nation}</option>`).join(\"\");\r\n        targetSelect.value = scopeTarget;\r\n      }\r\n    } else {\r\n      const regions = Array.isArray(REGION_DEFS) ? REGION_DEFS : [];\r\n      const regionIds = regions.map((region) => region.id);\r\n      const labelRegion = regions.find((region) => region.nation === state.label?.country)?.id;\r\n      if (!regionIds.includes(scopeTarget)) scopeTarget = labelRegion || regionIds[0] || \"\";\r\n      state.ui.chartPulseScopeTarget = scopeTarget;\r\n      if (targetLabel) targetLabel.textContent = \"Region\";\r\n      if (targetSelect) {\r\n        targetSelect.disabled = false;\r\n        targetSelect.innerHTML = regions.map((region) => `<option value=\"${region.id}\">${region.label}</option>`).join(\"\");\r\n        targetSelect.value = scopeTarget;\r\n      }\r\n    }\r\n\r\n    const scopeKey = scopeType === \"global\" ? \"global\" : scopeTarget;\r\n    const scopeLabel = chartScopeLabel(scopeKey);\r\n    const slotMs = DAY_MS / 4;\r\n    const slotCount = 6;\r\n    const slots = Array.from({ length: slotCount }).map((_, index) => {\r\n      const offsetHours = index * 6;\r\n      const slotStart = state.time.epochMs + index * slotMs;\r\n      const slotEnd = slotStart + slotMs;\r\n      let entries = [];\r\n\r\n      if (contentType === \"promos\") {\r\n        entries = buildChartPulsePromoEntries({\r\n          startAt: slotStart,\r\n          endAt: slotEnd,\r\n          scopeType,\r\n          scopeTarget\r\n        });\r\n      } else {\r\n        const projected = computeChartProjectionForScope({\r\n          targetEpochMs: slotStart,\r\n          scopeType,\r\n          scopeTarget,\r\n          limit: contentType === \"tracks\" ? 5 : null\r\n        });\r\n        entries = contentType === \"projects\"\r\n          ? collectProjectChartEntries(projected).slice(0, 5)\r\n          : projected.slice(0, 5);\r\n      }\r\n\r\n      return { offsetHours, slotStart, entries };\r\n    });\r\n\r\n    chartsEl.innerHTML = slots.map((slot) => {\r\n      const label = slot.offsetHours === 0 ? \"Now\" : `+${slot.offsetHours}h`;\r\n      const timeLabel = formatDate(slot.slotStart);\r\n      const emptyLabel = contentType === \"promos\"\r\n        ? \"No promo events in this window.\"\r\n        : \"No projected entries yet.\";\r\n      let entryMarkup = \"\";\r\n      if (!slot.entries.length) {\r\n        entryMarkup = `<div class=\"muted\">${emptyLabel}</div>`;\r\n      } else if (contentType === \"promos\") {\r\n        entryMarkup = slot.entries.map((entry) => `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">#${entry.rank} ${renderTrackTitle(entry.title)}</div>\n                <div class=\"muted\">${entry.typeLabel} | ${renderActName(entry) || \"-\"} | ${entry.label}</div>\n              </div>\r\n              <div class=\"pill\">${formatMoney(entry.impact)}</div>\r\n            </div>\r\n          </div>\r\n        `).join(\"\");\r\n      } else if (contentType === \"projects\") {\r\n        entryMarkup = slot.entries.map((entry) => `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">#${entry.rank} ${renderProjectName(entry.projectName)}</div>\n                <div class=\"muted\">${entry.projectType} | ${renderActName(entry) || \"-\"} | ${entry.label || \"-\"}</div>\n              </div>\r\n              <div class=\"pill\">${formatCount(entry.score)}</div>\r\n            </div>\r\n          </div>\r\n        `).join(\"\");\r\n      } else {\r\n        entryMarkup = slot.entries.map((entry) => {\r\n          const track = entry.track || entry;\r\n          return `\r\n            <div class=\"list-item\">\r\n              <div class=\"list-row\">\r\n                <div>\r\n                  <div class=\"item-title\">#${entry.rank} ${track?.title ? renderTrackTitle(track.title) : \"Unknown Track\"}</div>\r\n                  <div class=\"muted\">${track?.label || \"Unknown\"} | ${renderTrackGenrePills(track, { fallback: \"Genre -\" })}</div>\r\n                </div>\r\n                <div class=\"pill\">${formatCount(entry.score)}</div>\r\n              </div>\r\n            </div>\r\n          `;\r\n        }).join(\"\");\r\n      }\r\n\r\n      return `\r\n        <div class=\"chart-pulse-slot\">\r\n          <div class=\"slot-head\">\r\n            <div>\r\n              <div class=\"slot-label\">${label}</div>\r\n              <div class=\"tiny muted\">${timeLabel}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"list\">\r\n            ${entryMarkup}\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n\r\n    if (metaEl) {\r\n      const contentLabel = contentType === \"projects\" ? \"Projects\" : contentType === \"promos\" ? \"Promos\" : \"Tracks\";\r\n      metaEl.textContent = contentType === \"promos\"\r\n        ? `Promo feed in 6h windows  ${scopeLabel}.`\r\n        : `Projected Top 5 every 6h  ${scopeLabel}  ${contentLabel}.`;\r\n    }\r\n  }\r\n\r\n  const eraList = $(\"dashboardEraList\");\n  if (eraList) {\n    if (!activeEras.length) {\n      eraList.innerHTML = `<div class=\"muted\">No active eras.</div>`;\n    } else {\n      eraList.innerHTML = activeEras.map((era) => `\n        <div class=\"list-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${era.name}</div>\r\n              <div class=\"muted\">${ERA_STAGES[era.stageIndex] || \"Active\"} | Week ${era.stageWeek}</div>\r\n            </div>\r\n            ${focusEra && focusEra.id === era.id ? `<span class=\"pill\">Focus</span>` : \"\"}\r\n          </div>\r\n        </div>\r\n      `).join(\"\");\n    }\n  }\n\n  renderDashboardAudienceChunks();\n  renderQuests();\n  renderRivalAchievementRace();\n}\n\r\nfunction renderPopulation() {\r\n  if (!$(\"populationList\")) return;\r\n  const snapshot = computePopulationSnapshot();\r\n  const stageLabel = snapshot.stage || \"Campaign Era\";\r\n  const list = [\n    `\n      <div class=\"list-item\">\n          <div class=\"list-row\">\n          <div>\n          <div class=\"item-title\">Gaia Population</div>\n          <div class=\"muted\">${stageLabel} - updates yearly</div>\n          </div>\n          <div class=\"pill\">${formatCount(snapshot.total)}</div>\n        </div>\n      </div>\n    `\n  ];\n  if (Array.isArray(snapshot.ageGroups) && snapshot.ageGroups.length) {\n    const ageLine = snapshot.ageGroups.map((group) => {\n      const count = Number.isFinite(group.count) ? group.count : 0;\n      const share = Number.isFinite(group.share)\n        ? group.share\n        : (snapshot.total ? count / snapshot.total : 0);\n      const pct = Math.round(share * 100);\n      return `${group.label}: ${formatCount(count)} (${pct}%)`;\n    }).join(\" | \");\n    list.push(`\n      <div class=\"list-item\">\n        <div class=\"item-title\">Audience Age Split</div>\n        <div class=\"muted\">${ageLine}</div>\n      </div>\n    `);\n  }\n  snapshot.nations.forEach((nation) => {\n    list.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${nation.nation}</div>\r\n            <div class=\"muted\">Capital ${formatCount(nation.capital)} | Elsewhere ${formatCount(nation.elsewhere)}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(nation.total)}</div>\r\n        </div>\r\n      </div>\r\n    `);\r\n  });\r\n  $(\"populationList\").innerHTML = list.join(\"\");\r\n}\r\n\r\nfunction renderRoleActions() {\r\n  const listEl = $(\"roleActionsList\");\r\n  if (!listEl) return;\r\n  const badgeFor = (status) => {\r\n    const meta = ROLE_ACTION_STATUS[status] || ROLE_ACTION_STATUS.placeholder;\r\n    return `<span class=\"${meta.className}\">${meta.label}</span>`;\r\n  };\r\n  const renderAction = (action) => {\r\n    const label = action.label ? `${action.label}${action.priority ? ` (Priority ${action.priority})` : \"\"}: ` : \"\";\r\n    return `\r\n      <div class=\"list-row\">\r\n        <div class=\"muted\">${label}${action.verb} - ${action.detail}</div>\r\n        ${badgeFor(action.status)}\r\n      </div>\r\n    `;\r\n  };\r\n  listEl.innerHTML = ROLE_ACTIONS.map((group) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">${group.role}</div>\r\n      ${group.occupations.map((occupation) => `\r\n        <div class=\"muted\">${occupation.name}${occupation.note ? ` - ${occupation.note}` : \"\"}</div>\r\n        ${occupation.actions.map(renderAction).join(\"\")}\r\n      `).join(\"\")}\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction renderTutorialEconomy() {\r\n  const listEl = $(\"tutorialEconomyList\");\r\n  const tuningEl = $(\"tutorialEconomyTuning\");\r\n  const noticeEl = $(\"tutorialCheaterNotice\");\r\n  if (!listEl || !tuningEl) return;\r\n\r\n  const safeNumber = (value, fallback) => (Number.isFinite(value) ? value : fallback);\r\n  const cheaterActive = Boolean(state.meta?.cheaterMode);\r\n  if (noticeEl) {\r\n    noticeEl.textContent = cheaterActive\r\n      ? \"Cheater mode active. Achievements and tasks are disabled while active.\"\n      : \"Enable Cheater Mode in Settings to edit economy tuning.\";\r\n  }\r\n\r\n  const revenueRate = safeNumber(ECONOMY_TUNING?.revenuePerChartPoint, 22);\r\n  const upkeepPerCreator = safeNumber(ECONOMY_TUNING?.upkeepPerCreator, 150);\r\n  const upkeepPerStudio = safeNumber(ECONOMY_TUNING?.upkeepPerOwnedStudio, 600);\r\n  const promoStep = safeNumber(ECONOMY_TUNING?.promoWeekBudgetStep, 1200);\r\n  const promoBase = safeNumber(ECONOMY_TUNING?.promoWeekBase, 1);\r\n  const promoMin = safeNumber(ECONOMY_TUNING?.promoWeeksMin, 1);\r\n  const promoMax = safeNumber(ECONOMY_TUNING?.promoWeeksMax, 4);\r\n  const releaseFee = safeNumber(ECONOMY_BASELINES?.physicalReleaseFee, 0);\r\n  const baseSingle = safeNumber(ECONOMY_BASELINES?.physicalSingle, 4.99);\r\n  const unitRatio = safeNumber(ECONOMY_BASELINES?.physicalUnitCostRatio, 0.35);\r\n  const unitCostMin = safeNumber(ECONOMY_TUNING?.physicalUnitCostMin, 0.5);\r\n  const runMin = safeNumber(ECONOMY_BASELINES?.physicalRunMin, 200);\r\n  const runMax = safeNumber(ECONOMY_BASELINES?.physicalRunMax, 25000);\r\n  const runRound = safeNumber(ECONOMY_BASELINES?.physicalRunRound, 50);\r\n  const multSingle = safeNumber(ECONOMY_PRICE_MULTIPLIERS?.single, 1);\r\n  const multEp = safeNumber(ECONOMY_PRICE_MULTIPLIERS?.ep, 1.55);\r\n  const multAlbum = safeNumber(ECONOMY_PRICE_MULTIPLIERS?.album, 2.25);\r\n\r\n  const ratioLabel = `${Math.round(unitRatio * 100)}%`;\r\n  listEl.innerHTML = [\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Weekly revenue</div>\r\n        <div class=\"muted\">Revenue = sum(max(0, score) * ${formatMoney(revenueRate)}) * difficulty revenue multiplier.</div>\r\n        <div class=\"tiny muted\">Each track uses the same ${formatMoney(revenueRate)} per chart score point.</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Weekly upkeep</div>\r\n        <div class=\"muted\">Upkeep = (creators * ${formatMoney(upkeepPerCreator)}) + (owned studios * ${formatMoney(upkeepPerStudio)}) + lease fees.</div>\r\n        <div class=\"tiny muted\">Final upkeep multiplies by difficulty upkeep modifier.</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Distribution fee</div>\r\n        <div class=\"muted\">Physical/Both releases charge ${formatMoney(releaseFee)} upfront; Digital releases are $0.</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Physical unit price</div>\r\n        <div class=\"muted\">Unit price = ${formatMoney(baseSingle)} * multiplier (Single ${multSingle}x, EP ${multEp}x, Album ${multAlbum}x).</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Physical unit cost</div>\r\n        <div class=\"muted\">Unit cost = max(${formatMoney(unitCostMin)}, unit price * ${ratioLabel}).</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Promo weeks from budget</div>\r\n        <div class=\"muted\">Promo weeks = clamp(floor(budget / ${formatMoney(promoStep)}) + ${formatCount(promoBase)}, ${formatCount(promoMin)} to ${formatCount(promoMax)}).</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Physical run rounding</div>\r\n        <div class=\"muted\">Recommended units round to ${formatCount(runRound)} and clamp between ${formatCount(runMin)} and ${formatCount(runMax)} (budget caps apply).</div>\r\n      </div>\r\n    `\r\n  ].join(\"\");\r\n\r\n  const attr = (name, value) => (typeof value === \"undefined\" || value === null ? \"\" : ` ${name}=\"${value}\"`);\r\n  const formatValue = (value, format) => {\r\n    if (!Number.isFinite(value)) return \"-\";\r\n    if (format === \"money\") return formatMoney(value);\r\n    if (format === \"percent\") return `${Math.round(value * 100)}%`;\r\n    if (format === \"multiplier\") return `${value.toFixed(2)}x`;\r\n    return formatCount(value);\r\n  };\r\n  const fields = [\r\n    {\r\n      label: \"Revenue per chart score\",\r\n      detail: \"Cash per chart score point.\",\r\n      target: \"tuning\",\r\n      key: \"revenuePerChartPoint\",\r\n      value: revenueRate,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Upkeep per creator\",\r\n      detail: \"Weekly upkeep per signed creator.\",\r\n      target: \"tuning\",\r\n      key: \"upkeepPerCreator\",\r\n      value: upkeepPerCreator,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Upkeep per owned studio\",\r\n      detail: \"Weekly upkeep per owned studio slot.\",\r\n      target: \"tuning\",\r\n      key: \"upkeepPerOwnedStudio\",\r\n      value: upkeepPerStudio,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Promo budget step\",\r\n      detail: \"Budget per promo week tier.\",\r\n      target: \"tuning\",\r\n      key: \"promoWeekBudgetStep\",\r\n      value: promoStep,\r\n      min: 0,\r\n      step: 50,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Promo week base\",\r\n      detail: \"Weeks added before clamp.\",\r\n      target: \"tuning\",\r\n      key: \"promoWeekBase\",\r\n      value: promoBase,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Promo weeks min\",\r\n      detail: \"Minimum promo weeks.\",\r\n      target: \"tuning\",\r\n      key: \"promoWeeksMin\",\r\n      value: promoMin,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Promo weeks max\",\r\n      detail: \"Maximum promo weeks.\",\r\n      target: \"tuning\",\r\n      key: \"promoWeeksMax\",\r\n      value: promoMax,\r\n      min: 1,\r\n      step: 1,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Physical release fee\",\r\n      detail: \"Upfront fee for Physical/Both releases.\",\r\n      target: \"baselines\",\r\n      key: \"physicalReleaseFee\",\r\n      value: releaseFee,\r\n      min: 0,\r\n      step: 50,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Physical single base price\",\r\n      detail: \"Base single price before multipliers.\",\r\n      target: \"baselines\",\r\n      key: \"physicalSingle\",\r\n      value: baseSingle,\r\n      min: 0.01,\r\n      step: 0.01,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Single price multiplier\",\r\n      detail: \"Single price multiplier.\",\r\n      target: \"priceMultipliers\",\r\n      key: \"single\",\r\n      value: multSingle,\r\n      min: 0,\r\n      step: 0.05,\r\n      format: \"multiplier\"\r\n    },\r\n    {\r\n      label: \"EP price multiplier\",\r\n      detail: \"EP price multiplier.\",\r\n      target: \"priceMultipliers\",\r\n      key: \"ep\",\r\n      value: multEp,\r\n      min: 0,\r\n      step: 0.05,\r\n      format: \"multiplier\"\r\n    },\r\n    {\r\n      label: \"Album price multiplier\",\r\n      detail: \"Album price multiplier.\",\r\n      target: \"priceMultipliers\",\r\n      key: \"album\",\r\n      value: multAlbum,\r\n      min: 0,\r\n      step: 0.05,\r\n      format: \"multiplier\"\r\n    },\r\n    {\r\n      label: \"Physical unit cost ratio\",\r\n      detail: \"Unit cost as % of unit price.\",\r\n      target: \"baselines\",\r\n      key: \"physicalUnitCostRatio\",\r\n      value: unitRatio,\r\n      min: 0,\r\n      max: 1,\r\n      step: 0.01,\r\n      format: \"percent\"\r\n    },\r\n    {\r\n      label: \"Physical unit cost floor\",\r\n      detail: \"Minimum unit cost.\",\r\n      target: \"tuning\",\r\n      key: \"physicalUnitCostMin\",\r\n      value: unitCostMin,\r\n      min: 0,\r\n      step: 0.1,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Physical run rounding\",\r\n      detail: \"Round units to this increment.\",\r\n      target: \"baselines\",\r\n      key: \"physicalRunRound\",\r\n      value: runRound,\r\n      min: 0,\r\n      step: 10,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Physical run min\",\r\n      detail: \"Minimum recommended units.\",\r\n      target: \"baselines\",\r\n      key: \"physicalRunMin\",\r\n      value: runMin,\r\n      min: 0,\r\n      step: 10,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Physical run max\",\r\n      detail: \"Maximum recommended units.\",\r\n      target: \"baselines\",\r\n      key: \"physicalRunMax\",\r\n      value: runMax,\r\n      min: 0,\r\n      step: 100,\r\n      format: \"count\"\r\n    }\r\n  ];\r\n\r\n  tuningEl.innerHTML = fields.map((field) => {\r\n    const inputValue = Number.isFinite(field.value) ? field.value : \"\";\r\n    const display = formatValue(field.value, field.format);\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${field.label}</div>\r\n            <div class=\"muted\">${field.detail}</div>\r\n          </div>\r\n          <input\r\n            type=\"number\"\r\n            class=\"tutorial-input\"\r\n            data-cheat-econ-target=\"${field.target}\"\r\n            data-cheat-econ-key=\"${field.key}\"\r\n            value=\"${inputValue}\"\r\n            ${cheaterActive ? \"\" : \"disabled\"}\r\n            ${attr(\"min\", field.min)}\r\n            ${attr(\"max\", field.max)}\r\n            ${attr(\"step\", field.step)}\r\n          >\r\n        </div>\r\n        <div class=\"tiny muted\">Current: ${display}</div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderEconomySummary() {\r\n  if (!$(\"economySummary\")) return;\r\n  const studioMarket = getStudioMarketSnapshot();\r\n  const summary = [\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Weekly Net</div>\r\n            <div class=\"muted\">Revenue ${formatMoney(state.economy.lastRevenue)} | Upkeep ${formatMoney(state.economy.lastUpkeep)}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatMoney(state.economy.lastRevenue - state.economy.lastUpkeep)}</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Studio Availability</div>\r\n            <div class=\"muted\">eyeriS ${formatCount(studioMarket.available)} | Rivals ${formatCount(studioMarket.rivals)} | You ${formatCount(studioMarket.player)}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(studioMarket.total)} total</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Baseline Prices</div>\r\n            <div class=\"muted\">Digital Single ${formatMoney(ECONOMY_BASELINES.digitalSingle)} | Physical Single ${formatMoney(ECONOMY_BASELINES.physicalSingle)}</div>\r\n          </div>\r\n          <div class=\"pill\">2025</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Studio Lease</div>\r\n            <div class=\"muted\">${formatMoney(ECONOMY_BASELINES.studioLease4y)} every 4 years | Build ${formatMoney(ECONOMY_BASELINES.studioBuildCost)}</div>\r\n          </div>\r\n          <div class=\"pill\">eyeriS</div>\r\n        </div>\r\n      </div>\r\n    `\r\n  ];\r\n  $(\"economySummary\").innerHTML = summary.join(\"\");\r\n}\r\n\r\nfunction renderActiveCampaigns() {\r\n  const listEl = $(\"activeCampaignList\");\r\n  if (!listEl) return;\r\n  const activeTracks = state.marketTracks.filter((entry) => entry.isPlayer && entry.promoWeeks > 0);\r\n  const activeActs = state.acts.filter((act) => act.promoWeeks > 0);\r\n  if (!activeTracks.length && !activeActs.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No active promo pushes.</div>`;\r\n    return;\r\n  }\r\n  const items = [\r\n    ...activeTracks.map((entry) => {\r\n      const track = entry.trackId ? getTrack(entry.trackId) : null;\r\n      const title = track ? track.title : entry.title;\r\n      const genreLabel = track\r\n        ? renderTrackGenrePills(track)\r\n        : renderGenrePillsFromGenre(entry.genre, { alignment: entry.alignment });\r\n      return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${renderTrackTitle(title)}</div>\r\n            <div class=\"muted\">${genreLabel}</div>\r\n          </div>\r\n          <div class=\"pill\">${entry.promoWeeks}w</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n    }),\r\n    ...activeActs.map((act) => `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${renderActName(act)}</div>\r\n            <div class=\"muted\">Act promo${act.alignment ? ` | ${renderAlignmentTag(act.alignment)}` : \"\"}</div>\r\n          </div>\r\n          <div class=\"pill\">${act.promoWeeks}w</div>\r\n        </div>\r\n      </div>\r\n    `)\r\n  ];\r\n  listEl.innerHTML = items.join(\"\");\r\n}\r\n\r\nfunction renderPromoAlerts() {\r\n  const listEl = $(\"promoAlertsList\");\r\n  if (!listEl) return;\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const focusEra = getFocusedEra();\r\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\r\n  const displayEra = focusEra || fallbackEra;\r\n  if (!displayEra) {\r\n    listEl.innerHTML = `<div class=\"muted\">No active era promo alerts.</div>`;\r\n    return;\r\n  }\r\n  const act = getAct(displayEra.actId);\n  const actLabel = act ? renderActName(act) : \"\";\n  const stageName = ERA_STAGES[displayEra.stageIndex] || \"Active\";\n  const eraLabel = `${displayEra.name}${actLabel ? ` (${actLabel})` : \"\"} | ${stageName}`;\n  const now = state.time.epochMs;\r\n  const tracks = state.tracks.filter((track) => track.eraId === displayEra.id)\r\n    .filter((track) => track.status === \"Released\" || track.status === \"Scheduled\");\r\n  const trackAlerts = tracks.map((track) => {\r\n    const used = track.promo?.typesUsed || {};\r\n    const missing = PROMO_TRACK_REQUIRED_TYPES.filter((typeId) => {\r\n      if (typeId === \"musicVideo\" && track.status !== \"Released\") return false;\r\n      const count = Number.isFinite(used[typeId]) ? used[typeId] : 0;\r\n      if (count > 0) return false;\r\n      if (typeId === \"musicVideo\" && track.promo?.musicVideoUsed) return false;\r\n      return true;\r\n    });\r\n    if (!missing.length) return null;\r\n    return { track, missing };\r\n  }).filter(Boolean);\r\n  const actAlerts = [];\r\n  if (act) {\r\n    const referenceAt = Number.isFinite(act.lastPromoAt) ? act.lastPromoAt : displayEra.startedAt;\r\n    if (Number.isFinite(referenceAt)) {\r\n      const weeksSince = Math.floor(Math.max(0, now - referenceAt) / (DAY_MS * 7));\r\n      if (weeksSince >= ACT_PROMO_WARNING_WEEKS) {\r\n        actAlerts.push({ act, referenceAt, weeksSince });\r\n      }\r\n    }\r\n  }\r\n  const blocks = [\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Focus Era</div>\r\n        <div class=\"muted\">${eraLabel}</div>\r\n      </div>\r\n    `\r\n  ];\r\n  if (!actAlerts.length && !trackAlerts.length) {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">No promo alerts</div>\r\n        <div class=\"muted\">Active-era content has current promo coverage.</div>\r\n      </div>\r\n    `);\r\n    listEl.innerHTML = blocks.join(\"\");\r\n    return;\r\n  }\r\n  actAlerts.forEach((entry) => {\r\n    const alignmentLine = entry.act.alignment ? ` | ${renderAlignmentTag(entry.act.alignment)}` : \"\";\r\n    const lastPromoLabel = formatShortDate(entry.referenceAt);\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${renderActName(entry.act)}</div>\r\n            <div class=\"muted\">Last promo ${lastPromoLabel} (${entry.weeksSince}w ago)${alignmentLine}</div>\r\n            <div class=\"muted\">Warning: no promo activity in ${ACT_PROMO_WARNING_WEEKS} weeks.</div>\r\n          </div>\r\n          <span class=\"badge warn\">Stale act</span>\r\n        </div>\r\n      </div>\r\n    `);\r\n  });\r\n  trackAlerts.forEach(({ track, missing }) => {\r\n    const missingLabels = missing.map((typeId) => PROMO_TYPE_DETAILS[typeId]?.label || typeId).join(\", \");\r\n    const act = track.actId ? getAct(track.actId) : null;\r\n    const actLabel = act ? renderActName(act) : \"Unassigned\";\r\n    const releaseLabel = track.releasedAt ? ` | Released ${formatShortDate(track.releasedAt)}` : \"\";\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n            <div class=\"muted\">Missing promo: ${missingLabels}</div>\r\n            <div class=\"muted\">Act: ${actLabel} | Status: ${track.status}${releaseLabel}</div>\r\n          </div>\r\n          <span class=\"badge warn\">Promo gap</span>\r\n        </div>\r\n      </div>\r\n    `);\r\n  });\r\n  listEl.innerHTML = blocks.join(\"\");\r\n}\r\n\r\nfunction renderWallet() {\r\n  const items = [\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${state.label.name}</div>\r\n            <div class=\"muted\">Active funds</div>\r\n          </div>\r\n          <div class=\"pill\">${formatMoney(state.label.cash)}</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Last Weekly Report</div>\r\n            <div class=\"muted\">Week ${state.economy.lastWeek || 1}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatMoney(state.economy.lastRevenue)} / ${formatMoney(state.economy.lastUpkeep)}</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Audience Reach</div>\r\n            <div class=\"muted\">Active awareness</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(state.label.fans)}</div>\r\n        </div>\r\n      </div>\r\n    `\r\n  ];\r\n  const el = $(\"walletDetails\");\r\n  if (el) el.innerHTML = items.join(\"\");\r\n}\r\n\r\nfunction renderLossArchives() {\r\n  const target = $(\"usageLedgerList\");\r\n  if (!target) return;\r\n  const archives = loadLossArchives();\r\n  if (!archives.length) {\r\n    target.innerHTML = `<div class=\"muted\">No loss archives yet.</div>`;\r\n    return;\r\n  }\r\n  const sorted = archives.slice().sort((a, b) => (b.createdAt || 0) - (a.createdAt || 0));\r\n  target.innerHTML = sorted.map((entry) => {\r\n    const createdAt = entry.createdAt ? new Date(entry.createdAt).toLocaleString() : \"Unknown\";\r\n    const slot = entry.slot ? `Slot ${entry.slot}` : \"Slot -\";\r\n    const week = entry.week ? `Week ${entry.week}` : \"Week -\";\r\n    const year = entry.year || \"-\";\r\n    const uiCount = Array.isArray(entry.uiEvents) ? entry.uiEvents.length : 0;\r\n    const simCount = Array.isArray(entry.simEvents) ? entry.simEvents.length : 0;\r\n    const label = entry.label || \"Unknown Label\";\r\n    const reason = entry.reason || \"Loss recorded.\";\r\n    const lossId = entry.id || \"\";\r\n    const gameDate = entry.gameTime ? formatDate(entry.gameTime) : \"Unknown\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${label} - Loss</div>\r\n            <div class=\"muted\">${reason}</div>\r\n            <div class=\"muted\">${slot} | ${week} | Year ${year}</div>\r\n            <div class=\"muted\">Game date ${gameDate}</div>\r\n            <div class=\"muted\">UI ${uiCount} | System ${simCount} | Archived ${createdAt}</div>\r\n          </div>\r\n          <div class=\"actions\">\r\n            <button type=\"button\" class=\"ghost mini\" data-loss-action=\"download\" data-loss-id=\"${lossId}\">Download</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderResourceTickSummary() {\r\n  const target = $(\"resourceTickSummary\");\r\n  if (!target) return;\r\n  const ledger = state.resourceTickLedger?.hours || [];\r\n  const recent = ledger.slice(-RESOURCE_TICK_LEDGER_LIMIT);\r\n  const totals = recent.reduce((sum, entry) => ({\r\n    regenTotal: sum.regenTotal + (entry.regenTotal || 0),\r\n    spendTotal: sum.spendTotal + (entry.spendTotal || 0),\r\n    overuseCount: sum.overuseCount + (entry.overuseCount || 0),\r\n    departuresFlagged: sum.departuresFlagged + (entry.departuresFlagged || 0)\r\n  }), { regenTotal: 0, spendTotal: 0, overuseCount: 0, departuresFlagged: 0 });\r\n\r\n  const dayIndex = Math.floor(state.time.epochMs / DAY_MS);\r\n  const spentToday = state.creators.map((creator) => ({\r\n    creator,\r\n    spent: getCreatorStaminaSpentToday(creator)\r\n  }));\r\n  spentToday.sort((a, b) => b.spent - a.spent);\r\n  const topSpent = spentToday.filter((entry) => entry.spent > 0).slice(0, 5);\r\n  const overuseToday = state.creators.filter((creator) => creator.lastOveruseDay === dayIndex);\r\n  const departureRisks = state.creators.filter((creator) => creator.departurePending?.reason === \"overuse\");\r\n\r\n  const blocks = [];\r\n  blocks.push(`\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">Last 24h</div>\r\n      <div class=\"muted\">Regen +${formatCount(totals.regenTotal)} | Spend -${formatCount(totals.spendTotal)}</div>\r\n      <div class=\"muted\">Overuse strikes ${formatCount(totals.overuseCount)} | Departures flagged ${formatCount(totals.departuresFlagged)}</div>\r\n    </div>\r\n  `);\r\n\r\n  if (topSpent.length) {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Top Stamina Spent (Today)</div>\r\n        ${topSpent.map((entry) => `\r\n          <div class=\"muted\">${entry.creator.name} (${roleLabel(entry.creator.role)}) - ${formatCount(entry.spent)} / ${STAMINA_OVERUSE_LIMIT}</div>\r\n        `).join(\"\")}\r\n      </div>\r\n    `);\r\n  } else {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Top Stamina Spent (Today)</div>\r\n        <div class=\"muted\">No stamina spent yet.</div>\r\n      </div>\r\n    `);\r\n  }\r\n\r\n  if (overuseToday.length) {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Overuse Strikes Today</div>\r\n        ${overuseToday.map((creator) => `\r\n          <div class=\"muted\">${creator.name} (${roleLabel(creator.role)}) - strikes ${creator.overuseStrikes}</div>\r\n        `).join(\"\")}\r\n      </div>\r\n    `);\r\n  } else {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Overuse Strikes Today</div>\r\n        <div class=\"muted\">None.</div>\r\n      </div>\r\n    `);\r\n  }\r\n\r\n  if (departureRisks.length) {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Departure Risks</div>\r\n        ${departureRisks.map((creator) => `\r\n          <div class=\"muted\">${creator.name} (${roleLabel(creator.role)}) - strikes ${creator.overuseStrikes}</div>\r\n        `).join(\"\")}\r\n      </div>\r\n    `);\r\n  } else {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Departure Risks</div>\r\n        <div class=\"muted\">None.</div>\r\n      </div>\r\n    `);\r\n  }\r\n\r\n  target.innerHTML = blocks.join(\"\");\r\n}\r\n\r\nfunction renderQuickRecipes() {\r\n  if (!$(\"quickRecipesList\")) return;\r\n  const recipes = [\r\n    { title: \"Songwriting\", detail: \"Assign Songwriter ID + Theme to draft the sheet music.\" },\r\n    { title: \"Recording\", detail: \"Assign Recorder ID + Mood to craft the demo tone.\" },\r\n    { title: \"Production\", detail: \"Assign Producer ID to master the track quality.\" },\r\n    { title: \"Release\", detail: \"Move Ready tracks into Release Desk for scheduling.\" },\r\n    { title: \"Promo Pushes\", detail: \"Assign a Scheduled or Released Track ID to the Promo Push Slot.\" }\r\n  ];\r\n  $(\"quickRecipesList\").innerHTML = recipes.map((recipe) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">${recipe.title}</div>\r\n      <div class=\"muted\">${recipe.detail}</div>\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction renderActiveArea() {\r\n  if (!$(\"activeAreaDisplay\")) return;\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const counts = getStudioUsageCounts();\r\n  const ownedSlots = getOwnedStudioSlots();\r\n  const totalSlots = ownedSlots + counts.leased;\r\n  state.studio.inUse = counts.total;\r\n  let era = \"No active eras\";\r\n  if (activeEras.length === 1) {\r\n    const active = activeEras[0];\r\n    era = `${active.name} (${ERA_STAGES[active.stageIndex] || \"Active\"})`;\r\n  } else if (activeEras.length > 1) {\r\n    const names = activeEras.slice(0, 2).map((entry) => entry.name).join(\", \");\r\n    const extra = activeEras.length > 2 ? ` +${activeEras.length - 2}` : \"\";\r\n    era = `${activeEras.length} active (${names}${extra})`;\r\n  }\r\n  $(\"activeAreaDisplay\").innerHTML = `\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div>\r\n          <div class=\"item-title\">Studios</div>\r\n          <div class=\"muted\">${counts.total} active / ${totalSlots} total</div>\r\n        </div>\r\n        <div class=\"pill\">${totalSlots} rooms</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div>\r\n          <div class=\"item-title\">Active Era</div>\r\n          <div class=\"muted\">${era}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction renderInventory() {\r\n  if (!$(\"inventoryList\")) return;\r\n  const ready = state.tracks.filter((track) => track.status === \"Ready\" || track.status === \"Scheduled\");\r\n  if (!ready.length) {\r\n    $(\"inventoryList\").innerHTML = `<div class=\"muted\">No finished content yet.</div>`;\r\n    return;\r\n  }\r\n  $(\"inventoryList\").innerHTML = ready.map((track) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div class=\"item-main\">\r\n          <div class=\"content-thumb\" aria-hidden=\"true\"></div>\r\n          <div>\r\n            <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n            <div class=\"muted\">Item: Track \u0007 ID ${track.id}</div>\r\n            <div class=\"muted\">${track.status} \u0007 ${renderTrackGenrePills(track)}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"pill grade\" data-grade=\"${qualityGrade(track.quality)}\">${qualityGrade(track.quality)}</div>\r\n      </div>\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction renderModifierInventory() {\r\n  const listEl = $(\"modifierInventoryList\");\r\n  if (!listEl) return;\r\n  const items = MODIFIERS.filter((mod) => mod.id !== \"None\" && getModifierInventoryCount(mod.id) > 0);\r\n  if (!items.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No modifiers purchased yet.</div>`;\r\n    return;\r\n  }\r\n  listEl.innerHTML = items.map((modifier) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div>\r\n          <div class=\"item-title\">${modifier.label}</div>\r\n          <div class=\"muted\">${modifier.desc}</div>\r\n          ${renderModifierFocus(modifier)}\r\n          <div class=\"tiny muted\">${formatModifierDelta(modifier)}</div>\r\n        </div>\r\n        <div class=\"pill\">x${getModifierInventoryCount(modifier.id)}</div>\r\n      </div>\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction renderModifierTools() {\r\n  const listEl = $(\"communityToolsList\");\r\n  if (!listEl) return;\r\n  const inflationMultiplier = getPromoInflationMultiplier();\r\n  const inflationLabel = $(\"modifierInflationLabel\");\r\n  if (inflationLabel) inflationLabel.textContent = `Inflation x${inflationMultiplier.toFixed(2)}`;\r\n  const tools = MODIFIERS.filter((mod) => mod.id !== \"None\");\r\n  if (!tools.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No modifiers available.</div>`;\r\n    return;\r\n  }\r\n  listEl.innerHTML = tools.map((modifier) => {\r\n    const { baseCost, adjustedCost } = getModifierCosts(modifier, inflationMultiplier);\r\n    const ownedCount = getModifierInventoryCount(modifier.id);\r\n    const canAfford = state.label.cash >= adjustedCost;\r\n    const buttonLabel = `Buy ${formatMoney(adjustedCost)}${canAfford ? \"\" : \" (short)\"}`;\r\n    const buttonState = !canAfford ? \" disabled\" : \"\";\r\n    const focusLine = renderModifierFocus(modifier);\r\n    const deltaLine = `<div class=\"tiny muted\">${formatModifierDelta(modifier)}</div>`;\r\n    const priceLine = `<div class=\"tiny muted\">Base ${formatMoney(baseCost)} | Inflation-adjusted ${formatMoney(adjustedCost)}</div>`;\r\n    const ownedLine = ownedCount ? `<div class=\"tiny muted\">Owned: x${ownedCount}</div>` : \"\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${modifier.label}</div>\r\n            <div class=\"muted\">${modifier.desc}</div>\r\n            ${focusLine}\r\n            ${deltaLine}\r\n            ${priceLine}\r\n            ${ownedLine}\r\n          </div>\r\n          <button type=\"button\" class=\"ghost mini\" data-modifier-buy=\"${modifier.id}\"${buttonState}>${buttonLabel}</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderCalendarEraList(eras) {\n  if (!eras.length) {\n    return `<div class=\"muted\">No active eras on the calendar.</div>`;\n  }\n  return eras.map((era) => `\n    <div class=\"list-item\">\n      <div class=\"item-title\">${era.name}</div>\n      <div class=\"muted\">Act: ${renderActName(era) || \"Unknown\"} | Stage: ${era.stageName}</div>\n      <div class=\"muted\">Started Week ${era.startedWeek} | Content: ${era.content}</div>\n    </div>\n  `).join(\"\");\n}\n\nfunction normalizeCalendarTab() {\n  if (!state.ui) state.ui = {};\n  const tab = state.ui.calendarTab;\n  if (tab !== \"label\" && tab !== \"public\") {\n    state.ui.calendarTab = \"label\";\n  }\n  return state.ui.calendarTab || \"label\";\n}\n\nfunction renderCalendarView() {\n  normalizeCalendarTab();\n  const grid = $(\"calendarGrid\");\n  const list = $(\"calendarList\");\n  const footerPanel = $(\"calendarFooterPanel\");\n  const rangeLabel = $(\"calendarRangeLabel\");\n  const projection = buildCalendarProjection({ pastWeeks: 0, futureWeeks: 3 });\n  if (rangeLabel) rangeLabel.textContent = projection.rangeLabel || \"\";\n\n  if (grid) {\n    grid.classList.remove(\"hidden\");\n    grid.innerHTML = CalendarView(projection);\n  }\n  if (list) list.classList.remove(\"hidden\");\n  if (footerPanel) footerPanel.classList.remove(\"hidden\");\n  const upcomingWeeks = projection.weeks.length || 1;\n  const upcomingProjection = buildCalendarProjection({\n    pastWeeks: 0,\n    futureWeeks: Math.max(0, upcomingWeeks - 1),\r\n    anchorWeekIndex: weekIndex() + 1\r\n  });\r\n  renderCalendarList(\"calendarList\", upcomingWeeks, upcomingProjection);\n}\n\nfunction formatEventTimeLabel(epochMs) {\n  if (!Number.isFinite(epochMs)) return \"\";\n  const date = new Date(epochMs);\n  const hours = String(date.getUTCHours()).padStart(2, \"0\");\n  const minutes = String(date.getUTCMinutes()).padStart(2, \"0\");\n  return hours === \"00\" && minutes === \"00\" ? \"\" : `${hours}:${minutes}`;\n}\n\nfunction renderCalendarUpcomingFooter(projection, tab) {\n  const daysWithEvents = [];\n  (projection.weeks || []).forEach((week) => {\n    const days = Array.isArray(week.days) ? week.days : [];\r\n    days.forEach((day) => {\r\n      if (Array.isArray(day.events) && day.events.length) daysWithEvents.push(day);\r\n    });\r\n  });\r\n\r\n  const countLabel = `${daysWithEvents.length} day${daysWithEvents.length === 1 ? \"\" : \"s\"}`;\r\n  const header = `\r\n    <div class=\"calendar-footer-head\">\r\n      <div class=\"subhead\">Upcoming</div>\r\n      <div class=\"tiny muted\">${countLabel}</div>\r\n    </div>\r\n  `;\r\n\r\n  if (!daysWithEvents.length) {\r\n    return `${header}<div class=\"calendar-upcoming calendar-upcoming--empty\"><div class=\"muted\">No upcoming events.</div></div>`;\r\n  }\r\n\r\n  const cards = daysWithEvents.map((day) => {\r\n    const events = Array.isArray(day.events) ? day.events.slice().sort((a, b) => a.ts - b.ts) : [];\r\n    const visible = events.slice(0, 3);\r\n    const overflow = events.length - visible.length;\r\n    const dayClass = day.isPreview ? \"calendar-upcoming-day is-preview\" : \"calendar-upcoming-day\";\n    const items = visible.map((entry) => {\n      const title = entry.title || \"Untitled\";\n      const typeLabel = entry.typeLabel || \"Event\";\n      const distribution = entry.distribution || \"Digital\";\n      const timeLabel = formatEventTimeLabel(entry.ts);\n      const metaLine = timeLabel ? `${typeLabel} | ${timeLabel} | ${distribution}` : `${typeLabel} | ${distribution}`;\n      const actLabel = renderActName(entry) || \"Unknown\";\n      const labelName = entry.label || \"Label\";\n      const showLabel = entry.showLabel || tab === \"public\";\n      const labelCountry = getRivalByName(labelName)?.country || state.label.country || \"Annglora\";\n      const labelTag = showLabel ? renderLabelTag(labelName, labelCountry) : \"\";\n      const labelLine = showLabel\n        ? `${labelTag}<span class=\"calendar-upcoming-event-act\">${actLabel}</span>`\n        : `<span class=\"calendar-upcoming-event-act\">${actLabel}</span>`;\n      return `\n        <div class=\"calendar-upcoming-event\">\n          <div class=\"calendar-upcoming-event-title\">${title}</div>\n          <div class=\"calendar-upcoming-event-meta\">${metaLine}</div>\n          <div class=\"calendar-upcoming-event-label\">${labelLine}</div>\n        </div>\n      `;\n    }).join(\"\");\n    const overflowHtml = overflow > 0\n      ? `<div class=\"calendar-upcoming-event calendar-upcoming-event--more\" data-calendar-day-more data-day-ts=\"${day.start}\" role=\"button\" tabindex=\"0\">+${overflow} more</div>`\n      : \"\";\n    return `\r\n      <div class=\"${dayClass}\" data-day-ts=\"${day.start}\">\r\n        <div class=\"calendar-upcoming-meta\">\r\n          <div class=\"calendar-upcoming-date\">\r\n            <span class=\"calendar-upcoming-dayname\">${day.dayLabel}</span>\r\n            <span class=\"calendar-upcoming-datelabel\">${day.dateLabel}</span>\r\n          </div>\r\n          <div class=\"calendar-upcoming-count\">${events.length} event${events.length === 1 ? \"\" : \"s\"}</div>\r\n        </div>\r\n        <div class=\"calendar-upcoming-events\">\r\n          ${items}\r\n          ${overflowHtml}\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n\n  return `${header}<div class=\"calendar-upcoming\">${cards}</div>`;\n}\n\nfunction formatBroadcastScope(scope) {\n  if (!scope) return \"Local\";\n  if (scope.type === \"global\") return \"Global\";\n  if (scope.type === \"nation\") return `${scope.id} Nation`;\n  if (scope.type === \"region\") return `${scope.id} Region`;\n  return scope.id || scope.type || \"Local\";\n}\n\nfunction listPromoTimeframesSafe() {\n  return Array.isArray(PROMO_TIMEFRAMES) ? PROMO_TIMEFRAMES : [];\n}\n\nfunction promoDayStartEpochMs(epochMs) {\n  const day = new Date(epochMs);\n  day.setUTCHours(0, 0, 0, 0);\n  return day.getTime();\n}\n\nfunction resolvePromoWindow(epochMs) {\n  const frames = listPromoTimeframesSafe();\n  if (!frames.length) return null;\n  const hour = new Date(epochMs).getUTCHours();\n  const dayStart = promoDayStartEpochMs(epochMs);\n  const current = frames.find((frame) => hour >= frame.startHour && hour < frame.endHour);\n  if (current) return { frame: current, dayStart, isCurrent: true };\n  const first = frames[0];\n  if (hour < first.startHour) return { frame: first, dayStart, isCurrent: false };\n  return { frame: first, dayStart: dayStart + DAY_MS, isCurrent: false };\n}\n\nfunction renderPromoScheduleControls() {\n  const weekInput = $(\"promoScheduleWeek\");\n  const daySelect = $(\"promoScheduleDay\");\n  const timeframeSelect = $(\"promoScheduleTimeframe\");\n  if (!weekInput || !daySelect || !timeframeSelect) return;\n  if (!state.ui) state.ui = {};\n  const frames = listPromoTimeframesSafe();\n  const options = frames.map((frame) => `<option value=\"${frame.id}\">${frame.label}</option>`).join(\"\");\n  timeframeSelect.innerHTML = `<option value=\"\">Timeframe</option>${options}`;\n  const weekValue = Number.isFinite(state.ui.promoScheduleWeek)\n    ? String(Math.max(1, Math.round(state.ui.promoScheduleWeek)))\n    : \"\";\n  const dayValue = Number.isFinite(state.ui.promoScheduleDay)\n    ? String(clamp(Math.round(state.ui.promoScheduleDay), 0, 6))\n    : \"\";\n  weekInput.value = weekValue;\n  if (!daySelect.querySelector('option[value=\"\"]')) {\n    daySelect.insertAdjacentHTML(\"afterbegin\", \"<option value=\\\"\\\">Day</option>\");\n  }\n  daySelect.value = dayValue;\n  timeframeSelect.value = state.ui.promoScheduleTimeframe || \"\";\n}\n\nfunction getBookingTimeframeId(booking) {\n  if (booking?.timeframeId) return booking.timeframeId;\n  if (!Number.isFinite(booking?.startsAt)) return null;\n  const hour = new Date(booking.startsAt).getUTCHours();\n  const frames = listPromoTimeframesSafe();\n  const match = frames.find((frame) => hour >= frame.startHour && hour < frame.endHour);\n  return match?.id || frames[0]?.id || null;\n}\n\nfunction getStudioTimeframeCapacity(studio, timeframeId) {\n  const frames = listPromoTimeframesSafe();\n  const frame = frames.find((entry) => entry.id === timeframeId);\n  if (!frame) return 0;\n  const overrides = studio?.timeframeSlots;\n  if (overrides && typeof overrides === \"object\") {\n    const value = overrides[timeframeId];\n    if (Number.isFinite(value)) return Math.max(0, Math.floor(value));\n  }\n  return Math.max(0, Math.floor(frame.slots || 0));\n}\n\nfunction buildPromoTimeframeUsage(bookings, studio, dayStart, defaultStudioId) {\n  const frames = listPromoTimeframesSafe();\n  return frames.map((frame) => {\n    const capacity = getStudioTimeframeCapacity(studio, frame.id);\n    const inUse = bookings.filter((booking) => {\n      if (!booking) return false;\n      const bookingStudioId = booking.studioId || defaultStudioId;\n      if (studio && bookingStudioId !== studio.id) return false;\n      if (!Number.isFinite(booking.startsAt)) return false;\n      if (promoDayStartEpochMs(booking.startsAt) !== dayStart) return false;\n      const timeframeId = getBookingTimeframeId(booking);\n      return timeframeId === frame.id;\n    }).length;\n    return { frame, capacity, inUse, available: Math.max(0, capacity - inUse) };\n  });\n}\n\nfunction formatPromoTimeframeUsageLine(usage) {\n  if (!usage.length) return \"Slots: -\";\n  const segments = usage.map((entry) => `${entry.frame.label} ${formatCount(entry.inUse)}/${formatCount(entry.capacity)}`);\n  return `Slots: ${segments.join(\" | \")}`;\n}\n\nfunction renderCalendarStructuresPanel() {\n  const recordingList = $(\"calendarRecordingStudios\");\n  const broadcastList = $(\"calendarBroadcastStudios\");\n  const filmingList = $(\"calendarFilmingStudios\");\n  if (!recordingList && !broadcastList && !filmingList) return;\n\n  if (recordingList) {\n    const entries = buildStudioEntries().filter((entry) => entry.ownerType !== \"player\");\n    const grouped = new Map();\n    entries.forEach((entry) => {\n      const key = entry.ownerId || entry.ownerName || entry.id;\n      if (!grouped.has(key)) {\n        grouped.set(key, { ownerName: entry.ownerName || \"Rival\", slotCount: entry.slotCount || 0, occupied: 0 });\n      }\n      const group = grouped.get(key);\n      group.slotCount = Math.max(group.slotCount, entry.slotCount || 0);\n      if (entry.occupied) group.occupied += 1;\n    });\n    const list = Array.from(grouped.values()).sort((a, b) => a.ownerName.localeCompare(b.ownerName));\n    if (!list.length) {\n      recordingList.innerHTML = `<div class=\"muted\">No rival recording studios tracked yet.</div>`;\n    } else {\n      recordingList.innerHTML = list.map((entry) => {\n        const available = Math.max(0, entry.slotCount - entry.occupied);\n        const slotLine = `Slots: ${formatCount(entry.occupied)} in use | ${formatCount(available)} open | Cap ${formatCount(entry.slotCount)}`;\n        const status = available > 0 ? `${formatCount(available)} open` : \"Full\";\n        return `\n          <div class=\"list-item\">\n            <div class=\"list-row\">\n              <div>\n                <div class=\"item-title\">${entry.ownerName} Recording Studios</div>\n                <div class=\"muted\">${slotLine}</div>\n              </div>\n              <div class=\"pill\">${status}</div>\n            </div>\n          </div>\n        `;\n      }).join(\"\");\n    }\n  }\n\n  if (broadcastList) {\n    const studios = Array.isArray(BROADCAST_STUDIOS) ? BROADCAST_STUDIOS : [];\n    if (!studios.length) {\n      broadcastList.innerHTML = `<div class=\"muted\">No broadcast studios available.</div>`;\n    } else {\n      const epochMs = Number.isFinite(state.time?.epochMs) ? state.time.epochMs : Date.now();\n      const window = resolvePromoWindow(epochMs);\n      const dayIndex = new Date((window?.dayStart ?? epochMs)).getUTCDay();\n      const dayLabel = DAYS?.[dayIndex] || \"Day\";\n      const windowLabel = window ? (window.isCurrent ? window.frame.label : `Next ${window.frame.label}`) : \"\";\n      const bookings = state.promoFacilities?.broadcast?.bookings || [];\n      const dayStart = window?.dayStart ?? promoDayStartEpochMs(epochMs);\n      const defaultStudioId = studios[0]?.id || null;\n      broadcastList.innerHTML = studios.map((studio) => {\n        const usage = buildPromoTimeframeUsage(bookings, studio, dayStart, defaultStudioId);\n        const windowUsage = window ? usage.find((entry) => entry.frame.id === window.frame.id) : null;\n        const capacity = windowUsage?.capacity || 0;\n        const available = windowUsage?.available || 0;\n        const scopeLabel = formatBroadcastScope(studio.scope);\n        const meta = `${studio.owner || \"Broadcast\"} | ${scopeLabel} | ${dayLabel}${windowLabel ? ` | ${windowLabel}` : \"\"}`;\n        const slotLine = formatPromoTimeframeUsageLine(usage);\n        const status = capacity > 0 ? `${formatCount(available)} open` : \"Closed\";\n        return `\n          <div class=\"list-item\">\n            <div class=\"list-row\">\n              <div>\n                <div class=\"item-title\">${studio.label}</div>\n                <div class=\"muted\">${meta}</div>\n                <div class=\"muted\">${slotLine}</div>\n              </div>\n              <div class=\"pill\">${status}</div>\n            </div>\n          </div>\n        `;\n      }).join(\"\");\n    }\n  }\n\n  if (filmingList) {\n    const studios = Array.isArray(FILMING_STUDIOS) ? FILMING_STUDIOS : [];\n    if (!studios.length) {\n      filmingList.innerHTML = `<div class=\"muted\">No filming studios available.</div>`;\n    } else {\n      const epochMs = Number.isFinite(state.time?.epochMs) ? state.time.epochMs : Date.now();\n      const window = resolvePromoWindow(epochMs);\n      const dayIndex = new Date((window?.dayStart ?? epochMs)).getUTCDay();\n      const dayLabel = DAYS?.[dayIndex] || \"Day\";\n      const windowLabel = window ? (window.isCurrent ? window.frame.label : `Next ${window.frame.label}`) : \"\";\n      const dayStart = window?.dayStart ?? promoDayStartEpochMs(epochMs);\n      const bookings = state.promoFacilities?.filming?.bookings || [];\n      const defaultStudioId = studios[0]?.id || null;\n      filmingList.innerHTML = studios.map((studio) => {\n        const usage = buildPromoTimeframeUsage(bookings, studio, dayStart, defaultStudioId);\n        const windowUsage = window ? usage.find((entry) => entry.frame.id === window.frame.id) : null;\n        const capacity = windowUsage?.capacity || 0;\n        const available = windowUsage?.available || 0;\n        const scopeLabel = formatBroadcastScope(studio.scope);\n        const meta = `${studio.owner || \"Filming\"} | ${scopeLabel} | ${dayLabel}${windowLabel ? ` | ${windowLabel}` : \"\"}`;\n        const slotLine = formatPromoTimeframeUsageLine(usage);\n        const status = capacity > 0 ? `${formatCount(available)} open` : \"Closed\";\n        return `\n          <div class=\"list-item\">\n            <div class=\"list-row\">\n              <div>\n                <div class=\"item-title\">${studio.label}</div>\n                <div class=\"muted\">${meta}</div>\n                <div class=\"muted\">${slotLine}</div>\n              </div>\n              <div class=\"pill\">${status}</div>\n            </div>\n          </div>\n        `;\n      }).join(\"\");\n    }\n  }\n\n  renderAchievements();\n  renderRivalAchievementRace();\n}\n\nfunction renderCalendarList(targetId, weeks, projectionOverride) {\n  const target = $(targetId);\n  if (!target) return;\n  if (UI_REACT_ISLANDS_ENABLED && targetId === \"calendarFullList\") {\n    target.innerHTML = \"\";\n    return;\n  }\n  normalizeCalendarTab();\n  const futureWeeks = Math.max(0, (weeks || 1) - 1);\n  const projection = projectionOverride && (projectionOverride.tab === \"label\" || projectionOverride.tab === \"public\")\n    ? projectionOverride\n    : buildCalendarProjection({ pastWeeks: 0, futureWeeks });\n  const tab = projection.tab === \"public\" ? \"public\" : \"label\";\n  const filters = projection.filters || {};\n\r\n  const scope = target.closest(\"#calendarModal\") || target.closest(\".view\") || document;\r\n  scope.querySelectorAll(\"[data-calendar-tab]\").forEach((btn) => {\r\n    if (!btn.dataset.calendarTab) return;\r\n    btn.classList.toggle(\"active\", btn.dataset.calendarTab === tab);\r\n  });\r\n  scope.querySelectorAll(\"[data-calendar-filter]\").forEach((input) => {\r\n    const key = input.dataset.calendarFilter;\r\n    if (!key || typeof filters[key] !== \"boolean\") return;\r\n    input.checked = filters[key] !== false;\r\n  });\r\n\r\n  if (targetId === \"calendarList\") {\n    target.innerHTML = renderCalendarUpcomingFooter(projection, tab);\n    return;\n  }\n\r\n  if (!projection.weeks.length) {\r\n    target.innerHTML = `<div class=\"muted\">No scheduled entries.</div>`;\r\n    return;\r\n  }\r\n\r\n  target.innerHTML = projection.weeks.map((week) => {\n    const entries = Array.isArray(week.events) ? week.events.slice() : [];\r\n    entries.sort((a, b) => a.ts - b.ts);\r\n    const weekLabel = `Week ${week.weekNumber}`;\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${weekLabel}</div>\r\n            <div class=\"muted\">${formatDate(week.start)} - ${formatDate(week.end - HOUR_MS)}</div>\r\n          </div>\r\n          <div class=\"pill\">${entries.length} event(s)</div>\r\n        </div>\r\n        ${entries.map((entry) => {\n          const label = entry.label || \"Label\";\n          const labelCountry = getRivalByName(label)?.country || state.label.country || \"Annglora\";\n          const labelTag = label ? renderLabelTag(label, labelCountry) : \"Label\";\n          const actLabel = renderActName(entry) || \"Unknown\";\n          const title = entry.title || \"Untitled\";\n          const typeLabel = entry.typeLabel || \"Event\";\n          const distribution = entry.distribution || \"Digital\";\n          const timeLabel = formatEventTimeLabel(entry.ts);\n          const timeLine = timeLabel ? ` @ ${timeLabel}` : \"\";\n          return `\n            <div class=\"muted\">${labelTag} | ${actLabel} | ${title} (${typeLabel}${timeLine}, ${distribution})</div>\n          `;\n        }).join(\"\")}\n      </div>\n    `;\n  }).join(\"\");\n}\n\nfunction renderCalendarDayDetail(dayStartTs) {\n  const listEl = $(\"calendarDayList\");\n  if (!listEl) return;\n  const titleEl = $(\"calendarDayTitle\");\n  const dayStart = Number(dayStartTs);\n  if (!Number.isFinite(dayStart)) {\n    if (titleEl) titleEl.textContent = \"Selected day\";\n    listEl.innerHTML = `<div class=\"muted\">No date selected.</div>`;\n    return;\n  }\n  if (titleEl) titleEl.textContent = formatShortDate(dayStart);\n  const weekNumber = weekNumberFromEpochMs(dayStart);\n  const anchorWeekIndex = Number.isFinite(weekNumber) ? weekNumber - 1 : weekIndex();\n  const projection = buildCalendarProjection({ pastWeeks: 0, futureWeeks: 0, anchorWeekIndex });\n  const week = projection.weeks[0];\n  const day = week?.days?.find((entry) => entry.start === dayStart) || null;\n  const events = Array.isArray(day?.events) ? day.events.slice().sort((a, b) => a.ts - b.ts) : [];\n\n  if (!events.length) {\n    listEl.innerHTML = `<div class=\"muted\">No events scheduled for this day.</div>`;\n    return;\n  }\n\n  listEl.innerHTML = events.map((entry) => {\n    const label = entry.label || \"Label\";\n    const labelCountry = getRivalByName(label)?.country || state.label.country || \"Annglora\";\n    const labelTag = label ? renderLabelTag(label, labelCountry) : \"Label\";\n    const actLabel = renderActName(entry) || \"Unknown\";\n    const title = entry.title || \"Untitled\";\n    const typeLabel = entry.typeLabel || \"Event\";\n    const distribution = entry.distribution || \"Digital\";\n    const timeLabel = formatEventTimeLabel(entry.ts);\n    const timeLine = timeLabel ? ` @ ${timeLabel}` : \"\";\n    return `\n      <div class=\"list-item\">\n        <div class=\"list-row\">\n          <div>\n            <div class=\"item-title\">${title}</div>\n            <div class=\"muted\">${labelTag} | ${actLabel}</div>\n            <div class=\"muted\">${typeLabel}${timeLine} | ${distribution}</div>\n          </div>\n        </div>\n      </div>\n    `;\n  }).join(\"\");\n}\n\nfunction renderActs() {\n  if (!state.acts.length) {\r\n    $(\"actList\").innerHTML = `<div class=\"muted\">No acts yet.</div>`;\r\n    return;\r\n  }\r\n  const list = state.acts.map((act) => {\r\n    const activeEras = getActiveEras().filter((era) => era.actId === act.id && era.status === \"Active\");\r\n    const historyCount = state.era.history.filter((era) => era.actId === act.id).length;\r\n    const eraLabel = activeEras.length\r\n      ? activeEras.map((era) => `${era.name} (${ERA_STAGES[era.stageIndex] || \"Active\"})`).join(\", \")\r\n      : \"None active\";\r\n    const members = act.memberIds\r\n      .map((id) => {\r\n        const creator = getCreator(id);\r\n        return creator ? creator.name : \"Unknown\";\r\n      })\r\n      .join(\", \");\r\n    const inputId = `act-rename-${act.id}`;\r\n    return `\r\n      <div class=\"list-item\" data-entity-type=\"act\" data-entity-id=\"${act.id}\" data-entity-name=\"${act.name}\" draggable=\"true\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${renderActName(act)}</div>\r\n              <div class=\"muted\">ID ${act.id} | ${act.type}</div>\r\n              <div class=\"muted\">${renderAlignmentTag(act.alignment)}</div>\r\n            </div>\r\n            <button type=\"button\" class=\"ghost\" data-act-set=\"${act.id}\">Assign</button>\r\n          </div>\r\n        <div class=\"muted\">Members: ${members || \"None\"}</div>\r\n        <div class=\"muted\">Eras: ${eraLabel}${historyCount ? ` | Past ${historyCount}` : \"\"}</div>\r\n        <div class=\"field\">\r\n          <label for=\"${inputId}\">Rename Act</label>\r\n          <input id=\"${inputId}\" type=\"text\" value=\"${act.name}\" data-act-input=\"${act.id}\" aria-label=\"Rename act ${act.name}\">\r\n        </div>\r\n        <div class=\"actions\">\r\n          <button type=\"button\" class=\"ghost\" data-act-rename=\"${act.id}\">Save Name</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  $(\"actList\").innerHTML = list.join(\"\");\r\n}\r\n\r\nfunction renderCreatorFallbackSymbols({ unassigned = false } = {}) {\r\n  const emoji = unassigned ? UNASSIGNED_CREATOR_EMOJI : CREATOR_FALLBACK_EMOJI;\r\n  return `<span class=\"avatar-symbols\" aria-hidden=\"true\"><span class=\"material-symbols-rounded avatar-icon\">${CREATOR_FALLBACK_ICON}</span><span class=\"avatar-emoji\">${emoji}</span></span>`;\r\n}\r\n\r\nfunction renderCreatorAvatar(creator) {\n  const initials = creatorInitials(creator?.nameHangul || creator?.name || \"\");\n  const portraitUrl = getCreatorPortraitUrl(creator);\n  const hasImage = Boolean(portraitUrl);\n  const imageStyle = hasImage ? ` style=\"background-image: url('${safeAvatarUrl(portraitUrl)}')\"` : \"\";\n  const className = hasImage ? \"creator-avatar has-image\" : \"creator-avatar has-symbols\";\n  const note = creator?.portraitNote ? ` title=\"${escapeAttribute(creator.portraitNote)}\"` : \"\";\n  const content = hasImage ? initials : renderCreatorFallbackSymbols();\n  return `<div class=\"${className}\" aria-hidden=\"true\"${imageStyle}${note}>${content}</div>`;\n}\n\r\nfunction renderCreators() {\n  const creatorList = $(\"creatorList\");\n  if (!creatorList) return;\n  const busyIds = getBusyCreatorIds(\"In Progress\");\r\n  const pool = state.creators || [];\r\n  const columns = MARKET_ROLES.map((role) => {\r\n    const roleLabelText = roleLabel(role);\r\n    const roleCreators = pool.filter((creator) => creator.role === role);\r\n    const list = roleCreators.map((creator) => {\r\n      const busy = busyIds.has(creator.id);\r\n      const staminaPct = Math.round((creator.stamina / STAMINA_MAX) * 100);\n      const catharsisScore = getCreatorCatharsisScore(creator);\n      const catharsisGrade = scoreGrade(catharsisScore);\n      const roleText = roleLabel(creator.role);\n      const themeCells = creator.prefThemes.map((theme) => renderThemeTag(theme)).join(\"\");\r\n      const moodCells = creator.prefMoods.map((mood) => renderMoodTag(mood)).join(\"\");\r\n      const nationalityPill = renderNationalityPill(creator.country);\r\n      const memberships = state.acts\n        .filter((act) => act.memberIds.includes(creator.id))\n        .map((act) => renderActName(act));\n      const actText = memberships.length ? memberships.join(\", \") : \"No Act\";\n      return `\n        <div class=\"list-item\" data-entity-type=\"creator\" data-entity-id=\"${creator.id}\" data-entity-name=\"${creator.name}\" draggable=\"true\">\n          <div class=\"list-row\">\n            <div class=\"creator-card\">\n              <div class=\"creator-card-header\">\n                <div class=\"creator-card-header-left\">${nationalityPill}</div>\n                <div class=\"creator-card-header-right\">\n                  <div class=\"creator-card-occupation\">${roleText}</div>\n                  <div class=\"creator-card-id\">ID ${creator.id}</div>\n                </div>\n              </div>\n              <div class=\"creator-card-body\">\n                <div class=\"creator-card-portrait\">${renderCreatorAvatar(creator)}</div>\n                <div class=\"creator-card-info\">\n                  <div class=\"item-title\">${renderCreatorName(creator)}</div>\n                  <div class=\"muted\">${formatCreatorAgeMeta(creator)}</div>\n                  <div class=\"muted\">${renderCreatorSkillProgress(creator)}</div>\n                  <div class=\"muted\">Catharsis <span class=\"grade-text\" data-grade=\"${catharsisGrade}\">${catharsisScore}</span></div>\n                  <div class=\"muted\">Acts: ${actText}</div>\n                  <div class=\"muted\">Preferred Themes:</div>\n                  <div class=\"creator-pref-tags\">${themeCells}</div>\n                  <div class=\"muted\">Preferred Moods:</div>\n                  <div class=\"creator-pref-tags\">${moodCells}</div>\n                </div>\n              </div>\n              <div class=\"creator-card-footer\">\n                <div class=\"creator-card-stamina\">\n                  <div class=\"bar\"><span style=\"width:${staminaPct}%\"></span></div>\n                  <div class=\"muted\">Stamina ${creator.stamina} / ${STAMINA_MAX}</div>\n                </div>\n                <div class=\"creator-card-actions\">\n                  <div class=\"pill\">${busy ? \"Busy\" : \"Ready\"}</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `;\n    });\n    const emptyMsg = pool.length\r\n      ? `No ${roleLabelText} Creator IDs signed.`\r\n      : \"No Creator IDs signed.\";\r\n    return `\r\n      <div class=\"ccc-market-column\" data-role=\"${role}\">\r\n        <div class=\"ccc-market-head\">\r\n          <div class=\"ccc-market-title\">${roleLabelText}s</div>\r\n          <div class=\"tiny muted\">${roleCreators.length} signed</div>\r\n        </div>\r\n        <div class=\"list ccc-market-list\">\r\n          ${list.length ? list.join(\"\") : `<div class=\"muted\">${emptyMsg}</div>`}\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  creatorList.innerHTML = columns.join(\"\");\n}\n\nfunction renderCheaterCccControls() {\n  const roleSelect = $(\"cheatCccRole\");\n  if (roleSelect && !roleSelect.dataset.built) {\n    roleSelect.innerHTML = MARKET_ROLES.map((role) => `<option value=\"${role}\">${roleLabel(role)}</option>`).join(\"\");\n    roleSelect.dataset.built = \"1\";\n  }\n  const themeSelect = $(\"cheatCccTheme\");\n  if (themeSelect && !themeSelect.dataset.built) {\n    themeSelect.innerHTML = buildThemeOptions([{ value: \"\", label: \"Any Theme\" }]);\n    bindThemeSelectAccent(themeSelect);\n    themeSelect.dataset.built = \"1\";\n  }\n  const moodSelect = $(\"cheatCccMood\");\n  if (moodSelect && !moodSelect.dataset.built) {\n    moodSelect.innerHTML = buildMoodOptions([{ value: \"\", label: \"Any Mood\" }]);\n    moodSelect.dataset.built = \"1\";\n  }\n  const countrySelect = $(\"cheatCccCountry\");\n  if (countrySelect && !countrySelect.dataset.built) {\n    const options = [`<option value=\"\">Any Nation</option>`]\n      .concat(NATIONS.map((nation) => `<option value=\"${nation}\">${nation}</option>`));\n    countrySelect.innerHTML = options.join(\"\");\n    countrySelect.dataset.built = \"1\";\n  }\n  const genderSelect = $(\"cheatCccGender\");\n  if (genderSelect && !genderSelect.dataset.built) {\n    genderSelect.innerHTML = [\n      `<option value=\"\">Any Gender</option>`,\n      `<option value=\"man\">Man</option>`,\n      `<option value=\"woman\">Woman</option>`,\n      `<option value=\"nonbinary\">Non-binary</option>`\n    ].join(\"\");\n    genderSelect.dataset.built = \"1\";\n  }\n  const cheaterActive = Boolean(state.meta?.cheaterMode);\n  document.querySelectorAll(\"[data-cheat-ccc]\").forEach((input) => {\n    if (!input) return;\n    input.disabled = !cheaterActive;\n  });\n  const status = $(\"cheatCccStatus\");\n  if (status) {\n    status.textContent = cheaterActive\n      ? \"Cheater mode active. Inject Creator IDs into the CCC pool.\"\n      : \"Enable Cheater Mode in Settings to use CCC injection.\";\n  }\n}\n\nfunction renderMarket() {\n  ensureMarketCreators({}, { replenish: false });\n  renderCheaterCccControls();\n  const listEl = $(\"marketList\");\n  if (!listEl) return;\n  const filters = state.ui.cccFilters || {};\r\n  document.querySelectorAll(\"[data-ccc-filter]\").forEach((input) => {\r\n    const key = input.dataset.cccFilter;\r\n    if (!key) return;\r\n    input.checked = filters[key] !== false;\r\n  });\r\n  const themeFilter = state.ui.cccThemeFilter || \"All\";\r\n  const moodFilter = state.ui.cccMoodFilter || \"All\";\r\n  const sortMode = state.ui.cccSort || \"default\";\r\n  const themeSelect = $(\"cccThemeFilter\");\r\n  const moodSelect = $(\"cccMoodFilter\");\r\n  const sortSelect = $(\"cccSort\");\r\n  if (themeSelect) {\r\n    themeSelect.value = themeFilter;\r\n    setThemeSelectAccent(themeSelect);\r\n  }\r\n  if (moodSelect) moodSelect.value = moodFilter;\r\n  if (sortSelect) sortSelect.value = sortMode;\r\n  const filtersActive = themeFilter !== \"All\" || moodFilter !== \"All\";\r\n  const pool = state.marketCreators || [];\r\n  const now = state.time.epochMs;\r\n  pruneCreatorSignLockouts(now);\r\n\r\n  const sortCreators = (list) => {\r\n    if (!sortMode || sortMode === \"default\") return list;\r\n    const entries = list.map((creator, index) => ({ creator, index }));\r\n    const byText = (a, b) => a.localeCompare(b);\r\n    const themeKey = (creator) => (creator.prefThemes?.[0] ? creator.prefThemes[0] : \"\");\r\n    const themeKey2 = (creator) => (creator.prefThemes?.[1] ? creator.prefThemes[1] : \"\");\r\n    const moodKey = (creator) => (creator.prefMoods?.[0] ? creator.prefMoods[0] : \"\");\r\n    const moodKey2 = (creator) => (creator.prefMoods?.[1] ? creator.prefMoods[1] : \"\");\r\n    entries.sort((a, b) => {\r\n      if (sortMode === \"quality-desc\") {\r\n        return (b.creator.skill || 0) - (a.creator.skill || 0)\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"quality-asc\") {\r\n        return (a.creator.skill || 0) - (b.creator.skill || 0)\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"theme-asc\") {\r\n        return byText(themeKey(a.creator), themeKey(b.creator))\r\n          || byText(themeKey2(a.creator), themeKey2(b.creator))\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"theme-desc\") {\r\n        return byText(themeKey(b.creator), themeKey(a.creator))\r\n          || byText(themeKey2(b.creator), themeKey2(a.creator))\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"mood-asc\") {\r\n        return byText(moodKey(a.creator), moodKey(b.creator))\r\n          || byText(moodKey2(a.creator), moodKey2(b.creator))\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"mood-desc\") {\r\n        return byText(moodKey(b.creator), moodKey(a.creator))\r\n          || byText(moodKey2(b.creator), moodKey2(a.creator))\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      return a.index - b.index;\r\n    });\r\n    return entries.map((entry) => entry.creator);\r\n  };\r\n\r\n  const columns = MARKET_ROLES.map((role) => {\r\n    const roleLabelText = roleLabel(role);\r\n    const roleCreators = pool.filter((creator) => creator.role === role);\r\n    const filteredCreators = roleCreators.filter((creator) => {\r\n      const themeMatch = themeFilter === \"All\" || creator.prefThemes?.includes(themeFilter);\r\n      const moodMatch = moodFilter === \"All\" || creator.prefMoods?.includes(moodFilter);\r\n      return themeMatch && moodMatch;\r\n    });\r\n    const sortedCreators = sortCreators(filteredCreators);\r\n    const list = sortedCreators.map((creator) => {\r\n      const catharsisScore = getCreatorCatharsisScore(creator);\n      const catharsisGrade = scoreGrade(catharsisScore);\n      const staminaPct = Math.round((creator.stamina / STAMINA_MAX) * 100);\n      const nationalityPill = renderNationalityPill(creator.country);\n      const lockout = getCreatorSignLockout(creator.id, now);\r\n      const isLocked = !!lockout;\r\n      const signCost = Number.isFinite(creator.signCost) ? creator.signCost : 0;\r\n      const canAfford = state.label.cash >= signCost;\r\n      const itemClass = `list-item${isLocked ? \" ccc-market-item--failed\" : \"\"}`;\r\n      const buttonState = isLocked || !canAfford ? \" disabled\" : \"\";\r\n      const buttonLabel = isLocked\r\n        ? \"Locked until refresh\"\r\n        : `Sign ${formatMoney(signCost)}${canAfford ? \"\" : \" (not enough money)\"}`;\r\n      const lockoutReason = isLocked && lockout?.reason ? ` - ${lockout.reason}` : \"\";\r\n      const lockoutHint = isLocked\n        ? `<div class=\"tiny muted creator-card-hint\">Locked until 12AM refresh${lockoutReason}</div>`\n        : \"\";\n      const lockoutTitle = isLocked && lockout\r\n        ? ` title=\"Locked until ${formatDate(lockout.lockedUntilEpochMs)}${lockout?.reason ? ` | ${lockout.reason}` : \"\"}\"`\r\n        : \"\";\r\n      const cashTitle = !isLocked && !canAfford\r\n        ? ' title=\"Not enough money to sign this creator.\"'\r\n        : \"\";\r\n      const buttonTitle = lockoutTitle || cashTitle;\r\n      const themeCells = (creator.prefThemes || []).map((theme) => renderThemeTag(theme)).join(\"\");\r\n      const moodCells = (creator.prefMoods || []).map((mood) => renderMoodTag(mood)).join(\"\");\r\n      return `\n        <div class=\"${itemClass}\" data-ccc-creator=\"${creator.id}\">\n          <div class=\"list-row\">\n            <div class=\"creator-card\">\n              <div class=\"creator-card-header\">\n                <div class=\"creator-card-header-left\">${nationalityPill}</div>\n                <div class=\"creator-card-header-right\">\n                  <div class=\"creator-card-occupation\">${roleLabelText}</div>\n                  <div class=\"creator-card-id\">ID ${creator.id}</div>\n                </div>\n              </div>\n              <div class=\"creator-card-body\">\n                <div class=\"creator-card-portrait\">${renderCreatorAvatar(creator)}</div>\n                <div class=\"creator-card-info\">\n                  <div class=\"item-title\">${renderCreatorName(creator)}</div>\n                  <div class=\"muted\">${formatCreatorAgeMeta(creator)}</div>\n                  <div class=\"muted\">${renderCreatorSkillProgress(creator)}</div>\n                  <div class=\"muted\">Catharsis <span class=\"grade-text\" data-grade=\"${catharsisGrade}\">${catharsisScore}</span></div>\n                  <div class=\"muted\">Preferred Themes:</div>\n                  <div class=\"creator-pref-tags\">${themeCells}</div>\n                  <div class=\"muted\">Preferred Moods:</div>\n                  <div class=\"creator-pref-tags\">${moodCells}</div>\n                </div>\n              </div>\n              <div class=\"creator-card-footer\">\n                <div class=\"creator-card-stamina\">\n                  <div class=\"bar\"><span style=\"width:${staminaPct}%\"></span></div>\n                  <div class=\"muted\">Stamina ${creator.stamina} / ${STAMINA_MAX}</div>\n                </div>\n                <div class=\"creator-card-actions\">\n                  <button type=\"button\" data-sign=\"${creator.id}\"${buttonState}${buttonTitle}>${buttonLabel}</button>\n                  ${lockoutHint}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      `;\n    });\n    const emptyMsg = filtersActive\r\n      ? `No ${roleLabelText} Creator IDs match the current filters.`\r\n      : pool.length\r\n        ? `No ${roleLabelText} Creator IDs available.`\r\n        : \"No Creator IDs available.\";\r\n    const columnState = filters[role] === false ? \" is-hidden\" : \"\";\r\n    const countLabel = filtersActive\r\n      ? `${sortedCreators.length} of ${roleCreators.length} available`\r\n      : `${roleCreators.length} available`;\r\n    return `\r\n      <div class=\"ccc-market-column${columnState}\" data-role=\"${role}\">\r\n        <div class=\"ccc-market-head\">\r\n          <div class=\"ccc-market-title\">${roleLabelText}s</div>\r\n          <div class=\"tiny muted\">${countLabel}</div>\r\n        </div>\r\n        <div class=\"list ccc-market-list\">\r\n          ${list.length ? list.join(\"\") : `<div class=\"muted\">${emptyMsg}</div>`}\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  listEl.innerHTML = columns.join(\"\");\r\n}\r\n\r\nfunction renderWorkOrders() {\r\n  const listEl = $(\"workOrderList\");\r\n  if (!listEl) return;\r\n  if (!state.workOrders.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No active work orders.</div>`;\r\n    return;\r\n  }\r\n  const now = state.time.epochMs;\r\n  const list = state.workOrders.map((order) => {\r\n    const track = getTrack(order.trackId);\r\n    const crewIds = getWorkOrderCreatorIds(order);\r\n    const crew = crewIds.map((id) => getCreator(id)).filter(Boolean);\r\n    const crewLabel = buildWorkOrderCrewLabel(crew);\r\n    const stage = STAGES[order.stageIndex];\r\n    const hoursLeft = order.status === \"In Progress\" ? Math.max(0, Math.ceil((order.endAt - now) / HOUR_MS)) : \"Queued\";\r\n    const crewLine = `${stage?.name || \"Stage\"} | ${crewLabel.primary}`;\r\n    const crewDetail = crewLabel.secondary ? `<div class=\"muted\">${crewLabel.secondary}</div>` : \"\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${track ? renderTrackTitle(track.title) : \"Unknown\"}</div>\r\n            <div class=\"muted\">${crewLine}</div>\r\n            ${crewDetail}\r\n          </div>\r\n          <div class=\"pill\">${hoursLeft}h</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  listEl.innerHTML = list.join(\"\");\r\n}\r\n\r\nfunction renderTrackHistoryPanel(activeTab) {\r\n  const panel = $(\"trackHistoryPanel\");\r\n  if (!panel || activeTab !== \"history\") return;\r\n  const listEl = $(\"trackHistoryList\");\r\n  if (!listEl) return;\r\n  const metaEl = $(\"trackHistoryMeta\");\r\n  const focusEra = getFocusedEra();\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\r\n  const targetEra = focusEra || fallbackEra;\r\n\r\n  if (!targetEra) {\r\n    panel.dataset.historyKey = \"\";\r\n    panel.dataset.historyStatus = \"\";\r\n    if (metaEl) metaEl.textContent = \"Focus an active era to view chart history.\";\r\n    listEl.innerHTML = `<div class=\"muted\">No active era selected.</div>`;\r\n    return;\r\n  }\r\n\r\n  const tracks = state.tracks.filter((track) => track.status === \"Released\" && track.eraId === targetEra.id);\r\n  if (metaEl) metaEl.textContent = `${targetEra.name} | ${formatCount(tracks.length)} released tracks`;\r\n  if (!tracks.length) {\r\n    panel.dataset.historyKey = \"\";\r\n    panel.dataset.historyStatus = \"\";\r\n    listEl.innerHTML = `<div class=\"muted\">No released tracks for ${targetEra.name} yet.</div>`;\r\n    return;\r\n  }\r\n\r\n  const chartWeek = Number.isFinite(state.meta?.chartHistoryLastWeek) ? state.meta.chartHistoryLastWeek : weekIndex() + 1;\r\n  const trackKey = tracks.map((track) => track.id).sort().join(\",\");\r\n  const cacheKey = `${targetEra.id}:${chartWeek}:${trackKey}`;\r\n  if (panel.dataset.historyKey === cacheKey && panel.dataset.historyStatus === \"ready\") {\r\n    return;\r\n  }\r\n\r\n  panel.dataset.historyKey = cacheKey;\r\n  panel.dataset.historyStatus = \"loading\";\r\n  listEl.innerHTML = `<div class=\"muted\">Loading chart history...</div>`;\r\n\r\n  const requestId = ++trackHistoryRequestId;\r\n  (async () => {\r\n    const weeks = await listChartWeeks();\r\n    if (requestId !== trackHistoryRequestId) return;\r\n    const currentWeek = weekIndex() + 1;\r\n    let weekNumbers = weeks.map((entry) => entry.week).filter((week) => week <= currentWeek);\r\n    if (!weekNumbers.length) {\r\n      listEl.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n      panel.dataset.historyStatus = \"ready\";\r\n      return;\r\n    }\r\n    const releaseWeeks = tracks\r\n      .map((track) => weekNumberFromEpochMs(track.releasedAt))\r\n      .filter((week) => Number.isFinite(week));\r\n    const minWeek = releaseWeeks.length ? Math.min(...releaseWeeks) : null;\r\n    if (minWeek) {\r\n      weekNumbers = weekNumbers.filter((week) => week >= minWeek);\r\n    }\r\n    if (!weekNumbers.length) {\r\n      listEl.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n      panel.dataset.historyStatus = \"ready\";\r\n      return;\r\n    }\r\n    weekNumbers.sort((a, b) => b - a);\r\n    const scopes = buildTrackHistoryScopes();\r\n    const snapshotsByWeek = new Map();\r\n    for (const week of weekNumbers) {\r\n      const snapshots = await Promise.all(scopes.map((scope) => fetchChartSnapshot(scope.scope, week)));\r\n      if (requestId !== trackHistoryRequestId) return;\r\n      const scopeMap = new Map();\r\n      snapshots.forEach((snapshot, index) => {\r\n        if (snapshot) scopeMap.set(scopes[index].scope, snapshot);\r\n      });\r\n      snapshotsByWeek.set(week, scopeMap);\r\n    }\r\n    if (requestId !== trackHistoryRequestId) return;\r\n\r\n    const headerCells = scopes.map((scope) => `<th title=\"${scope.title}\">${scope.label}</th>`).join(\"\");\r\n    const historyMarkup = tracks.map((track) => {\r\n      const act = getAct(track.actId);\r\n      const project = track.projectName || `${track.title} - Single`;\r\n      const projectType = track.projectType || \"Single\";\r\n      const releaseDate = track.releasedAt ? formatShortDate(track.releasedAt) : \"TBD\";\r\n      const releaseWeek = weekNumberFromEpochMs(track.releasedAt);\r\n      const rows = weekNumbers.map((week) => {\r\n        const weekTitle = formatWeekRangeLabel(week);\r\n        const weekLabel = `Week ${week}`;\r\n        const scopeMap = snapshotsByWeek.get(week);\r\n        const cells = scopes.map((scope) => {\r\n          const snapshot = scopeMap?.get(scope.scope);\r\n          const entry = snapshot?.entries?.find((item) => item.trackId === track.id);\r\n          let value = \"-\";\r\n          let cellClass = \"chart-rank is-unreleased\";\r\n          if (Number.isFinite(releaseWeek) && week >= releaseWeek) {\r\n            if (entry && Number.isFinite(entry.rank)) {\r\n              value = `#${entry.rank}`;\r\n              cellClass = \"chart-rank\";\r\n            } else {\r\n              value = \"DNC\";\r\n              cellClass = \"chart-rank is-dnc\";\r\n            }\r\n          }\r\n          return `<td class=\"${cellClass}\">${value}</td>`;\r\n        }).join(\"\");\r\n        return `<tr><td title=\"${weekTitle}\">${weekLabel}</td>${cells}</tr>`;\r\n      }).join(\"\");\r\n\r\n      return `\r\n        <div class=\"list-item track-history-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n              <div class=\"muted\">Act: ${renderActName(act || \"Unassigned\")} | Project: ${renderProjectName(project)} (${projectType})</div>\r\n              <div class=\"muted\">Released ${releaseDate} | ${track.distribution || \"Digital\"}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"track-history-table-wrap\">\r\n            <table class=\"chart-table track-history-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Week</th>\r\n                  ${headerCells}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                ${rows}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n\r\n    listEl.innerHTML = historyMarkup;\r\n    panel.dataset.historyStatus = \"ready\";\r\n  })().catch(() => {\r\n    if (requestId !== trackHistoryRequestId) return;\r\n    listEl.innerHTML = `<div class=\"muted\">Chart history unavailable.</div>`;\r\n    panel.dataset.historyStatus = \"ready\";\r\n  });\r\n}\r\n\r\nfunction renderTracks() {\r\n  const activeView = state.ui.activeView || \"\";\r\n  const createStage = state.ui.createStage || \"sheet\";\r\n  const allTracks = state.tracks;\r\n  const pipelineTracks = allTracks.filter((track) => (\r\n    track.status === \"In Production\"\r\n    || track.status === \"Awaiting Demo\"\r\n    || track.status === \"Awaiting Master\"\r\n  ));\r\n  const archivedTracks = allTracks.filter((track) => track.status === \"Released\");\r\n  let tracks = allTracks.filter((track) => track.status !== \"Released\");\r\n  if (activeView === \"create\") {\r\n    tracks = pipelineTracks;\r\n    if (createStage === \"demo\") {\r\n      tracks = tracks.filter((track) => track.stageIndex === 1);\r\n    } else if (createStage === \"master\") {\r\n      tracks = tracks.filter((track) => track.stageIndex === 2);\r\n    }\r\n  }\r\n  const trackList = $(\"trackList\");\r\n  if (trackList) {\r\n    if (!tracks.length) {\r\n      let emptyMsg = activeView === \"create\" && createStage === \"demo\"\r\n        ? \"No sheet music awaiting demo recordings.\"\r\n        : activeView === \"create\" && createStage === \"master\"\r\n          ? \"No demos awaiting mastering.\"\r\n          : activeView === \"create\"\r\n            ? \"No tracks in the creation pipeline.\"\r\n            : \"No active tracks in catalog.\";\r\n      if (archivedTracks.length && emptyMsg === \"No active tracks in catalog.\") {\r\n        emptyMsg = `${emptyMsg} Released tracks are in the Archive.`;\r\n      }\r\n      trackList.innerHTML = `<div class=\"muted\">${emptyMsg}</div>`;\r\n    } else {\r\n      const focusEra = getFocusedEra();\r\n      const now = state.time.epochMs;\r\n      const list = tracks.map((track) => {\r\n    const stageName = track.status === \"In Production\" ? STAGES[Math.min(track.stageIndex, STAGES.length - 1)].name : track.status;\r\n    const grade = qualityGrade(track.quality);\r\n    const act = getAct(track.actId);\r\n    const project = track.projectName || `${track.title} - Single`;\r\n    const projectType = track.projectType || \"Single\";\r\n    const themeTag = renderThemeTag(track.theme);\r\n    const alignTag = renderAlignmentTag(track.alignment);\r\n    const actLine = activeView === \"create\"\r\n      ? `Project: ${project} (${projectType})`\r\n      : `Act: ${renderActName(act || \"Unassigned\")} | Project: ${renderProjectName(project)} (${projectType})`;\r\n    const era = track.eraId ? getEraById(track.eraId) : null;\r\n    const eraName = era ? era.name : null;\r\n    const focusSuffix = focusEra && era && focusEra.id === era.id ? \" | Focus\" : \"\";\r\n    const modifierName = track.modifier ? track.modifier.label : \"None\";\r\n    const genreLabel = renderTrackGenrePills(track, { fallback: \"Genre: -\" });\r\n    const activeOrder = track.status === \"In Production\"\r\n      ? state.workOrders.find((order) => order.trackId === track.id && order.status === \"In Progress\")\r\n      : null;\r\n    let progressBlock = \"\";\r\n    if (activeOrder && activeOrder.startAt && activeOrder.endAt) {\r\n      const total = Math.max(1, activeOrder.endAt - activeOrder.startAt);\r\n      const progress = clamp((now - activeOrder.startAt) / total, 0, 1);\r\n      const pct = Math.round(progress * 100);\r\n      const hoursLeft = Math.max(0, Math.ceil((activeOrder.endAt - now) / HOUR_MS));\r\n      progressBlock = `\r\n        <div class=\"bar\"><span style=\"width:${pct}%\"></span></div>\r\n        <div class=\"muted\">Progress: ${pct}%  ${hoursLeft}h left</div>\r\n      `;\r\n    } else if (track.status === \"In Production\") {\r\n      progressBlock = `<div class=\"muted\">Queued for studio time.</div>`;\r\n    }\r\n    return `\r\n      <div class=\"list-item\" data-entity-type=\"track\" data-entity-id=\"${track.id}\" data-entity-name=\"${track.title}\" draggable=\"true\">\r\n        <div class=\"list-row\">\r\n          <div class=\"item-main\">\r\n            <div class=\"content-thumb\" aria-hidden=\"true\"></div>\r\n            <div>\r\n              <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n              <div class=\"muted\">ID ${track.id} | Item: Track</div>\r\n              <div class=\"muted\">${genreLabel}</div>\r\n              <div class=\"muted\">${themeTag} ${alignTag}</div>\r\n              <div class=\"muted\">${actLine}</div>\r\n              <div class=\"muted\">Distribution: ${track.distribution || \"Digital\"}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"badge grade\" data-grade=\"${grade}\">${grade}</div>\r\n        </div>\r\n        <div class=\"muted\">Status: ${stageName} | Quality ${track.quality}${eraName ? ` | Era: ${eraName}${focusSuffix}` : \"\"}</div>\r\n        ${progressBlock}\r\n      </div>\r\n    `;\r\n      });\r\n      trackList.innerHTML = list.join(\"\");\r\n    }\r\n  }\r\n\r\n  const archiveList = $(\"trackArchiveList\");\r\n  if (!archiveList) return;\r\n  if (!archivedTracks.length) {\r\n    archiveList.innerHTML = `<div class=\"muted\">No released tracks yet.</div>`;\r\n    return;\r\n  }\r\n  const sortedArchive = archivedTracks.slice().sort((a, b) => (b.releasedAt || 0) - (a.releasedAt || 0));\r\n  const archiveItems = sortedArchive.map((track) => {\r\n    const act = getAct(track.actId);\r\n    const project = track.projectName || `${track.title} - Single`;\r\n    const projectType = track.projectType || \"Single\";\r\n    const releaseDate = track.releasedAt ? formatDate(track.releasedAt) : \"TBD\";\r\n    const grade = qualityGrade(track.quality);\r\n    const genreLabel = renderTrackGenrePills(track, { fallback: \"Genre: -\" });\r\n    const actLine = `Act: ${renderActName(act || \"Unassigned\")} | Project: ${renderProjectName(project)} (${projectType})`;\r\n    return `\r\n      <div class=\"list-item\" data-entity-type=\"track\" data-entity-id=\"${track.id}\" data-entity-name=\"${track.title}\" draggable=\"true\">\r\n        <div class=\"list-row\">\r\n          <div class=\"item-main\">\r\n            <div class=\"content-thumb\" aria-hidden=\"true\"></div>\r\n            <div>\r\n              <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n              <div class=\"muted\">ID ${track.id} | ${genreLabel}</div>\r\n              <div class=\"muted\">${actLine}</div>\r\n              <div class=\"muted\">Released ${releaseDate} | ${track.distribution || \"Digital\"}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"badge grade\" data-grade=\"${grade}\">${grade}</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  archiveList.innerHTML = archiveItems.join(\"\");\r\n\r\n  let activeTab = state.ui.trackPanelTab || \"active\";\r\n  if (activeTab === \"history\" && !$(\"trackHistoryPanel\")) {\r\n    activeTab = \"active\";\r\n  }\r\n  document.querySelectorAll(\"[data-track-tab]\").forEach((tab) => {\r\n    const isActive = tab.dataset.trackTab === activeTab;\r\n    tab.classList.toggle(\"active\", isActive);\r\n    tab.setAttribute(\"aria-pressed\", String(isActive));\r\n  });\r\n  document.querySelectorAll(\"[data-track-panel]\").forEach((panel) => {\r\n    const isActive = panel.dataset.trackPanel === activeTab;\r\n    panel.classList.toggle(\"hidden\", !isActive);\r\n  });\r\n  renderTrackHistoryPanel(activeTab);\r\n}\r\n\r\nfunction renderRolloutStrategyPlanner() {\r\n  const select = $(\"rolloutStrategySelect\");\r\n  const summary = $(\"rolloutStrategySummary\");\r\n  const weekInput = $(\"rolloutStrategyWeek\");\r\n  const dropInput = $(\"rolloutStrategyDropId\");\r\n  const eventTypeSelect = $(\"rolloutStrategyEventType\");\n  const eventContentInput = $(\"rolloutStrategyEventContent\");\n  const autoRunToggle = $(\"rolloutStrategyAutoRun\");\n  const expandBtn = $(\"rolloutStrategyExpand\");\n  const addDropBtn = $(\"rolloutStrategyAddDrop\");\n  const addEventBtn = $(\"rolloutStrategyAddEvent\");\n  const createBtn = $(\"rolloutStrategyCreate\");\n  const templateSelect = $(\"rolloutStrategyTemplateSelect\");\n  const templateCreateBtn = $(\"rolloutStrategyTemplateCreate\");\n  const templates = Array.isArray(ROLLOUT_STRATEGY_TEMPLATES) ? ROLLOUT_STRATEGY_TEMPLATES : [];\n  if (!select || !summary) return;\n\n  const era = getRolloutPlanningEra();\n  if (!era) {\n    select.innerHTML = `<option value=\"\">No active era</option>`;\n    summary.innerHTML = `<div class=\"muted\">Focus an active era to plan a rollout strategy.</div>`;\n    if (weekInput) weekInput.disabled = true;\r\n    if (dropInput) dropInput.disabled = true;\r\n    if (eventTypeSelect) eventTypeSelect.disabled = true;\r\n    if (eventContentInput) eventContentInput.disabled = true;\n    if (autoRunToggle) autoRunToggle.disabled = true;\n    if (expandBtn) expandBtn.disabled = true;\n    if (addDropBtn) addDropBtn.disabled = true;\n    if (addEventBtn) addEventBtn.disabled = true;\n    if (createBtn) createBtn.disabled = true;\n    if (templateSelect) {\n      templateSelect.innerHTML = `<option value=\"\">No active era</option>`;\n      templateSelect.disabled = true;\n    }\n    if (templateCreateBtn) templateCreateBtn.disabled = true;\n    return;\n  }\n\n  if (templateSelect) {\n    if (!templates.length) {\n      templateSelect.innerHTML = `<option value=\"\">No templates</option>`;\n      templateSelect.disabled = true;\n      if (templateCreateBtn) templateCreateBtn.disabled = true;\n    } else {\n      templateSelect.innerHTML = templates.map((template) => (\n        `<option value=\"${template.id}\">${template.label}</option>`\n      )).join(\"\");\n      const stored = state.ui?.viewContext?.selectedRolloutTemplateId;\n      const desired = templates.some((template) => template.id === stored)\n        ? stored\n        : templates[0].id;\n      templateSelect.value = desired;\n      if (state.ui?.viewContext) state.ui.viewContext.selectedRolloutTemplateId = desired;\n      templateSelect.disabled = false;\n      if (templateCreateBtn) templateCreateBtn.disabled = false;\n    }\n  }\n\n  const strategies = getRolloutStrategiesForEra(era.id);\n  if (!strategies.length) {\n    select.innerHTML = `<option value=\"\">No strategy yet</option>`;\n    summary.innerHTML = `<div class=\"muted\">No rollout strategies yet. Click New to create one.</div>`;\n    if (weekInput) weekInput.disabled = true;\n    if (dropInput) dropInput.disabled = true;\r\n    if (eventTypeSelect) eventTypeSelect.disabled = true;\r\n    if (eventContentInput) eventContentInput.disabled = true;\r\n    if (autoRunToggle) autoRunToggle.disabled = true;\n    if (expandBtn) expandBtn.disabled = true;\n    if (addDropBtn) addDropBtn.disabled = true;\n    if (addEventBtn) addEventBtn.disabled = true;\n    if (createBtn) createBtn.disabled = false;\n    return;\n  }\n\r\n  select.innerHTML = strategies.map((strategy) => (\r\n    `<option value=\"${strategy.id}\">${strategy.id} | ${strategy.status}</option>`\r\n  )).join(\"\");\r\n\r\n  const desiredId = state.ui.viewContext?.rolloutStrategyId || era.rolloutStrategyId || strategies[0].id;\r\n  const activeStrategy = strategies.find((strategy) => strategy.id === desiredId) || strategies[0];\r\n  select.value = activeStrategy.id;\r\n  setSelectedRolloutStrategyId(activeStrategy.id);\r\n\r\n  if (eventTypeSelect) {\r\n    eventTypeSelect.innerHTML = Object.keys(PROMO_TYPE_DETAILS)\r\n      .map((key) => `<option value=\"${key}\">${PROMO_TYPE_DETAILS[key].label}</option>`)\r\n      .join(\"\");\r\n    if (!eventTypeSelect.value) eventTypeSelect.value = DEFAULT_PROMO_TYPE;\r\n  }\r\n\r\n  if (weekInput) {\r\n    weekInput.disabled = false;\r\n    weekInput.max = String(activeStrategy.weeks.length);\r\n    const parsed = Math.max(1, Math.min(activeStrategy.weeks.length, Number(weekInput.value) || 1));\r\n    weekInput.value = String(parsed);\r\n  }\r\n  if (dropInput) dropInput.disabled = false;\r\n  if (eventTypeSelect) eventTypeSelect.disabled = false;\r\n  if (eventContentInput) eventContentInput.disabled = false;\r\n  if (autoRunToggle) {\r\n    autoRunToggle.disabled = false;\r\n    autoRunToggle.checked = Boolean(activeStrategy.autoRun);\r\n  }\r\n  if (expandBtn) expandBtn.disabled = false;\r\n  if (addDropBtn) addDropBtn.disabled = false;\r\n  if (addEventBtn) addEventBtn.disabled = false;\r\n  if (createBtn) createBtn.disabled = false;\r\n\r\n  const header = `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">Strategy ${activeStrategy.id}</div>\r\n      <div class=\"muted\">Status: ${activeStrategy.status} | Source: ${activeStrategy.source} | Weeks: ${activeStrategy.weeks.length}</div>\r\n    </div>\r\n  `;\r\n  const budgetSummary = renderRolloutBudgetSummary(activeStrategy);\r\n  const rows = activeStrategy.weeks.map((week, index) => {\r\n    const dropCount = Array.isArray(week.drops) ? week.drops.length : 0;\r\n    const eventCount = Array.isArray(week.events) ? week.events.length : 0;\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Week ${index + 1}</div>\r\n        <div class=\"muted\">Drops ${dropCount} | Events ${eventCount}</div>\r\n      </div>\r\n    `;\r\n  });\r\n  summary.innerHTML = rows.length\r\n    ? header + budgetSummary + rows.join(\"\")\r\n    : `${header}${budgetSummary}<div class=\"muted\">No rollout items yet.</div>`;\r\n}\r\n\r\nfunction renderEraStatus() {\r\n  const eraBox = $(\"eraStatus\");\r\n  if (!eraBox) return;\r\n  renderFocusEraStatus();\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const focusEra = getFocusedEra();\r\n  if (!activeEras.length) {\r\n    eraBox.innerHTML = `<div class=\"muted\">No active Eras. Start one or schedule a release.</div>`;\r\n    renderRolloutStrategyPlanner();\r\n    return;\r\n  }\r\n  eraBox.innerHTML = activeEras.map((era) => {\r\n    const act = getAct(era.actId);\r\n    const stageName = ERA_STAGES[era.stageIndex] || \"Complete\";\r\n    const stageWeeks = era.rolloutWeeks || ROLLOUT_PRESETS[1].weeks;\r\n    const stageTotal = stageWeeks[era.stageIndex] || 0;\r\n    const stageProgress = `${era.stageWeek}/${stageTotal} weeks`;\r\n    const content = era.contentTypes?.length ? era.contentTypes.join(\", \") : \"Unassigned\";\r\n    const isFocused = focusEra && focusEra.id === era.id;\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${era.name}</div>\r\n            <div class=\"muted\">Act: ${renderActName(act || \"Unknown\")}</div>\r\n            <div class=\"muted\">Stage: ${stageName} | ${stageProgress}</div>\r\n            <div class=\"muted\">Status: ${era.status} | Started Week ${era.startedWeek}</div>\r\n            <div class=\"muted\">Content: ${content}</div>\r\n          </div>\r\n          <div class=\"actions\">\r\n            ${isFocused ? `<span class=\"pill\">Focused</span>` : `<button type=\"button\" class=\"ghost mini\" data-era-focus=\"${era.id}\">Focus</button>`}\r\n            <button type=\"button\" class=\"ghost mini\" data-era-end=\"${era.id}\">End Era</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n  renderRolloutStrategyPlanner();\r\n}\r\n\r\nfunction renderEraHistoryPanel(targetEra) {\r\n  const panel = $(\"eraHistoryPanel\");\r\n  const listEl = $(\"eraHistoryList\");\r\n  if (!panel || !listEl) return;\r\n  const metaEl = $(\"eraHistoryMeta\");\r\n\r\n  if (!targetEra) {\r\n    panel.dataset.historyKey = \"\";\r\n    panel.dataset.historyStatus = \"\";\r\n    if (metaEl) metaEl.textContent = \"Focus an active era to view chart history.\";\r\n    listEl.innerHTML = `<div class=\"muted\">No active era selected.</div>`;\r\n    return;\r\n  }\r\n\r\n  const tracks = state.tracks.filter((track) => track.status === \"Released\" && track.eraId === targetEra.id);\r\n  if (metaEl) metaEl.textContent = `${targetEra.name} | ${formatCount(tracks.length)} released tracks`;\r\n  if (!tracks.length) {\r\n    panel.dataset.historyKey = \"\";\r\n    panel.dataset.historyStatus = \"\";\r\n    listEl.innerHTML = `<div class=\"muted\">No released tracks for ${targetEra.name} yet.</div>`;\r\n    return;\r\n  }\r\n\r\n  const chartWeek = Number.isFinite(state.meta?.chartHistoryLastWeek) ? state.meta.chartHistoryLastWeek : weekIndex() + 1;\r\n  const trackKey = tracks.map((track) => track.id).sort().join(\",\");\r\n  const cacheKey = `${targetEra.id}:${chartWeek}:${trackKey}`;\r\n  if (panel.dataset.historyKey === cacheKey && panel.dataset.historyStatus === \"ready\") {\r\n    return;\r\n  }\r\n\r\n  panel.dataset.historyKey = cacheKey;\r\n  panel.dataset.historyStatus = \"loading\";\r\n  listEl.innerHTML = `<div class=\"muted\">Loading chart history...</div>`;\r\n\r\n  const requestId = ++eraHistoryRequestId;\r\n  (async () => {\r\n    const weeks = await listChartWeeks();\r\n    if (requestId !== eraHistoryRequestId) return;\r\n    const currentWeek = weekIndex() + 1;\r\n    let weekNumbers = weeks.map((entry) => entry.week).filter((week) => week <= currentWeek);\r\n    if (!weekNumbers.length) {\r\n      listEl.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n      panel.dataset.historyStatus = \"ready\";\r\n      return;\r\n    }\r\n    const releaseWeeks = tracks\r\n      .map((track) => weekNumberFromEpochMs(track.releasedAt))\r\n      .filter((week) => Number.isFinite(week));\r\n    const minWeek = releaseWeeks.length ? Math.min(...releaseWeeks) : null;\r\n    if (minWeek) {\r\n      weekNumbers = weekNumbers.filter((week) => week >= minWeek);\r\n    }\r\n    if (!weekNumbers.length) {\r\n      listEl.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n      panel.dataset.historyStatus = \"ready\";\r\n      return;\r\n    }\r\n    weekNumbers.sort((a, b) => b - a);\r\n    const scopes = buildTrackHistoryScopes();\r\n    const snapshotsByWeek = new Map();\r\n    for (const week of weekNumbers) {\r\n      const snapshots = await Promise.all(scopes.map((scope) => fetchChartSnapshot(scope.scope, week)));\r\n      if (requestId !== eraHistoryRequestId) return;\r\n      const scopeMap = new Map();\r\n      snapshots.forEach((snapshot, index) => {\r\n        if (snapshot) scopeMap.set(scopes[index].scope, snapshot);\r\n      });\r\n      snapshotsByWeek.set(week, scopeMap);\r\n    }\r\n    if (requestId !== eraHistoryRequestId) return;\r\n\r\n    const headerCells = scopes.map((scope) => `<th title=\"${scope.title}\">${scope.label}</th>`).join(\"\");\r\n    const historyMarkup = tracks.map((track) => {\r\n      const act = getAct(track.actId);\r\n      const project = track.projectName || `${track.title} - Single`;\r\n      const projectType = track.projectType || \"Single\";\r\n      const releaseDate = track.releasedAt ? formatShortDate(track.releasedAt) : \"TBD\";\r\n      const releaseWeek = weekNumberFromEpochMs(track.releasedAt);\r\n      const rows = weekNumbers.map((week) => {\r\n        const weekTitle = formatWeekRangeLabel(week);\r\n        const weekLabel = `Week ${week}`;\r\n        const scopeMap = snapshotsByWeek.get(week);\r\n        const cells = scopes.map((scope) => {\r\n          const snapshot = scopeMap?.get(scope.scope);\r\n          const entry = snapshot?.entries?.find((item) => item.trackId === track.id);\r\n          let value = \"-\";\r\n          let cellClass = \"chart-rank is-unreleased\";\r\n          if (Number.isFinite(releaseWeek) && week >= releaseWeek) {\r\n            if (entry && Number.isFinite(entry.rank)) {\r\n              value = `#${entry.rank}`;\r\n              cellClass = \"chart-rank\";\r\n            } else {\r\n              value = \"DNC\";\r\n              cellClass = \"chart-rank is-dnc\";\r\n            }\r\n          }\r\n          return `<td class=\"${cellClass}\">${value}</td>`;\r\n        }).join(\"\");\r\n        return `<tr><td title=\"${weekTitle}\">${weekLabel}</td>${cells}</tr>`;\r\n      }).join(\"\");\r\n\r\n      return `\r\n        <div class=\"list-item track-history-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n              <div class=\"muted\">Act: ${renderActName(act || \"Unassigned\")} | Project: ${renderProjectName(project)} (${projectType})</div>\r\n              <div class=\"muted\">Released ${releaseDate} | ${track.distribution || \"Digital\"}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"track-history-table-wrap\">\r\n            <table class=\"chart-table track-history-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Week</th>\r\n                  ${headerCells}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                ${rows}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n\r\n    listEl.innerHTML = historyMarkup;\r\n    panel.dataset.historyStatus = \"ready\";\r\n  })().catch(() => {\r\n    if (requestId !== eraHistoryRequestId) return;\r\n    listEl.innerHTML = `<div class=\"muted\">Chart history unavailable.</div>`;\r\n    panel.dataset.historyStatus = \"ready\";\r\n  });\r\n}\r\n\r\nfunction renderEraPerformance() {\r\n  const tableWrap = $(\"eraPerformanceTableWrap\");\r\n  if (!tableWrap) return;\r\n  const metaEl = $(\"eraPerformanceMeta\");\r\n  const focusEra = getFocusedEra();\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\r\n  const targetEra = focusEra || fallbackEra;\r\n\r\n  if (!targetEra) {\r\n    if (metaEl) metaEl.textContent = \"Focus an active era to see performance details.\";\r\n    tableWrap.innerHTML = `<div class=\"muted\">No active era selected.</div>`;\r\n    renderEraHistoryPanel(null);\r\n    return;\r\n  }\r\n\r\n  const eraTracks = state.tracks.filter((track) => track.eraId === targetEra.id);\r\n  const released = eraTracks.filter((track) => track.status === \"Released\");\r\n  if (metaEl) metaEl.textContent = `${targetEra.name} | ${formatCount(eraTracks.length)} tracks | Released ${formatCount(released.length)}`;\r\n  if (!eraTracks.length) {\r\n    tableWrap.innerHTML = `<div class=\"muted\">No tracks linked to ${targetEra.name} yet.</div>`;\r\n    renderEraHistoryPanel(targetEra);\r\n    return;\r\n  }\r\n\r\n  const rows = eraTracks.map((track) => {\r\n    const act = getAct(track.actId);\r\n    const economy = track.economy || {};\r\n    const isReleased = track.status === \"Released\";\r\n    const marketEntry = state.marketTracks.find((entry) => entry.trackId === track.id)\r\n      || state.meta?.marketTrackArchive?.find((entry) => entry.trackId === track.id);\r\n    const history = marketEntry?.chartHistory?.global || null;\r\n    const peakLabel = history?.peak ? `#${history.peak}` : \"-\";\r\n    const wocLabel = history?.weeks ? formatCount(history.weeks) : \"-\";\r\n    const chartPoints = isReleased ? formatCount(economy.chartPoints || 0) : \"-\";\r\n    const salesLabel = isReleased ? formatCount(economy.sales || 0) : \"-\";\r\n    const streamLabel = isReleased ? formatCount(economy.streaming || 0) : \"-\";\r\n    const revenueLabel = isReleased ? formatMoney(economy.revenue || 0) : \"-\";\r\n    const productionCost = economy.productionCost || 0;\r\n    const distributionFees = economy.distributionFees || 0;\r\n    const actualCosts = productionCost + distributionFees;\r\n    const net = isReleased ? formatMoney((economy.revenue || 0) - actualCosts) : \"-\";\r\n    const costsLabel = formatMoney(actualCosts || 0);\r\n    const physical = recommendPhysicalRun(track, { act, label: state.label });\r\n    const vinylUnits = physical.units ? formatCount(physical.units) : \"0\";\r\n    const vinylGross = formatMoney(physical.estimatedGross || 0);\r\n    const vinylCost = formatMoney(physical.estimatedCost || 0);\r\n    const unitPrice = formatMoney(physical.unitPrice || 0);\r\n    const unitCost = formatMoney(physical.unitCost || 0);\r\n    const budgetNote = physical.isBudgetCapped && Number.isFinite(physical.budgetCap)\r\n      ? `Budget cap ${formatCount(physical.budgetCap)}`\r\n      : \"\";\r\n    const releaseDate = track.releasedAt ? formatShortDate(track.releasedAt) : \"TBD\";\r\n    const projectType = track.projectType || \"Single\";\r\n    const distribution = track.distribution || \"Digital\";\r\n\r\n    return `\r\n      <tr>\r\n        <td>\r\n          <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n          <div class=\"muted\">Act: ${renderActName(act || \"Unassigned\")} | Status: ${track.status}</div>\r\n        </td>\r\n        <td>\r\n          <div>${projectType}</div>\r\n          <div class=\"muted\">${distribution}</div>\r\n          <div class=\"muted\">Release ${releaseDate}</div>\r\n        </td>\r\n        <td>\r\n          <div class=\"chart-score\">${chartPoints}</div>\r\n          <div class=\"muted\">Peak ${peakLabel} | WOC ${wocLabel}</div>\r\n        </td>\r\n        <td>\r\n          <div>Sales ${salesLabel}</div>\r\n          <div class=\"muted\">Stream ${streamLabel}</div>\r\n        </td>\r\n        <td>\r\n          <div>Revenue ${revenueLabel}</div>\r\n          <div class=\"muted\">Costs ${costsLabel}</div>\r\n          <div class=\"muted\">Net ${net}</div>\r\n        </td>\r\n        <td>\r\n          <div>${vinylUnits} units</div>\r\n          <div class=\"muted\">${unitPrice} ea | ${unitCost} cost</div>\r\n          <div class=\"muted\">Gross ${vinylGross} | Cost ${vinylCost}</div>\r\n          ${budgetNote ? `<div class=\"muted\">${budgetNote}</div>` : \"\"}\r\n        </td>\r\n      </tr>\r\n    `;\r\n  }).join(\"\");\r\n\r\n  tableWrap.innerHTML = `\r\n    <table class=\"chart-table era-performance-table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Content</th>\r\n          <th>Type</th>\r\n          <th>Charts</th>\r\n          <th>Sales</th>\r\n          <th>Economics</th>\r\n          <th>Vinyl Run</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        ${rows}\r\n      </tbody>\r\n    </table>\r\n  `;\r\n\r\n  renderEraHistoryPanel(targetEra);\r\n}\r\n\r\nfunction projectKey(projectName, projectType) {\r\n  const nameKey = normalizeProjectName(projectName);\r\n  const typeKey = normalizeProjectType(projectType);\r\n  return `${nameKey}::${typeKey}`;\r\n}\r\n\r\nfunction collectProjectSummaries(tracks, queuedIds) {\r\n  const summaries = new Map();\r\n  tracks.forEach((track) => {\r\n    const projectName = track.projectName || `${track.title} - Single`;\r\n    const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n    const key = projectKey(projectName, projectType);\r\n    const summary = summaries.get(key) || {\r\n      projectName,\r\n      projectType,\r\n      trackCount: 0,\r\n      readyCount: 0,\r\n      masteringCount: 0,\r\n      scheduledCount: 0,\r\n      releasedCount: 0,\r\n      actNames: new Set()\r\n    };\r\n    summary.trackCount += 1;\r\n    if (track.status === \"Released\") summary.releasedCount += 1;\r\n    if (track.status === \"Ready\") summary.readyCount += 1;\r\n    if (track.status !== \"Ready\" && isMasteringTrack(track)) summary.masteringCount += 1;\r\n    if (queuedIds.has(track.id)) summary.scheduledCount += 1;\r\n    const act = track.actId ? getAct(track.actId) : null;\r\n    if (act?.name) summary.actNames.add(act.name);\r\n    summaries.set(key, summary);\r\n  });\r\n  return Array.from(summaries.values()).sort((a, b) => a.projectName.localeCompare(b.projectName));\r\n}\r\n\r\nfunction renderReleaseDesk() {\r\n  const readyList = $(\"readyList\");\r\n  if (!readyList) return;\r\n  if (!state.ui) state.ui = {};\n  if (typeof document !== \"undefined\") {\n    const active = document.activeElement;\n    const activeSelect = active && active.matches\n      ? (active.matches(\"select[data-assign-act]\") || active.matches(\"select[data-release-type]\")) && readyList.contains(active)\n      : false;\n    if (state.ui.releaseDeskLock && !activeSelect) state.ui.releaseDeskLock = false;\r\n    if (state.ui.releaseDeskLock) return;\r\n  } else if (state.ui.releaseDeskLock) {\r\n    state.ui.releaseDeskLock = false;\r\n  }\r\n  const releaseReadyStatuses = new Set([\"Ready\", \"Scheduled\", \"Released\"]);\n  const queueEntries = state.releaseQueue.map((entry) => {\n    const track = getTrack(entry.trackId);\n    const isReleaseReady = track ? releaseReadyStatuses.has(track.status) : false;\n    return { entry, track, isReleaseReady };\n  });\n  const queuedIds = new Set(queueEntries.filter((item) => item.isReleaseReady).map((item) => item.entry.trackId));\n  const blockedQueue = queueEntries.filter((item) => !item.isReleaseReady);\n  const projectSummaries = collectProjectSummaries(state.tracks, queuedIds);\n  const projectSummaryByKey = new Map(\r\n    projectSummaries.map((summary) => [projectKey(summary.projectName, summary.projectType), summary])\r\n  );\r\n  const projectList = $(\"releaseProjectList\");\r\n  if (projectList) {\r\n    if (!projectSummaries.length) {\r\n      projectList.innerHTML = `<div class=\"muted\">No projects yet. Create content in Create, then return here to schedule releases.</div>`;\r\n    } else {\r\n      projectList.innerHTML = projectSummaries.map((summary) => {\r\n        const limits = getProjectTrackLimits(summary.projectType);\r\n        const minRemaining = Math.max(0, limits.min - summary.trackCount);\r\n        const maxRemaining = Math.max(0, limits.max - summary.trackCount);\r\n        const statusLabel = minRemaining > 0\r\n          ? `${minRemaining} to minimum`\r\n          : maxRemaining === 0\r\n            ? \"At cap\"\r\n            : `+${maxRemaining} slots`;\r\n        const statusClass = minRemaining > 0 || maxRemaining === 0 ? \"badge warn\" : \"badge\";\r\n        const readyLabel = `Ready ${formatCount(summary.readyCount)}`;\n        const masteringLabel = `Mastering ${formatCount(summary.masteringCount)}`;\n        const actLabel = summary.actNames.size\n          ? Array.from(summary.actNames).map((name) => renderActName(name)).join(\", \")\n          : \"Unassigned\";\n        return `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">${renderProjectName(summary.projectName)}</div>\r\n                <div class=\"muted\">${summary.projectType} | Tracks ${summary.trackCount}/${limits.max} | ${readyLabel} | ${masteringLabel} | Scheduled ${formatCount(summary.scheduledCount)} | Released ${formatCount(summary.releasedCount)}</div>\n                <div class=\"muted\">Acts: ${actLabel}</div>\r\n              </div>\r\n              <div class=\"${statusClass}\">${statusLabel}</div>\r\n            </div>\r\n          </div>\r\n        `;\r\n      }).join(\"\");\r\n    }\r\n  }\r\n  const asapAt = getReleaseAsapAt();\r\n  const asapLabel = formatDate(asapAt);\r\n  const distributionSelect = $(\"releaseDistribution\");\r\n  const selectedDistribution = distributionSelect ? distributionSelect.value : \"Digital\";\n  const selectedFeeLabel = formatMoney(getReleaseDistributionFee(selectedDistribution));\n  const readyTracks = state.tracks.filter((track) => {\n    if (queuedIds.has(track.id)) return false;\n    return track.status === \"Ready\";\n  });\n  const readyHtml = readyTracks.length\n    ? readyTracks.map((track) => {\n      const isReady = track.status === \"Ready\";\n      const act = getAct(track.actId);\n      const actOptions = state.acts.map((entry) => `<option value=\"${entry.id}\"${entry.id === track.actId ? \" selected\" : \"\"}>${entry.name}</option>`).join(\"\");\r\n      const actSelect = state.acts.length\r\n        ? `\r\n          <div class=\"field\">\r\n            <label>Assign Act</label>\r\n            <div class=\"input-row\">\r\n              <select data-assign-act=\"${track.id}\">\r\n                <option value=\"\">Select Act</option>\r\n                ${actOptions}\r\n              </select>\r\n              <button type=\"button\" class=\"ghost mini\" data-act-recommend=\"${track.id}\">Recommend</button>\r\n            </div>\r\n          </div>\r\n        `\r\n        : `<div class=\"muted\">No Acts available. Create one in Roster.</div>`;\r\n      const project = track.projectName || `${track.title} - Single`;\n      const projectType = normalizeProjectType(track.projectType || \"Single\");\n      const releaseType = resolveTrackReleaseType(track);\n      const releaseTypeLabel = releaseType === \"Single\" ? \"Single\" : \"Project track\";\n      const editionLabel = track.projectEdition === \"Deluxe\" ? \" | Deluxe\" : \"\";\n      const limits = getProjectTrackLimits(projectType);\n      const summaryKey = projectKey(project, projectType);\n      const summary = projectSummaryByKey.get(summaryKey);\r\n      const projectCount = summary ? summary.trackCount : 1;\r\n      const minRemaining = Math.max(0, limits.min - projectCount);\r\n      const maxRemaining = Math.max(0, limits.max - projectCount);\r\n      const projectCountLine = minRemaining > 0\r\n        ? `Project size: ${projectCount}/${limits.max} (${minRemaining} to minimum)`\r\n        : maxRemaining === 0\r\n          ? `Project size: ${projectCount}/${limits.max} (at cap)`\r\n          : `Project size: ${projectCount}/${limits.max}`;\r\n      const themeTag = renderThemeTag(track.theme);\r\n      const alignTag = renderAlignmentTag(track.alignment);\r\n      const modifierName = track.modifier ? track.modifier.label : \"None\";\r\n      const derivedGenre = track.genre || makeGenre(track.theme, track.mood);\n      const grade = qualityGrade(track.quality);\n      const rec = derivedGenre ? recommendReleasePlan({ ...track, genre: derivedGenre }) : recommendReleasePlan(track);\n      const recLabel = `${rec.distribution} ${rec.scheduleKey === \"now\" ? \"now\" : rec.scheduleKey === \"fortnight\" ? \"+14d\" : \"+7d\"}`;\n      const recFeeLabel = formatMoney(getReleaseDistributionFee(rec.distribution));\n      const genreLabel = renderGenrePillsFromGenre(derivedGenre, { fallback: \"-\", alignment: track.alignment });\n      const hasAct = Boolean(track.actId);\n      const canSchedule = hasAct && isReady;\n      const releaseTypeSelect = `\n        <div class=\"field\">\n          <label>Release Type</label>\n          <select data-release-type=\"${track.id}\">\n            <option value=\"Single\"${releaseType === \"Single\" ? \" selected\" : \"\"}>Single</option>\n            <option value=\"Project\"${releaseType === \"Project\" ? \" selected\" : \"\"}>Project track</option>\n          </select>\n        </div>\n      `;\n      return `\n        <div class=\"list-item\">\n          <div class=\"list-row\">\n            <div class=\"item-main\">\n              <div class=\"content-thumb\" aria-hidden=\"true\"></div>\r\n              <div>\r\n                <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\n                <div class=\"muted\">${genreLabel} | <span class=\"grade-text\" data-grade=\"${grade}\">${grade}</span></div>\n                <div class=\"muted\">${themeTag} ${alignTag}</div>\n                <div class=\"muted\">Act: ${renderActName(act || \"Unassigned\")} | Project: ${renderProjectName(project)} (${projectType}${editionLabel})</div>\n                <div class=\"muted\">Release type: ${releaseTypeLabel}</div>\n                <div class=\"muted\">${projectCountLine}</div>\n                <div class=\"muted\">Modifier: ${modifierName}</div>\n                <div class=\"muted\">Recommended: ${recLabel} - ${rec.reason}</div>\n                ${releaseTypeSelect}\n                ${actSelect}\n              </div>\n            </div>\n            <div class=\"time-row\">\r\n              <div>\r\n                <button type=\"button\" data-release=\"asap\" data-track=\"${track.id}\"${canSchedule ? \"\" : \" disabled\"}>Release ASAP (${selectedFeeLabel})</button>\r\n                <div class=\"time-meta\">${asapLabel} (earliest Friday at midnight)</div>\r\n              </div>\r\n              <button type=\"button\" class=\"ghost\" data-release=\"week\" data-track=\"${track.id}\"${canSchedule ? \"\" : \" disabled\"}>+7d (${selectedFeeLabel})</button>\r\n              <button type=\"button\" class=\"ghost\" data-release=\"fortnight\" data-track=\"${track.id}\"${canSchedule ? \"\" : \" disabled\"}>+14d (${selectedFeeLabel})</button>\r\n              <button type=\"button\" class=\"ghost\" data-release=\"recommend\" data-track=\"${track.id}\"${canSchedule ? \"\" : \" disabled\"}>Use Recommended (${recFeeLabel})</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\n    }).join(\"\")\n    : `<div class=\"muted\">No release-ready tracks yet.</div>`;\n  readyList.innerHTML = readyHtml;\n\r\n  const releaseQueueList = $(\"releaseQueueList\");\n  if (!releaseQueueList) return;\n  if (!queueEntries.length) {\n    releaseQueueList.innerHTML = `<div class=\"muted\">No scheduled releases.</div>`;\n    return;\n  }\n  const blockedNote = (() => {\n    if (!blockedQueue.length) return \"\";\n    let missingCount = 0;\n    let unmasteredCount = 0;\n    blockedQueue.forEach(({ track }) => {\n      if (!track) missingCount += 1;\n      else unmasteredCount += 1;\n    });\n    const parts = [];\n    if (unmasteredCount) parts.push(`${formatCount(unmasteredCount)} not mastered yet`);\n    if (missingCount) parts.push(`${formatCount(missingCount)} missing track${missingCount === 1 ? \"\" : \"s\"}`);\n    return `<div class=\"muted\">Blocked: ${parts.join(\", \")}.</div>`;\n  })();\n  const releaseReadyQueue = queueEntries.filter((item) => item.isReleaseReady);\n  const queueHtml = releaseReadyQueue.length\n    ? releaseReadyQueue.map(({ entry, track }) => {\n      const date = formatDate(entry.releaseAt);\n      const act = track ? getAct(track.actId) : null;\n      const project = track ? (track.projectName || `${track.title} - Single`) : \"Unknown\";\n      const projectType = track ? normalizeProjectType(track.projectType || \"Single\") : \"Single\";\n      const releaseType = track ? resolveTrackReleaseType(track) : \"Single\";\n      const releaseTypeLabel = releaseType === \"Single\" ? \"Single\" : \"Project track\";\n      const editionLabel = track?.projectEdition === \"Deluxe\" ? \" | Deluxe\" : \"\";\n      const distribution = entry.distribution || entry.note || \"Digital\";\n      return `\n      <div class=\"list-item\">\n        <div class=\"list-row\">\n          <div class=\"item-main\">\n            <div class=\"content-thumb\" aria-hidden=\"true\"></div>\n            <div>\n              <div class=\"item-title\">${track ? renderTrackTitle(track.title) : \"Unknown\"}</div>\n              <div class=\"muted\">${date} | ${distribution}</div>\n              <div class=\"muted\">Act: ${track ? renderActName(act || \"Unassigned\") : \"Unknown\"} | Project: ${renderProjectName(project)} (${projectType}${editionLabel})</div>\n              <div class=\"muted\">Release type: ${releaseTypeLabel}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n    }).join(\"\")\n    : `<div class=\"muted\">No release-ready scheduled entries.</div>`;\n  releaseQueueList.innerHTML = `${blockedNote}${queueHtml}`;\n}\n\nfunction renderTouringDesk() {\n  const draftSelect = $(\"tourDraftSelect\");\n  if (!draftSelect) return;\n  if (!state.ui) state.ui = {};\n  if (typeof document !== \"undefined\") {\n    const active = document.activeElement;\n    const isTourField = active && typeof active.closest === \"function\" && active.closest(\"[data-tour-lock]\");\n    if (state.ui.tourDeskLock && !isTourField) state.ui.tourDeskLock = false;\n    if (state.ui.tourDeskLock) return;\n  } else if (state.ui.tourDeskLock) {\n    state.ui.tourDeskLock = false;\n  }\n  if (!state.ui.tourVenueFilters || typeof state.ui.tourVenueFilters !== \"object\") {\n    state.ui.tourVenueFilters = { nation: \"All\", regionId: \"All\", tier: \"All\" };\n  }\n  if (!Number.isFinite(state.ui.tourBookingWeek)) state.ui.tourBookingWeek = weekIndex() + 1;\n  if (!Number.isFinite(state.ui.tourBookingDay)) state.ui.tourBookingDay = 5;\n  if (!Number.isFinite(state.ui.tourAutoCount)) state.ui.tourAutoCount = 8;\n  state.ui.tourBookingWeek = Math.max(1, Math.round(state.ui.tourBookingWeek));\n  state.ui.tourBookingDay = clamp(Math.round(state.ui.tourBookingDay), 0, 6);\n  state.ui.tourAutoCount = Math.max(1, Math.round(state.ui.tourAutoCount));\n\n  const drafts = listTourDrafts();\n  let draft = getSelectedTourDraft();\n  if (!draft && drafts.length) draft = selectTourDraft(drafts[0].id);\n\n  const noticeEl = $(\"tourNotice\");\n  const nameInput = $(\"tourNameInput\");\n  const actSelect = $(\"tourActSelect\");\n  const eraSelect = $(\"tourEraSelect\");\n  const anchorSelect = $(\"tourAnchorSelect\");\n  const windowStartInput = $(\"tourWindowStart\");\n  const windowEndInput = $(\"tourWindowEnd\");\n  const autoCountInput = $(\"tourAutoCount\");\n  const autoGenerateBtn = $(\"tourAutoGenerateBtn\");\n  const plannerMeta = $(\"tourPlannerMeta\");\n\n  const act = draft?.actId ? getAct(draft.actId) : null;\n  const era = draft?.eraId ? getEraById(draft.eraId) : (act ? getLatestActiveEraForAct(act.id) : null);\n  const marketPool = Array.isArray(state.marketTracks) ? state.marketTracks : [];\n  const marketTracks = marketPool.filter((track) => {\n    if (!track || !track.isPlayer) return false;\n    if (!draft?.actId) return false;\n    if (track.actId !== draft.actId) return false;\n    if (draft?.eraId && track.eraId !== draft.eraId) return false;\n    return true;\n  });\n\n  const defaultNotice = (() => {\n    if (!draft) return { message: \"Create a tour draft to begin planning.\", tone: \"warn\" };\n    if (!draft.actId) return { message: \"Assign an Act to unlock venues and projections.\", tone: \"warn\" };\n    if (!era || era.status !== \"Active\") return { message: \"Touring requires an active Era for the selected Act.\", tone: \"warn\" };\n    if (!marketTracks.length) return { message: \"Touring requires released Project or Track content.\", tone: \"warn\" };\n    return { message: \"Plan the window, pick an anchor release, then book venues to build the route.\", tone: \"info\" };\n  })();\n  const notice = state.ui.tourNotice || defaultNotice;\n  if (noticeEl) {\n    noticeEl.textContent = notice.message || defaultNotice.message;\n    noticeEl.className = `callout${notice.tone === \"warn\" ? \" callout--warn\" : \"\"}`;\n  }\n\n  if (draftSelect) {\n    if (!drafts.length) {\n      draftSelect.innerHTML = `<option value=\"\">No drafts yet</option>`;\n    } else {\n      draftSelect.innerHTML = drafts.map((entry) => (\n        `<option value=\"${entry.id}\"${draft?.id === entry.id ? \" selected\" : \"\"}>${entry.name || entry.id}</option>`\n      )).join(\"\");\n    }\n    draftSelect.value = draft?.id || \"\";\n  }\n\n  if (nameInput) {\n    nameInput.value = draft?.name || \"\";\n    nameInput.disabled = !draft;\n  }\n  if (actSelect) {\n    const acts = Array.isArray(state.acts) ? state.acts : [];\n    const options = acts.map((entry) => `<option value=\"${entry.id}\">${entry.name}</option>`).join(\"\");\n    actSelect.innerHTML = `<option value=\"\">Select Act</option>${options}`;\n    actSelect.value = draft?.actId || \"\";\n    actSelect.disabled = !draft || !acts.length;\n  }\n  if (eraSelect) {\n    const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\n    const options = activeEras\n      .filter((entry) => !draft?.actId || entry.actId === draft.actId)\n      .map((entry) => {\n        const eraAct = getAct(entry.actId);\n        const actLabel = eraAct ? ` (${eraAct.name})` : \"\";\n        return `<option value=\"${entry.id}\">${entry.name}${actLabel}</option>`;\n      }).join(\"\");\n    eraSelect.innerHTML = `<option value=\"\">Auto (latest active)</option>${options}`;\n    eraSelect.value = draft?.eraId || \"\";\n    eraSelect.disabled = !draft;\n  }\n\n  if (anchorSelect) {\n    let anchorValue = \"auto\";\n    if (draft?.anchorTrackIds?.length) {\n      anchorValue = `track:${draft.anchorTrackIds[0]}`;\n    } else if (draft?.anchorProjectId) {\n      anchorValue = draft.anchorProjectId;\n    }\n    const sortedTracks = marketTracks.slice().sort((a, b) => (b.releasedAt || 0) - (a.releasedAt || 0));\n    const projectMap = new Map();\n    sortedTracks.forEach((track) => {\n      const projectName = track.projectName || `${track.title} - Single`;\n      const projectType = normalizeProjectType(track.projectType || \"Single\");\n      const key = `${normalizeProjectName(projectName)}::${projectType}`;\n      if (!projectMap.has(key)) projectMap.set(key, track);\n    });\n    const projectOptions = Array.from(projectMap.values()).map((track) => {\n      const key = buildPromoProjectKeyFromTrack(track);\n      if (!key) return \"\";\n      const projectName = track.projectName || `${track.title} - Single`;\n      const projectType = normalizeProjectType(track.projectType || \"Single\");\n      const label = `${projectName} (${projectType})`;\n      return `<option value=\"${key}\">${label}</option>`;\n    }).filter(Boolean).join(\"\");\n    const trackOptions = sortedTracks.map((track) => {\n      const trackId = track.trackId || track.id;\n      if (!trackId) return \"\";\n      const projectName = track.projectName || `${track.title} - Single`;\n      const projectType = normalizeProjectType(track.projectType || \"Single\");\n      const suffix = projectType === \"Single\" ? \"Single\" : projectType;\n      return `<option value=\"track:${trackId}\">${track.title} (${suffix} | ${projectName})</option>`;\n    }).filter(Boolean).join(\"\");\n    anchorSelect.innerHTML = `\n      <option value=\"auto\">Auto (latest release)</option>\n      ${projectOptions ? `<optgroup label=\"Projects\">${projectOptions}</optgroup>` : \"\"}\n      ${trackOptions ? `<optgroup label=\"Tracks\">${trackOptions}</optgroup>` : \"\"}\n    `;\n    anchorSelect.value = anchorValue;\n    anchorSelect.disabled = !draft || !draft.actId || !marketTracks.length;\n  }\n\n  if (windowStartInput) {\n    windowStartInput.value = Number.isFinite(draft?.window?.startWeek) ? String(draft.window.startWeek) : \"\";\n    windowStartInput.disabled = !draft;\n  }\n  if (windowEndInput) {\n    windowEndInput.value = Number.isFinite(draft?.window?.endWeek) ? String(draft.window.endWeek) : \"\";\n    windowEndInput.disabled = !draft;\n  }\n  if (autoCountInput) {\n    autoCountInput.value = String(state.ui.tourAutoCount || 1);\n    autoCountInput.disabled = !draft;\n  }\n  if (autoGenerateBtn) {\n    autoGenerateBtn.disabled = !draft;\n  }\n  if (plannerMeta) {\n    const actLabel = act ? renderActName(act) : \"No Act\";\n    const eraLabel = era ? era.name : \"No active Era\";\n    plannerMeta.textContent = `Status: ${draft?.status || \"Draft\"} | Act: ${actLabel} | Era: ${eraLabel}`;\n  }\n\n  const timelineList = $(\"tourTimelineList\");\n  if (timelineList) {\n    const bookings = draft ? listTourBookings({ tourId: draft.id }) : [];\n    const ordered = bookings.slice().sort((a, b) => (a.scheduledAt || 0) - (b.scheduledAt || 0));\n    if (!draft) {\n      timelineList.innerHTML = `<div class=\"muted\">No tour draft selected yet.</div>`;\n    } else if (!ordered.length) {\n      timelineList.innerHTML = `<div class=\"muted\">No tour dates booked yet.</div>`;\n    } else {\n      timelineList.innerHTML = ordered.map((booking) => {\n        const isCompleted = booking.status === \"Completed\";\n        const projection = booking.projection || {};\n        const attendance = Number(isCompleted ? booking.attendance : projection.attendance || 0);\n        const revenue = Number(isCompleted ? booking.revenue : projection.revenue || 0);\n        const costs = Number(isCompleted ? booking.costs : projection.costs || 0);\n        const profit = Number(isCompleted ? booking.profit : projection.profit || 0);\n        const warnings = Array.isArray(booking.warnings) ? booking.warnings : [];\n        const warningLine = warnings.length\n          ? `<div class=\"muted tour-warning-line\">${warnings.map((warn) => warn.message || warn.code || \"Warning\").join(\" | \")}</div>`\n          : \"\";\n        const statusBadge = isCompleted ? \"badge\" : \"badge warn\";\n        const canRemove = !isCompleted;\n        return `\n          <div class=\"list-item\">\n            <div class=\"list-row\">\n              <div>\n                <div class=\"item-title\">${booking.venueLabel || \"Venue\"} | ${formatDate(booking.scheduledAt)}</div>\n                <div class=\"muted\">Week ${booking.weekNumber || \"-\"} | ${DAYS?.[booking.dayIndex] || \"Day\"} | ${booking.regionId || \"Region\"} (${booking.tier || \"Tier\"})</div>\n                <div class=\"muted\">${isCompleted ? \"Actual\" : \"Projected\"} attendance ${formatCount(attendance)} | Revenue ${formatMoney(revenue)} | Costs ${formatMoney(costs)} | Profit ${formatMoney(profit)}</div>\n                ${warningLine}\n              </div>\n              <div class=\"${statusBadge}\">${isCompleted ? \"Completed\" : \"Booked\"}</div>\n            </div>\n            <div class=\"actions\">\n              <button type=\"button\" class=\"ghost mini\" data-tour-remove=\"${booking.id}\"${canRemove ? \"\" : \" disabled\"}>Remove</button>\n            </div>\n          </div>\n        `;\n      }).join(\"\");\n    }\n  }\n\n  const bookingWeekInput = $(\"tourBookingWeek\");\n  const bookingDaySelect = $(\"tourBookingDay\");\n  if (bookingWeekInput) {\n    bookingWeekInput.value = String(state.ui.tourBookingWeek || weekIndex() + 1);\n    bookingWeekInput.disabled = !draft;\n  }\n  if (bookingDaySelect) {\n    bookingDaySelect.value = String(state.ui.tourBookingDay ?? 5);\n    bookingDaySelect.disabled = !draft;\n  }\n\n  const venueNation = $(\"tourVenueNation\");\n  const venueRegion = $(\"tourVenueRegion\");\n  const venueTier = $(\"tourVenueTier\");\n  if (venueNation) {\n    const options = NATIONS.map((nation) => `<option value=\"${nation}\">${nation}</option>`).join(\"\");\n    venueNation.innerHTML = `<option value=\"All\">All Nations</option>${options}`;\n    venueNation.value = state.ui.tourVenueFilters.nation || \"All\";\n    venueNation.disabled = !draft;\n  }\n  if (venueRegion) {\n    const options = REGION_DEFS.map((region) => `<option value=\"${region.id}\">${region.label}</option>`).join(\"\");\n    venueRegion.innerHTML = `<option value=\"All\">All Regions</option>${options}`;\n    venueRegion.value = state.ui.tourVenueFilters.regionId || \"All\";\n    venueRegion.disabled = !draft;\n  }\n  if (venueTier) {\n    const tiers = listTourTiers();\n    const options = tiers.map((tier) => `<option value=\"${tier}\">${tier}</option>`).join(\"\");\n    venueTier.innerHTML = `<option value=\"All\">All Tiers</option>${options}`;\n    venueTier.value = state.ui.tourVenueFilters.tier || \"All\";\n    venueTier.disabled = !draft;\n  }\n\n  const venueList = $(\"tourVenueList\");\n  if (venueList) {\n    if (!draft) {\n      venueList.innerHTML = `<div class=\"muted\">Create a tour draft to browse venues.</div>`;\n    } else {\n      const filters = state.ui.tourVenueFilters || {};\n      const filterNation = filters.nation !== \"All\" ? filters.nation : null;\n      const filterRegion = filters.regionId !== \"All\" ? filters.regionId : null;\n      const filterTier = filters.tier !== \"All\" ? filters.tier : null;\n      const venues = listTourVenues({ nation: filterNation, regionId: filterRegion, tier: filterTier });\n      const tierOrder = listTourTiers();\n      const tierIndex = (tier) => {\n        const index = tierOrder.indexOf(tier);\n        return index >= 0 ? index : tierOrder.length;\n      };\n      venues.sort((a, b) => {\n        const tierDelta = tierIndex(a.tier) - tierIndex(b.tier);\n        if (tierDelta !== 0) return tierDelta;\n        return (a.capacity || 0) - (b.capacity || 0);\n      });\n      const week = state.ui.tourBookingWeek || weekIndex() + 1;\n      const dayIndex = state.ui.tourBookingDay ?? 5;\n      const scheduledAt = weekStartEpochMs(week) + dayIndex * DAY_MS;\n      const anchor = draft && act ? resolveTourAnchor(draft, act.id, era?.id) : { primary: null };\n      const projectionsReady = !!(draft && act && era && marketTracks.length);\n      if (!venues.length) {\n        venueList.innerHTML = `<div class=\"muted\">No venues match the current filters.</div>`;\n      } else {\n        venueList.innerHTML = venues.map((venue) => {\n          const availability = getTourVenueAvailability(venue.id, scheduledAt);\n          const validation = validateTourBooking({ draft, venue, scheduledAt });\n          const projection = validation.projection || (projectionsReady\n            ? computeTourProjection({ draft, act, era, venue, scheduledAt, anchor: anchor.primary })\n            : null);\n          const slotsLabel = `${availability.available}/${availability.capacity} slots`;\n          const projectionLine = projection\n            ? `Projected attendance ${formatCount(projection.attendance)} | Profit ${formatMoney(projection.profit)}`\n            : \"Projection unavailable (needs Act + Era + released content).\";\n          const blockLine = !validation.ok && validation.reason\n            ? `<div class=\"muted tour-warning-line\">${validation.reason}</div>`\n            : \"\";\n          const canBook = validation.ok;\n          return `\n            <div class=\"list-item\">\n              <div class=\"list-row\">\n                <div>\n                  <div class=\"item-title\">${venue.label}</div>\n                  <div class=\"muted\">${venue.tier} | ${venue.regionId} | Capacity ${formatCount(venue.capacity)}</div>\n                  <div class=\"muted\">Availability ${slotsLabel} | ${formatDate(scheduledAt)}</div>\n                  <div class=\"muted\">${projectionLine}</div>\n                  ${blockLine}\n                </div>\n                <div class=\"actions\">\n                  <button type=\"button\" data-tour-book=\"${venue.id}\"${canBook ? \"\" : \" disabled\"}>Book</button>\n                </div>\n              </div>\n            </div>\n          `;\n        }).join(\"\");\n      }\n    }\n  }\n\n  const summaryList = $(\"tourBudgetSummary\");\n  const warningList = $(\"tourWarningList\");\n  if (summaryList) {\n    if (!draft) {\n      summaryList.innerHTML = `<div class=\"muted\">Select a tour draft to see projections.</div>`;\n    } else {\n      const summary = computeTourDraftSummary(draft.id);\n      if (!summary.count) {\n        summaryList.innerHTML = `<div class=\"muted\">No tour dates booked yet.</div>`;\n      } else {\n        summaryList.innerHTML = `\n          <div class=\"list-item\">\n            <div class=\"item-title\">Tour summary</div>\n            <div class=\"muted\">Dates ${formatCount(summary.count)} | Attendance ${formatCount(summary.attendance)}</div>\n            <div class=\"muted\">Revenue ${formatMoney(summary.revenue)} | Costs ${formatMoney(summary.costs)} | Profit ${formatMoney(summary.profit)}</div>\n          </div>\n        `;\n      }\n    }\n  }\n  if (warningList) {\n    if (!draft) {\n      warningList.innerHTML = `<div class=\"muted\">No tour warnings yet.</div>`;\n    } else {\n      const summary = computeTourDraftSummary(draft.id);\n      const seen = new Set();\n      const warnings = (summary.warnings || [])\n        .filter((warn) => {\n          const code = warn?.code || warn?.message || \"warning\";\n          if (seen.has(code)) return false;\n          seen.add(code);\n          return true;\n        })\n        .map((warn) => warn?.message || warn?.code || \"Warning\");\n      warningList.innerHTML = warnings.length\n        ? warnings.map((message) => `\n          <div class=\"list-item\">\n            <div class=\"list-row\">\n              <div class=\"muted\">${message}</div>\n              <div class=\"badge warn\">Warning</div>\n            </div>\n          </div>\n        `).join(\"\")\n        : `<div class=\"muted\">No tour warnings yet.</div>`;\n    }\n  }\n  const balanceToggle = $(\"tourBalanceToggle\");\n  if (balanceToggle) {\n    balanceToggle.checked = touringBalanceEnabled();\n  }\n}\n\nfunction collectProjectChartEntries(entries) {\n  const projects = new Map();\n  (entries || []).forEach((entry) => {\n    const track = entry.track || entry;\r\n    if (!track) return;\r\n    const projectName = track.projectName || `${track.title} - Single`;\r\n    const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n    const label = track.label || \"Unknown\";\r\n    const actName = track.actName || \"-\";\r\n    const key = `${normalizeProjectName(projectName)}::${projectType}::${label}::${actName}`;\r\n    const metrics = entry.metrics || {};\r\n    const score = Number(entry.score || 0);\r\n    const existing = projects.get(key) || {\r\n      projectName,\r\n      projectType,\r\n      label,\r\n      actName,\r\n      alignment: track.alignment,\r\n      country: track.country || \"Annglora\",\r\n      primaryTrack: track,\r\n      primaryScore: Number.isFinite(score) ? score : 0,\r\n      trackCount: 0,\r\n      metrics: { sales: 0, streaming: 0, airplay: 0, social: 0 },\r\n      score: 0\r\n    };\r\n    existing.trackCount += 1;\r\n    if (Number.isFinite(score)) {\r\n      existing.score += score;\r\n      if (!existing.primaryTrack || score > existing.primaryScore) {\r\n        existing.primaryTrack = track;\r\n        existing.primaryScore = score;\r\n      }\r\n    }\r\n    existing.metrics.sales += Number(metrics.sales || 0);\r\n    existing.metrics.streaming += Number(metrics.streaming || 0);\r\n    existing.metrics.airplay += Number(metrics.airplay || 0);\r\n    existing.metrics.social += Number(metrics.social || 0);\r\n    projects.set(key, existing);\r\n  });\r\n  return Array.from(projects.values())\r\n    .sort((a, b) => b.score - a.score)\r\n    .map((entry, index) => ({ ...entry, rank: index + 1 }));\r\n}\r\n\r\nfunction buildTrendRankingList({ limit = null, showMore = false } = {}) {\r\n  const { visible, aggregate } = collectTrendRanking();\r\n  const displayed = typeof limit === \"number\" ? visible.slice(0, limit) : visible;\r\n  if (!displayed.length) {\r\n    return { markup: `<div class=\"muted\">No trends yet.</div>`, visibleCount: 0, totalCount: visible.length };\r\n  }\r\n  const alignmentScores = aggregate.alignmentScores || {};\r\n  const list = displayed.map((trend, index) => {\r\n    const theme = themeFromGenre(trend);\r\n    const mood = moodFromGenre(trend);\r\n    const isTop = index < TREND_DETAIL_COUNT;\r\n    const leader = isTop ? trendAlignmentLeader(trend, alignmentScores) : null;\r\n    const detail = isTop\r\n      ? `\r\n        <div class=\"trend-detail\">\r\n          <div class=\"trend-detail-row\">\r\n            <span class=\"trend-detail-pill\">Alignment push</span>\r\n            ${leader\r\n              ? `${renderAlignmentTag(leader.alignment)} <span class=\"muted\">${leader.share}% of trend points</span>`\r\n              : `<span class=\"muted\">No clear alignment leader</span>`}\r\n          </div>\r\n        </div>\r\n      `\r\n      : \"\";\r\n    const moreAction = showMore && index === 0\r\n      ? `<button type=\"button\" class=\"ghost mini\" data-ranking-more=\"trends\">More</button>`\r\n      : \"\";\r\n    return `\r\n      <div class=\"list-item trend-item${isTop ? \" trend-item--top\" : \"\"}\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">#${index + 1} ${renderGenrePills(theme, mood)}</div>\r\n          </div>\r\n          <div class=\"ranking-actions\">\r\n            <div class=\"badge warn\">Hot</div>\r\n            ${moreAction}\r\n          </div>\r\n        </div>\r\n        ${detail}\r\n      </div>\r\n    `;\r\n  });\r\n  return { markup: list.join(\"\"), visibleCount: displayed.length, totalCount: visible.length };\r\n}\r\n\r\nfunction renderTrends() {\r\n  const listEl = $(\"trendList\");\r\n  if (!listEl) return;\r\n  const scopeSelect = $(\"trendScopeSelect\");\r\n  const targetSelect = $(\"trendScopeTarget\");\r\n  const targetLabel = $(\"trendScopeTargetLabel\");\r\n  const scopeMeta = $(\"trendScopeMeta\");\r\n  if (scopeSelect) {\r\n    scopeSelect.value = \"global\";\r\n    scopeSelect.disabled = true;\r\n  }\r\n  if (targetLabel) targetLabel.textContent = \"Global\";\r\n  if (targetSelect) {\r\n    targetSelect.disabled = true;\r\n    targetSelect.innerHTML = `<option value=\"global\">Global</option>`;\r\n  }\r\n  const limit = getCommunityTrendRankingLimit();\r\n  const { markup, visibleCount, totalCount } = buildTrendRankingList({ limit, showMore: true });\r\n  listEl.innerHTML = markup;\r\n  if (scopeMeta) {\r\n    if (!totalCount) {\r\n      scopeMeta.textContent = \"No trends available yet.\";\r\n    } else if (visibleCount >= totalCount) {\r\n      scopeMeta.textContent = `Showing ${formatCount(totalCount)} global trends.`;\r\n    } else {\r\n      scopeMeta.textContent = `Showing Global Top ${formatCount(visibleCount)} of ${formatCount(totalCount)} trends.`;\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderCommunityRankings() {\r\n  renderCommunityLabels();\r\n  renderTrends();\r\n}\r\n\r\nfunction renderRankingModal(category) {\r\n  const titleEl = $(\"rankingModalTitle\");\r\n  const listEl = $(\"rankingModalList\");\r\n  const metaEl = $(\"rankingModalMeta\");\r\n  if (!titleEl || !listEl) return;\r\n  if (category === \"labels\") {\r\n    const { markup, totalCount } = buildLabelRankingList();\r\n    titleEl.textContent = \"Label Rankings\";\r\n    listEl.innerHTML = markup;\r\n    if (metaEl) {\r\n      metaEl.textContent = totalCount\r\n        ? `Showing ${formatCount(totalCount)} ranked labels.`\r\n        : \"No labels ranked yet.\";\r\n    }\r\n  } else if (category === \"trends\") {\r\n    const { markup, totalCount } = buildTrendRankingList();\r\n    titleEl.textContent = \"Trend Rankings\";\r\n    listEl.innerHTML = markup;\r\n    if (metaEl) {\r\n      metaEl.textContent = totalCount\r\n        ? `Showing ${formatCount(totalCount)} global trends.`\r\n        : \"No trends available yet.\";\r\n    }\r\n  }\r\n  openOverlay(\"rankingModal\");\r\n}\r\n\r\nfunction renderRankingWindow(category) {\r\n  const windowEl = $(\"rankingWindow\");\r\n  const titleEl = $(\"rankingWindowTitle\");\r\n  const listEl = $(\"rankingWindowList\");\r\n  const metaEl = $(\"rankingWindowMeta\");\r\n  if (!windowEl || !titleEl || !listEl) return;\r\n  const isLabels = category === \"labels\";\n  if (isLabels) {\n    const { markup, visibleCount, totalCount } = buildLabelRankingList({ limit: 8, showUsage: true });\n    titleEl.textContent = \"Top Labels\";\n    listEl.innerHTML = markup;\n    if (metaEl) {\r\n      if (!totalCount) {\r\n        metaEl.textContent = \"No labels ranked yet.\";\r\n      } else if (visibleCount >= totalCount) {\r\n        metaEl.textContent = `Showing ${formatCount(totalCount)} labels.`;\r\n      } else {\r\n        metaEl.textContent = `Showing Top ${formatCount(visibleCount)} of ${formatCount(totalCount)} labels.`;\r\n      }\r\n    }\r\n    return;\r\n  }\r\n  const { markup, visibleCount, totalCount } = buildTrendRankingList({ limit: 40 });\r\n  titleEl.textContent = \"Top Trends\";\r\n  listEl.innerHTML = markup;\r\n  if (metaEl) {\r\n    if (!totalCount) {\r\n      metaEl.textContent = \"No trends available yet.\";\r\n    } else if (visibleCount >= totalCount) {\r\n      metaEl.textContent = `Showing ${formatCount(totalCount)} global trends.`;\r\n    } else {\r\n      metaEl.textContent = `Showing Global Top ${formatCount(visibleCount)} of ${formatCount(totalCount)} trends.`;\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderCreateTrends() {\r\n  const listEl = $(\"createTrendList\");\r\n  if (!listEl) return;\r\n  const ranking = Array.isArray(state.trendRanking) && state.trendRanking.length ? state.trendRanking : (state.trends || []);\r\n  const list = ranking.slice(0, TREND_DETAIL_COUNT).map((trend, index) => {\r\n    const theme = themeFromGenre(trend);\r\n    const mood = moodFromGenre(trend);\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">#${index + 1} ${renderGenrePills(theme, mood)}</div>\r\n          </div>\r\n          <div class=\"badge warn\">Hot</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  listEl.innerHTML = list.length ? list.join(\"\") : `<div class=\"muted\">No trends yet.</div>`;\r\n}\r\n\r\nfunction renderGenreIndex() {\r\n  const listEl = $(\"genreList\");\r\n  if (!listEl) return;\r\n  const themeFilter = state.ui.genreTheme || \"All\";\r\n  const moodFilter = state.ui.genreMood || \"All\";\r\n  const list = [];\r\n  THEMES.forEach((theme) => {\r\n    if (themeFilter !== \"All\" && theme !== themeFilter) return;\r\n    MOODS.forEach((mood) => {\r\n      if (moodFilter !== \"All\" && mood !== moodFilter) return;\r\n      const genre = makeGenre(theme, mood);\r\n      const label = renderGenrePills(theme, mood);\r\n      const hot = state.trends.includes(genre);\r\n      list.push(`\r\n        <div class=\"list-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${label}</div>\r\n            </div>\r\n            ${hot ? `<div class=\"badge warn\">Hot</div>` : `<div class=\"pill\">Catalog</div>`}\r\n          </div>\r\n        </div>\r\n      `);\r\n    });\r\n  });\r\n  listEl.innerHTML = list.length ? list.join(\"\") : `<div class=\"muted\">No genres match the filters.</div>`;\r\n}\r\n\r\nfunction renderStudiosList() {\r\n  const listEl = $(\"studioList\");\r\n  if (!listEl) return;\r\n  const filters = state.ui.studioFilters || {};\r\n  const ownerFilter = state.ui.studioOwnerFilter || \"all\";\r\n  const restrictToOwned = state.ui.activeView === \"create\";\r\n  document.querySelectorAll(\"[data-studio-filter]\").forEach((input) => {\r\n    const key = input.dataset.studioFilter;\r\n    if (!key || typeof filters[key] !== \"boolean\") return;\r\n    input.checked = filters[key] !== false;\r\n  });\r\n\r\n  const ownerSelect = $(\"studioOwnerFilter\");\r\n  if (ownerSelect) {\r\n    const options = [\r\n      `<option value=\"all\">All rivals</option>`,\r\n      ...state.rivals.map((rival) => `<option value=\"${rival.id}\">${rival.name}</option>`)\r\n    ];\r\n    ownerSelect.innerHTML = options.join(\"\");\r\n    const validOwners = new Set([\"all\", ...state.rivals.map((rival) => rival.id)]);\r\n    if (!validOwners.has(ownerFilter)) state.ui.studioOwnerFilter = \"all\";\r\n    ownerSelect.value = state.ui.studioOwnerFilter || \"all\";\r\n    ownerSelect.disabled = restrictToOwned || filters.unowned === false;\r\n  }\r\n\r\n  const showOwned = restrictToOwned ? true : filters.owned !== false;\r\n  const showUnowned = restrictToOwned ? false : filters.unowned !== false;\r\n  const showOccupied = filters.occupied !== false;\r\n  const showUnoccupied = filters.unoccupied !== false;\r\n  const filtered = buildStudioEntries().filter((entry) => {\r\n    if (entry.ownerType === \"player\" && !showOwned) return false;\r\n    if (entry.ownerType !== \"player\" && !showUnowned) return false;\r\n    if (entry.ownerType !== \"player\" && ownerFilter !== \"all\" && entry.ownerId !== ownerFilter) return false;\r\n    if (entry.occupied && !showOccupied) return false;\r\n    if (!entry.occupied && !showUnoccupied) return false;\r\n    return true;\r\n  });\r\n\r\n  if (!filtered.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No studios match the filters.</div>`;\r\n    return;\r\n  }\r\n\r\n  listEl.innerHTML = filtered.map((entry) => {\r\n    const ownership = entry.ownerType === \"player\" ? \"Owned\" : \"Unowned\";\r\n    const status = entry.occupied ? \"Occupied\" : \"Available\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${entry.ownerName} Studio ${entry.slotIndex}</div>\r\n            <div class=\"muted\">${ownership} | Slot ${entry.slotIndex} of ${entry.slotCount}</div>\r\n          </div>\r\n          <div class=\"pill\">${status}</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderCharts() {\n  const contentType = state.ui.chartContentType || \"tracks\";\n  const isActs = contentType === \"acts\";\n  const isDemographics = contentType === \"demographics\";\n  document.querySelectorAll(\"#chartTypeTabs .tab\").forEach((btn) => {\n    btn.classList.toggle(\"active\", btn.dataset.chartContent === contentType);\n  });\n  const chartTabs = document.querySelector(\"#chartTabs\");\n  if (chartTabs) chartTabs.classList.toggle(\"hidden\", isActs);\n  const regionTabs = document.querySelector(\"#chartRegionTabs\");\n  const regions = Array.isArray(REGION_DEFS) ? REGION_DEFS : [];\n  const regionIds = new Set(regions.map((region) => region.id));\n  let activeChart = state.ui.activeChart || \"global\";\n  let demographicsNotice = \"\";\n  if (isActs) {\n    if (activeChart !== \"global\") {\n      activeChart = \"global\";\n      state.ui.activeChart = activeChart;\n    }\n  } else if (isDemographics) {\n    if (regionIds.has(activeChart)) {\n      const region = regions.find((entry) => entry.id === activeChart);\n      if (region?.nation) {\n        activeChart = region.nation;\n        state.ui.activeChart = activeChart;\n        demographicsNotice = `Regional demographics are not modeled yet. Showing ${activeChart}.`;\n        logEvent(`Demographics uses nation scope only. Showing ${activeChart}.`, \"warn\");\n      } else {\n        activeChart = \"global\";\n        state.ui.activeChart = activeChart;\n        demographicsNotice = \"Demographics scope reset to Global after an invalid selection.\";\n        logEvent(\"Demographics scope reset to Global after an invalid selection.\", \"warn\");\n      }\n    } else if (activeChart !== \"global\" && !NATIONS.includes(activeChart)) {\n      activeChart = \"global\";\n      state.ui.activeChart = activeChart;\n      demographicsNotice = \"Demographics scope reset to Global after an invalid selection.\";\n      logEvent(\"Demographics scope reset to Global after an invalid selection.\", \"warn\");\n    }\n  } else if (activeChart !== \"global\" && !NATIONS.includes(activeChart) && !regionIds.has(activeChart)) {\n    activeChart = \"global\";\n    state.ui.activeChart = activeChart;\n    logEvent(\"Charts scope reset to Global after an invalid selection.\", \"warn\");\n  }\n  const chartWeekBtn = $(\"chartWeekBtn\");\n  if (chartWeekBtn) {\n    chartWeekBtn.disabled = isActs || isDemographics;\n    chartWeekBtn.title = isActs\n      ? \"History snapshots are available for charts only.\"\n      : isDemographics\n        ? \"Population snapshots update yearly.\"\n        : \"\";\n  }\n  if (isActs) {\n    if (regionTabs) {\n      regionTabs.innerHTML = \"\";\n      regionTabs.classList.add(\"hidden\");\n    }\n    const leaderboard = getActPopularityLeaderboard(currentYear());\n    const yearLabel = `Year ${leaderboard.year}`;\n    if ($(\"chartWeekRange\")) $(\"chartWeekRange\").textContent = yearLabel;\n    if ($(\"chartHistoryNotice\")) $(\"chartHistoryNotice\").textContent = \"\";\n    const meta = $(\"chartMeta\");\n    if (meta) {\n      const weeksTracked = Number.isFinite(leaderboard.totalWeeks) ? leaderboard.totalWeeks : 0;\n      const trackedLabel = weeksTracked\n        ? `${formatCount(weeksTracked)} weeks tracked`\n        : \"No weekly points logged yet\";\n      meta.textContent = `${yearLabel} | Act popularity leaderboard | ${trackedLabel}`;\n    }\n    const entries = Array.isArray(leaderboard.entries) ? leaderboard.entries : [];\n    if (!entries.length) {\n      $(\"chartList\").innerHTML = `<div class=\"muted\">No act popularity data yet. Weekly chart updates will populate this leaderboard.</div>`;\n      return;\n    }\n    const rows = entries.map((entry, index) => {\n      const labelTag = renderLabelTag(entry.label || \"Unknown Label\", entry.country || state.label?.country || \"Annglora\");\n      const actName = renderActName(entry) || \"Unknown Act\";\n      const weeksActive = Number.isFinite(entry.weeksActive) ? entry.weeksActive : 0;\n      const lastWeek = Number.isFinite(entry.lastWeek) ? entry.lastWeek : null;\n      const lastWeekLabel = lastWeek ? `Last week ${lastWeek}` : \"Last week --\";\n      const trackPoints = formatCount(Math.round(entry.trackPoints || 0));\n      const promoPoints = formatCount(Math.round(entry.promoPoints || 0));\n      const tourPoints = formatCount(Math.round(entry.tourPoints || 0));\n      const totalPoints = formatCount(Math.round(entry.points || 0));\n      const playerLine = entry.isPlayer ? `<div class=\"muted\">Your act</div>` : \"\";\n      return `\n        <tr>\n          <td class=\"chart-rank\">#${index + 1}</td>\n          <td class=\"chart-title\">\n            <div class=\"item-title\">${actName}</div>\n            ${playerLine}\n          </td>\n          <td class=\"chart-label\">${labelTag}</td>\n          <td class=\"chart-act\">\n            <div>Weeks active ${formatCount(weeksActive)}</div>\n            <div class=\"muted\">${lastWeekLabel}</div>\n          </td>\n          <td class=\"chart-metrics\">\n            <div class=\"muted\">Tracks ${trackPoints} | Promos ${promoPoints} | Tours ${tourPoints}</div>\n          </td>\n          <td class=\"chart-score\">${totalPoints}</td>\n        </tr>\n      `;\n    });\n    $(\"chartList\").innerHTML = `\n      <div class=\"chart-table-wrap\">\n        <table class=\"chart-table\">\n          <thead>\n            <tr>\n              <th>Rank</th>\n              <th>Act</th>\n              <th>Label</th>\n              <th>Activity</th>\n              <th>Breakdown</th>\n              <th>Points</th>\n            </tr>\n          </thead>\n          <tbody>\n            ${rows.join(\"\")}\n          </tbody>\n        </table>\n      </div>\n    `;\n    return;\n  }\n  const activeRegion = regions.find((region) => region.id === activeChart) || null;\n  const activeNation = activeChart === \"global\"\n    ? null\n    : NATIONS.includes(activeChart)\n      ? activeChart\n      : activeRegion?.nation || null;\n\n  document.querySelectorAll(\"#chartTabs .tab\").forEach((btn) => {\n    const chartKey = btn.dataset.chart;\n    const isActive = activeChart === \"global\"\n      ? chartKey === \"global\"\n      : chartKey === activeNation;\n    btn.classList.toggle(\"active\", !!isActive);\n  });\n  if (regionTabs) {\n    if (!activeNation || isDemographics) {\n      regionTabs.innerHTML = \"\";\n      regionTabs.classList.add(\"hidden\");\n    } else {\n      const nationRegions = regions.filter((region) => region.nation === activeNation);\n      regionTabs.classList.toggle(\"hidden\", nationRegions.length === 0);\n      regionTabs.innerHTML = nationRegions.map((region) => (\n        `<button class=\"tab${region.id === activeChart ? \" active\" : \"\"}\" data-chart=\"${region.id}\" type=\"button\">${region.label} Regional</button>`\n      )).join(\"\");\n    }\n  }\n  if (isDemographics) {\n    const snapshot = computePopulationSnapshot();\n    const scopeEntry = activeNation\n      ? snapshot?.nations?.find((entry) => entry.nation === activeNation)\n      : snapshot;\n    const scopeLabel = activeNation || \"Gaia\";\n    const stageLabel = snapshot?.stage || \"Campaign Era\";\n    if ($(\"chartWeekRange\")) $(\"chartWeekRange\").textContent = `Year ${currentYear()}`;\n    if ($(\"chartHistoryNotice\")) {\n      $(\"chartHistoryNotice\").textContent = demographicsNotice;\n    }\n    const meta = $(\"chartMeta\");\n    if (meta) {\n      meta.textContent = `Population | ${scopeLabel} | ${stageLabel} | Age pyramid in 4-year bins`;\n    }\n    if (!scopeEntry || !Array.isArray(scopeEntry.ageGroups) || !scopeEntry.ageGroups.length) {\n      $(\"chartList\").innerHTML = `<div class=\"muted\">No population snapshot available yet.</div>`;\n      return;\n    }\n    const scopeTotal = Number.isFinite(scopeEntry.total) ? scopeEntry.total : snapshot?.total || 0;\n    const segmentDefs = [\n      { label: \"0-20\", min: 0, max: 20 },\n      { label: \"21-40\", min: 21, max: 40 },\n      { label: \"41-60\", min: 41, max: 60 },\n      { label: \"61+\", min: 61, max: 119 }\n    ];\n    const segmentLine = segmentDefs.map((segment) => {\n      const share = scopeEntry.ageGroups.reduce((sum, group) => {\n        const midpoint = (group.minAge + group.maxAge) / 2;\n        if (midpoint < segment.min || midpoint > segment.max) return sum;\n        const pct = Number.isFinite(group.share)\n          ? group.share\n          : scopeTotal ? (group.count || 0) / scopeTotal : 0;\n        return sum + pct;\n      }, 0);\n      return `${segment.label}: ${Math.round(share * 100)}%`;\n    }).join(\" | \");\n    const ageCards = scopeEntry.ageGroups.map((group) => {\n      const pct = Number.isFinite(group.share)\n        ? Math.round(group.share * 100)\n        : scopeTotal ? Math.round(((group.count || 0) / scopeTotal) * 100) : 0;\n      const count = Number.isFinite(group.count)\n        ? group.count\n        : scopeTotal ? Math.round(scopeTotal * (group.share || 0)) : 0;\n      const midpoint = (group.minAge + group.maxAge) / 2;\n      const budget = computeAudienceWeeklyBudget(midpoint, { stable: true });\n      const engagement = computeAudienceEngagementRate(midpoint, { stable: true });\n      const hours = computeAudienceWeeklyHours(midpoint, { stable: true });\n      return `\n        <div class=\"demographic-card\">\n          <div class=\"item-title\">${group.label}</div>\n          <div class=\"muted\">${formatCount(count)} (${pct}%)</div>\n          <div class=\"tiny muted\">Budget ${formatMoney(budget)} / wk | Engage ${Math.round(engagement * 100)}% | Time ${formatCount(hours)}h</div>\n        </div>\n      `;\n    }).join(\"\");\n    const nationLines = snapshot?.nations?.map((entry) => {\n      const share = snapshot.total ? Math.round((entry.total / snapshot.total) * 100) : 0;\n      const detail = activeNation\n        ? `Capital ${formatCount(entry.capital)} | Elsewhere ${formatCount(entry.elsewhere)}`\n        : `${share}% of Gaia`;\n      return `\n        <div class=\"list-item\">\n          <div class=\"list-row\">\n            <div>\n              <div class=\"item-title\">${entry.nation}</div>\n              <div class=\"muted\">${detail}</div>\n            </div>\n            <div class=\"pill\">${formatCount(entry.total)}</div>\n          </div>\n        </div>\n      `;\n    }).join(\"\") || \"\";\n    $(\"chartList\").innerHTML = `\n      <div class=\"callout\">\n        Demographics uses the seeded age pyramid per nation. Higher engagement flags streaming pressure, while higher budgets hint at future sales lift as cohorts age.\n      </div>\n      <div class=\"list-item\">\n        <div class=\"list-row\">\n          <div>\n            <div class=\"item-title\">${scopeLabel} Population</div>\n            <div class=\"muted\">${stageLabel} | Updates yearly</div>\n          </div>\n          <div class=\"pill\">${formatCount(scopeTotal)}</div>\n        </div>\n      </div>\n      <div class=\"list-item\">\n        <div class=\"item-title\">Age Segments</div>\n        <div class=\"muted\">${segmentLine}</div>\n      </div>\n      ${nationLines}\n      <div class=\"demographics-grid\">\n        ${ageCards}\n      </div>\n    `;\n    return;\n  }\n  const chartSource = contentType === \"promotions\"\n    ? state.promoCharts\n    : contentType === \"tours\"\n      ? state.tourCharts\n      : state.charts;\n  let entries = [];\r\n  let size = CHART_SIZES.global;\r\n  let baseScopeKey = \"global\";\r\n  if (activeChart === \"global\") {\r\n    entries = chartSource?.global || [];\r\n    size = CHART_SIZES.global;\r\n    baseScopeKey = \"global\";\r\n  } else if (NATIONS.includes(activeChart)) {\r\n    entries = chartSource?.nations?.[activeChart] || [];\r\n    size = CHART_SIZES.nation;\r\n    baseScopeKey = `nation:${activeChart}`;\r\n  } else {\r\n    entries = chartSource?.regions?.[activeChart] || [];\r\n    size = CHART_SIZES.region;\r\n    baseScopeKey = `region:${activeChart}`;\r\n  }\r\n  const scopeKey = contentType === \"promotions\"\r\n    ? `promo:${baseScopeKey}`\r\n    : contentType === \"tours\"\r\n      ? `tour:${baseScopeKey}`\r\n      : baseScopeKey;\r\n  const scopeLabel = chartScopeLabel(activeChart);\r\n\r\n  const historyWeek = state.ui.chartHistoryWeek;\r\n  const historySnapshot = state.ui.chartHistorySnapshot;\r\n  let historyMissing = false;\r\n  if (historyWeek) {\r\n    if (historySnapshot && historySnapshot.week === historyWeek && historySnapshot.scope === scopeKey) {\r\n      entries = historySnapshot.entries || [];\r\n    } else {\r\n      entries = [];\r\n      historyMissing = true;\r\n    }\r\n  }\r\n  entries = Array.isArray(entries) ? entries : [];\r\n  const displayEntries = contentType === \"projects\" ? collectProjectChartEntries(entries) : entries;\r\n\r\n  const weekLabel = formatWeekRangeLabel(historyWeek || (weekIndex() + 1));\r\n  if ($(\"chartWeekRange\")) $(\"chartWeekRange\").textContent = weekLabel;\r\n  if ($(\"chartHistoryNotice\")) {\r\n    if (historyWeek && historyMissing) {\r\n      $(\"chartHistoryNotice\").textContent = \"History view: no snapshot available for this week.\";\r\n    } else if (historyWeek) {\r\n      $(\"chartHistoryNotice\").textContent = `History view: ${weekLabel}`;\r\n    } else {\r\n      $(\"chartHistoryNotice\").textContent = \"\";\r\n    }\r\n  }\r\n\r\n  const meta = $(\"chartMeta\");\r\n  if (meta) {\r\n    if (contentType === \"tracks\" || contentType === \"projects\") {\r\n      const weights = chartWeightsForScope(activeChart);\n      const pct = (value) => Math.round(value * 100);\n      const contentLabel = contentType === \"projects\" ? \"Project\" : \"Track\";\n      meta.textContent = `Top ${size} | ${scopeLabel} | ${contentLabel} charts | Weights S ${pct(weights.sales)}% / Stream ${pct(weights.streaming)}% / Air ${pct(weights.airplay)}% / Social ${pct(weights.social)}%`;\n    } else if (contentType === \"promotions\") {\r\n      meta.textContent = `Top ${size} | ${scopeLabel} | Promotions chart | Metrics Likes / Views / Comments / Concurrent`;\r\n    } else {\r\n      meta.textContent = `Top ${size} | ${scopeLabel} | Touring chart | Metric Attendance draw`;\r\n    }\r\n  }\r\n\r\n  const globalLocked = contentType === \"tracks\" && activeChart === \"global\" && displayEntries.length < size;\r\n  if (historyMissing) {\r\n    $(\"chartList\").innerHTML = `<div class=\"muted\">No saved chart history for this week and scope.</div>`;\r\n  } else if (globalLocked) {\r\n    const remaining = Math.max(0, size - displayEntries.length);\r\n    $(\"chartList\").innerHTML = `<div class=\"muted\">Global chart unlocks when ${formatCount(size)} tracks are in circulation. ${formatCount(remaining)} more needed.</div>`;\r\n  } else if (!displayEntries.length) {\r\n    $(\"chartList\").innerHTML = `<div class=\"muted\">No chart data yet.</div>`;\r\n  } else {\r\n    let rows = [];\r\n    if (contentType === \"projects\") {\r\n      rows = displayEntries.map((entry) => {\r\n        const labelTag = renderLabelTag(entry.label, entry.country || \"Annglora\");\r\n        const alignTag = renderAlignmentTag(entry.alignment);\r\n        const metrics = entry.metrics || {};\r\n        const trackCount = entry.trackCount || 0;\r\n        const genreLine = entry.primaryTrack\r\n          ? renderTrackGenrePills(entry.primaryTrack, { fallback: \"Genre -\" })\r\n          : \"Genre -\";\r\n        return `\r\n          <tr>\r\n            <td class=\"chart-rank\">#${entry.rank}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">${renderProjectName(entry.projectName)}</div>\r\n              <div class=\"muted\">${entry.projectType} | ${formatCount(trackCount)} track${trackCount === 1 ? \"\" : \"s\"}</div>\r\n            </td>\n            <td class=\"chart-label\">${labelTag}</td>\n            <td class=\"chart-act\">\n              <div>${renderActName(entry) || \"-\"}</div>\n              <div class=\"muted\">${genreLine}</div>\n            </td>\n            <td class=\"chart-align\">${alignTag}</td>\r\n            <td class=\"chart-metrics\">\r\n              <div class=\"muted\">Charting tracks ${formatCount(trackCount)}</div>\r\n              <div class=\"muted\">Sales ${formatCount(metrics.sales || 0)} | Stream ${formatCount(metrics.streaming || 0)}</div>\r\n              <div class=\"muted\">Air ${formatCount(metrics.airplay || 0)} | Social ${formatCount(metrics.social || 0)}</div>\r\n            </td>\r\n            <td class=\"chart-score\">${formatCount(entry.score || 0)}</td>\r\n          </tr>\r\n        `;\r\n      });\r\n    } else if (contentType === \"promotions\") {\r\n      rows = displayEntries.map((entry) => {\r\n        const labelTag = renderLabelTag(entry.label, entry.country || \"Annglora\");\r\n        const alignTag = renderAlignmentTag(entry.alignment);\r\n        const actLabel = renderActName(entry) || \"-\";\n        const trackTitle = entry.trackTitle || entry.title || \"\";\n        const targetType = entry.targetType\n          || (trackTitle ? \"track\" : entry.projectName ? \"project\" : \"act\");\n        const targetLine = targetType === \"track\"\n          ? `Track: ${trackTitle}`\n          : targetType === \"project\"\n            ? `Project: ${renderProjectName(entry.projectName || \"\")}`\n            : \"Act push\";\n        const projectLine = entry.projectName\n          ? renderProjectName(entry.projectName)\n          : (targetType === \"track\" ? \"Single\" : \"Act visibility\");\n        const lastRank = entry.lastRank ? `LW ${entry.lastRank}` : \"LW --\";\r\n        const peak = entry.peak ? `Peak ${entry.peak}` : \"Peak --\";\r\n        const woc = entry.woc ? `WOC ${entry.woc}` : \"WOC 0\";\r\n        const metrics = entry.metrics || {};\r\n        const primaryLabel = metrics.primaryLabel || \"Engagement\";\r\n        const primaryValue = Number(metrics.primary || 0);\r\n        return `\r\n          <tr>\r\n            <td class=\"chart-rank\">#${entry.rank}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">${entry.promoLabel || \"Promo push\"}</div>\r\n              <div class=\"muted\">${targetLine}</div>\r\n            </td>\r\n            <td class=\"chart-label\">${labelTag}</td>\r\n            <td class=\"chart-act\">\n              <div>${actLabel}</div>\n              <div class=\"muted\">${projectLine}</div>\n            </td>\n            <td class=\"chart-align\">${alignTag}</td>\r\n            <td class=\"chart-metrics\">\r\n              <div class=\"muted\">${lastRank} | ${peak} | ${woc}</div>\r\n              <div class=\"muted\">${primaryLabel} ${formatCount(primaryValue)}</div>\r\n              <div class=\"muted\">Likes ${formatCount(metrics.likes || 0)} | Views ${formatCount(metrics.views || 0)} | Comments ${formatCount(metrics.comments || 0)} | Concurrent ${formatCount(metrics.concurrent || 0)}</div>\r\n            </td>\r\n            <td class=\"chart-score\">${formatCount(entry.score || 0)}</td>\r\n          </tr>\r\n        `;\r\n      });\r\n    } else if (contentType === \"tours\") {\n      rows = displayEntries.map((entry) => {\n        const labelTag = renderLabelTag(entry.label, entry.country || \"Annglora\");\n        const alignTag = renderAlignmentTag(entry.alignment);\n        const dateCount = Number.isFinite(entry.dateCount) ? entry.dateCount : (entry.trackCount || 0);\n        const primaryTrack = entry.primaryTrack || {\n          title: entry.primaryTrackTitle || entry.title || \"-\",\n          theme: entry.primaryTrackTheme || entry.theme || \"\",\n          mood: entry.primaryTrackMood || entry.mood || \"\",\n          genre: entry.primaryTrackGenre || entry.genre || \"\"\n        };\n        const genreLine = renderTrackGenrePills(primaryTrack, { fallback: \"Genre -\" });\n        const lastRank = entry.lastRank ? `LW ${entry.lastRank}` : \"LW --\";\n        const peak = entry.peak ? `Peak ${entry.peak}` : \"Peak --\";\n        const woc = entry.woc ? `WOC ${entry.woc}` : \"WOC 0\";\n        const metrics = entry.metrics || {};\n        const grossTicket = formatMoney(metrics.grossTicket || 0);\n        const merch = formatMoney(metrics.merch || 0);\n        const sponsorship = formatMoney(metrics.sponsorship || 0);\n        const revenue = formatMoney(metrics.revenue || 0);\n        const costs = formatMoney(metrics.costs || 0);\n        const profit = formatMoney(metrics.profit || 0);\n        return `\n          <tr>\n            <td class=\"chart-rank\">#${entry.rank}</td>\n            <td class=\"chart-title\">\n              <div class=\"item-title\">${renderActName(entry) || \"-\"}</div>\n              <div class=\"muted\">Tour dates ${formatCount(dateCount)}</div>\n            </td>\n            <td class=\"chart-label\">${labelTag}</td>\n            <td class=\"chart-act\">\n              <div>${primaryTrack?.title ? renderTrackTitle(primaryTrack.title) : \"-\"}</div>\n              <div class=\"muted\">${genreLine}</div>\n            </td>\n            <td class=\"chart-align\">${alignTag}</td>\n            <td class=\"chart-metrics\">\n              <div class=\"muted\">${lastRank} | ${peak} | ${woc}</div>\n              <div class=\"muted\">Attendance ${formatCount(metrics.attendance || 0)}</div>\n              <div class=\"muted\">Ticket ${grossTicket} | Merch ${merch} | Sponsor ${sponsorship}</div>\n              <div class=\"muted\">Revenue ${revenue} | Costs ${costs} | Profit ${profit}</div>\n            </td>\n            <td class=\"chart-score\">${formatCount(entry.score || 0)}</td>\n          </tr>\n        `;\n      });\n    } else {\r\n      rows = displayEntries.map((entry) => {\r\n        const track = entry.track || entry;\r\n        const labelTag = renderLabelTag(track.label, track.country || \"Annglora\");\r\n        const alignTag = renderAlignmentTag(track.alignment);\r\n        const projectName = track.projectName || \"-\";\n        const actLabel = renderActName(track) || \"-\";\n        const lastRank = entry.lastRank ? `LW ${entry.lastRank}` : \"LW --\";\r\n        const peak = entry.peak ? `Peak ${entry.peak}` : \"Peak --\";\r\n        const woc = entry.woc ? `WOC ${entry.woc}` : \"WOC 0\";\r\n        const metrics = entry.metrics || {};\r\n        return `\r\n          <tr>\r\n            <td class=\"chart-rank\">#${entry.rank}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n              <div class=\"muted\">${renderTrackGenrePills(track, { fallback: \"Genre -\" })}</div>\r\n            </td>\r\n            <td class=\"chart-label\">${labelTag}</td>\n            <td class=\"chart-act\">\n              <div>${actLabel}</div>\n              <div class=\"muted\">${renderProjectName(projectName)}</div>\n            </td>\n            <td class=\"chart-align\">${alignTag}</td>\r\n            <td class=\"chart-metrics\">\r\n              <div class=\"muted\">${lastRank} | ${peak} | ${woc}</div>\r\n              <div class=\"muted\">Sales ${formatCount(metrics.sales || 0)} | Stream ${formatCount(metrics.streaming || 0)}</div>\r\n              <div class=\"muted\">Air ${formatCount(metrics.airplay || 0)} | Social ${formatCount(metrics.social || 0)}</div>\r\n            </td>\r\n            <td class=\"chart-score\">${entry.score}</td>\r\n          </tr>\r\n        `;\r\n      });\r\n    }\r\n\r\n    if (displayEntries.length < size) {\r\n      for (let i = displayEntries.length + 1; i <= size; i += 1) {\r\n        let statsMarkup = `\r\n          <div class=\"muted\">LW -- | Peak -- | WOC 0</div>\r\n          <div class=\"muted\">Sales N/A | Stream N/A</div>\r\n          <div class=\"muted\">Air N/A | Social N/A</div>\r\n        `;\r\n        if (contentType === \"projects\") {\r\n          statsMarkup = `\r\n            <div class=\"muted\">Charting tracks N/A</div>\r\n            <div class=\"muted\">Sales N/A | Stream N/A</div>\r\n            <div class=\"muted\">Air N/A | Social N/A</div>\r\n          `;\r\n        } else if (contentType === \"promotions\") {\r\n          statsMarkup = `\r\n            <div class=\"muted\">LW -- | Peak -- | WOC 0</div>\r\n            <div class=\"muted\">Engagement N/A</div>\r\n            <div class=\"muted\">Likes N/A | Views N/A | Comments N/A | Concurrent N/A</div>\r\n          `;\r\n        } else if (contentType === \"tours\") {\n          statsMarkup = `\n            <div class=\"muted\">LW -- | Peak -- | WOC 0</div>\n            <div class=\"muted\">Attendance N/A</div>\n            <div class=\"muted\">Ticket N/A | Merch N/A | Sponsor N/A</div>\n            <div class=\"muted\">Revenue N/A | Costs N/A | Profit N/A</div>\n          `;\n        }\n        rows.push(`\r\n          <tr class=\"chart-empty\">\r\n            <td class=\"chart-rank\">#${i}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">N/A</div>\r\n              <div class=\"muted\">N/A</div>\r\n            </td>\r\n            <td class=\"chart-label\"><span class=\"muted\">N/A</span></td>\r\n            <td class=\"chart-act\">\r\n              <div>N/A</div>\r\n              <div class=\"muted\">N/A</div>\r\n            </td>\r\n            <td class=\"chart-align\"><span class=\"muted\">N/A</span></td>\r\n            <td class=\"chart-metrics\">\r\n              ${statsMarkup}\r\n            </td>\r\n            <td class=\"chart-score\">N/A</td>\r\n          </tr>\r\n        `);\r\n      }\r\n    }\r\n    const rowMarkup = rows.join(\"\");\r\n    const contentHeader = contentType === \"projects\"\r\n      ? \"Project\"\r\n      : contentType === \"promotions\"\r\n        ? \"Promotion\"\r\n        : contentType === \"tours\"\r\n          ? \"Tour\"\r\n          : \"Track\";\r\n    const actHeader = contentType === \"projects\"\r\n      ? \"Act / Genre\"\r\n      : contentType === \"promotions\"\r\n        ? \"Act / Target\"\r\n        : contentType === \"tours\"\r\n          ? \"Top Track / Genre\"\r\n          : \"Act / Project\";\r\n    $(\"chartList\").innerHTML = `\r\n      <div class=\"chart-table-wrap\">\r\n        <table class=\"chart-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Rank</th>\r\n              <th>${contentHeader}</th>\r\n              <th>Label</th>\r\n              <th>${actHeader}</th>\r\n              <th>Alignment</th>\r\n              <th>Stats</th>\r\n              <th>Score</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            ${rowMarkup}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n}\r\n\r\nfunction renderAchievements() {\n  const listEl = $(\"achievementList\");\n  const summaryEl = $(\"achievementSummary\");\n  if (!listEl) return;\n  const unlocked = new Set(state.meta.achievementsUnlocked || []);\n  listEl.innerHTML = ACHIEVEMENTS.map((achievement) => {\n    const done = unlocked.has(achievement.id);\n    const badgeClass = done ? \"badge\" : \"badge warn\";\n    let progressText = \"\";\n    if (typeof achievement.progress === \"function\" && typeof achievement.target !== \"undefined\") {\n      const value = achievement.progress();\n      progressText = `Wins ${formatCount(value)} / ${formatCount(achievement.target)}`;\n    }\n    return `\n      <div class=\"list-item\">\n        <div class=\"list-row\">\n          <div>\r\n            <div class=\"item-title\">${achievement.id} ${achievement.label}</div>\r\n            <div class=\"muted\">${achievement.desc}</div>\r\n          </div>\r\n          <div class=\"${badgeClass}\">${done ? \"Done\" : \"Active\"}</div>\r\n        </div>\r\n        <div class=\"muted\">${progressText} | Reward ${formatCount(achievement.exp)} EXP</div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n  if (summaryEl) {\r\n    const count = Math.max(unlocked.size, state.meta.achievements || 0);\r\n    const notes = [];\r\n    if (state.meta.achievementsLocked) notes.push(\"Achievements locked after bailout.\");\r\n    if (state.meta.cheaterMode) notes.push(\"Cheater mode active: achievements paused.\");\r\n    const noteText = notes.join(\" \");\r\n    summaryEl.textContent = `CEO Requests ${count} / ${ACHIEVEMENT_TARGET}${noteText ? ` | ${noteText}` : \"\"}`;\r\n  }\n}\n\nfunction renderRivalAchievementRace() {\n  const listEl = $(\"rivalAchievementList\");\n  if (!listEl) return;\n  const rivals = Array.isArray(state.rivals) ? state.rivals.slice() : [];\n  if (!rivals.length) {\n    listEl.innerHTML = `<div class=\"muted\">No rival labels yet.</div>`;\n    return;\n  }\n  const labelMap = new Map(ACHIEVEMENTS.map((entry) => [entry.id, entry.label]));\n  const sorted = rivals\n    .map((rival) => {\n      const unlocked = Array.isArray(rival.achievementsUnlocked) ? rival.achievementsUnlocked.length : 0;\n      const count = Math.max(unlocked, rival.achievements || 0);\n      return { rival, count };\n    })\n    .sort((a, b) => b.count - a.count || String(a.rival.name).localeCompare(String(b.rival.name)));\n  listEl.innerHTML = sorted.map(({ rival, count }) => {\n    const focusId = rival.achievementFocus;\n    const focusLabel = focusId ? labelMap.get(focusId) || \"Unknown Request\" : \"None\";\n    const focusText = focusId ? `${focusId} ${focusLabel}` : \"No focus set\";\n    return `\n      <div class=\"list-item rival-achievement-item\">\n        <div class=\"list-row\">\n          <div>\n            <div class=\"item-title\">${rival.name || \"Rival Label\"}</div>\n            <div class=\"muted\">Focus ${focusText}</div>\n          </div>\n          <div class=\"badge\">${count} / ${ACHIEVEMENT_TARGET}</div>\n        </div>\n      </div>\n    `;\n  }).join(\"\");\n}\n\r\nfunction renderQuests() {\n  renderAchievements();\n  const questList = $(\"questList\");\n  const summaryEl = $(\"questSummary\");\n  if (!questList) return;\n  if (state.meta.cheaterMode) {\n    if (summaryEl) summaryEl.textContent = \"Cheater mode active: tasks are paused.\";\n    questList.innerHTML = `<div class=\"muted\">Cheater mode active. Tasks are disabled.</div>`;\n    return;\n  }\n  if (!state.quests.length) {\n    if (summaryEl) summaryEl.textContent = \"No active tasks.\";\n    questList.innerHTML = `<div class=\"muted\">No active tasks.</div>`;\n    return;\n  }\n  const completed = state.quests.filter((quest) => quest.done).length;\n  const activeCount = state.quests.length - completed;\n  if (summaryEl) summaryEl.textContent = `${formatCount(activeCount)} active | ${formatCount(completed)} complete`;\n  const list = state.quests.map((quest) => {\n    let detail = \"\";\n    if (quest.type === \"releaseCount\") detail = `${quest.progress}/${quest.target} released`;\n    if (quest.type === \"trendRelease\") detail = `${quest.progress}/${quest.target} released`;\n    if (quest.type === \"countryTop\") detail = quest.bestRank ? `Best rank #${quest.bestRank}` : \"No chart entries\";\n    if (quest.type === \"chartTop\") detail = quest.bestRank ? `Best rank #${quest.bestRank}` : \"No chart entries\";\n    if (quest.type === \"projectRelease\") {\n      detail = `${quest.progress}/${quest.target} ${quest.projectType} project${quest.target === 1 ? \"\" : \"s\"}`;\n    }\n    if (quest.type === \"promoRuns\") detail = `${quest.progress}/${quest.target} promos launched`;\n    if (quest.type === \"tourBookings\") detail = `${quest.progress}/${quest.target} dates booked`;\n    if (quest.type === \"cash\") detail = `${formatMoney(quest.progress)} / ${formatMoney(quest.target)}`;\n    const badgeClass = quest.done ? \"badge\" : \"badge warn\";\n    const expReward = Math.round(quest.expReward ?? (quest.reward / 8));\n    const focusRequests = Array.isArray(quest.focusRequests) ? quest.focusRequests.filter(Boolean) : [];\n    const focusLine = focusRequests.length ? `Supports CEO Requests: ${focusRequests.join(\", \")}` : \"\";\n    return `\n      <div class=\"list-item\">\n        <div class=\"list-row\">\n          <div>\n            <div class=\"item-title\">${quest.id}</div>\n            <div class=\"muted\">${quest.text}</div>\n            <div class=\"muted\">${quest.story}</div>\n            ${focusLine ? `<div class=\"tiny muted\">${focusLine}</div>` : \"\"}\n          </div>\n          <div class=\"${badgeClass}\">${quest.done ? \"Done\" : \"Active\"}</div>\n        </div>\n        <div class=\"muted\">${detail} | Reward ${formatMoney(quest.reward)} + ${formatCount(expReward)} EXP</div>\n      </div>\n    `;\n  });\n  questList.innerHTML = list.join(\"\");\r\n}\r\n\r\nfunction renderSocialFeed() {\r\n  const listEl = $(\"socialFeed\");\r\n  if (!listEl) return;\r\n  const showInternal = state.ui.socialShowInternal !== false;\r\n  const filters = state.ui.socialFilters || {};\r\n  const posts = [];\r\n\r\n  if (showInternal) {\r\n    state.events.forEach((entry) => {\r\n      posts.push({\r\n        id: `LOG-${entry.ts}`,\r\n        ts: entry.ts,\r\n        handle: \"@System\",\r\n        title: entry.text,\r\n        lines: [],\r\n        type: \"system\",\r\n        order: 3\r\n      });\r\n    });\r\n  }\r\n\r\n  (state.social?.posts || []).forEach((post) => {\r\n    posts.push({ ...post, order: post.order || 0 });\r\n  });\r\n\r\n  const filtered = posts.filter((post) => {\r\n    const type = post.type || \"system\";\r\n    return filters[type] !== false;\r\n  });\r\n\r\n  filtered.sort((a, b) => (b.ts - a.ts) || (a.order - b.order));\r\n\r\n  if (!filtered.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No eyeriSocial posts yet.</div>`;\r\n    return;\r\n  }\r\n\r\n  const summarize = (value) => {\r\n    if (!value) return \"\";\r\n    const text = String(value).replace(/\\s+/g, \" \").trim();\r\n    return text.length > 120 ? `${text.slice(0, 120)}...` : text;\r\n  };\r\n\r\n  listEl.innerHTML = filtered.map((post) => {\r\n    const handle = post.handle || \"@Gaia\";\r\n    const title = post.title || post.text || \"Update\";\r\n    const fullLines = post.lines?.length ? post.lines : (post.text && post.title ? [post.text] : []);\r\n    const emailTypes = [\"quest\", \"contract\", \"receipt\"];\r\n    const preview = emailTypes.includes(post.type) ? \"\" : summarize(fullLines[0] || \"\");\r\n    return `\r\n      <div class=\"list-item social-item\" data-post-id=\"${post.id}\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${title}</div>\r\n            <div class=\"muted\">${handle} | ${formatDate(post.ts)}</div>\r\n            ${preview ? `<div class=\"muted\">${preview}</div>` : \"\"}\r\n          </div>\r\n          <div class=\"pill\">${post.type || \"system\"}</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n\r\n  const toggle = $(\"socialShowInternal\");\r\n  if (toggle) toggle.checked = Boolean(showInternal);\r\n  document.querySelectorAll(\"[data-social-filter]\").forEach((input) => {\r\n    const key = input.dataset.socialFilter;\r\n    if (!key) return;\r\n    input.checked = filters[key] !== false;\r\n  });\r\n}\r\n\r\nfunction renderEventLog() {\r\n  renderSocialFeed();\r\n  renderSystemLog();\r\n}\r\n\r\nfunction renderSystemLog() {\r\n  const target = $(\"eventLogList\");\r\n  if (!target) return;\r\n  if (!state.events.length) {\r\n    target.innerHTML = `<div class=\"muted\">No system updates yet.</div>`;\r\n    return;\r\n  }\r\n  target.innerHTML = state.events.slice(0, 80).map((entry) => {\r\n    const time = formatDate(entry.ts);\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${entry.kind?.toUpperCase() || \"INFO\"}</div>\r\n            <div class=\"muted\">${time}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"muted\">${entry.text}</div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderMainMenu() {\r\n  const list = [];\r\n  for (let i = 1; i <= SLOT_COUNT; i += 1) {\r\n    const data = getSlotData(i);\r\n    const hasData = Boolean(data);\r\n    const labelName = data?.label?.name || \"Empty Game Slot\";\r\n    const savedAt = data?.meta?.savedAt ? new Date(data.meta.savedAt).toLocaleString() : \"Never saved\";\r\n    const totalQuarters = data?.time?.totalQuarters;\r\n    const hours = Number.isFinite(totalQuarters)\r\n      ? Math.floor(totalQuarters / QUARTERS_PER_HOUR)\r\n      : data?.time?.totalHours || 0;\r\n    const week = Math.floor(hours / WEEK_HOURS) + 1;\r\n    const cash = data?.label?.cash ?? 0;\r\n    const mode = getSlotGameMode(data);\r\n    const modeLabel = mode ? shortGameModeLabel(mode.label) : \"\";\r\n    const modeTag = mode && modeLabel\r\n      ? `<span class=\"pill mode-pill\" data-mode=\"${mode.id}\" title=\"${mode.label}\">${modeLabel}</span>`\r\n      : \"\";\r\n    const metaLine = data\r\n      ? `${modeTag ? `${modeTag} ` : \"\"}Week ${week} | ${formatMoney(cash)} | ${savedAt}`\r\n      : \"Create a new label in this game slot.\";\r\n    list.push(`\r\n      <div class=\"slot-card\" data-slot-index=\"${i}\" data-slot-has-data=\"${hasData ? \"1\" : \"0\"}\" data-slot-default=\"${hasData ? \"continue\" : \"new\"}\">\r\n        <div class=\"slot-row\">\r\n          <div>\r\n            <div class=\"item-title\">Game Slot ${i}: ${data ? labelName : \"Empty\"}</div>\r\n            <div class=\"muted\">${metaLine}</div>\r\n          </div>\r\n          <div class=\"actions\">\r\n            <button type=\"button\" data-slot-action=\"continue\" data-slot-index=\"${i}\" ${hasData ? \"\" : \"disabled\"}>Continue</button>\r\n            <button type=\"button\" class=\"ghost\" data-slot-action=\"new\" data-slot-index=\"${i}\">Create New</button>\r\n            ${hasData ? `<button type=\"button\" class=\"ghost\" data-slot-action=\"delete\" data-slot-index=\"${i}\">Delete</button>` : \"\"}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `);\r\n  }\r\n  $(\"slotList\").innerHTML = list.join(\"\");\r\n  const closeBtn = $(\"menuCloseBtn\");\r\n  if (closeBtn) {\r\n    closeBtn.disabled = !session.activeSlot;\r\n  }\r\n  const saveBtn = $(\"menuSaveBtn\");\r\n  if (saveBtn) {\r\n    saveBtn.disabled = !session.activeSlot;\r\n  }\r\n  const autoSaveMinutes = $(\"autoSaveMinutes\");\r\n  const autoSaveToggle = $(\"autoSaveToggle\");\r\n  if (autoSaveMinutes && autoSaveToggle) {\r\n    const options = [];\r\n    for (let i = 2; i <= 10; i += 1) {\r\n      options.push(`<option value=\"${i}\">${i} min</option>`);\r\n    }\r\n    autoSaveMinutes.innerHTML = options.join(\"\");\r\n    autoSaveMinutes.value = String(state.meta.autoSave.minutes || 2);\n    autoSaveToggle.checked = Boolean(state.meta.autoSave.enabled);\r\n    const disabled = !session.activeSlot;\r\n    autoSaveMinutes.disabled = disabled;\r\n    autoSaveToggle.disabled = disabled;\r\n  }\r\n  const cheaterToggle = $(\"cheaterModeToggle\");\r\n  if (cheaterToggle) {\r\n    cheaterToggle.checked = Boolean(state.meta.cheaterMode);\r\n    cheaterToggle.disabled = !session.activeSlot;\r\n  }\r\n}\r\n\r\nfunction openMainMenu() {\r\n  document.body.classList.add(\"menu-open\");\r\n  if (state.time.speed !== \"pause\") {\r\n    session.prevSpeed = state.time.speed;\r\n  }\r\n  setTimeSpeed(\"pause\");\r\n  renderMainMenu();\r\n}\r\n\r\nfunction closeMainMenu() {\r\n  document.body.classList.remove(\"menu-open\");\r\n  if (session.prevSpeed) {\r\n    setTimeSpeed(session.prevSpeed);\r\n    session.prevSpeed = null;\r\n  }\r\n}\r\n\r\nfunction updateGenrePreview() {\r\n  const themeSelect = $(\"themeSelect\");\r\n  const moodSelect = $(\"moodSelect\");\r\n  if (!themeSelect || !moodSelect) return;\r\n  const theme = themeSelect.value;\r\n  const mood = moodSelect.value;\r\n  const preview = $(\"genrePreview\");\r\n  const alignmentSelect = $(\"trackAlignment\");\r\n  const alignment = alignmentSelect ? alignmentSelect.value : (state.label?.alignment || \"\");\r\n  if (!preview) return;\r\n  if (!theme || !mood) {\r\n    preview.textContent = \"Planned Genre: -\";\r\n    return;\r\n  }\r\n  preview.innerHTML = `Planned Genre: ${renderGenrePills(theme, mood, { alignment })}`;\r\n}\r\n\r\nfunction stageLabelFromId(stageId) {\r\n  if (stageId === \"demo\") return \"Demo Recording\";\r\n  if (stageId === \"master\") return \"Master Recording\";\r\n  return \"Sheet Music\";\r\n}\r\n\r\nfunction stageIndexFromId(stageId) {\r\n  if (stageId === \"demo\") return 1;\r\n  if (stageId === \"master\") return 2;\r\n  return 0;\r\n}\r\n\r\nfunction renderActiveStudiosSelect(stageId, selectId, metaId) {\r\n  const stageKey = stageId || \"sheet\";\r\n  const select = $(selectId);\r\n  if (!select) return;\r\n  const stageIndex = stageIndexFromId(stageKey);\r\n  const stageLabel = stageLabelFromId(stageKey);\r\n  const labelEl = select.closest(\".field\")?.querySelector(\"label\");\r\n  if (labelEl) labelEl.textContent = `Active Studios (${stageLabel})`;\r\n\r\n  const active = state.workOrders\r\n    .filter((order) => order.status === \"In Progress\" && order.stageIndex === stageIndex)\r\n    .map((order) => {\r\n      const track = getTrack(order.trackId);\r\n      const crewIds = getWorkOrderCreatorIds(order);\r\n      const crew = crewIds.map((id) => getCreator(id)).filter(Boolean);\r\n      const lead = crew[0] || null;\r\n      const stageName = STAGES[order.stageIndex]?.name || stageLabel;\r\n      const crewLabel = buildWorkOrderCrewLabel(crew);\r\n      const crewText = lead\r\n        ? `${crewLabel.primary}${crewLabel.secondary ? ` ${crewLabel.secondary}` : \"\"}`\r\n        : null;\r\n      return {\r\n        slot: Number.isFinite(order.studioSlot) ? order.studioSlot : null,\r\n        trackTitle: track ? track.title : \"Unknown Track\",\r\n        creatorName: crewText,\r\n        stageName\r\n      };\r\n    })\r\n    .sort((a, b) => (a.slot || 0) - (b.slot || 0));\r\n\r\n  if (!active.length) {\r\n    select.innerHTML = `<option value=\"\">No active studios</option>`;\r\n    select.disabled = true;\r\n  } else {\r\n    select.innerHTML = active\r\n      .map((entry, index) => {\r\n        const slotLabel = entry.slot ? `Studio ${entry.slot}` : `Studio ${index + 1}`;\r\n        const creatorLabel = entry.creatorName ? ` | ${entry.creatorName}` : \"\";\r\n        return `<option value=\"${entry.slot || index + 1}\">${slotLabel} | ${entry.trackTitle}${creatorLabel}</option>`;\r\n      })\r\n      .join(\"\");\r\n    select.disabled = false;\r\n  }\r\n\r\n  const meta = $(metaId);\r\n  if (meta) {\r\n    const counts = getStudioUsageCounts();\r\n    const ownedSlots = getOwnedStudioSlots();\r\n    const totalSlots = ownedSlots + counts.leased;\r\n    meta.textContent = `Active ${active.length}/${STAGE_STUDIO_LIMIT} | Global ${counts.total}/${totalSlots}`;\r\n  }\r\n}\r\n\r\nfunction renderCreateStageTrackSelect() {\r\n  const renderStageSelect = (stageId, selectId, metaId) => {\r\n    const select = $(selectId);\r\n    if (!select) return;\r\n    const meta = $(metaId);\r\n    const isDemo = stageId === \"demo\";\r\n    const status = isDemo ? \"Awaiting Demo\" : \"Awaiting Master\";\r\n    const tracks = state.tracks.filter((track) => track.status === status);\r\n    if (!tracks.length) {\r\n      select.innerHTML = `<option value=\"\">No tracks awaiting ${isDemo ? \"demo recording\" : \"mastering\"}.</option>`;\r\n      select.disabled = true;\r\n      if (state.ui.createTrackIds) state.ui.createTrackIds[stageId] = null;\r\n      if (state.ui.createStage === stageId) state.ui.createTrackId = null;\r\n      if (meta) meta.textContent = `Awaiting ${isDemo ? \"demo recordings\" : \"mastering\"}: 0`;\r\n      return;\r\n    }\r\n    select.innerHTML = tracks\r\n      .map((track) => `<option value=\"${track.id}\">${track.title}</option>`)\r\n      .join(\"\");\r\n    const stored = state.ui.createTrackIds ? state.ui.createTrackIds[stageId] : null;\r\n    const preferred = tracks.some((track) => track.id === stored)\r\n      ? stored\r\n      : tracks[0].id;\r\n    if (state.ui.createTrackIds) state.ui.createTrackIds[stageId] = preferred;\r\n    if (state.ui.createStage === stageId) state.ui.createTrackId = preferred;\r\n    select.value = preferred;\r\n    select.disabled = false;\r\n    if (meta) meta.textContent = `Awaiting ${isDemo ? \"demo recordings\" : \"mastering\"}: ${tracks.length}`;\r\n  };\r\n\r\n  renderStageSelect(\"demo\", \"demoTrackSelect\", \"demoTrackMeta\");\r\n  renderStageSelect(\"master\", \"masterTrackSelect\", \"masterTrackMeta\");\r\n}\r\n\r\nfunction getSheetStartPlan({ mode, theme, modifierId, cash } = {}) {\r\n  const resolvedMode = mode || state.ui.recommendAllMode || \"solo\";\r\n  const resolvedTheme = typeof theme === \"string\"\r\n    ? theme\r\n    : ($(\"themeSelect\") ? $(\"themeSelect\").value : \"\");\r\n  const resolvedModifierId = typeof modifierId === \"string\"\r\n    ? modifierId\r\n    : ($(\"modifierSelect\") ? $(\"modifierSelect\").value : \"None\");\r\n  const modifier = getModifier(resolvedModifierId);\r\n  const assignedSongwriters = [...new Set(getTrackRoleIdsFromSlots(\"Songwriter\"))];\r\n  const req = staminaRequirement(\"Songwriter\");\r\n  const eligibleSongwriters = assignedSongwriters.filter((id) => {\r\n    const creator = getCreator(id);\r\n    return creator && creator.stamina >= req;\r\n  });\r\n  const cashOnHand = Number.isFinite(cash) ? cash : state.label.cash;\r\n  const studioSlotsAvailable = getStudioAvailableSlots();\r\n  const sheetStageSlots = getStageStudioAvailable(0);\r\n  const capacityLimit = Math.min(studioSlotsAvailable, sheetStageSlots);\r\n  const themeReady = !!resolvedTheme;\r\n\r\n  if (resolvedMode === \"collab\") {\r\n    const sheetCrew = assignedSongwriters;\r\n    const sheetCost = sheetCrew.length ? getStageCost(0, modifier, sheetCrew) : 0;\r\n    const canStart = themeReady\r\n      && sheetCrew.length > 0\r\n      && cashOnHand >= sheetCost\r\n      && capacityLimit > 0;\r\n    return {\r\n      mode: resolvedMode,\r\n      themeReady,\r\n      modifier,\r\n      assignedSongwriters,\r\n      eligibleSongwriters,\r\n      startableSongwriters: canStart ? sheetCrew : [],\r\n      startableCount: canStart ? 1 : 0,\r\n      sheetCost,\r\n      capacityLimit,\r\n      studioSlotsAvailable,\r\n      sheetStageSlots,\r\n      stoppedByCash: themeReady && sheetCrew.length > 0 && cashOnHand < sheetCost,\r\n      stoppedByCapacity: themeReady && sheetCrew.length > 0 && capacityLimit <= 0,\r\n      staminaRequirement: req\r\n    };\r\n  }\r\n\r\n  if (!themeReady) {\r\n    let previewCash = cashOnHand;\r\n    let previewCapacity = capacityLimit;\r\n    let sheetCost = 0;\r\n    for (let i = 0; i < eligibleSongwriters.length; i += 1) {\r\n      if (previewCapacity <= 0) break;\r\n      const songwriterId = eligibleSongwriters[i];\r\n      const stageCost = getStageCost(0, modifier, [songwriterId]);\r\n      if (previewCash < stageCost) break;\r\n      previewCash -= stageCost;\r\n      previewCapacity -= 1;\r\n      sheetCost += stageCost;\r\n    }\r\n    return {\r\n      mode: resolvedMode,\r\n      themeReady,\r\n      modifier,\r\n      assignedSongwriters,\r\n      eligibleSongwriters,\r\n      startableSongwriters: [],\r\n      startableCount: 0,\r\n      sheetCost,\r\n      capacityLimit,\r\n      studioSlotsAvailable,\r\n      sheetStageSlots,\r\n      stoppedByCash: false,\r\n      stoppedByCapacity: false,\r\n      staminaRequirement: req\r\n    };\r\n  }\r\n\r\n  let remainingCash = cashOnHand;\r\n  let remainingCapacity = capacityLimit;\r\n  let stoppedByCash = false;\r\n  let stoppedByCapacity = false;\r\n  const startableSongwriters = [];\r\n  let sheetCost = 0;\r\n  for (let i = 0; i < eligibleSongwriters.length; i += 1) {\r\n    if (remainingCapacity <= 0) {\r\n      stoppedByCapacity = true;\r\n      break;\r\n    }\r\n    const songwriterId = eligibleSongwriters[i];\r\n    const stageCost = getStageCost(0, modifier, [songwriterId]);\r\n    if (remainingCash < stageCost) {\r\n      stoppedByCash = true;\r\n      break;\r\n    }\r\n    startableSongwriters.push(songwriterId);\r\n    remainingCash -= stageCost;\r\n    remainingCapacity -= 1;\r\n    sheetCost += stageCost;\r\n  }\r\n\r\n  return {\r\n    mode: resolvedMode,\r\n    themeReady,\r\n    modifier,\r\n    assignedSongwriters,\r\n    eligibleSongwriters,\r\n    startableSongwriters,\r\n    startableCount: startableSongwriters.length,\r\n    sheetCost,\r\n    capacityLimit,\r\n    studioSlotsAvailable,\r\n    sheetStageSlots,\r\n    stoppedByCash,\r\n    stoppedByCapacity,\r\n    staminaRequirement: req\r\n  };\r\n}\r\n\r\nfunction getCreateStageAvailability() {\r\n  const theme = $(\"themeSelect\") ? $(\"themeSelect\").value : \"\";\r\n  const modifierId = $(\"modifierSelect\") ? $(\"modifierSelect\").value : \"None\";\r\n  const sheetPlan = getSheetStartPlan({ theme, modifierId });\r\n  const sheetReadyCount = sheetPlan.startableCount;\r\n  const studioSlotsAvailable = sheetPlan.studioSlotsAvailable;\r\n  const sheetStageSlots = sheetPlan.sheetStageSlots;\r\n  const sheetCanStart = sheetPlan.startableCount > 0;\r\n  const sheetReason = (() => {\r\n    if (!sheetPlan.themeReady) return \"Select a Theme to create sheet music.\";\r\n    if (!sheetPlan.assignedSongwriters.length) return \"Assign a Songwriter ID to create sheet music.\";\r\n    if (sheetPlan.mode === \"solo\" && sheetPlan.assignedSongwriters.length && !sheetPlan.eligibleSongwriters.length) {\r\n      return `No available Songwriter creators with ${sheetPlan.staminaRequirement} stamina.`;\r\n    }\r\n    if (sheetStageSlots <= 0) return \"No studio slots available for sheet music. Wait for a studio to free up.\";\r\n    if (studioSlotsAvailable <= 0) return \"No studio slots available. Finish a production or expand capacity first.\";\r\n    if (sheetPlan.stoppedByCash && !sheetPlan.startableCount) return \"Not enough cash to create sheet music.\";\r\n    return \"\";\r\n  })();\r\n\r\n  const demoTracks = state.tracks.filter((track) => track.status === \"Awaiting Demo\");\r\n  const masterTracks = state.tracks.filter((track) => track.status === \"Awaiting Master\");\r\n  const demoCount = demoTracks.length;\r\n  const masterCount = masterTracks.length;\r\n\r\n  const demoTrackId = (state.ui.createTrackIds ? state.ui.createTrackIds.demo : null)\r\n    || $(\"demoTrackSelect\")?.value\r\n    || null;\r\n  const demoTrack = demoTrackId ? getTrack(demoTrackId) : null;\r\n  const mood = $(\"moodSelect\") ? $(\"moodSelect\").value : \"\";\r\n  const moodValid = !!mood && (!Array.isArray(MOODS) || MOODS.includes(mood));\r\n  const demoPerformers = getTrackRoleIdsFromSlots(\"Performer\");\r\n  const demoAssigned = demoPerformers.length\r\n    ? normalizeRoleIds(demoPerformers, \"Performer\")\r\n    : getTrackRoleIds(demoTrack, \"Performer\");\r\n  const demoCost = demoAssigned.length ? getStageCost(1, demoTrack?.modifier, demoAssigned) : 0;\r\n  const demoReady = demoTrack && demoTrack.status === \"Awaiting Demo\" && demoTrack.stageIndex === 1;\r\n  const demoStageSlots = getStageStudioAvailable(1);\r\n  const demoCanStart = !!demoReady\r\n    && moodValid\r\n    && demoAssigned.length > 0\r\n    && state.label.cash >= demoCost\r\n    && studioSlotsAvailable > 0\r\n    && demoStageSlots > 0;\r\n  const demoReason = (() => {\r\n    if (!demoCount) return \"No tracks awaiting demo recording.\";\r\n    if (!demoTrackId) return \"Select a track awaiting demo recording.\";\r\n    if (!demoTrack) return \"Track not found for demo recording.\";\r\n    if (!demoReady) return \"Track is not ready for demo recording.\";\r\n    if (!mood) return \"Select a Mood to create the demo recording.\";\r\n    if (!moodValid) return \"Select a valid Mood to create the demo recording.\";\r\n    if (!demoAssigned.length) return \"Assign a Recorder ID to create the demo recording.\";\r\n    if (studioSlotsAvailable <= 0) return \"No studio slots available. Finish a production or expand capacity first.\";\r\n    if (demoStageSlots <= 0) return \"No studio slots available for demo recording. Wait for a studio to free up.\";\r\n    if (state.label.cash < demoCost) return \"Not enough cash to create the demo recording.\";\r\n    return \"\";\r\n  })();\r\n\r\n  const masterTrackId = (state.ui.createTrackIds ? state.ui.createTrackIds.master : null)\r\n    || $(\"masterTrackSelect\")?.value\r\n    || null;\r\n  const masterTrack = masterTrackId ? getTrack(masterTrackId) : null;\r\n  const alignmentInput = $(\"trackAlignment\") ? $(\"trackAlignment\").value : \"\";\r\n  const resolvedAlignment = alignmentInput || masterTrack?.alignment || state.label.alignment || \"\";\r\n  const alignmentValid = !!resolvedAlignment && (!Array.isArray(ALIGNMENTS) || ALIGNMENTS.includes(resolvedAlignment));\r\n  const masterProducers = getTrackRoleIdsFromSlots(\"Producer\");\r\n  const masterAssigned = masterProducers.length\r\n    ? normalizeRoleIds(masterProducers, \"Producer\")\r\n    : getTrackRoleIds(masterTrack, \"Producer\");\r\n  const masterCost = masterAssigned.length ? getStageCost(2, masterTrack?.modifier, masterAssigned) : 0;\r\n  const masterReady = masterTrack\r\n    && masterTrack.status === \"Awaiting Master\"\r\n    && masterTrack.stageIndex === 2\r\n    && !!masterTrack.mood;\r\n  const masterStageSlots = getStageStudioAvailable(2);\r\n  const masterCanStart = !!masterReady\r\n    && alignmentValid\r\n    && masterAssigned.length > 0\r\n    && state.label.cash >= masterCost\r\n    && studioSlotsAvailable > 0\r\n    && masterStageSlots > 0;\r\n  const masterReason = (() => {\r\n    if (!masterCount) return \"No tracks awaiting mastering.\";\r\n    if (!masterTrackId) return \"Select a track awaiting mastering.\";\r\n    if (!masterTrack) return \"Track not found for mastering.\";\r\n    if (!masterTrack.status || masterTrack.status !== \"Awaiting Master\" || masterTrack.stageIndex !== 2) {\r\n      return \"Track is not ready for mastering.\";\r\n    }\r\n    if (!masterTrack.mood) return \"Demo recording must assign a Mood before mastering.\";\r\n    if (!masterAssigned.length) return \"Assign a Producer ID to create the master recording.\";\r\n    if (!resolvedAlignment) return \"Select a Content Alignment before mastering.\";\r\n    if (!alignmentValid) return \"Select a valid Content Alignment before mastering.\";\r\n    if (studioSlotsAvailable <= 0) return \"No studio slots available. Finish a production or expand capacity first.\";\r\n    if (masterStageSlots <= 0) return \"No studio slots available for mastering. Wait for a studio to free up.\";\r\n    if (state.label.cash < masterCost) return \"Not enough cash to create the master recording.\";\r\n    return \"\";\r\n  })();\r\n\r\n  return {\r\n    sheetReadyCount,\r\n    demoCount,\r\n    masterCount,\r\n    sheetCanStart,\r\n    demoCanStart,\r\n    masterCanStart,\r\n    sheetCost: Number.isFinite(sheetPlan.sheetCost) ? sheetPlan.sheetCost : 0,\r\n    demoCost,\r\n    masterCost,\r\n    sheetReason: sheetCanStart ? \"\" : (sheetReason || \"Requirements not met.\"),\r\n    demoReason: demoCanStart ? \"\" : (demoReason || \"Requirements not met.\"),\r\n    masterReason: masterCanStart ? \"\" : (masterReason || \"Requirements not met.\")\r\n  };\r\n}\r\n\r\nfunction renderProjectTypeMeta() {\r\n  const meta = $(\"projectTypeMeta\");\r\n  if (!meta) return;\r\n  const projectNameInput = $(\"projectName\");\r\n  const rawName = projectNameInput ? projectNameInput.value.trim() : \"\";\r\n  const projectType = $(\"projectTypeSelect\") ? $(\"projectTypeSelect\").value : \"Single\";\r\n  const limits = getProjectTrackLimits(projectType);\r\n  const typeLabel = limits.type || normalizeProjectType(projectType);\r\n  if (!rawName) {\r\n    meta.textContent = `${typeLabel} projects target ${limits.min}-${limits.max} tracks.`;\r\n    return;\r\n  }\r\n  const normalizedName = normalizeProjectName(rawName);\r\n  const projectTracks = state.tracks.filter((track) => {\r\n    const trackName = track.projectName || `${track.title} - Single`;\r\n    return normalizeProjectName(trackName) === normalizedName;\r\n  });\r\n  const existingTypes = Array.from(new Set(projectTracks.map((track) => normalizeProjectType(track.projectType))));\r\n  if (existingTypes.length && !existingTypes.includes(typeLabel)) {\r\n    meta.textContent = `${rawName} already uses ${existingTypes.join(\" / \")}. Switch the Content Type or rename the project.`;\r\n    return;\r\n  }\r\n  const count = projectTracks.length;\r\n  const minRemaining = Math.max(0, limits.min - count);\r\n  const maxRemaining = Math.max(0, limits.max - count);\r\n  let detail = `${count}/${limits.max} tracks`;\r\n  if (minRemaining > 0) {\r\n    detail += ` | ${minRemaining} to minimum`;\r\n  } else if (maxRemaining === 0) {\r\n    detail += \" | Maxed\";\r\n  } else {\r\n    detail += ` | ${maxRemaining} slots left`;\r\n  }\r\n  meta.textContent = `${rawName} (${typeLabel}): ${detail}`;\r\n}\r\n\r\nfunction renderCreateStageControls() {\r\n  const stageButtons = document.querySelectorAll(\"[data-create-stage]\");\r\n  if (!stageButtons.length) return;\r\n  let stage = state.ui.createStage || \"sheet\";\r\n  const validStages = [\"sheet\", \"demo\", \"master\"];\r\n  if (!validStages.includes(stage)) {\r\n    logEvent(\"Unknown creation stage selected. Reverting to Sheet Music.\", \"warn\");\r\n    stage = \"sheet\";\r\n  }\r\n  state.ui.createStage = stage;\r\n  renderCreateStageTrackSelect();\r\n  const availability = getCreateStageAvailability();\r\n  const sheetCountEl = $(\"createStageCountSheet\");\r\n  if (sheetCountEl) sheetCountEl.textContent = `(${availability.sheetReadyCount} available)`;\r\n  const demoCountEl = $(\"createStageCountDemo\");\r\n  if (demoCountEl) demoCountEl.textContent = `(${availability.demoCount} available)`;\r\n  const masterCountEl = $(\"createStageCountMaster\");\r\n  if (masterCountEl) masterCountEl.textContent = `(${availability.masterCount} available)`;\r\n  stageButtons.forEach((btn) => {\r\n    const id = btn.dataset.createStage;\r\n    if (!id || !validStages.includes(id)) return;\r\n    const isActive = id === stage;\r\n    btn.classList.toggle(\"active\", isActive);\r\n    btn.setAttribute(\"aria-pressed\", String(isActive));\r\n    const column = btn.closest(\".create-stage-column\");\r\n    if (column) column.classList.toggle(\"is-active\", isActive);\r\n  });\r\n\r\n  const desiredRole = stage === \"demo\"\r\n    ? \"Performer\"\r\n    : stage === \"master\"\r\n      ? \"Producer\"\r\n      : stage === \"sheet\"\r\n        ? \"Songwriter\"\r\n        : null;\r\n  const currentRole = parseTrackRoleTarget(state.ui.slotTarget || \"\")?.role || null;\r\n  if (desiredRole && currentRole !== desiredRole) {\r\n    state.ui.slotTarget = `${TRACK_ROLE_TARGETS[desiredRole]}-1`;\r\n  }\r\n  if (stage === \"demo\" || stage === \"master\") {\r\n    const tracked = state.ui.createTrackIds ? state.ui.createTrackIds[stage] : null;\r\n    state.ui.createTrackId = tracked || null;\r\n  }\r\n  const sheetBtn = $(\"startSheetBtn\");\r\n  if (sheetBtn) {\r\n    const sheetCostLabel = formatMoney(availability.sheetCost || 0);\r\n    sheetBtn.textContent = `Create Sheet Music (${sheetCostLabel})`;\r\n    sheetBtn.disabled = !availability.sheetCanStart;\r\n    sheetBtn.title = availability.sheetCanStart ? \"\" : availability.sheetReason;\r\n  }\r\n  const sheetReason = $(\"startSheetReason\");\r\n  if (sheetReason) {\r\n    sheetReason.textContent = availability.sheetReason || \"\";\r\n    sheetReason.classList.toggle(\"hidden\", !availability.sheetReason);\r\n  }\r\n  const demoBtn = $(\"startDemoBtn\");\r\n  if (demoBtn) {\r\n    const demoCostLabel = formatMoney(availability.demoCost || 0);\r\n    demoBtn.textContent = `Create Demo Recording (${demoCostLabel})`;\r\n    demoBtn.disabled = !availability.demoCanStart;\r\n    demoBtn.title = availability.demoCanStart ? \"\" : availability.demoReason;\r\n  }\r\n  const demoReason = $(\"startDemoReason\");\r\n  if (demoReason) {\r\n    demoReason.textContent = availability.demoReason || \"\";\r\n    demoReason.classList.toggle(\"hidden\", !availability.demoReason);\r\n  }\r\n  const masterBtn = $(\"startMasterBtn\");\r\n  if (masterBtn) {\r\n    const masterCostLabel = formatMoney(availability.masterCost || 0);\r\n    masterBtn.textContent = `Create Master Recording (${masterCostLabel})`;\r\n    masterBtn.disabled = !availability.masterCanStart;\r\n    masterBtn.title = availability.masterCanStart ? \"\" : availability.masterReason;\r\n  }\r\n  const masterReason = $(\"startMasterReason\");\r\n  if (masterReason) {\r\n    masterReason.textContent = availability.masterReason || \"\";\r\n    masterReason.classList.toggle(\"hidden\", !availability.masterReason);\r\n  }\r\n  const recommendSelect = $(\"recommendAllMode\");\r\n  if (recommendSelect) recommendSelect.value = state.ui.recommendAllMode || \"solo\";\r\n  const recommendHelp = $(\"recommendAllHelp\");\r\n  if (recommendHelp) {\r\n    recommendHelp.textContent = stage === \"sheet\"\r\n      ? \"Solo starts separate sheet music for each assigned songwriter. Collab fills one track with everyone.\"\r\n      : \"Solo/collab applies to sheet music only. Demo and master stages always run one track at a time.\";\r\n  }\r\n  const advanced = $(\"createAdvancedOptions\");\r\n  if (advanced) {\r\n    const showAdvanced = !!state.ui.createAdvancedOpen;\r\n    advanced.classList.toggle(\"hidden\", !showAdvanced);\r\n  }\r\n  renderActiveStudiosSelect(\"sheet\", \"activeStudiosSelectSheet\", \"activeStudiosMetaSheet\");\r\n  renderActiveStudiosSelect(\"demo\", \"activeStudiosSelectDemo\", \"activeStudiosMetaDemo\");\r\n  renderActiveStudiosSelect(\"master\", \"activeStudiosSelectMaster\", \"activeStudiosMetaMaster\");\r\n  renderProjectTypeMeta();\r\n}\r\n\r\nfunction renderActiveView(view) {\r\n  const raw = view || state.ui.activeView || \"dashboard\";\r\n  const active = raw === \"promotion\" ? \"logs\" : raw === \"era\" ? \"eras\" : raw;\r\n  if (active === \"dashboard\") {\r\n    renderDashboard();\r\n  } else if (active === \"charts\") {\r\n    renderCharts();\r\n    renderSlots();\r\n  } else if (active === \"release\") {\r\n    renderReleaseDesk();\r\n  } else if (active === \"create\") {\r\n    renderCreateStageControls();\r\n    renderSlots();\r\n    renderTracks();\r\n    renderModifierInventory();\r\n    renderCreateTrends();\r\n    updateGenrePreview();\r\n    if (typeof window !== \"undefined\" && typeof window.updateCreateModePanels === \"function\") {\r\n      window.updateCreateModePanels();\r\n    }\r\n    if (typeof window !== \"undefined\" && typeof window.updateAutoCreateSummary === \"function\") {\r\n      window.updateAutoCreateSummary();\r\n    }\r\n  } else if (active === \"releases\") {\n    renderCalendarView();\n    renderCalendarStructuresPanel();\n  } else if (active === \"eras\") {\n    renderEraStatus();\r\n    renderSlots();\r\n    renderEraPerformance();\r\n  } else if (active === \"roster\") {\r\n    renderCreators();\r\n    renderActs();\r\n    renderSlots();\r\n  } else if (active === \"world\") {\n    renderMarket();\n    renderModifierTools();\n    renderPopulation();\n    renderGenreIndex();\n    renderEconomySummary();\n    renderQuests();\n    renderTopBar();\n  } else if (active === \"tour\") {\n    renderTouringDesk();\n  } else if (active === \"logs\") {\n    renderSlots();\n    renderEventLog();\n    renderPromoAlerts();\n    renderPromoScheduleControls();\n    renderWallet();\n    renderResourceTickSummary();\n    renderLossArchives();\n    if (typeof window !== \"undefined\" && typeof window.updateAutoPromoSummary === \"function\") {\r\n      window.updateAutoPromoSummary();\r\n    }\r\n  }\r\n}\r\n\r\nfunction shouldHoldActiveViewRender() {\r\n  const ui = state.ui;\r\n  if (!ui?.renderHoldActive) return false;\r\n  const now = Date.now();\r\n  const holdUntil = Number.isFinite(ui.renderHoldUntil) ? ui.renderHoldUntil : 0;\r\n  if (!holdUntil || now > holdUntil) {\r\n    ui.renderHoldActive = false;\r\n    ui.renderHoldUntil = 0;\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction renderAll({ save = true } = {}) {\r\n  syncLabelWallets();\r\n  renderTime();\r\n  renderStats();\r\n  renderCreateNavBadge();\r\n  renderReleaseNavBadge();\r\n  renderTopBar();\r\n  if (!shouldHoldActiveViewRender()) {\r\n    renderActiveView(state.ui.activeView);\r\n  }\r\n  renderWallet();\r\n  if (typeof window !== \"undefined\" && window.updateTimeControls) {\r\n    window.updateTimeControls();\r\n  }\r\n  if (typeof window !== \"undefined\" && window.updateRecommendations) {\r\n    window.updateRecommendations();\r\n  }\r\n  if (save) saveToActiveSlot();\r\n}\r\n\r\nexport {\r\n  refreshSelectOptions,\r\n  updateActMemberFields,\r\n  renderAutoAssignModal,\r\n  renderTime,\r\n  renderStats,\r\n  renderSlots,\r\n  renderActs,\r\n  renderCreators,\r\n  renderEraStatus,\r\n  renderTracks,\r\n  renderModifierInventory,\n  renderReleaseDesk,\n  renderTouringDesk,\n  renderQuickRecipes,\n  renderCalendarView,\n  renderCalendarList,\n  renderCalendarDayDetail,\n  renderGenreIndex,\n  renderCommunityRankings,\r\n  renderStudiosList,\r\n  renderRoleActions,\r\n  renderTutorialEconomy,\r\n  renderModifierTools,\r\n  renderCharts,\r\n  renderWallet,\r\n  renderLossArchives,\r\n  renderResourceTickSummary,\r\n  renderSocialFeed,\r\n  renderMainMenu,\r\n  renderRankingModal,\r\n  renderRankingWindow,\r\n  renderAll,\r\n  renderActiveStudiosSelect,\r\n  renderCreateStageTrackSelect,\r\n  renderCreateStageControls,\r\n  renderActiveView,\r\n  renderMarket,\r\n  renderEventLog,\r\n  renderSystemLog,\r\n  renderTrends,\r\n  renderCommunityLabels,\r\n  renderTopBar,\r\n  renderPopulation,\r\n  renderEconomySummary,\r\n  renderActiveCampaigns,\r\n  renderInventory,\r\n  renderWorkOrders,\r\n  renderTrackHistoryPanel,\r\n  renderRolloutStrategyPlanner,\r\n  renderCreateTrends,\r\n  renderAchievements,\r\n  renderQuests,\r\n  renderActiveArea,\r\n  renderCalendarEraList,\r\n  renderCreatorFallbackSymbols,\r\n  renderCreatorAvatar,\r\n  openMainMenu,\r\n  closeMainMenu,\r\n  updateGenrePreview,\r\n};\r\n"]}