{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../../../src/app/ui/render/index.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nimport {\r\n  ACT_PROMO_WARNING_WEEKS,\r\n  ACHIEVEMENTS,\r\n  ACHIEVEMENT_TARGET,\r\n  CREATOR_FALLBACK_EMOJI,\r\n  CREATOR_FALLBACK_ICON,\r\n  DAY_MS,\r\n  DEFAULT_TRACK_SLOT_VISIBLE,\r\n  MARKET_ROLES,\r\n  QUARTERS_PER_HOUR,\r\n  RESOURCE_TICK_LEDGER_LIMIT,\r\n  ROLE_ACTIONS,\r\n  ROLE_ACTION_STATUS,\r\n  STAGE_STUDIO_LIMIT,\r\n  STAMINA_OVERUSE_LIMIT,\r\n  STUDIO_COLUMN_SLOT_COUNT,\r\n  TRACK_ROLE_KEYS,\r\n  TRACK_ROLE_TARGETS,\r\n  TREND_DETAIL_COUNT,\r\n  UI_REACT_ISLANDS_ENABLED,\r\n  UNASSIGNED_CREATOR_EMOJI,\r\n  UNASSIGNED_CREATOR_LABEL,\r\n  UNASSIGNED_SLOT_LABEL,\r\n  WEEKLY_SCHEDULE,\r\n  alignmentClass,\r\n  annualAwardNomineeRevealAt,\r\n  buildAnnualAwardNomineesFromLedger,\r\n  buildCalendarProjection,\r\n  buildLabelAchievementProgress,\r\n  buildPromoProjectKeyFromTrack,\r\n  buildStudioEntries,\r\n  buildTrackHistoryScopes,\r\n  chartScopeLabel,\r\n  chartWeightsForScope,\r\n  clamp,\r\n  collectTrendRanking,\r\n  commitSlotChange,\r\n  computeAudienceEngagementRate,\r\n  computeAudienceWeeklyBudget,\r\n  computeAudienceWeeklyHours,\r\n  computeChartProjectionForScope,\r\n  computeCreatorCatharsisScore,\r\n  getCreatorCatharsisInactivityStatus,\r\n  computePopulationSnapshot,\r\n  computeTourDraftSummary,\r\n  computeTourProjection,\r\n  estimateCreatorMaxConsecutiveTourDates,\r\n  resolveTourDateStaminaCost,\r\n  resolveTourStaffingBoost,\r\n  countryColor,\r\n  countryDemonym,\r\n  creatorInitials,\r\n  currentYear,\r\n  ensureMarketCreators,\r\n  ensureTrackSlotArrays,\r\n  ensureTrackSlotVisibility,\r\n  formatCompactDateRange,\r\n  formatCount,\r\n  formatDate,\r\n  formatHourCountdown,\r\n  formatGenreKeyLabel,\r\n  formatMoney,\r\n  formatShortDate,\r\n  formatWeekRangeLabel,\r\n  getAct,\r\n  hasHangulText,\r\n  lookupActNameDetails,\r\n  getActPopularityLeaderboard,\r\n  getActiveEras,\r\n  getAudienceChunksSnapshot,\r\n  getBusyCreatorIds,\r\n  getCommunityLabelRankingLimit,\r\n  getCommunityTrendRankingLimit,\r\n  getCreator,\r\n  getCreatorPortraitUrl,\r\n  getCreatorSignLockout,\r\n  getCreatorStaminaSpentToday,\r\n  getEraById,\r\n  getFocusedEra,\r\n  getGameDifficulty,\r\n  getGameMode,\r\n  getLabelRanking,\r\n  getLatestActiveEraForAct,\r\n  getModifier,\r\n  getModifierInventoryCount,\r\n  getPromoFacilityAvailability,\r\n  getProjectTrackLimits,\r\n  getTourVenueAvailability,\r\n  getOwnedStudioSlots,\r\n  evaluatePhysicalEligibility,\r\n  getDistributionSnapshot,\r\n  getReleaseAsapAtForDistribution,\r\n  getReleaseDistributionFee,\r\n  getReleaseRushFee,\r\n  getRivalByName,\r\n  getRolloutPlanningEra,\r\n  getRolloutStrategiesForEra,\r\n  getSlotData,\r\n  getSlotGameMode,\r\n  getSlotValue,\r\n  getStageCost,\r\n  getStageStudioAvailable,\r\n  getStudioAvailableSlots,\r\n  getStudioMarketSnapshot,\r\n  getStudioUsageCounts,\r\n  getTopActSnapshot,\n  getTopTrendGenre,\n  getTrack,\n  getTrackReleaseStatus,\n  getTrackReleaseStatusLabel,\n  getMarketTrackByTrackId,\n  getArchivedMarketTrackByTrackId,\n  getTrackRoleIds,\r\n  getTrackRoleIdsFromSlots,\r\n  getSelectedTourDraft,\r\n  getWorkOrderCreatorIds,\r\n  weekStartEpochMs,\r\n  hoursUntilNextScheduledTime,\n  isAwardPerformanceBidWindowOpen,\n  isMasteringTrack,\n  isTrackReleaseReleased,\n  isTrackReleaseScheduled,\n  isTrackReleaseUnreleased,\n  listAnnualAwardDefinitions,\n  listAwardShows,\r\n  listFromIds,\r\n  listRolloutPlanLibrary,\r\n  listTourBookings,\r\n  listTourDrafts,\r\n  listTourTiers,\r\n  listTourVenues,\r\n  loadLossArchives,\r\n  logEvent,\r\n  makeGenre,\r\n  moodFromGenre,\r\n  resolveAwardShowPerformanceBidWindow,\r\n  resolveAwardShowPerformanceQuality,\r\n  normalizeProjectName,\r\n  normalizeProjectType,\r\n  normalizeRoleIds,\r\n  parseTrackRoleTarget,\r\n  parsePromoProjectKey,\r\n  pruneCreatorSignLockouts,\r\n  PROJECT_TITLE_TRANSLATIONS,\r\n  qualityGrade,\r\n  rankCandidates,\r\n  recommendPhysicalRun,\r\n  recommendReleasePlan,\r\n  releasedTracks,\r\n  renderActNameByNation,\r\n  resolveLabelAcronym,\r\n  resolveTrackReleaseType,\r\n  resolveTourAnchor,\r\n  roleLabel,\r\n  safeAvatarUrl,\r\n  saveToActiveSlot,\r\n  scoreGrade,\r\n  session,\r\n  setSelectedRolloutStrategyId,\r\n  setTimeSpeed,\r\n  shortGameModeLabel,\r\n  slugify,\r\n  staminaRequirement,\r\n  session,\r\n  state,\r\n  selectTourDraft,\r\n  syncLabelWallets,\r\n  themeFromGenre,\r\n  trackKey,\r\n  trackRoleLimit,\r\n  touringBalanceEnabled,\r\n  trendAlignmentLeader,\r\n  weekIndex,\r\n  weekStartEpochMs,\r\n  weekNumberFromEpochMs,\r\n  validateTourBooking,\r\n} from \"../../game.js\";\r\nimport { PROMO_TYPE_DETAILS } from \"../../promo_types.js\";\r\nimport { CalendarView } from \"../../calendar.js\";\r\nimport { fetchChartSnapshot, listChartWeeks } from \"../../db.js\";\r\nimport { getExternalStorageStatus } from \"../../file-storage.js\";\r\nimport { showToast } from \"../../guardrails.js\";\r\nimport { $, describeSlot, getSlotElement, openOverlay } from \"../dom.js\";\r\nimport {\r\n  buildMoodOptions,\r\n  buildThemeOptions,\r\n  bindThemeSelectAccent,\r\n  getMoodEmoji,\r\n  setThemeSelectAccent\r\n} from \"../themeMoodOptions.js\";\r\nimport {\r\n  buildRolloutBudgetSummary,\r\n  getModifierCosts,\r\n  getPromoInflationMultiplier\r\n} from \"./promo-budget.js\";\r\n\r\nconst ACCESSIBLE_TEXT = { dark: \"#000000\", light: \"#ffffff\" };\r\nconst PROMO_TRACK_REQUIRED_TYPES = Object.keys(PROMO_TYPE_DETAILS)\r\n  .filter((typeId) => PROMO_TYPE_DETAILS[typeId]?.requiresTrack);\r\nconst WORLD_RENDER_THROTTLE_MS = 1200;\r\nconst CHART_RENDER_THROTTLE_MS = 1500;\r\nconst WORLD_RENDER_FAST_HOUR_STEP = 6;\r\nconst CHART_RENDER_FAST_HOUR_STEP = 6;\r\nconst MARKET_RENDER_LOG_MS = 24;\r\nconst MARKET_RENDER_LOG_COOLDOWN_MS = 15000;\r\n\r\nlet lastWorldRenderAt = 0;\r\nlet lastWorldRenderHour = null;\r\nlet lastChartsRenderAt = 0;\r\nlet lastChartsRenderHour = null;\r\nlet lastMarketPerfLogAt = 0;\r\n\r\nconst perfNow = () => (typeof performance !== \"undefined\" && typeof performance.now === \"function\"\r\n  ? performance.now()\r\n  : Date.now());\r\n\r\n\r\nfunction renderRolloutBudgetSummary(strategy) {\r\n  const summary = buildRolloutBudgetSummary(strategy);\r\n  if (!summary) return \"\";\r\n  if (!summary.eventCount) {\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Budget estimate</div>\r\n        <div class=\"muted\">No promo events scheduled yet.</div>\r\n      </div>\r\n    `;\r\n  }\r\n  const breakdown = summary.byType\r\n    .map((entry) => `${entry.label} x${entry.count}: ${formatMoney(entry.totalPlanned)}`)\r\n    .join(\" | \");\r\n  const breakdownLine = breakdown ? `<div class=\"muted\">${breakdown}</div>` : \"\";\r\n  return `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">Budget estimate</div>\r\n      <div class=\"muted\">Base ${formatMoney(summary.totalBase)} | Inflation-adjusted ${formatMoney(summary.totalAdjusted)} | Planned ${formatMoney(summary.totalPlanned)}</div>\r\n      ${breakdownLine}\r\n      <div class=\"muted\">Uses current promo budgets; adjust them to adapt.</div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction formatPlanFocusLine(plan) {\r\n  const type = plan?.focusType || \"Era\";\r\n  const label = plan?.focusLabel || plan?.focusId || \"\";\r\n  return label ? `${type}: ${label}` : type;\r\n}\r\n\r\nfunction renderPlanUsageLine(plan) {\r\n  const usage = plan?.usage;\r\n  if (!usage) return `<div class=\"muted\">Usage: No tracked releases yet.</div>`;\r\n  const parts = [];\r\n  if (Number.isFinite(usage.releaseCount) && usage.releaseCount > 0) {\r\n    parts.push(`${formatCount(usage.releaseCount)} releases`);\r\n  }\r\n  if (Number.isFinite(usage.lastUsedAt)) {\r\n    parts.push(`Last used ${formatShortDate(usage.lastUsedAt)}`);\r\n  }\r\n  if (Array.isArray(usage.labels) && usage.labels.length) {\r\n    const listed = usage.labels.slice(0, 3);\r\n    const overflow = usage.labels.length - listed.length;\r\n    parts.push(`Labels: ${listed.join(\", \")}${overflow > 0 ? ` +${overflow} more` : \"\"}`);\r\n  }\r\n  if (!parts.length) return `<div class=\"muted\">Usage: No tracked releases yet.</div>`;\r\n  return `<div class=\"muted\">Usage: ${parts.join(\" | \")}</div>`;\r\n}\r\n\r\nfunction renderPlanContextLines(context) {\r\n  if (!context) return `<div class=\"muted\">Context: No tracked outcomes yet.</div>`;\r\n  const signalParts = [];\r\n  if (Array.isArray(context.alignmentTags) && context.alignmentTags.length) {\r\n    signalParts.push(`Alignment: ${context.alignmentTags.join(\", \")}`);\r\n  }\r\n  if (Array.isArray(context.trendTags) && context.trendTags.length) {\r\n    signalParts.push(`Trend tags: ${context.trendTags.join(\", \")}`);\r\n  }\r\n  const signalLine = signalParts.length ? `<div class=\"muted\">${signalParts.join(\" | \")}</div>` : \"\";\r\n  const outcomes = context.outcomes || {};\r\n  const outcomeParts = [];\r\n  if (Number.isFinite(context.outcomeScore) && context.outcomeScore > 0) {\r\n    outcomeParts.push(`Score ${Math.round(context.outcomeScore)}`);\r\n  }\r\n  if (Number.isFinite(outcomes.releaseCount) && outcomes.releaseCount > 0) {\r\n    outcomeParts.push(`${formatCount(outcomes.releaseCount)} releases`);\r\n  }\r\n  if (Number.isFinite(outcomes.avgPeak) && outcomes.avgPeak > 0) {\r\n    outcomeParts.push(`Avg peak #${Math.round(outcomes.avgPeak)}`);\r\n  }\r\n  if (Number.isFinite(outcomes.avgWeeksOnChart) && outcomes.avgWeeksOnChart > 0) {\r\n    outcomeParts.push(`Avg weeks ${Math.round(outcomes.avgWeeksOnChart)}`);\r\n  }\r\n  if (Number.isFinite(outcomes.avgQuality) && outcomes.avgQuality > 0) {\r\n    outcomeParts.push(`Avg quality ${Math.round(outcomes.avgQuality)}`);\r\n  }\r\n  const outcomeLine = outcomeParts.length ? `<div class=\"muted\">Outcomes: ${outcomeParts.join(\" | \")}</div>` : \"\";\r\n  const trendRanks = Array.isArray(context.marketConditions?.trendRanks)\r\n    ? context.marketConditions.trendRanks.slice(0, 6)\r\n    : [];\r\n  const marketLine = trendRanks.length\r\n    ? `<div class=\"muted\">Market: ${trendRanks.map((entry) => {\r\n      const range = entry.dateRange || (Number.isFinite(entry.week) ? formatWeekRangeLabel(entry.week) : \"\");\r\n      return `${entry.genre} #${entry.rank}${range ? ` (${range})` : \"\"}`;\r\n    }).join(\" | \")}</div>`\r\n    : \"\";\r\n  const lines = [signalLine, outcomeLine, marketLine].filter(Boolean);\r\n  return lines.length ? lines.join(\"\") : `<div class=\"muted\">Context: No tracked outcomes yet.</div>`;\r\n}\r\n\r\nfunction renderPlanLibraryList(plans) {\r\n  const list = Array.isArray(plans) ? plans : [];\r\n  if (!list.length) return `<div class=\"muted\">No rollout plans captured yet.</div>`;\r\n  return list.map((plan) => {\r\n    const label = plan.label || plan.id || \"Rollout Plan\";\r\n    const focusLine = formatPlanFocusLine(plan);\r\n    const source = plan.source || \"Unknown\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">${label}</div>\r\n        <div class=\"muted\">Focus: ${focusLine} | Source: ${source}</div>\r\n        ${renderPlanUsageLine(plan)}\r\n        ${renderPlanContextLines(plan.context)}\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nlet trackHistoryRequestId = 0;\r\nlet eraHistoryRequestId = 0;\r\n\r\nfunction resolveCssColor(value) {\r\n  const raw = String(value || \"\").trim();\r\n  if (!raw || !raw.startsWith(\"var(\")) return raw;\r\n  const match = raw.match(/var\\((--[^)]+)\\)/);\r\n  if (!match || typeof document === \"undefined\") return raw;\r\n  const resolved = getComputedStyle(document.documentElement).getPropertyValue(match[1]).trim();\r\n  return resolved || raw;\r\n}\r\n\r\nfunction parseColorToRgb(value) {\r\n  const color = resolveCssColor(value);\r\n  if (!color) return null;\r\n  if (color.startsWith(\"#\")) {\r\n    let hex = color.slice(1).trim();\r\n    if (hex.length === 3) {\r\n      hex = hex.split(\"\").map((ch) => ch + ch).join(\"\");\r\n    }\r\n    if (hex.length === 8) hex = hex.slice(0, 6);\r\n    if (hex.length !== 6) return null;\r\n    const r = parseInt(hex.slice(0, 2), 16);\r\n    const g = parseInt(hex.slice(2, 4), 16);\r\n    const b = parseInt(hex.slice(4, 6), 16);\r\n    return { r, g, b };\r\n  }\r\n  const rgbMatch = color.match(/^rgba?\\(([^)]+)\\)$/);\r\n  if (!rgbMatch) return null;\r\n  const parts = rgbMatch[1].split(\",\").map((part) => Number.parseFloat(part.trim()));\r\n  if (parts.length < 3 || parts.some((part) => Number.isNaN(part))) return null;\r\n  return { r: parts[0], g: parts[1], b: parts[2] };\r\n}\r\n\r\nfunction relativeLuminance(rgb) {\r\n  const toLinear = (value) => {\r\n    const channel = value / 255;\r\n    return channel <= 0.03928\r\n      ? channel / 12.92\r\n      : Math.pow((channel + 0.055) / 1.055, 2.4);\r\n  };\r\n  return 0.2126 * toLinear(rgb.r) + 0.7152 * toLinear(rgb.g) + 0.0722 * toLinear(rgb.b);\r\n}\r\n\r\nfunction contrastRatio(a, b) {\r\n  const lighter = Math.max(a, b);\r\n  const darker = Math.min(a, b);\r\n  return (lighter + 0.05) / (darker + 0.05);\r\n}\r\n\r\nfunction pickAccessibleTextColor(bgColor) {\r\n  const bg = parseColorToRgb(bgColor);\r\n  const dark = parseColorToRgb(ACCESSIBLE_TEXT.dark);\r\n  const light = parseColorToRgb(ACCESSIBLE_TEXT.light);\r\n  if (!bg || !dark || !light) return ACCESSIBLE_TEXT.dark;\r\n  const bgLum = relativeLuminance(bg);\r\n  const darkContrast = contrastRatio(bgLum, relativeLuminance(dark));\r\n  const lightContrast = contrastRatio(bgLum, relativeLuminance(light));\r\n  return lightContrast >= darkContrast ? ACCESSIBLE_TEXT.light : ACCESSIBLE_TEXT.dark;\r\n}\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderAlignmentTag(alignment) {\r\n  const cls = alignmentClass(alignment);\r\n  return `<span class=\"tag tag--alignment ${cls}\"><span class=\"tag-dot\"></span><span class=\"tag-label\">${alignment}</span></span>`;\r\n}\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderThemeTag(theme, options = {}) {\r\n  const cls = `theme-${slugify(theme)}`;\r\n  const label = options?.label || theme;\r\n  return `<span class=\"tag tag--theme ${cls}\"><span class=\"tag-dot\"></span><span class=\"tag-label\">${label}</span></span>`;\r\n}\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderCountryTag(country) {\r\n  const cls = `country-${slugify(country)}`;\r\n  return `<span class=\"tag tag--country ${cls}\"><span class=\"tag-dot\"></span><span class=\"tag-label\">${country}</span></span>`;\r\n}\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderNationalityPill(country) {\r\n  const color = countryColor(country);\r\n  const demonym = countryDemonym(country);\r\n  return `<span class=\"pill country-pill\" style=\"color:${color};\">${demonym}</span>`;\r\n}\r\n\r\nfunction renderCreatorLabelPill({ labelName, labelCountry, labelAcronym, unsigned = false } = {}) {\r\n  if (unsigned) {\r\n    return `<span class=\"pill creator-label-pill creator-label-pill--unsigned\">Unsigned</span>`;\r\n  }\r\n  const fallbackAcronym = String(labelAcronym || \"\").trim();\r\n  const resolvedAcronym = fallbackAcronym || resolveLabelAcronym(labelName);\r\n  if (!resolvedAcronym) return \"\";\r\n  const color = countryColor(labelCountry);\r\n  const textColor = pickAccessibleTextColor(color);\r\n  const title = labelName ? ` title=\"${escapeAttribute(labelName)}\"` : \"\";\r\n  return `<span class=\"pill creator-label-pill\" style=\"background:${color};color:${textColor};\"${title}>${resolvedAcronym}</span>`;\r\n}\r\n\r\n\r\nfunction getCreatorHangulName(creator) {\r\n  if (!creator) return \"\";\r\n  return creator.nameHangul\r\n    || (creator.surnameHangul && creator.givenNameHangul ? `${creator.surnameHangul}${creator.givenNameHangul}` : \"\");\r\n}\r\n\r\nfunction renderCreatorName(creator, { stacked = true } = {}) {\r\n  if (!creator) return \"\";\r\n  const romanized = creator.name || \"\";\r\n  const hangul = getCreatorHangulName(creator);\r\n  if (hangul && stacked) {\r\n    return renderNameStack(hangul, romanized, { lang: \"ko\", romanized, inline: true });\r\n  }\r\n  if (!hangul && creator.country === \"Crowlya\") {\r\n    return renderLanguageSpan(romanized, { lang: \"es\" });\r\n  }\r\n  return romanized;\r\n}\r\n\r\nconst HANGUL_REGEX = /[\\uAC00-\\uD7A3]/;\r\nconst CROWLISH_REGEX = /[\\u00f1\\u00d1\\u00e1\\u00c1\\u00e9\\u00c9\\u00ed\\u00cd\\u00f3\\u00d3\\u00fa\\u00da\\u00fc\\u00dc\\u00bf\\u00a1]/;\r\n\r\nconst hasCrowlishText = (value) => CROWLISH_REGEX.test(String(value || \"\"));\r\n\r\nfunction splitNameSuffix(name) {\r\n  const raw = String(name || \"\").trim();\r\n  if (!raw) return { base: \"\", suffix: \"\" };\r\n  const match = raw.match(/^(.*?)(\\s*\\([^)]*\\))$/);\r\n  if (!match) return { base: raw, suffix: \"\" };\r\n  return { base: match[1].trim(), suffix: match[2] };\r\n}\r\n\r\nfunction lookupTrackTitleTranslation(name) {\r\n  if (!name || !HANGUL_REGEX.test(name)) return \"\";\r\n  if (typeof TRACK_TITLE_TRANSLATIONS_KR === \"object\" && TRACK_TITLE_TRANSLATIONS_KR[name]) {\r\n    return TRACK_TITLE_TRANSLATIONS_KR[name];\r\n  }\r\n  return \"\";\r\n}\r\n\r\nfunction lookupProjectTitleTranslation(name) {\r\n  if (!name || !HANGUL_REGEX.test(name)) return \"\";\r\n  return PROJECT_TITLE_TRANSLATIONS?.[name] || \"\";\r\n}\r\n\r\nfunction escapeAttribute(value) {\r\n  return String(value || \"\")\r\n    .replace(/&/g, \"&amp;\")\r\n    .replace(/\"/g, \"&quot;\")\r\n    .replace(/</g, \"&lt;\")\r\n    .replace(/>/g, \"&gt;\");\r\n}\r\n\r\nconst LANGUAGE_LABELS = {\r\n  ko: \"Bytenese\",\r\n  es: \"Crowlish\"\r\n};\r\n\r\nfunction resolveInGameLanguageLabel(lang) {\r\n  const key = String(lang || \"\").trim().toLowerCase();\r\n  return LANGUAGE_LABELS[key] || \"\";\r\n}\r\n\r\nfunction resolveLanguageClass(lang) {\r\n  const key = String(lang || \"\").trim().toLowerCase();\r\n  return key === \"es\" ? \"name-es\" : \"name-ko\";\r\n}\r\n\r\nfunction buildLanguageTitle({ lang = \"\", romanized = \"\" } = {}) {\r\n  const label = resolveInGameLanguageLabel(lang);\r\n  const parts = [];\r\n  if (label) parts.push(label);\r\n  if (romanized) parts.push(romanized);\r\n  return parts.join(\": \");\r\n}\r\n\r\nfunction renderLanguageSpan(value, { lang = \"\", romanized = \"\" } = {}) {\r\n  const safeValue = String(value || \"\");\r\n  if (!safeValue) return \"\";\r\n  const title = buildLanguageTitle({ lang, romanized });\r\n  const titleAttr = title ? ` title=\"${escapeAttribute(title)}\"` : \"\";\r\n  const cls = resolveLanguageClass(lang);\r\n  return `<span class=\"${cls}\" lang=\"${lang}\"${titleAttr}>${safeValue}</span>`;\r\n}\r\n\r\nfunction renderNameStack(primary, secondary, { lang = \"ko\", romanized = \"\", inline = false } = {}) {\r\n  if (!secondary) return renderLanguageSpan(primary, { lang, romanized });\r\n  const title = buildLanguageTitle({ lang, romanized });\r\n  const titleAttr = title ? ` title=\"${escapeAttribute(title)}\"` : \"\";\r\n  const cls = `name-stack${inline ? \" name-stack--inline\" : \"\"}`;\r\n  const primaryClass = resolveLanguageClass(lang);\r\n  return `<span class=\"${cls}\"${titleAttr}><span class=\"${primaryClass}\" lang=\"${lang}\">${primary}</span><span class=\"name-romanized\">${secondary}</span></span>`;\r\n}\r\n\r\nfunction renderLocalizedName(primary, translation, { lang = \"ko\", romanized = \"\" } = {}) {\r\n  if (!translation) return primary;\r\n  return renderNameStack(primary, translation, { lang, romanized });\r\n}\r\n\r\nfunction renderTrackTitle(title) {\r\n  if (!title) return \"\";\r\n  const { base, suffix } = splitNameSuffix(title);\r\n  const translation = lookupTrackTitleTranslation(base);\r\n  if (translation) {\r\n    return renderLocalizedName(`${base}${suffix}`, translation);\r\n  }\r\n  if (hasHangulText(title)) {\r\n    return renderLanguageSpan(title, { lang: \"ko\" });\r\n  }\r\n  if (hasCrowlishText(title)) {\r\n    return renderLanguageSpan(title, { lang: \"es\" });\r\n  }\r\n  return title;\r\n}\r\n\r\nfunction renderProjectName(name) {\r\n  const raw = String(name || \"\").trim();\r\n  if (!raw) return \"\";\r\n  const singleMatch = raw.match(/^(.*)\\s+-\\s+Single$/);\r\n  if (singleMatch) {\r\n    const base = singleMatch[1].trim();\r\n    const baseTranslation = lookupProjectTitleTranslation(base) || lookupTrackTitleTranslation(base);\r\n    if (baseTranslation) {\r\n      return renderLocalizedName(`${base} - Single`, `${baseTranslation} - Single`);\r\n    }\r\n  }\r\n  const { base, suffix } = splitNameSuffix(raw);\r\n  const translation = lookupProjectTitleTranslation(base);\r\n  if (translation) {\r\n    return renderLocalizedName(`${base}${suffix}`, translation);\r\n  }\r\n  if (hasHangulText(raw)) {\r\n    return renderLanguageSpan(raw, { lang: \"ko\" });\r\n  }\r\n  if (hasCrowlishText(raw)) {\r\n    return renderLanguageSpan(raw, { lang: \"es\" });\r\n  }\r\n  return raw;\r\n}\r\n\r\nfunction normalizeActKind(value) {\r\n  const raw = String(value || \"\").trim();\r\n  if (!raw) return null;\r\n  const lowered = raw.toLowerCase();\r\n  if (lowered === \"solo\" || lowered === \"solo act\") return \"solo\";\r\n  if (lowered === \"group\" || lowered === \"group act\") return \"group\";\r\n  return null;\r\n}\r\n\r\nfunction resolveActNameParts(act) {\r\n  if (!act) return { name: \"\", nameKey: null, actKind: null };\r\n  if (typeof act === \"object\") {\r\n    const name = String(act.name || act.actName || \"\").trim();\r\n    const nameKey = act.nameKey || act.actNameKey || null;\r\n    const actKind = normalizeActKind(act.actKind || act.actType || act.type);\r\n    return { name, nameKey, actKind };\r\n  }\r\n  return { name: String(act || \"\").trim(), nameKey: null, actKind: null };\r\n}\r\n\r\nfunction isCrowlishActName(name, nameKey, actKind) {\r\n  if (!name || !nameKey) return false;\r\n  const resolvedKind = normalizeActKind(actKind) || \"group\";\r\n  const expected = renderActNameByNation(nameKey, \"Crowlya\", resolvedKind);\r\n  return expected && expected === name;\r\n}\r\n\r\nfunction renderActName(act) {\r\n  const { name, nameKey, actKind } = resolveActNameParts(act);\r\n  if (!name) return \"\";\r\n  if (!hasHangulText(name)) {\r\n    if (isCrowlishActName(name, nameKey, actKind) || hasCrowlishText(name)) {\r\n      return renderLanguageSpan(name, { lang: \"es\" });\r\n    }\r\n    return name;\r\n  }\r\n  const { translation, romanized } = lookupActNameDetails({ name, nameKey, actKind });\r\n  if (!translation) return name;\r\n  return renderLocalizedName(name, translation, { romanized });\r\n}\r\n\r\nfunction formatActNamePlain(act) {\r\n  const { name, nameKey, actKind } = resolveActNameParts(act);\r\n  if (!name) return \"\";\r\n  if (!hasHangulText(name)) return name;\r\n  const { translation, romanized } = lookupActNameDetails({ name, nameKey, actKind });\r\n  if (!translation) return name;\r\n  return romanized ? `${name} / ${translation} (${romanized})` : `${name} / ${translation}`;\r\n}\r\n\r\nfunction isCreatorInAct(creatorId) {\r\n  if (!creatorId) return false;\r\n  return state.acts.some((act) => Array.isArray(act.memberIds) && act.memberIds.includes(creatorId));\r\n}\r\n\r\nfunction getCreatorStageName(creator) {\n  if (!creator) return \"\";\n  const stageName = typeof creator.stageName === \"string\" ? creator.stageName.trim() : \"\";\n  if (stageName) return stageName;\n  const fallback = String(creator.givenName || creator.name || \"\").trim();\n  return fallback;\n}\n\nfunction renderCreatorStageName(creator, stageName) {\n  if (!stageName) return \"\";\n  if (creator?.country === \"Crowlya\") {\n    return renderLanguageSpan(stageName, { lang: \"es\" });\n  }\n  if (hasHangulText(stageName)) {\n    return renderLanguageSpan(stageName, { lang: \"ko\" });\n  }\n  return stageName;\n}\n\nfunction formatCreatorRealNameLine(creator) {\n  if (!creator) return \"\";\n  const romanized = String(creator.name || \"\").trim();\n  const hangul = getCreatorHangulName(creator);\n  if (hangul && romanized && hangul !== romanized) {\r\n    return renderNameStack(hangul, romanized, { lang: \"ko\", romanized, inline: true });\r\n  }\r\n  if (hangul) return renderLanguageSpan(hangul, { lang: \"ko\" });\r\n  if (romanized && creator.country === \"Crowlya\") return renderLanguageSpan(romanized, { lang: \"es\" });\r\n  return romanized;\r\n}\r\n\r\nfunction renderCreatorStudioName(creator) {\n  if (!creator) return \"\";\n  if (!isCreatorInAct(creator.id)) return renderCreatorName(creator);\n  const stageName = getCreatorStageName(creator);\n  if (!stageName) return renderCreatorName(creator);\n  const realName = formatCreatorRealNameLine(creator);\n  const realLine = realName ? `<span class=\"muted\">[${realName}]</span>` : \"\";\n  const stageLine = renderCreatorStageName(creator, stageName);\n  return `<span class=\"name-stack\"><span class=\"creator-stage-name\">${stageLine}</span>${realLine}</span>`;\n}\n\r\nfunction listCreatorActs(creatorId) {\r\n  if (!creatorId) return [];\r\n  return state.acts.filter((act) => Array.isArray(act.memberIds) && act.memberIds.includes(creatorId));\r\n}\r\n\r\nfunction buildActPopularityScoreMap(year = currentYear()) {\r\n  const leaderboard = getActPopularityLeaderboard(year);\r\n  const map = new Map();\r\n  const entries = Array.isArray(leaderboard?.entries) ? leaderboard.entries : [];\r\n  entries.forEach((entry) => {\r\n    if (!entry?.actId) return;\r\n    const score = Number.isFinite(entry.points) ? entry.points : 0;\r\n    map.set(entry.actId, score);\r\n  });\r\n  return map;\r\n}\r\n\r\nfunction sortActsByPopularity(acts, scoreMap) {\r\n  const safeActs = Array.isArray(acts) ? acts.slice() : [];\r\n  return safeActs.sort((a, b) => {\r\n    const aScore = scoreMap?.get(a?.id) ?? 0;\r\n    const bScore = scoreMap?.get(b?.id) ?? 0;\r\n    if (bScore !== aScore) return bScore - aScore;\r\n    return String(a?.name || \"\").localeCompare(String(b?.name || \"\"));\r\n  });\r\n}\r\n\r\nfunction buildWorkOrderCrewLabel(crew) {\n  const lead = crew[0] || null;\n  if (!lead) return { primary: \"Unassigned\", secondary: \"\" };\n  if (!isCreatorInAct(lead.id)) return { primary: lead.name || \"Unassigned\", secondary: \"\" };\n  const stageName = getCreatorStageName(lead) || lead.name || \"Unassigned\";\n  const stageLine = renderCreatorStageName(lead, stageName);\n  const suffix = crew.length > 1 ? ` +${crew.length - 1}` : \"\";\n  const realName = formatCreatorRealNameLine(lead);\n  return {\n    primary: `${stageLine}${suffix}`,\n    secondary: realName ? `[${realName}]` : \"\"\n  };\n}\n\r\nconst SKILL_LEVEL_COUNT = 10;\r\nconst SKILL_EXP_PER_LEVEL = Math.max(1, (SKILL_MAX - SKILL_MIN + 1) / SKILL_LEVEL_COUNT);\r\nconst SKILL_EXP_PER_LEVEL_LABEL = Number.isInteger(SKILL_EXP_PER_LEVEL)\r\n  ? String(SKILL_EXP_PER_LEVEL)\r\n  : SKILL_EXP_PER_LEVEL.toFixed(2);\r\n\r\nfunction getCreatorSkillLevel(creator) {\r\n  const skill = Number.isFinite(creator?.skill) ? creator.skill : SKILL_MIN;\r\n  const bounded = clamp(skill, SKILL_MIN, SKILL_MAX) - SKILL_MIN;\r\n  return clamp(Math.floor(bounded / SKILL_EXP_PER_LEVEL) + 1, 1, SKILL_LEVEL_COUNT);\r\n}\r\n\r\nfunction getCreatorSkillExp(creator) {\r\n  const skill = Number.isFinite(creator?.skill) ? creator.skill : SKILL_MIN;\r\n  const progress = Number.isFinite(creator?.skillProgress) ? creator.skillProgress : 0;\r\n  const bounded = clamp(skill, SKILL_MIN, SKILL_MAX) - SKILL_MIN;\r\n  const exp = (bounded % SKILL_EXP_PER_LEVEL) + progress;\r\n  return clamp(exp, 0, SKILL_EXP_PER_LEVEL);\r\n}\r\n\r\nfunction renderCreatorSkillProgress(creator) {\r\n  const level = getCreatorSkillLevel(creator);\r\n  const exp = getCreatorSkillExp(creator);\r\n  return `Skill Level ${level} | EXP ${exp.toFixed(2)} / ${SKILL_EXP_PER_LEVEL_LABEL}`;\r\n}\r\n\r\nfunction formatCreatorGenderIdentity(creator) {\r\n  if (!creator) return \"\";\r\n  const raw = String(creator.genderIdentity || \"\").trim().toLowerCase();\r\n  if (!raw) return \"\";\r\n  if (raw === \"man\") return \"Man\";\r\n  if (raw === \"woman\") return \"Woman\";\r\n  if (raw === \"nonbinary\" || raw === \"non-binary\") return \"Non-binary\";\r\n  return \"\";\r\n}\r\n\r\nfunction formatCreatorAgeMeta(creator) {\r\n  if (!creator) return \"Age -\";\r\n  const age = Number.isFinite(creator.age) ? creator.age : null;\r\n  const group = creator.ageGroup || \"\";\r\n  let base = \"Age -\";\r\n  if (age !== null && group) base = `Age ${age} (${group})`;\r\n  if (age !== null && !group) base = `Age ${age}`;\r\n  if (age === null && group) base = `Age Group ${group}`;\r\n  const genderLabel = formatCreatorGenderIdentity(creator);\r\n  return genderLabel ? `${base} | ${genderLabel}` : base;\r\n}\r\n\r\nfunction getCreatorCatharsisScore(creator) {\r\n  return computeCreatorCatharsisScore(creator);\r\n}\r\n\r\nfunction splitRecordLabelName(label) {\r\n  const raw = String(label || \"\").trim();\r\n  if (!raw) return { primary: \"Label\", secondary: \"Record Label\" };\r\n  const match = raw.match(/^(.*?)(?:\\s+Record Label)$/i);\r\n  const primary = match ? match[1].trim() : raw;\r\n  if (!primary) return { primary: raw, secondary: \"\" };\r\n  return { primary, secondary: \"Record Label\" };\r\n}\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderLabelTag(label, country) {\r\n  const color = countryColor(country);\r\n  const { primary, secondary } = splitRecordLabelName(label);\r\n  const secondaryLine = secondary ? `<span class=\"tag-line tag-line--sub\">${secondary}</span>` : \"\";\r\n  const rival = getRivalByName(label);\r\n  const isRival = Boolean(rival);\r\n  const attrs = isRival\r\n    ? ` data-rival-label=\"${escapeAttribute(label)}\" role=\"button\" tabindex=\"0\" aria-label=\"View ${escapeAttribute(primary)} roster\"`\r\n    : \"\";\r\n  const cls = `tag tag--label${isRival ? \" tag--clickable\" : \"\"}`;\r\n  return `<span class=\"${cls}\" style=\"color:${color};\"${attrs}><span class=\"tag-dot\"></span><span class=\"tag-label tag-label--stacked\"><span class=\"tag-line\">${primary}</span>${secondaryLine}</span></span>`;\r\n}\r\n\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderMoodTag(mood, alignment, options = {}) {\r\n  const emoji = getMoodEmoji(mood) || \"\\u2753\";\r\n  const cls = alignment ? alignmentClass(alignment) : \"neutral\";\r\n  const label = options?.label || mood;\r\n  return `<span class=\"tag tag--mood mood ${cls}\"><span class=\"mood-emoji\">${emoji}</span><span class=\"tag-label\">${label}</span></span>`;\r\n}\r\n\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderMoodLabel(mood, alignment) {\r\n  const emoji = getMoodEmoji(mood) || \"\\u2753\";\r\n  const cls = alignment ? alignmentClass(alignment) : \"neutral\";\r\n  return `<span class=\"tag tag--mood mood ${cls}\"><span class=\"tag-label\">${mood}</span><span class=\"mood-emoji\">${emoji}</span></span>`;\r\n}\r\n\r\n\r\nfunction formatModifierDelta(modifier) {\r\n  if (!modifier) return \"Quality 0 | Time 0h | Cost $0\";\r\n  const quality = Number(modifier.qualityDelta || 0);\r\n  const hours = Number(modifier.hoursDelta || 0);\r\n  const cost = Number(modifier.costDelta || 0);\r\n  const qualityLabel = `Quality ${quality > 0 ? \"+\" : \"\"}${quality}`;\r\n  const hoursLabel = `Time ${hours > 0 ? \"+\" : \"\"}${hours}h`;\r\n  const costLabel = `Cost ${cost > 0 ? \"+\" : \"\"}${formatMoney(cost)}`;\r\n  return `${qualityLabel} | ${hoursLabel} | ${costLabel}`;\r\n}\r\n\r\nfunction renderModifierFocus(modifier) {\r\n  if (!modifier) return \"\";\r\n  const tags = [];\r\n  if (modifier.theme) tags.push(renderThemeTag(modifier.theme));\r\n  if (modifier.mood) tags.push(renderMoodTag(modifier.mood, modifier.alignment));\r\n  if (modifier.alignment) tags.push(renderAlignmentTag(modifier.alignment));\r\n  if (!tags.length) return \"\";\r\n  return `<div class=\"muted\">Focus: ${tags.join(\" \")}</div>`;\r\n}\r\n\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderGenrePills(theme, mood, { fallback = \"-\", alignment, inline = false } = {}) {\r\n  if (!theme || !mood) return fallback;\r\n  const themeTag = renderThemeTag(theme, { label: `${theme} but` });\r\n  const moodTag = renderMoodTag(mood, alignment, { label: `it's ${mood}` });\r\n  if (inline) {\r\n    return `<span class=\"genre-pills genre-pills--inline\">${themeTag}${moodTag}</span>`;\r\n  }\r\n  return `<span class=\"genre-pills\"><span class=\"genre-line\">${themeTag}</span><span class=\"genre-line\">${moodTag}</span></span>`;\r\n}\r\n\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderGenrePillsFromGenre(genre, options = {}) {\r\n  if (!genre) return options.fallback || \"-\";\r\n  const theme = themeFromGenre(genre);\r\n  const mood = moodFromGenre(genre);\r\n  return renderGenrePills(theme, mood, options);\r\n}\r\n\r\n/** @deprecated Replaced by React Pill/Tag components. */\r\nfunction renderTrackGenrePills(track, options = {}) {\r\n  if (!track) return options.fallback || \"-\";\r\n  const theme = track.theme || themeFromGenre(track.genre);\r\n  const mood = track.mood || moodFromGenre(track.genre);\r\n  const alignment = options.alignment || track.alignment || state.label?.alignment || \"\";\r\n  return renderGenrePills(theme, mood, { ...options, alignment });\r\n}\r\n\r\nlet trackSlotsReactFallbackWarned = false;\r\n\r\nfunction shouldRenderLegacyTrackSlots() {\r\n  if (!UI_REACT_ISLANDS_ENABLED) return true;\r\n  const root = document.getElementById(\"rls-react-trackslots-root\");\r\n  if (!root) return false;\r\n  const mounted = root.childElementCount > 0;\r\n  if (!mounted && !trackSlotsReactFallbackWarned) {\r\n    logEvent(\"React track slots not mounted; using legacy slots.\", \"warn\");\r\n    trackSlotsReactFallbackWarned = true;\r\n  }\r\n  return !mounted;\r\n}\r\n\r\nfunction ensureTrackSlotGrid() {\r\n  if (!shouldRenderLegacyTrackSlots()) return;\r\n  const grid = $(\"trackSlotGrid\");\r\n  if (!grid || grid.dataset.built === \"true\") return;\r\n  grid.dataset.built = \"true\";\r\n  grid.innerHTML = \"\";\r\n  const roles = [\r\n    { role: \"Songwriter\", target: TRACK_ROLE_TARGETS.Songwriter },\r\n    { role: \"Performer\", target: TRACK_ROLE_TARGETS.Performer },\r\n    { role: \"Producer\", target: TRACK_ROLE_TARGETS.Producer }\r\n  ];\r\n  roles.forEach((entry) => {\r\n    const limit = trackRoleLimit(entry.role);\r\n    const group = document.createElement(\"div\");\r\n    group.className = \"slot-role-group\";\r\n    group.dataset.slotRoleGroup = entry.role;\r\n    const head = document.createElement(\"div\");\r\n    head.className = \"slot-group-head\";\r\n    const header = document.createElement(\"div\");\r\n    header.className = \"slot-group-label\";\r\n    header.dataset.slotGroupLabel = entry.role;\r\n    header.textContent = `${roleLabel(entry.role)} Slots (0/${limit})`;\r\n    const actions = document.createElement(\"div\");\r\n    actions.className = \"slot-group-actions\";\r\n    actions.innerHTML = `\r\n      <button type=\"button\" class=\"ghost mini\" data-slot-more=\"${entry.role}\">Add Slot</button>\r\n      <button type=\"button\" class=\"ghost mini\" data-slot-less=\"${entry.role}\">Show Less</button>\r\n    `;\r\n    head.appendChild(header);\r\n    head.appendChild(actions);\r\n    group.appendChild(head);\r\n    const slotGrid = document.createElement(\"div\");\r\n    slotGrid.className = \"slot-role-grid\";\r\n    slotGrid.dataset.slotRoleGrid = entry.role;\r\n    group.appendChild(slotGrid);\r\n    const columns = Math.max(1, Math.ceil(limit / STUDIO_COLUMN_SLOT_COUNT));\r\n    // Studio columns render five slots each to mirror studio capacity.\r\n    for (let col = 0; col < columns; col += 1) {\r\n      const columnLabel = document.createElement(\"div\");\r\n      columnLabel.className = \"slot-column-label\";\r\n      columnLabel.dataset.slotColumnLabel = `${entry.role}-${col + 1}`;\r\n      columnLabel.dataset.slotRole = entry.role;\r\n      columnLabel.dataset.slotColumnStart = String(col * STUDIO_COLUMN_SLOT_COUNT + 1);\r\n      columnLabel.textContent = `Studio ${col + 1}`;\r\n      slotGrid.appendChild(columnLabel);\r\n      for (let row = 0; row < STUDIO_COLUMN_SLOT_COUNT; row += 1) {\r\n        const index = col * STUDIO_COLUMN_SLOT_COUNT + row + 1;\r\n        if (index > limit) break;\r\n        const slot = document.createElement(\"div\");\r\n        slot.className = \"id-slot\";\r\n        slot.dataset.slotTarget = `${entry.target}-${index}`;\r\n        slot.dataset.slotType = \"creator\";\r\n        slot.dataset.slotRole = entry.role;\r\n        slot.dataset.slotGroup = \"track\";\r\n        slot.dataset.slotIndex = String(index);\r\n        slot.tabIndex = 0;\r\n        slot.setAttribute(\"role\", \"button\");\r\n        slot.setAttribute(\"aria-haspopup\", \"listbox\");\r\n        const label = `${roleLabel(entry.role)} Slot`;\r\n        slot.setAttribute(\"aria-label\", `${label} ${index}`);\r\n        slot.innerHTML = `\r\n          <div class=\"slot-label\">${label} ${index}</div>\r\n          <div class=\"slot-id\">\r\n            <div class=\"slot-avatar\" aria-hidden=\"true\"></div>\r\n            <div class=\"slot-value\">${UNASSIGNED_CREATOR_LABEL}</div>\r\n          </div>\r\n          <div class=\"slot-actions\">\r\n            <button type=\"button\" class=\"ghost mini\" data-slot-recommend=\"${entry.target}-${index}\">Recommend</button>\r\n            <button type=\"button\" class=\"ghost mini\" data-slot-clear=\"${entry.target}-${index}\">Clear</button>\r\n          </div>\r\n        `;\r\n        slotGrid.appendChild(slot);\r\n      }\r\n    }\r\n    grid.appendChild(group);\r\n  });\r\n}\r\n\r\nfunction applyTrackSlotVisibility() {\r\n  if (!shouldRenderLegacyTrackSlots()) return;\r\n  const grid = $(\"trackSlotGrid\");\r\n  if (!grid) return;\r\n  ensureTrackSlotVisibility();\r\n\r\n  [\"Songwriter\", \"Performer\", \"Producer\"].forEach((role) => {\r\n    const limit = trackRoleLimit(role);\r\n    const key = TRACK_ROLE_KEYS[role];\r\n    const assigned = listFromIds(state.ui.trackSlots?.[key]).length;\r\n    const fallback = Math.min(DEFAULT_TRACK_SLOT_VISIBLE, limit);\r\n    const current = Number(state.ui.trackSlotVisible?.[role]);\r\n    const desired = Number.isFinite(current) ? current : fallback;\r\n    const visibleCount = Math.max(fallback, Math.min(limit, Math.max(desired, assigned)));\r\n    state.ui.trackSlotVisible[role] = visibleCount;\r\n    const label = grid.querySelector(`[data-slot-group-label=\"${role}\"]`);\r\n    if (label) label.textContent = `${roleLabel(role)} Slots (${assigned}/${limit})`;\r\n    grid.querySelectorAll(`.id-slot[data-slot-role=\"${role}\"]`).forEach((slot) => {\r\n      const index = Number(slot.dataset.slotIndex || \"0\");\r\n      slot.classList.toggle(\"hidden\", index > visibleCount);\r\n    });\r\n    grid.querySelectorAll(`.slot-column-label[data-slot-role=\"${role}\"]`).forEach((column) => {\r\n      const start = Number(column.dataset.slotColumnStart || \"0\");\r\n      column.classList.toggle(\"hidden\", start > visibleCount);\r\n    });\r\n    const moreBtn = grid.querySelector(`[data-slot-more=\"${role}\"]`);\r\n    if (moreBtn) moreBtn.disabled = visibleCount >= limit;\r\n    const lessBtn = grid.querySelector(`[data-slot-less=\"${role}\"]`);\r\n    if (lessBtn) lessBtn.disabled = visibleCount <= Math.max(fallback, assigned);\r\n  });\r\n}\r\n\r\nfunction renderSlots() {\r\n  ensureTrackSlotGrid();\r\n  ensureTrackSlotArrays();\r\n  applyTrackSlotVisibility();\r\n  const activeTarget = state.ui.slotTarget;\r\n  document.querySelectorAll(\".id-slot\").forEach((slot) => {\r\n    if (slot.closest(\"#rls-react-trackslots-root\")) return;\r\n    const target = slot.dataset.slotTarget;\r\n    slot.classList.toggle(\"active\", target === activeTarget);\r\n  });\r\n\r\n  const actLead = getCreator(state.ui.actSlots.lead);\r\n  const actMember2 = getCreator(state.ui.actSlots.member2);\r\n  const actMember3 = getCreator(state.ui.actSlots.member3);\r\n  const trackAct = getAct(state.ui.trackSlots.actId);\r\n  const eraAct = getAct(state.ui.eraSlots.actId);\r\n  const promoProject = state.ui.promoSlots.projectId ? parsePromoProjectKey(state.ui.promoSlots.projectId) : null;\r\n  const promoTrack = getMarketTrackByTrackId(state.ui.promoSlots.trackId)\r\n    || getTrack(state.ui.promoSlots.trackId);\r\n  const socialTrack = getTrack(state.ui.socialSlots.trackId);\r\n\r\n  const unassignedLabel = UNASSIGNED_SLOT_LABEL;\r\n  const unassignedCreatorLabel = UNASSIGNED_CREATOR_LABEL;\r\n  if ($(\"actLeadSlot\")) $(\"actLeadSlot\").innerHTML = actLead ? renderCreatorName(actLead) : unassignedCreatorLabel;\r\n  if ($(\"actMember2Slot\")) $(\"actMember2Slot\").innerHTML = actMember2 ? renderCreatorName(actMember2) : unassignedCreatorLabel;\r\n  if ($(\"actMember3Slot\")) $(\"actMember3Slot\").innerHTML = actMember3 ? renderCreatorName(actMember3) : unassignedCreatorLabel;\r\n  if ($(\"trackActSlot\")) $(\"trackActSlot\").innerHTML = trackAct ? renderActName(trackAct) : unassignedLabel;\r\n  if ($(\"eraActSlot\")) $(\"eraActSlot\").innerHTML = eraAct ? renderActName(eraAct) : unassignedLabel;\r\n  if ($(\"promoProjectSlot\")) {\r\n    const projectType = promoProject ? normalizeProjectType(promoProject.projectType || \"Single\") : \"Single\";\r\n    const label = promoProject\r\n      ? `${renderProjectName(promoProject.projectName)} (${projectType})`\r\n      : unassignedLabel;\r\n    $(\"promoProjectSlot\").innerHTML = label;\r\n  }\r\n  if ($(\"promoTrackSlot\")) $(\"promoTrackSlot\").innerHTML = promoTrack ? renderTrackTitle(promoTrack.title) : unassignedLabel;\r\n  if ($(\"socialTrackSlot\")) $(\"socialTrackSlot\").innerHTML = socialTrack ? renderTrackTitle(socialTrack.title) : unassignedLabel;\r\n\r\n  document.querySelectorAll(\".id-slot\").forEach((slot) => {\r\n    if (slot.closest(\"#rls-react-trackslots-root\")) return;\r\n    const target = slot.dataset.slotTarget;\r\n    const type = slot.dataset.slotType;\r\n    const slotGroup = slot.dataset.slotGroup || \"\";\r\n    const value = getSlotValue(target);\r\n    const valueEl = slot.querySelector(\".slot-value\");\r\n    const avatarEl = slot.querySelector(\".slot-avatar\");\r\n    if (!valueEl) return;\r\n    if (type === \"creator\") {\r\n      const creator = value ? getCreator(value) : null;\r\n      if (creator && slotGroup === \"track\") {\r\n        valueEl.innerHTML = renderCreatorStudioName(creator);\r\n      } else {\r\n        valueEl.innerHTML = creator ? renderCreatorName(creator) : unassignedCreatorLabel;\r\n      }\r\n      if (avatarEl) {\r\n        const portraitUrl = creator ? getCreatorPortraitUrl(creator) : null;\r\n        const hasImage = Boolean(portraitUrl);\r\n        avatarEl.classList.toggle(\"has-image\", hasImage);\r\n        avatarEl.classList.toggle(\"is-empty\", !creator);\r\n        avatarEl.classList.toggle(\"has-symbols\", !hasImage);\r\n        if (hasImage) {\r\n          avatarEl.style.backgroundImage = `url(\"${safeAvatarUrl(portraitUrl)}\")`;\r\n          avatarEl.textContent = \"\";\r\n        } else {\r\n          avatarEl.style.backgroundImage = \"\";\r\n          avatarEl.innerHTML = renderCreatorFallbackSymbols({ unassigned: !creator });\r\n        }\r\n        avatarEl.title = creator?.portraitNote || \"\";\r\n      }\r\n    } else if (type === \"act\") {\r\n      const act = value ? getAct(value) : null;\r\n      valueEl.innerHTML = act ? renderActName(act) : unassignedLabel;\r\n      if (avatarEl) {\r\n        avatarEl.classList.remove(\"has-image\");\r\n        avatarEl.classList.remove(\"is-empty\");\r\n        avatarEl.style.backgroundImage = \"\";\r\n        avatarEl.textContent = \"\";\r\n      }\r\n    } else if (type === \"track\") {\r\n      const track = value ? getTrack(value) : null;\r\n      let trackLabel = track ? track.title : unassignedLabel;\r\n      const isPromoTrackSlot = target === \"promo-track\" || (typeof target === \"string\" && target.startsWith(\"auto-promo-track-\"));\r\n      if (!track && isPromoTrackSlot && value) {\r\n        const marketEntry = getMarketTrackByTrackId(value);\r\n        if (marketEntry?.title) trackLabel = marketEntry.title;\r\n      }\r\n      valueEl.innerHTML = trackLabel ? renderTrackTitle(trackLabel) : trackLabel;\r\n      if (avatarEl) {\r\n        avatarEl.classList.remove(\"has-image\");\r\n        avatarEl.classList.remove(\"is-empty\");\r\n        avatarEl.style.backgroundImage = \"\";\r\n        avatarEl.textContent = \"\";\r\n      }\r\n    } else if (type === \"project\") {\r\n      const project = value ? parsePromoProjectKey(value) : null;\r\n      const projectType = project ? normalizeProjectType(project.projectType || \"Single\") : \"Single\";\r\n      const label = project\r\n        ? `${renderProjectName(project.projectName)} (${projectType})`\r\n        : unassignedLabel;\r\n      valueEl.innerHTML = label;\r\n      if (avatarEl) {\r\n        avatarEl.classList.remove(\"has-image\");\r\n        avatarEl.classList.remove(\"is-empty\");\r\n        avatarEl.style.backgroundImage = \"\";\r\n        avatarEl.textContent = \"\";\r\n      }\r\n    }\r\n  });\r\n\r\n  document.querySelectorAll(\"[data-slot-group-label]\").forEach((label) => {\r\n    if (label.closest(\"#rls-react-trackslots-root\")) return;\r\n    const role = label.dataset.slotGroupLabel;\r\n    if (!role) return;\r\n    const limit = trackRoleLimit(role);\r\n    const assigned = getTrackRoleIdsFromSlots(role).length;\r\n    label.textContent = `${roleLabel(role)} Slots (${assigned}/${limit})`;\r\n  });\r\n\r\n  const createStage = state.ui.activeView === \"create\" ? (state.ui.createStage || \"sheet\") : null;\r\n  const stageRole = createStage === \"demo\"\r\n    ? \"Performer\"\r\n    : createStage === \"master\"\r\n      ? \"Producer\"\r\n      : createStage === \"sheet\"\r\n        ? \"Songwriter\"\r\n        : null;\r\n  document.querySelectorAll(\".slot-role-group\").forEach((group) => {\r\n    if (group.closest(\"#rls-react-trackslots-root\")) return;\r\n    const role = group.dataset.slotRoleGroup;\r\n    group.classList.toggle(\"is-active\", !!stageRole && role === stageRole);\r\n  });\r\n\r\n  const solo = $(\"actTypeSelect\") && $(\"actTypeSelect\").value === \"Solo Act\";\r\n  [\"act-member2\", \"act-member3\"].forEach((target) => {\r\n    const slot = getSlotElement(target);\r\n    if (slot) slot.classList.toggle(\"disabled\", solo);\r\n  });\r\n  if (typeof window !== \"undefined\" && window.ensureSlotDropdowns) {\r\n    window.ensureSlotDropdowns();\r\n  }\r\n  if (typeof window !== \"undefined\" && window.updateSlotDropdowns) {\r\n    window.updateSlotDropdowns();\r\n  }\r\n}\r\n\r\nfunction refreshSelectOptions() {\r\n  const labelAlignment = $(\"labelAlignment\");\r\n  if (labelAlignment) labelAlignment.innerHTML = ALIGNMENTS.map((a) => `<option value=\"${a}\">${a}</option>`).join(\"\");\r\n  const trackAlignment = $(\"trackAlignment\");\r\n  if (trackAlignment) trackAlignment.innerHTML = ALIGNMENTS.map((a) => `<option value=\"${a}\">${a}</option>`).join(\"\");\r\n  const themeSelect = $(\"themeSelect\");\r\n  if (themeSelect) {\r\n    themeSelect.innerHTML = buildThemeOptions();\r\n    bindThemeSelectAccent(themeSelect);\r\n  }\r\n  const moodSelect = $(\"moodSelect\");\r\n  if (moodSelect) moodSelect.innerHTML = buildMoodOptions();\r\n  const modifierSelect = $(\"modifierSelect\");\r\n  if (modifierSelect) {\r\n    const options = MODIFIERS.filter((mod) => mod.id === \"None\" || getModifierInventoryCount(mod.id) > 0);\r\n    modifierSelect.innerHTML = options.map((mod) => {\r\n      if (mod.id === \"None\") return `<option value=\"${mod.id}\">${mod.label}</option>`;\r\n      const count = getModifierInventoryCount(mod.id);\r\n      return `<option value=\"${mod.id}\">${mod.label} (x${count})</option>`;\r\n    }).join(\"\");\r\n  }\r\n  const actTypeSelect = $(\"actTypeSelect\");\r\n  if (actTypeSelect) actTypeSelect.innerHTML = ACT_TYPES.map((type) => `<option value=\"${type}\">${type}</option>`).join(\"\");\r\n  const actAlignmentSelect = $(\"actAlignmentSelect\");\r\n  if (actAlignmentSelect) actAlignmentSelect.innerHTML = ALIGNMENTS.map((a) => `<option value=\"${a}\">${a}</option>`).join(\"\");\r\n  const genreThemeFilter = $(\"genreThemeFilter\");\r\n  if (genreThemeFilter) {\r\n    genreThemeFilter.innerHTML = buildThemeOptions([{ value: \"All\", label: \"All Themes\" }]);\r\n    bindThemeSelectAccent(genreThemeFilter);\r\n  }\r\n  const genreMoodFilter = $(\"genreMoodFilter\");\r\n  if (genreMoodFilter) {\r\n    genreMoodFilter.innerHTML = buildMoodOptions([{ value: \"All\", label: \"All Moods\" }]);\r\n  }\r\n  const cccThemeFilter = $(\"cccThemeFilter\");\r\n  if (cccThemeFilter) {\r\n    cccThemeFilter.innerHTML = buildThemeOptions([{ value: \"All\", label: \"All Themes\" }]);\r\n    bindThemeSelectAccent(cccThemeFilter);\r\n  }\r\n  const cccMoodFilter = $(\"cccMoodFilter\");\r\n  if (cccMoodFilter) {\r\n    cccMoodFilter.innerHTML = buildMoodOptions([{ value: \"All\", label: \"All Moods\" }]);\r\n  }\r\n  const quickActFilters = state.ui.quickActFilters || {};\r\n  const quickActGroupSize = $(\"quickActGroupSize\");\r\n  if (quickActGroupSize) {\r\n    const options = [\r\n      { value: \"2-3\", label: \"2-3 (random)\" },\r\n      { value: \"2\", label: \"2 members\" },\r\n      { value: \"3\", label: \"3 members\" }\r\n    ];\r\n    quickActGroupSize.innerHTML = options.map((opt) => `<option value=\"${opt.value}\">${opt.label}</option>`).join(\"\");\r\n    quickActGroupSize.value = quickActFilters.groupSize || \"2-3\";\r\n  }\r\n  const quickActGenderFilter = $(\"quickActGenderFilter\");\r\n  if (quickActGenderFilter) {\r\n    const options = [\r\n      { value: \"\", label: \"Any Gender\" },\r\n      { value: \"man\", label: \"Man\" },\r\n      { value: \"woman\", label: \"Woman\" },\r\n      { value: \"nonbinary\", label: \"Non-binary\" },\r\n      { value: \"unspecified\", label: \"Unspecified\" }\r\n    ];\r\n    quickActGenderFilter.innerHTML = options.map((opt) => `<option value=\"${opt.value}\">${opt.label}</option>`).join(\"\");\r\n    quickActGenderFilter.value = quickActFilters.genderIdentity || \"\";\r\n  }\r\n  const quickActAgeGroupFilter = $(\"quickActAgeGroupFilter\");\r\n  if (quickActAgeGroupFilter) {\r\n    const groups = Array.from(new Set((state.creators || []).map((creator) => creator.ageGroup).filter(Boolean)));\r\n    const toStart = (label) => {\r\n      const start = Number(String(label).split(\"-\")[0]);\r\n      return Number.isFinite(start) ? start : 0;\r\n    };\r\n    groups.sort((a, b) => toStart(a) - toStart(b) || String(a).localeCompare(String(b)));\r\n    quickActAgeGroupFilter.innerHTML = [\r\n      `<option value=\"\">Any Age Group</option>`,\r\n      ...groups.map((group) => `<option value=\"${group}\">${group}</option>`)\r\n    ].join(\"\");\r\n    quickActAgeGroupFilter.value = quickActFilters.ageGroup || \"\";\r\n  }\r\n  const quickActThemeFilter = $(\"quickActThemeFilter\");\r\n  if (quickActThemeFilter) {\r\n    quickActThemeFilter.innerHTML = buildThemeOptions([{ value: \"Any\", label: \"Any Theme\" }]);\r\n    quickActThemeFilter.value = quickActFilters.theme || \"Any\";\r\n    bindThemeSelectAccent(quickActThemeFilter);\r\n  }\r\n  const quickActMoodFilter = $(\"quickActMoodFilter\");\r\n  if (quickActMoodFilter) {\r\n    quickActMoodFilter.innerHTML = buildMoodOptions([{ value: \"Any\", label: \"Any Mood\" }]);\r\n    quickActMoodFilter.value = quickActFilters.mood || \"Any\";\r\n  }\r\n  const quickActAlignmentFilter = $(\"quickActAlignmentFilter\");\r\n  if (quickActAlignmentFilter) {\r\n    const options = [\"Label\", ...ALIGNMENTS];\r\n    quickActAlignmentFilter.innerHTML = options.map((value) => {\r\n      const label = value === \"Label\" ? \"Label Alignment\" : value;\r\n      return `<option value=\"${value}\">${label}</option>`;\r\n    }).join(\"\");\r\n    quickActAlignmentFilter.value = quickActFilters.alignment || \"Label\";\r\n  }\r\n  const quickActSkillMin = $(\"quickActSkillMin\");\r\n  if (quickActSkillMin) {\r\n    const options = [\r\n      `<option value=\"\">Any</option>`,\r\n      ...Array.from({ length: 10 }, (_, index) => `<option value=\"${index + 1}\">Level ${index + 1}</option>`)\r\n    ];\r\n    quickActSkillMin.innerHTML = options.join(\"\");\r\n    quickActSkillMin.value = Number.isFinite(quickActFilters.minSkillLevel)\r\n      ? String(quickActFilters.minSkillLevel)\r\n      : \"\";\r\n  }\r\n  const quickActSkillMax = $(\"quickActSkillMax\");\r\n  if (quickActSkillMax) {\r\n    const options = [\r\n      `<option value=\"\">Any</option>`,\r\n      ...Array.from({ length: 10 }, (_, index) => `<option value=\"${index + 1}\">Level ${index + 1}</option>`)\r\n    ];\r\n    quickActSkillMax.innerHTML = options.join(\"\");\r\n    quickActSkillMax.value = Number.isFinite(quickActFilters.maxSkillLevel)\r\n      ? String(quickActFilters.maxSkillLevel)\r\n      : \"\";\r\n  }\r\n  const trendScopeSelect = $(\"trendScopeSelect\");\r\n  if (trendScopeSelect) trendScopeSelect.value = state.ui.trendScopeType || \"global\";\r\n  const eraRolloutSelect = $(\"eraRolloutSelect\");\r\n  if (eraRolloutSelect) {\r\n    eraRolloutSelect.innerHTML = ROLLOUT_PRESETS.map((preset) => `<option value=\"${preset.id}\">${preset.label}</option>`).join(\"\");\r\n  }\r\n  const eraPlanTheme = $(\"eraPlanTheme\");\r\n  if (eraPlanTheme) {\r\n    eraPlanTheme.innerHTML = buildThemeOptions([{ value: \"Any\", label: \"Any Theme\" }]);\r\n    eraPlanTheme.value = state.ui.eraPlan?.themeTarget || \"Any\";\r\n    bindThemeSelectAccent(eraPlanTheme);\r\n  }\r\n  const eraPlanMood = $(\"eraPlanMood\");\r\n  if (eraPlanMood) {\r\n    eraPlanMood.innerHTML = buildMoodOptions([{ value: \"Any\", label: \"Any Mood\" }]);\r\n    eraPlanMood.value = state.ui.eraPlan?.moodTarget || \"Any\";\r\n  }\r\n  const eraPlanRollout = $(\"eraPlanRollout\");\r\n  if (eraPlanRollout) {\r\n    eraPlanRollout.innerHTML = ROLLOUT_PRESETS.map((preset) => `<option value=\"${preset.id}\">${preset.label}</option>`).join(\"\");\r\n    eraPlanRollout.value = state.ui.eraPlan?.rolloutTemplateId || ROLLOUT_PRESETS[1].id;\r\n  }\r\n  const eraPlanCadence = $(\"eraPlanCadence\");\r\n  if (eraPlanCadence) {\r\n    const cadenceOptions = [\"Weekly\", \"Biweekly\", \"Monthly\", \"Quarterly\"];\r\n    eraPlanCadence.innerHTML = cadenceOptions.map((cadence) => `<option value=\"${cadence}\">${cadence}</option>`).join(\"\");\r\n    eraPlanCadence.value = state.ui.eraPlan?.cadence || \"Weekly\";\r\n  }\r\n  const eraPlanGoals = $(\"eraPlanGoals\");\r\n  if (eraPlanGoals) eraPlanGoals.value = state.ui.eraPlan?.goals || \"\";\r\n  const eraPlanSchedule = $(\"eraPlanSchedule\");\r\n  if (eraPlanSchedule) eraPlanSchedule.value = state.ui.eraPlan?.scheduleNote || \"\";\r\n  const eraPlanPlannedReleases = $(\"eraPlanPlannedReleases\");\r\n  if (eraPlanPlannedReleases) {\r\n    const planned = state.ui.eraPlan?.plannedReleaseIds || [];\r\n    eraPlanPlannedReleases.value = planned.join(\", \");\r\n  }\r\n  const projectTypeSelect = $(\"projectTypeSelect\");\r\n  if (projectTypeSelect && !projectTypeSelect.value) projectTypeSelect.value = \"Single\";\r\n  if (labelAlignment) labelAlignment.value = state.label.alignment;\r\n  if (trackAlignment) trackAlignment.value = state.label.alignment;\r\n  if (actAlignmentSelect) actAlignmentSelect.value = state.label.alignment;\r\n  const eraSeed = getActiveEras()[0];\r\n  if (eraSeed && eraSeed.rolloutId && eraRolloutSelect) {\r\n    eraRolloutSelect.value = eraSeed.rolloutId;\r\n  }\r\n  const labelNameInput = $(\"labelNameInput\");\r\n  if (labelNameInput) labelNameInput.value = state.label.name;\r\n  if (genreThemeFilter) {\r\n    genreThemeFilter.value = state.ui.genreTheme || \"All\";\r\n    setThemeSelectAccent(genreThemeFilter);\r\n  }\r\n  if (genreMoodFilter) genreMoodFilter.value = state.ui.genreMood || \"All\";\r\n  if (cccThemeFilter) {\r\n    cccThemeFilter.value = state.ui.cccThemeFilter || \"All\";\r\n    setThemeSelectAccent(cccThemeFilter);\r\n  }\r\n  if (cccMoodFilter) cccMoodFilter.value = state.ui.cccMoodFilter || \"All\";\r\n  const cccSort = $(\"cccSort\");\r\n  if (cccSort) cccSort.value = state.ui.cccSort || \"default\";\r\n  updateActMemberFields();\r\n  renderSlots();\r\n  updateGenrePreview();\r\n}\r\n\r\nfunction updateActMemberFields() {\r\n  const actTypeSelect = $(\"actTypeSelect\");\r\n  if (!actTypeSelect) return;\r\n  const solo = actTypeSelect.value === \"Solo Act\";\r\n  if (solo) {\r\n    state.ui.actSlots.member2 = null;\r\n    state.ui.actSlots.member3 = null;\r\n    if (state.ui.slotTarget === \"act-member2\" || state.ui.slotTarget === \"act-member3\") {\r\n      state.ui.slotTarget = null;\r\n    }\r\n  }\r\n  commitSlotChange();\r\n}\r\n\r\nfunction renderAutoAssignModal() {\r\n  const roles = [\"Songwriter\", \"Performer\", \"Producer\"];\r\n  const blocks = roles.map((role) => {\r\n    const candidates = rankCandidates(role).slice(0, 5);\r\n    const req = staminaRequirement(role);\r\n    const label = roleLabel(role);\r\n    if (!candidates.length) {\r\n      return `\r\n        <div class=\"auto-assign-role\">\r\n          <h3>${label}</h3>\r\n          <div class=\"muted\">No candidates available.</div>\r\n        </div>\r\n      `;\r\n    }\r\n    return `\r\n      <div class=\"auto-assign-role\">\r\n        <h3>${label}</h3>\r\n        ${candidates.map((creator) => {\r\n          const staminaPct = Math.round((creator.stamina / STAMINA_MAX) * 100);\r\n          const catharsisScore = getCreatorCatharsisScore(creator);\r\n          const catharsisGrade = scoreGrade(catharsisScore);\r\n          const skillGrade = scoreGrade(creator.skill);\r\n          const overuseSafe = getCreatorStaminaSpentToday(creator) + req <= STAMINA_OVERUSE_LIMIT;\r\n          const canAssign = creator.ready && overuseSafe;\r\n          return `\r\n          <div class=\"list-item\">\r\n            <div class=\"auto-assign-candidate\">\r\n              <div>\r\n                <div class=\"item-title\">${renderCreatorName(creator)}</div>\r\n                <div class=\"bar\"><span style=\"width:${staminaPct}%\"></span></div>\r\n                <div class=\"muted\">Stamina ${creator.stamina} / ${STAMINA_MAX}</div>\r\n                <div class=\"muted\">${formatCreatorAgeMeta(creator)}</div>\r\n                <div class=\"muted\">ID ${creator.id} | Skill <span class=\"grade-text\" data-grade=\"${skillGrade}\">${creator.skill}</span></div>\r\n                <div class=\"muted\">${renderCreatorSkillProgress(creator)}</div>\r\n                <div class=\"muted\">Catharsis <span class=\"grade-text\" data-grade=\"${catharsisGrade}\">${catharsisScore}</span></div>\r\n              </div>\r\n              <div class=\"actions\">\r\n                ${creator.ready ? \"\" : `<span class=\"tag low\">Low stamina</span>`}\r\n                ${overuseSafe ? \"\" : `<span class=\"tag low\">Overuse limit</span>`}\r\n                <button type=\"button\" class=\"ghost\" data-assign-role=\"${role}\" data-assign-id=\"${creator.id}\"${canAssign ? \"\" : \" disabled\"}>Assign</button>\r\n              </div>\r\n            </div>\r\n            <div class=\"muted\">Needs ${req} stamina for ${label} stage</div>\r\n          </div>\r\n        `;\r\n        }).join(\"\")}\r\n      </div>\r\n    `;\r\n  });\r\n  $(\"autoAssignList\").innerHTML = blocks.join(\"\");\r\n}\r\n\r\nfunction renderTime() {\r\n  $(\"timeDisplay\").textContent = formatDate(state.time.epochMs);\r\n  $(\"weekDisplay\").textContent = formatWeekRangeLabel(weekIndex() + 1);\r\n  const chartHours = hoursUntilNextScheduledTime(WEEKLY_SCHEDULE.chartUpdate);\r\n  $(\"chartCountdown\").textContent = `Charts update in ${formatHourCountdown(chartHours, { padHours: 3 })}h`;\r\n  const mode = getGameMode(state.meta?.gameMode);\r\n  const modeLabel = shortGameModeLabel(mode.label);\r\n  const modeEl = $(\"gameModeDisplay\");\r\n  if (modeEl) {\r\n    modeEl.textContent = modeLabel || \"-\";\r\n    if (mode?.id) {\r\n      modeEl.dataset.mode = mode.id;\r\n    } else {\r\n      modeEl.removeAttribute(\"data-mode\");\r\n    }\r\n    modeEl.setAttribute(\"title\", mode.label || \"\");\r\n    modeEl.setAttribute(\"aria-label\", mode.label ? `Game mode: ${mode.label}` : \"Game mode\");\r\n  }\r\n  const difficulty = getGameDifficulty(state.meta?.difficulty);\r\n  const difficultyEl = $(\"gameDifficultyDisplay\");\r\n  if (difficultyEl) {\r\n    difficultyEl.textContent = difficulty?.label || \"-\";\r\n    if (difficulty?.id) {\r\n      difficultyEl.dataset.difficulty = difficulty.id;\r\n    } else {\r\n      difficultyEl.removeAttribute(\"data-difficulty\");\r\n    }\r\n    difficultyEl.setAttribute(\"title\", difficulty?.label || \"\");\r\n    difficultyEl.setAttribute(\r\n      \"aria-label\",\r\n      difficulty?.label ? `Game difficulty: ${difficulty.label}` : \"Game difficulty\"\r\n    );\r\n  }\r\n}\r\n\r\nfunction renderFocusEraStatus() {\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const focusEra = getFocusedEra();\r\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\r\n  const displayEra = focusEra || fallbackEra;\r\n  const act = displayEra ? getAct(displayEra.actId) : null;\r\n  const actName = act ? act.name : null;\r\n  const actLabel = act ? renderActName(act) : \"\";\r\n  const stageName = displayEra ? ERA_STAGES[displayEra.stageIndex] || \"Active\" : \"\";\r\n  const baseLabel = displayEra\r\n    ? `${displayEra.name}${actLabel ? ` (${actLabel})` : \"\"}${stageName ? ` | ${stageName}` : \"\"}`\r\n    : \"\";\r\n  const headerLabel = focusEra\r\n    ? baseLabel\r\n    : fallbackEra\r\n      ? `${baseLabel} (Auto)`\r\n      : activeEras.length\r\n        ? \"Select focus\"\r\n        : \"No active eras\";\r\n  const detailLabel = focusEra\r\n    ? `Focused: ${baseLabel}`\r\n    : fallbackEra\r\n      ? `Auto: ${baseLabel}`\r\n      : activeEras.length\r\n        ? \"No focus selected\"\r\n        : \"No active eras\";\r\n  const promoLabel = focusEra\r\n    ? baseLabel\r\n    : fallbackEra\r\n      ? `${baseLabel} (Auto)`\r\n      : activeEras.length\r\n        ? \"Select focus\"\r\n        : \"No active eras\";\r\n\r\n  const headerEl = $(\"focusEraDisplay\");\r\n  if (headerEl) {\r\n    headerEl.innerHTML = headerLabel;\r\n    if (displayEra) {\r\n      const stageName = ERA_STAGES[displayEra.stageIndex] || \"Active\";\r\n      const actTitle = act ? formatActNamePlain(act) : \"Unknown\";\r\n      headerEl.title = `Act: ${actTitle} | Stage: ${stageName}`;\r\n    } else {\r\n      headerEl.title = \"\";\r\n    }\r\n  }\r\n  const labelEl = $(\"eraFocusLabel\");\r\n  if (labelEl) labelEl.innerHTML = detailLabel;\r\n  const promoEl = $(\"promoFocusLabel\");\r\n  if (promoEl) promoEl.innerHTML = promoLabel;\r\n  const clearBtn = $(\"eraFocusClear\");\r\n  if (clearBtn) clearBtn.disabled = !focusEra;\r\n  const promoBtn = $(\"promoFocusPickBtn\");\r\n  if (promoBtn) promoBtn.disabled = !displayEra;\r\n}\r\n\r\nfunction formatAutosaveTimestamp(ms) {\r\n  if (!Number.isFinite(ms)) return \"not run yet\";\r\n  const timeLabel = new Date(ms).toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\r\n  return `${formatShortDate(ms)} ${timeLabel}`;\r\n}\r\n\r\nfunction renderStats() {\r\n  $(\"cashDisplay\").textContent = formatMoney(state.label.cash);\r\n  const counts = getStudioUsageCounts();\r\n  const ownedSlots = getOwnedStudioSlots();\r\n  const totalSlots = ownedSlots + counts.leased;\r\n  state.studio.inUse = counts.total;\r\n  $(\"studioDisplay\").textContent = `${counts.total} / ${totalSlots}`;\r\n  $(\"slotDisplay\").textContent = session.activeSlot ? `Slot ${session.activeSlot}` : \"-\";\r\n  $(\"slotTargetDisplay\").textContent = state.ui.slotTarget ? describeSlot(state.ui.slotTarget) : \"-\";\r\n  const hudStatsExtra = $(\"hudStatsExtra\");\r\n  const hudStatsMore = $(\"hudStatsMoreBtn\");\r\n  const hudStatsExpanded = Boolean(state.ui?.hudStatsExpanded);\r\n  if (hudStatsExtra) hudStatsExtra.classList.toggle(\"hidden\", !hudStatsExpanded);\r\n  if (hudStatsMore) {\r\n    hudStatsMore.textContent = hudStatsExpanded ? \"Less\" : \"More\";\r\n    hudStatsMore.setAttribute(\"aria-expanded\", String(hudStatsExpanded));\r\n  }\r\n  if ($(\"labelNameDisplay\")) {\r\n    $(\"labelNameDisplay\").textContent = state.label.name || \"Record Label\";\r\n  }\r\n  if ($(\"alignmentDisplay\")) {\r\n    $(\"alignmentDisplay\").innerHTML = renderAlignmentTag(state.label.alignment);\r\n  }\r\n  if ($(\"popularityDisplay\")) {\r\n    const ranking = getLabelRanking();\r\n    const index = ranking.findIndex((row) => row[0] === state.label.name);\r\n    $(\"popularityDisplay\").textContent = index >= 0 ? `#${index + 1}` : \"Unranked\";\r\n  }\r\n  if ($(\"reachDisplay\")) {\r\n    const snapshot = computePopulationSnapshot();\r\n    const reach = snapshot.total ? (state.label.fans / snapshot.total) * 100 : 0;\r\n    $(\"reachDisplay\").textContent = `${reach.toFixed(2)}%`;\r\n  }\r\n  if ($(\"achievementCount\")) {\r\n    const unlockedCount = state.meta.achievementsUnlocked?.length || 0;\r\n    const count = Math.max(unlockedCount, state.meta.achievements || 0);\r\n    $(\"achievementCount\").textContent = `${count} / ${ACHIEVEMENT_TARGET}`;\r\n  }\r\n  if ($(\"expDisplay\")) {\r\n    $(\"expDisplay\").textContent = formatCount(state.meta.exp || 0);\r\n  }\r\n  if ($(\"bailoutStatus\")) {\r\n    if (state.meta.bailoutPending) {\r\n      $(\"bailoutStatus\").textContent = \"Bailout offer pending.\";\r\n    } else if (state.meta.bailoutUsed) {\r\n      $(\"bailoutStatus\").textContent = \"Bailout used: win flagged.\";\r\n    } else {\r\n      $(\"bailoutStatus\").textContent = \"\";\r\n    }\r\n  }\r\n  if ($(\"winTrackDisplay\")) {\r\n    if (state.meta.winState) {\r\n      const bailoutTag = state.meta.winState.bailoutUsed || state.meta.bailoutUsed ? \" (Bailout)\" : \"\";\r\n      $(\"winTrackDisplay\").textContent = `Won ${state.meta.winState.year}${bailoutTag}`;\r\n    } else {\r\n      const year = currentYear();\r\n      if (year < 4000) $(\"winTrackDisplay\").textContent = \"12 Requests (avoid monopoly)\";\r\n      else $(\"winTrackDisplay\").textContent = \"Final Year 4000 verdict\";\r\n    }\r\n  }\r\n  const autosaveEl = $(\"autosaveIndicator\");\r\n  if (autosaveEl) {\r\n    const autosave = state.meta.autoSave || { enabled: true, minutes: 2 };\r\n    const interval = Number.isFinite(autosave.minutes) ? autosave.minutes : 2;\r\n    const statusText = autosave.enabled ? \"Autosave ON\" : \"Autosave OFF\";\r\n    const timestamp = formatAutosaveTimestamp(autosave.lastSavedAt);\r\n    autosaveEl.textContent = `${statusText}  Last run ${timestamp}  Interval ${interval} min`;\r\n    autosaveEl.classList.remove(\"hidden\");\r\n  }\r\n  renderFocusEraStatus();\r\n}\r\n\r\nfunction getCreatePendingCounts() {\r\n  const counts = { sheet: 0, demo: 0 };\r\n  if (!Array.isArray(state.tracks)) return { ...counts, total: 0 };\r\n  state.tracks.forEach((track) => {\r\n    if (!track) return;\r\n    const stageIndex = Number(track.stageIndex);\r\n    if (!Number.isFinite(stageIndex)) return;\r\n    if (stageIndex === 0) counts.sheet += 1;\r\n    if (stageIndex === 1) counts.demo += 1;\r\n  });\r\n  return { ...counts, total: counts.sheet + counts.demo };\r\n}\r\n\r\nfunction getReleaseReadyCount() {\r\n  if (!Array.isArray(state.tracks)) return 0;\r\n  return state.tracks.filter((track) => track?.status === \"Ready\").length;\r\n}\r\n\r\nfunction renderNotificationsButton() {\r\n  const button = $(\"notificationsBtn\");\r\n  if (!button) return;\r\n  const badge = button.querySelector(\"[data-notification-total]\");\r\n  const createCounts = getCreatePendingCounts();\r\n  const releaseCount = getReleaseReadyCount();\r\n  const total = createCounts.total + releaseCount;\r\n  const target = releaseCount > 0 ? \"release\" : (createCounts.total > 0 ? \"create\" : \"\");\r\n  const titleParts = [];\r\n\r\n  if (releaseCount > 0) titleParts.push(`${formatCount(releaseCount)} ready`);\r\n  if (createCounts.total > 0) {\r\n    titleParts.push(`${formatCount(createCounts.total)} pending (${createCounts.sheet} sheet, ${createCounts.demo} demo)`);\r\n  }\r\n\r\n  if (badge) {\r\n    badge.textContent = formatCount(total);\r\n    badge.classList.toggle(\"is-hidden\", total <= 0);\r\n  }\r\n\r\n  button.classList.toggle(\"has-notifications\", total > 0);\r\n  if (target) {\r\n    button.dataset.notificationTarget = target;\r\n  } else {\r\n    delete button.dataset.notificationTarget;\r\n  }\r\n  if (titleParts.length) {\r\n    const detail = titleParts.join(\" | \");\r\n    button.setAttribute(\"aria-label\", `Alerts: ${detail}`);\r\n    button.setAttribute(\"title\", detail);\r\n  } else {\r\n    button.setAttribute(\"aria-label\", \"Alerts\");\r\n    button.setAttribute(\"title\", \"Alerts\");\r\n  }\r\n}\r\n\r\nfunction buildLabelRankingMeta() {\r\n  const fallbackSinceAt = Number.isFinite(state.time?.startEpochMs)\r\n    ? state.time.startEpochMs\r\n    : (Number.isFinite(state.time?.epochMs) ? state.time.epochMs : Date.now());\r\n  const metaByLabel = new Map();\r\n  const ensure = (label) => {\r\n    if (!label) return null;\r\n    const key = String(label);\r\n    if (!metaByLabel.has(key)) metaByLabel.set(key, { sinceAt: fallbackSinceAt });\r\n    return metaByLabel.get(key);\r\n  };\r\n  const addBaseMeta = (label, { country = null, cash = null } = {}) => {\r\n    const meta = ensure(label);\r\n    if (!meta) return;\r\n    if (country) meta.country = country;\r\n    if (Number.isFinite(cash)) meta.cash = cash;\r\n  };\r\n  addBaseMeta(state.label?.name, {\r\n    country: state.label?.country,\r\n    cash: state.label?.wallet?.cash ?? state.label?.cash\r\n  });\r\n  if (Array.isArray(state.rivals)) {\r\n    state.rivals.forEach((rival) => {\r\n      addBaseMeta(rival?.name, {\r\n        country: rival?.country,\r\n        cash: rival?.wallet?.cash ?? rival?.cash\r\n      });\r\n    });\r\n  }\r\n  if (Array.isArray(state.marketTracks)) {\r\n    state.marketTracks.forEach((entry) => {\r\n      const meta = ensure(entry?.label);\r\n      if (!meta) return;\r\n      const releasedAt = Number.isFinite(entry?.releasedAt) ? entry.releasedAt : null;\r\n      if (releasedAt && releasedAt < meta.sinceAt) meta.sinceAt = releasedAt;\r\n      if (!meta.country && entry?.country) meta.country = entry.country;\r\n    });\r\n  }\r\n  return { metaByLabel, fallbackSinceAt };\r\n}\r\n\r\nfunction buildLabelUsageByName() {\r\n  const usageByLabel = new Map();\r\n  if (!Array.isArray(state.marketTracks)) return usageByLabel;\r\n  state.marketTracks.forEach((entry) => {\r\n    if (!entry) return;\r\n    const label = String(entry.label || \"\").trim();\r\n    if (!label) return;\r\n    const theme = entry.theme || themeFromGenre(entry.genre);\r\n    const mood = entry.mood || moodFromGenre(entry.genre);\r\n    const current = usageByLabel.get(label) || { total: 0, themes: {}, moods: {} };\r\n    current.total += 1;\r\n    if (theme) current.themes[theme] = (current.themes[theme] || 0) + 1;\r\n    if (mood) current.moods[mood] = (current.moods[mood] || 0) + 1;\r\n    usageByLabel.set(label, current);\r\n  });\r\n  return usageByLabel;\r\n}\r\n\r\nfunction pickTopUsage(counts) {\r\n  const entries = Object.entries(counts || {});\r\n  if (!entries.length) return null;\r\n  entries.sort((a, b) => {\r\n    const diff = b[1] - a[1];\r\n    if (diff !== 0) return diff;\r\n    return String(a[0]).localeCompare(String(b[0]));\r\n  });\r\n  return { value: entries[0][0], count: entries[0][1] };\r\n}\r\n\r\nfunction getLabelUsageSummary(labelName, usageByLabel) {\r\n  if (!usageByLabel) {\r\n    return { total: 0, theme: null, themeCount: 0, mood: null, moodCount: 0 };\r\n  }\r\n  const key = String(labelName || \"\").trim();\r\n  const usage = usageByLabel.get(key) || { total: 0, themes: {}, moods: {} };\r\n  const themeTop = pickTopUsage(usage.themes);\r\n  const moodTop = pickTopUsage(usage.moods);\r\n  return {\r\n    total: usage.total || 0,\r\n    theme: themeTop?.value || null,\r\n    themeCount: themeTop?.count || 0,\r\n    mood: moodTop?.value || null,\r\n    moodCount: moodTop?.count || 0\r\n  };\r\n}\r\n\r\nfunction renderLabelUsageColumn(labelName, usageByLabel) {\r\n  const usage = getLabelUsageSummary(labelName, usageByLabel);\r\n  if (!usage.total) {\r\n    return `\r\n      <div class=\"label-rank-usage\">\r\n        <div class=\"muted\">Top Theme / Mood</div>\r\n        <div class=\"label-usage-empty muted\">No releases yet</div>\r\n      </div>\r\n    `;\r\n  }\r\n  const alignment = labelName === state.label?.name\r\n    ? state.label?.alignment\r\n    : getRivalByName(labelName)?.alignment;\r\n  const themeTag = usage.theme ? renderThemeTag(usage.theme) : `<span class=\"muted\">-</span>`;\r\n  const moodTag = usage.mood ? renderMoodTag(usage.mood, alignment) : `<span class=\"muted\">-</span>`;\r\n  return `\r\n    <div class=\"label-rank-usage\">\r\n      <div class=\"muted\">Top Theme / Mood</div>\r\n      <div class=\"label-usage-tags\">\r\n        ${themeTag}\r\n        ${moodTag}\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction getLabelRankingStatus(points, meta) {\r\n  if (points > 0) return null;\r\n  const cash = meta?.cash;\r\n  if (Number.isFinite(cash) && cash <= 0) return \"bankrupted\";\r\n  return \"inactive\";\r\n}\r\n\r\nfunction buildLabelRankingList({ limit = null, showMore = false, showUsage = false } = {}) {\r\n  const fullRanking = getLabelRanking();\r\n  const { metaByLabel, fallbackSinceAt } = buildLabelRankingMeta();\r\n  const usageByLabel = showUsage ? buildLabelUsageByName() : null;\r\n  const visible = typeof limit === \"number\" ? fullRanking.slice(0, limit) : fullRanking;\r\n  if (!visible.length) {\r\n    return { markup: `<div class=\"muted\">No labels yet.</div>`, visibleCount: 0, totalCount: fullRanking.length };\r\n  }\r\n  const list = visible.map((row, index) => {\r\n    const labelName = row[0];\r\n    const points = row[1];\r\n    const meta = metaByLabel.get(labelName) || { sinceAt: fallbackSinceAt };\r\n    const sinceAt = Number.isFinite(meta.sinceAt) ? meta.sinceAt : fallbackSinceAt;\r\n    const status = getLabelRankingStatus(points, meta);\r\n    const statusLabel = status === \"bankrupted\" ? \"Bankrupted\" : \"Inactive\";\r\n    const statusMarkup = status ? `<span class=\"label-status label-status--${status}\">${statusLabel}</span>` : \"\";\r\n    const country = meta.country || getRivalByName(labelName)?.country || state.label.country;\r\n    const moreAction = showMore && index === 0\r\n      ? `<button type=\"button\" class=\"ghost mini\" data-ranking-more=\"labels\">More</button>`\r\n      : \"\";\r\n    const usageMarkup = showUsage ? renderLabelUsageColumn(labelName, usageByLabel) : \"\";\r\n    const rowClass = showUsage ? \"list-row label-ranking-row\" : \"list-row\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"${rowClass}\">\r\n          <div class=\"label-rank\">\r\n            <div class=\"item-title\">#${index + 1} ${renderLabelTag(labelName, country)}</div>\r\n            <div class=\"label-rank-meta\">\r\n              <span class=\"muted\">Since ${formatShortDate(sinceAt)}</span>\r\n              ${statusMarkup}\r\n            </div>\r\n          </div>\r\n          ${usageMarkup}\r\n          <div class=\"ranking-actions\">\r\n            <span class=\"muted\">${formatCount(points)} pts</span>\r\n            ${moreAction}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  return { markup: list.join(\"\"), visibleCount: visible.length, totalCount: fullRanking.length };\r\n}\r\n\r\nfunction renderCommunityLabels() {\r\n  const listEl = $(\"topLabelsWorldList\");\r\n  if (!listEl) return;\r\n  const limit = getCommunityLabelRankingLimit();\r\n  const { markup, visibleCount, totalCount } = buildLabelRankingList({ limit, showMore: true });\r\n  listEl.innerHTML = markup;\r\n  const meta = $(\"labelRankingMeta\");\r\n  if (meta) {\r\n    if (!totalCount) {\r\n      meta.textContent = \"No labels ranked yet.\";\r\n    } else if (visibleCount >= totalCount) {\r\n      meta.textContent = `Showing ${formatCount(totalCount)} labels.`;\r\n    } else {\r\n      meta.textContent = `Showing Top ${formatCount(visibleCount)} of ${formatCount(totalCount)} labels.`;\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderTopBar() {\r\n  const ranking = getLabelRanking(3);\r\n  const labelsMarkup = ranking.length\r\n    ? ranking.map((row, index) => `\r\n        <div class=\"top-mini-item\">\r\n          <span>${index + 1}. ${renderLabelTag(row[0], (getRivalByName(row[0])?.country || state.label.country))}</span>\r\n          <span class=\"muted\">${formatCount(row[1])} pts</span>\r\n        </div>\r\n      `).join(\"\")\r\n    : `<div class=\"muted\">No labels yet</div>`;\r\n  const { visible: rankedTrends } = collectTrendRanking();\r\n  const trendRanking = rankedTrends.length ? rankedTrends : (state.trends || []);\r\n  const trendsMarkup = trendRanking.length\r\n    ? trendRanking.slice(0, TREND_DETAIL_COUNT).map((trend, index) => `\r\n        <div class=\"top-mini-item\">\r\n          <span>${index + 1}. ${renderGenrePillsFromGenre(trend)}</span>\r\n        </div>\r\n      `).join(\"\")\r\n    : `<div class=\"muted\">No trends yet</div>`;\r\n  const headerList = $(\"topLabelsHeaderList\");\r\n  if (headerList) headerList.innerHTML = labelsMarkup;\r\n  const trendsList = $(\"topTrendsHeaderList\");\r\n  if (trendsList) trendsList.innerHTML = trendsMarkup;\r\n  const labelsMoreBtn = $(\"topLabelsMoreBtn\");\r\n  if (labelsMoreBtn) labelsMoreBtn.disabled = !ranking.length;\r\n  const trendsMoreBtn = $(\"topTrendsMoreBtn\");\r\n  if (trendsMoreBtn) trendsMoreBtn.disabled = !trendRanking.length;\r\n  const rankingWindow = $(\"rankingWindow\");\r\n  if (rankingWindow && !rankingWindow.classList.contains(\"hidden\")) {\r\n    const category = rankingWindow.dataset.category || \"labels\";\r\n    renderRankingWindow(category);\r\n  }\r\n  const topActNameEl = $(\"topActName\");\r\n  if (topActNameEl) {\r\n    const topAct = getTopActSnapshot();\r\n    topActNameEl.innerHTML = topAct ? `Top Act: ${renderActName(topAct)}` : \"Top Act: -\";\r\n    $(\"topActPortrait\").textContent = topAct ? topAct.initials : \"RLS\";\r\n    $(\"topActPortrait\").style.background = topAct ? topAct.color : \"\";\r\n    $(\"topActPortrait\").style.color = topAct ? topAct.textColor : \"\";\r\n  }\r\n}\r\n\r\nfunction buildChartPulsePromoEntries({ startAt, endAt, scopeType, scopeTarget }) {\r\n  const entries = [];\r\n  const scopeNation = scopeType === \"global\"\r\n    ? null\r\n    : scopeType === \"nation\"\r\n      ? scopeTarget\r\n      : REGION_DEFS.find((region) => region.id === scopeTarget)?.nation || null;\r\n  const allowCountry = (country) => !scopeNation || country === scopeNation;\r\n  const labelName = state.label?.name || \"Label\";\r\n  const labelCountry = state.label?.country || \"Annglora\";\r\n\r\n  if (Array.isArray(state.scheduledEvents) && allowCountry(labelCountry)) {\r\n    state.scheduledEvents.forEach((entry) => {\r\n      if (entry.status === \"Cancelled\") return;\r\n      if (!Number.isFinite(entry.scheduledAt)) return;\r\n      if (entry.scheduledAt < startAt || entry.scheduledAt >= endAt) return;\r\n      const details = PROMO_TYPE_DETAILS[entry.actionType];\r\n      if (!details) return;\r\n      const track = entry.contentId ? getTrack(entry.contentId) : null;\r\n      const act = entry.actId ? getAct(entry.actId) : track ? getAct(track.actId) : null;\r\n      entries.push({\r\n        id: entry.id,\r\n        ts: entry.scheduledAt,\r\n        title: track ? track.title : details.label,\r\n        actName: act ? act.name : \"Unknown\",\r\n        actNameKey: act?.nameKey || null,\r\n        label: labelName,\r\n        typeLabel: details.label,\r\n        impact: details.cost\r\n      });\r\n    });\r\n  }\r\n\r\n  if (Array.isArray(state.rivalReleaseQueue)) {\r\n    state.rivalReleaseQueue.forEach((entry) => {\r\n      if ((entry.queueType || \"release\") !== \"promo\") return;\r\n      if (!Number.isFinite(entry.releaseAt)) return;\r\n      if (entry.releaseAt < startAt || entry.releaseAt >= endAt) return;\r\n      const details = PROMO_TYPE_DETAILS[entry.promoType];\r\n      if (!details) return;\r\n      const rival = getRivalByName(entry.label);\r\n      const rivalCountry = rival?.country || entry.country || labelCountry;\r\n      if (!allowCountry(rivalCountry)) return;\r\n      entries.push({\r\n        id: entry.id,\r\n        ts: entry.releaseAt,\r\n        title: entry.title || details.label,\r\n        actName: entry.actName || \"Promotion\",\r\n        actNameKey: entry.actNameKey || null,\r\n        label: entry.label || \"Rival\",\r\n        typeLabel: details.label,\r\n        impact: details.cost\r\n      });\r\n    });\r\n  }\r\n\r\n  return entries\r\n    .sort((a, b) => b.impact - a.impact || a.ts - b.ts)\r\n    .slice(0, 5)\r\n    .map((entry, index) => ({ ...entry, rank: index + 1 }));\r\n}\r\n\r\nconst DASHBOARD_FOCUS_PANELS = [\"charts\", \"quests\", \"requests\", \"eras\"];\r\n\r\nfunction normalizeDashboardFocusPanel(value) {\r\n  return DASHBOARD_FOCUS_PANELS.includes(value) ? value : \"charts\";\r\n}\r\n\r\nfunction renderDashboardFocusPanels() {\r\n  const tabs = $(\"dashboardFocusTabs\");\r\n  const panels = typeof document === \"undefined\"\r\n    ? []\r\n    : Array.from(document.querySelectorAll(\"[data-dashboard-focus-panel]\"));\r\n  if (!tabs && !panels.length) return;\r\n  const active = normalizeDashboardFocusPanel(state.ui.dashboardFocusPanel);\r\n  if (state.ui.dashboardFocusPanel !== active) {\r\n    state.ui.dashboardFocusPanel = active;\r\n  }\r\n  if (tabs) {\r\n    tabs.querySelectorAll(\".tab\").forEach((tab) => {\r\n      const isActive = tab.dataset.dashboardFocus === active;\r\n      tab.classList.toggle(\"active\", isActive);\r\n      tab.setAttribute(\"aria-pressed\", String(isActive));\r\n    });\r\n  }\r\n  panels.forEach((panel) => {\r\n    const isActive = panel.dataset.dashboardFocusPanel === active;\r\n    panel.classList.toggle(\"is-active\", isActive);\r\n    panel.setAttribute(\"aria-hidden\", String(!isActive));\r\n  });\r\n  const chartControls = document.querySelector(\".chart-pulse-controls\");\r\n  if (chartControls) {\r\n    const showControls = active === \"charts\";\r\n    chartControls.classList.toggle(\"charts-active\", showControls);\r\n    chartControls.setAttribute(\"aria-hidden\", String(!showControls));\r\n  }\r\n}\r\n\r\nfunction computeLabelShare(entries, size, labelName) {\r\n  if (!Array.isArray(entries) || !labelName || !Number.isFinite(size) || size <= 0) return null;\r\n  let count = 0;\r\n  entries.forEach((entry) => {\r\n    if (resolveChartEntryLabel(entry) === labelName) count += 1;\r\n  });\r\n  if (!count) return null;\r\n  return { share: count / size, count, size };\r\n}\r\n\r\nfunction formatMonopolyScopeLabel(scope, type) {\r\n  const typeLabel = type === \"promotions\" ? \"Promotions\" : type === \"tours\" ? \"Tours\" : \"Tracks\";\r\n  if (!scope || scope === \"global\") return `Global ${typeLabel}`;\r\n  if (Array.isArray(NATIONS) && NATIONS.includes(scope)) {\r\n    return `${scope} ${typeLabel}`;\r\n  }\r\n  if (Array.isArray(REGION_DEFS)) {\r\n    const region = REGION_DEFS.find((entry) => entry.id === scope);\r\n    if (region && region.label) return `${region.label} ${typeLabel}`;\r\n  }\r\n  return `${scope} ${typeLabel}`;\r\n}\r\n\r\nfunction buildMonopolyChecks() {\r\n  const chartSizes = typeof CHART_SIZES === \"object\" && CHART_SIZES\r\n    ? CHART_SIZES\r\n    : { global: 200, nation: 100, region: 40 };\r\n  const checks = [];\r\n  const push = ({ entries, size, scope, type }) => {\r\n    if (!Array.isArray(entries) || !Number.isFinite(size) || size <= 0) return;\r\n    checks.push({ entries, size, scope, type });\r\n  };\r\n  push({ entries: state.charts?.global || [], size: chartSizes.global, scope: \"global\", type: \"tracks\" });\r\n  (Array.isArray(NATIONS) ? NATIONS : []).forEach((nation) => {\r\n    push({ entries: state.charts?.nations?.[nation] || [], size: chartSizes.nation, scope: nation, type: \"tracks\" });\r\n  });\r\n  (Array.isArray(REGION_DEFS) ? REGION_DEFS : []).forEach((region) => {\r\n    push({ entries: state.charts?.regions?.[region.id] || [], size: chartSizes.region, scope: region.id, type: \"tracks\" });\r\n  });\r\n  push({ entries: state.promoCharts?.global || [], size: chartSizes.global, scope: \"global\", type: \"promotions\" });\r\n  (Array.isArray(NATIONS) ? NATIONS : []).forEach((nation) => {\r\n    push({ entries: state.promoCharts?.nations?.[nation] || [], size: chartSizes.nation, scope: nation, type: \"promotions\" });\r\n  });\r\n  (Array.isArray(REGION_DEFS) ? REGION_DEFS : []).forEach((region) => {\r\n    push({ entries: state.promoCharts?.regions?.[region.id] || [], size: chartSizes.region, scope: region.id, type: \"promotions\" });\r\n  });\r\n  push({ entries: state.tourCharts?.global || [], size: chartSizes.global, scope: \"global\", type: \"tours\" });\r\n  (Array.isArray(NATIONS) ? NATIONS : []).forEach((nation) => {\r\n    push({ entries: state.tourCharts?.nations?.[nation] || [], size: chartSizes.nation, scope: nation, type: \"tours\" });\r\n  });\r\n  (Array.isArray(REGION_DEFS) ? REGION_DEFS : []).forEach((region) => {\r\n    push({ entries: state.tourCharts?.regions?.[region.id] || [], size: chartSizes.region, scope: region.id, type: \"tours\" });\r\n  });\r\n  return checks;\r\n}\r\n\r\nfunction resolveMonopolyRisk() {\r\n  const labelName = state.label?.name || \"\";\r\n  if (!labelName) return null;\r\n  const checks = buildMonopolyChecks();\r\n  const shares = checks\r\n    .map((check) => {\r\n      const share = computeLabelShare(check.entries, check.size, labelName);\r\n      if (!share) return null;\r\n      return {\r\n        ...share,\r\n        scope: check.scope,\r\n        type: check.type,\r\n        label: formatMonopolyScopeLabel(check.scope, check.type)\r\n      };\r\n    })\r\n    .filter(Boolean)\r\n    .sort((a, b) => b.share - a.share);\r\n  return shares[0] || null;\r\n}\r\n\r\nfunction maybeWarnMonopolyRisk(share, label) {\r\n  if (!label || !Number.isFinite(share)) return;\r\n  const threshold = Number.isFinite(MONOPOLY_SHARE) ? MONOPOLY_SHARE : 0.6;\r\n  if (!Number.isFinite(threshold) || threshold <= 0) return;\r\n  const warningThreshold = threshold * 0.85;\r\n  const resetThreshold = Math.max(0, warningThreshold - (threshold * 0.05));\r\n  if (!state.ui) state.ui = {};\r\n  if (share >= warningThreshold) {\r\n    if (!state.ui.monopolyWarningActive) {\r\n      state.ui.monopolyWarningActive = true;\r\n      showToast(\r\n        \"You are at risk of Monopoly Loss.\",\r\n        `Your label controls ${Math.round(share * 100)}% of ${label}.`,\r\n        { tone: \"warn\" }\r\n      );\r\n    }\r\n  } else if (state.ui.monopolyWarningActive && share < resetThreshold) {\r\n    state.ui.monopolyWarningActive = false;\r\n  }\r\n}\r\n\r\nfunction updateMonopolyRiskIndicator() {\r\n  const panel = $(\"monopolyRiskPanel\");\r\n  if (!panel) return;\r\n  const statusEl = $(\"monopolyRiskStatus\");\r\n  const meter = $(\"monopolyRiskMeter\");\r\n  const note = $(\"monopolyRiskNote\");\r\n  const threshold = Number.isFinite(MONOPOLY_SHARE) ? MONOPOLY_SHARE : 0.6;\r\n  const thresholdPct = Math.round(threshold * 100);\r\n  const best = resolveMonopolyRisk();\r\n  if (!best) {\r\n    if (statusEl) statusEl.textContent = `0% / ${thresholdPct}%`;\r\n    if (meter) meter.style.width = \"0%\";\r\n    if (note) note.textContent = `Threshold ${thresholdPct}%`;\r\n    maybeWarnMonopolyRisk(0, \"\");\r\n    return;\r\n  }\r\n  const sharePct = Math.round(best.share * 100);\r\n  if (statusEl) statusEl.textContent = `${sharePct}% / ${thresholdPct}% (${best.label})`;\r\n  if (meter) meter.style.width = `${Math.min(100, sharePct)}%`;\r\n  if (note) note.textContent = `Threshold ${thresholdPct}% (${best.label})`;\r\n  maybeWarnMonopolyRisk(best.share, best.label);\r\n}\r\n\r\nfunction formatAudienceHour(hour) {\r\n  if (!Number.isFinite(hour)) return \"--\";\r\n  return `${String(Math.round(hour)).padStart(2, \"0\")}:00`;\r\n}\r\n\r\nfunction formatAudienceActiveHours(chunk) {\r\n  const hours = chunk?.activeHours || null;\r\n  const label = hours?.label || chunk?.timeProfile || \"Active\";\r\n  const start = Number.isFinite(hours?.startHour) ? formatAudienceHour(hours.startHour) : null;\r\n  const end = Number.isFinite(hours?.endHour) ? formatAudienceHour(hours.endHour) : null;\r\n  if (start && end) return `${label} ${start}-${end}`;\r\n  return label;\r\n}\r\n\r\nfunction renderAudienceChunks({ listId, metaId, limit = 8 } = {}) {\r\n  const listEl = $(listId || \"dashboardAudienceList\");\r\n  if (!listEl) return;\r\n  const metaEl = $(metaId || \"dashboardAudienceMeta\");\r\n  const snapshot = getAudienceChunksSnapshot();\r\n  const chunks = Array.isArray(snapshot?.chunks) ? snapshot.chunks : [];\r\n  const year = Number.isFinite(snapshot?.lastUpdateYear) ? snapshot.lastUpdateYear : currentYear();\r\n  if (metaEl) {\r\n    const updated = Number.isFinite(snapshot?.lastUpdateAt) ? formatShortDate(snapshot.lastUpdateAt) : null;\r\n    metaEl.textContent = updated\r\n      ? `${formatCount(chunks.length)} chunks | Year ${year} | Updated ${updated}`\r\n      : `${formatCount(chunks.length)} chunks | Year ${year}`;\r\n  }\r\n  if (!chunks.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No audience chunks yet.</div>`;\r\n    return;\r\n  }\r\n  const ordered = chunks\r\n    .slice()\r\n    .sort((a, b) => (a.nation || \"\").localeCompare(b.nation || \"\") || (b.age || 0) - (a.age || 0));\r\n  const display = ordered.slice(0, limit);\r\n  listEl.innerHTML = display.map((chunk) => {\r\n    const community = formatGenreKeyLabel(chunk.communityId || \"\");\r\n    const age = Number.isFinite(chunk.age) ? `Age ${chunk.age}` : \"Age -\";\r\n    const ageGroup = chunk.ageGroup ? `(${chunk.ageGroup})` : \"\";\r\n    const generation = chunk.generation ? `Gen ${chunk.generation}` : \"Gen -\";\r\n    const budget = Number.isFinite(chunk.weeklyBudget) ? `${formatMoney(chunk.weeklyBudget)}/wk` : \"-\";\r\n    const engagement = Number.isFinite(chunk.engagementRate) ? `${Math.round(chunk.engagementRate * 100)}%` : \"-\";\r\n    const hours = Number.isFinite(chunk.weeklyHours) ? `${chunk.weeklyHours}h/wk` : \"-\";\r\n    const life = chunk.lifeExpectancy?.label || \"-\";\r\n    const repro = Number.isFinite(chunk.reproductionRate) ? chunk.reproductionRate : \"-\";\r\n    const emigrate = Number.isFinite(chunk.emigrationRate) ? `${Math.round(chunk.emigrationRate * 100)}%` : \"-\";\r\n    const themes = Array.isArray(chunk.prefThemes) && chunk.prefThemes.length ? chunk.prefThemes.join(\", \") : \"-\";\r\n    const moods = Array.isArray(chunk.prefMoods) && chunk.prefMoods.length ? chunk.prefMoods.join(\", \") : \"-\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">${community}</div>\r\n        <div class=\"muted\">${chunk.nation || \"Unknown\"} | ${age} ${ageGroup} | ${generation}</div>\r\n        <div class=\"muted\">Budget (int.) ${budget} | Engage ${engagement} | Time ${hours} | ${formatAudienceActiveHours(chunk)}</div>\r\n        <div class=\"tiny muted\">Life ${life} | Repro ${repro} | Emigrate ${emigrate}</div>\r\n        <div class=\"tiny muted\">Prefs: Themes ${themes} | Moods ${moods}</div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderDashboard() {\r\n  const statsEl = $(\"dashboardStats\");\r\n  if (!statsEl) return;\r\n  renderAchievements();\r\n  renderDashboardFocusPanels();\r\n  updateMonopolyRiskIndicator();\r\n  const weekLabel = $(\"dashboardWeekLabel\");\r\n  if (weekLabel) weekLabel.textContent = formatWeekRangeLabel(weekIndex() + 1);\r\n  const dateLabel = $(\"dashboardDateLabel\");\r\n  if (dateLabel) dateLabel.textContent = formatDate(state.time.epochMs);\r\n\r\n  const activeTracks = state.tracks.filter((track) => !isTrackReleaseReleased(track, { includeShelved: true }));\n  const releasedTracks = state.tracks.filter((track) => isTrackReleaseReleased(track, { includeShelved: true }));\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const focusEra = getFocusedEra();\r\n  const studioCounts = getStudioUsageCounts();\r\n  const ownedSlots = getOwnedStudioSlots();\r\n  const totalSlots = ownedSlots + studioCounts.leased;\r\n  const topTrend = getTopTrendGenre() || \"-\";\r\n  const topAct = getTopActSnapshot();\r\n\r\n  const stats = [\r\n    { label: \"Cash\", value: formatMoney(state.label.cash), detail: `Weekly ${formatMoney(state.economy.lastRevenue || 0)}` },\r\n    { label: \"Active Tracks\", value: formatCount(activeTracks.length), detail: `Released ${formatCount(releasedTracks.length)}` },\r\n    { label: \"Creators\", value: formatCount(state.creators.length), detail: `Acts ${formatCount(state.acts.length)}` },\r\n    { label: \"Studios\", value: `${studioCounts.total}/${totalSlots}`, detail: `Owned ${ownedSlots}` },\r\n    { label: \"Active Eras\", value: formatCount(activeEras.length), detail: focusEra ? `Focus ${focusEra.name}` : \"No focus era\" },\r\n    { label: \"Top Trend\", value: topTrend, detail: topAct ? `Top Act ${topAct.name}` : \"Top Act -\" }\r\n  ];\r\n  statsEl.innerHTML = stats.map((stat) => `\r\n    <div class=\"dashboard-stat\">\r\n      <div class=\"stat-label\">${stat.label}</div>\r\n      <div class=\"stat-value\">${stat.value}</div>\r\n      <div class=\"tiny muted\">${stat.detail}</div>\r\n    </div>\r\n  `).join(\"\");\r\n\r\n  const workOrdersEl = $(\"dashboardWorkOrders\");\r\n  if (workOrdersEl) {\r\n    const activeOrders = state.workOrders.filter((order) => order.status === \"In Progress\");\r\n    if (!activeOrders.length) {\r\n      workOrdersEl.innerHTML = `<div class=\"muted\">No active work orders.</div>`;\r\n    } else {\r\n      const now = state.time.epochMs;\r\n      const list = activeOrders\r\n        .slice(0, 5)\r\n        .map((order) => {\r\n          const track = getTrack(order.trackId);\r\n          const crewIds = getWorkOrderCreatorIds(order);\r\n          const crew = crewIds.map((id) => getCreator(id)).filter(Boolean);\r\n          const crewLabel = buildWorkOrderCrewLabel(crew);\r\n          const stage = STAGES[order.stageIndex];\r\n          const hoursLeft = Math.max(0, Math.ceil((order.endAt - now) / HOUR_MS));\r\n          const crewLine = `${stage?.name || \"Stage\"} | ${crewLabel.primary}`;\r\n          const crewDetail = crewLabel.secondary ? `<div class=\"muted\">${crewLabel.secondary}</div>` : \"\";\r\n          return `\r\n            <div class=\"list-item\">\r\n              <div class=\"list-row\">\r\n                <div>\r\n                  <div class=\"item-title\">${track ? renderTrackTitle(track.title) : \"Unknown\"}</div>\r\n                  <div class=\"muted\">${crewLine}</div>\r\n                  ${crewDetail}\r\n                </div>\r\n                <div class=\"pill\">${hoursLeft}h</div>\r\n              </div>\r\n            </div>\r\n          `;\r\n        });\r\n      workOrdersEl.innerHTML = list.join(\"\");\r\n    }\r\n  }\r\n\r\n  const queueEl = $(\"dashboardReleaseQueue\");\r\n  if (queueEl) {\r\n    if (!state.releaseQueue.length) {\r\n      queueEl.innerHTML = `<div class=\"muted\">No releases scheduled.</div>`;\r\n    } else {\r\n      const list = state.releaseQueue\r\n        .slice()\r\n        .sort((a, b) => (a.releaseAt || 0) - (b.releaseAt || 0))\r\n        .slice(0, 5)\r\n        .map((entry) => {\r\n          const track = getTrack(entry.trackId);\r\n          const date = entry.releaseAt ? formatDate(entry.releaseAt) : \"TBD\";\r\n          const distribution = entry.rush ? \"Digital Rush\" : (entry.distribution || entry.note || \"Digital\");\r\n          return `\r\n            <div class=\"list-item\">\r\n              <div class=\"list-row\">\r\n                <div>\r\n                  <div class=\"item-title\">${track ? renderTrackTitle(track.title) : \"Unknown\"}</div>\r\n                  <div class=\"muted\">${date} | ${distribution}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          `;\r\n        });\r\n      queueEl.innerHTML = list.join(\"\");\r\n    }\r\n  }\r\n\r\n  const chartsEl = $(\"dashboardChartsList\");\r\n  if (chartsEl) {\r\n    const scopeTabs = $(\"chartPulseScopeTabs\");\r\n    const contentTabs = $(\"chartPulseContentTabs\");\r\n    const targetSelect = $(\"chartPulseTarget\");\r\n    const targetLabel = $(\"chartPulseTargetLabel\");\r\n    const metaEl = $(\"chartPulseMeta\");\r\n    const contentType = state.ui.chartPulseContentType || \"tracks\";\r\n    const scopeType = state.ui.chartPulseScopeType || \"global\";\r\n    let scopeTarget = state.ui.chartPulseScopeTarget || \"global\";\r\n\r\n    if (contentTabs) {\r\n      contentTabs.querySelectorAll(\".tab\").forEach((btn) => {\r\n        btn.classList.toggle(\"active\", btn.dataset.chartPulseContent === contentType);\r\n      });\r\n    }\r\n    if (scopeTabs) {\r\n      scopeTabs.querySelectorAll(\".tab\").forEach((btn) => {\r\n        btn.classList.toggle(\"active\", btn.dataset.chartPulseScope === scopeType);\r\n      });\r\n    }\r\n\r\n    if (scopeType === \"global\") {\r\n      scopeTarget = \"global\";\r\n      state.ui.chartPulseScopeTarget = scopeTarget;\r\n      if (targetLabel) targetLabel.textContent = \"Global\";\r\n      if (targetSelect) {\r\n        targetSelect.disabled = true;\r\n        targetSelect.innerHTML = `<option value=\"global\">Global</option>`;\r\n        targetSelect.value = \"global\";\r\n      }\r\n    } else if (scopeType === \"nation\") {\r\n      const nations = Array.isArray(NATIONS) ? NATIONS : [];\r\n      const labelNation = nations.includes(state.label?.country) ? state.label.country : nations[0];\r\n      if (!nations.includes(scopeTarget)) scopeTarget = labelNation || \"\";\r\n      state.ui.chartPulseScopeTarget = scopeTarget;\r\n      if (targetLabel) targetLabel.textContent = \"Nation\";\r\n      if (targetSelect) {\r\n        targetSelect.disabled = false;\r\n        targetSelect.innerHTML = nations.map((nation) => `<option value=\"${nation}\">${nation}</option>`).join(\"\");\r\n        targetSelect.value = scopeTarget;\r\n      }\r\n    } else {\r\n      const regions = Array.isArray(REGION_DEFS) ? REGION_DEFS : [];\r\n      const regionIds = regions.map((region) => region.id);\r\n      const labelRegion = regions.find((region) => region.nation === state.label?.country)?.id;\r\n      if (!regionIds.includes(scopeTarget)) scopeTarget = labelRegion || regionIds[0] || \"\";\r\n      state.ui.chartPulseScopeTarget = scopeTarget;\r\n      if (targetLabel) targetLabel.textContent = \"Region\";\r\n      if (targetSelect) {\r\n        targetSelect.disabled = false;\r\n        targetSelect.innerHTML = regions.map((region) => `<option value=\"${region.id}\">${region.label}</option>`).join(\"\");\r\n        targetSelect.value = scopeTarget;\r\n      }\r\n    }\r\n\r\n    const scopeKey = scopeType === \"global\" ? \"global\" : scopeTarget;\r\n    const scopeLabel = chartScopeLabel(scopeKey);\r\n    const slotMs = DAY_MS / 4;\r\n    const slotCount = 6;\r\n    const slots = Array.from({ length: slotCount }).map((_, index) => {\r\n      const offsetHours = index * 6;\r\n      const slotStart = state.time.epochMs + index * slotMs;\r\n      const slotEnd = slotStart + slotMs;\r\n      let entries = [];\r\n\r\n      if (contentType === \"promos\") {\r\n        entries = buildChartPulsePromoEntries({\r\n          startAt: slotStart,\r\n          endAt: slotEnd,\r\n          scopeType,\r\n          scopeTarget\r\n        });\r\n      } else {\r\n        const projected = computeChartProjectionForScope({\r\n          targetEpochMs: slotStart,\r\n          scopeType,\r\n          scopeTarget,\r\n          limit: contentType === \"tracks\" ? 5 : null\r\n        });\r\n        entries = contentType === \"projects\"\r\n          ? collectProjectChartEntries(projected).slice(0, 5)\r\n          : projected.slice(0, 5);\r\n      }\r\n\r\n      return { offsetHours, slotStart, entries };\r\n    });\r\n\r\n    chartsEl.innerHTML = slots.map((slot) => {\r\n      const label = slot.offsetHours === 0 ? \"Now\" : `+${slot.offsetHours}h`;\r\n      const timeLabel = formatDate(slot.slotStart);\r\n      const emptyLabel = contentType === \"promos\"\r\n        ? \"No promo events in this window.\"\r\n        : \"No projected entries yet.\";\r\n      let entryMarkup = \"\";\r\n      if (!slot.entries.length) {\r\n        entryMarkup = `<div class=\"muted\">${emptyLabel}</div>`;\r\n      } else if (contentType === \"promos\") {\r\n        entryMarkup = slot.entries.map((entry) => `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">#${entry.rank} ${renderTrackTitle(entry.title)}</div>\r\n                <div class=\"muted\">${entry.typeLabel} | ${renderActName(entry) || \"-\"} | ${entry.label}</div>\r\n              </div>\r\n              <div class=\"pill\">${formatMoney(entry.impact)}</div>\r\n            </div>\r\n          </div>\r\n        `).join(\"\");\r\n      } else if (contentType === \"projects\") {\r\n        entryMarkup = slot.entries.map((entry) => `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">#${entry.rank} ${renderProjectName(entry.projectName)}</div>\r\n                <div class=\"muted\">${entry.projectType} | ${renderActName(entry) || \"-\"} | ${entry.label || \"-\"}</div>\r\n              </div>\r\n              <div class=\"pill\">${formatCount(entry.score)}</div>\r\n            </div>\r\n          </div>\r\n        `).join(\"\");\r\n      } else {\r\n        entryMarkup = slot.entries.map((entry) => {\r\n          const track = entry.track || entry;\r\n          return `\r\n            <div class=\"list-item\">\r\n              <div class=\"list-row\">\r\n                <div>\r\n                  <div class=\"item-title\">#${entry.rank} ${track?.title ? renderTrackTitle(track.title) : \"Unknown Track\"}</div>\r\n                  <div class=\"muted\">${track?.label || \"Unknown\"} | ${renderTrackGenrePills(track, { fallback: \"Genre -\" })}</div>\r\n                </div>\r\n                <div class=\"pill\">${formatCount(entry.score)}</div>\r\n              </div>\r\n            </div>\r\n          `;\r\n        }).join(\"\");\r\n      }\r\n\r\n      return `\r\n        <div class=\"chart-pulse-slot\">\r\n          <div class=\"slot-head\">\r\n            <div>\r\n              <div class=\"slot-label\">${label}</div>\r\n              <div class=\"tiny muted\">${timeLabel}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"list\">\r\n            ${entryMarkup}\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n\r\n    if (metaEl) {\r\n      const contentLabel = contentType === \"projects\" ? \"Projects\" : contentType === \"promos\" ? \"Promos\" : \"Tracks\";\r\n      metaEl.textContent = contentType === \"promos\"\r\n        ? `Promo feed in 6h windows  ${scopeLabel}.`\r\n        : `Projected Top 5 every 6h  ${scopeLabel}  ${contentLabel}.`;\r\n    }\r\n  }\r\n\r\n  const eraList = $(\"dashboardEraList\");\r\n  if (eraList) {\r\n    if (!activeEras.length) {\r\n      eraList.innerHTML = `<div class=\"muted\">No active eras.</div>`;\r\n    } else {\r\n      eraList.innerHTML = activeEras.map((era) => {\r\n        const stageName = ERA_STAGES[era.stageIndex] || \"Active\";\r\n        const stageWeeks = era.rolloutWeeks || ROLLOUT_PRESETS[1].weeks;\r\n        const stageTotal = stageWeeks[era.stageIndex] || 0;\r\n        const weeksElapsed = Number.isFinite(era.weeksElapsed) ? era.weeksElapsed : 0;\r\n        const startWeek = Number.isFinite(era.startedWeek) ? era.startedWeek : weekIndex() + 1;\r\n        const currentWeek = startWeek + Math.max(0, weeksElapsed);\r\n        const weekLabel = formatWeekRangeLabel(currentWeek);\r\n        return `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">${era.name}</div>\r\n                <div class=\"muted\">${stageName} | ${weekLabel}</div>\r\n                <div class=\"tiny muted\">Stage progress ${era.stageWeek}/${stageTotal}</div>\r\n              </div>\r\n              ${focusEra && focusEra.id === era.id ? `<span class=\"pill\">Focus</span>` : \"\"}\r\n            </div>\r\n          </div>\r\n        `;\r\n      }).join(\"\");\r\n    }\r\n  }\r\n\r\n  renderQuests();\r\n  renderRivalAchievementRace();\r\n}\r\n\r\nfunction renderPopulation() {\r\n  if (!$(\"populationList\")) return;\r\n  const snapshot = computePopulationSnapshot();\r\n  const stageLabel = snapshot.stage || \"Campaign Era\";\r\n  const list = [\r\n    `\r\n      <div class=\"list-item\">\r\n          <div class=\"list-row\">\r\n          <div>\r\n          <div class=\"item-title\">Gaia Population</div>\r\n          <div class=\"muted\">${stageLabel} - updates yearly</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(snapshot.total)}</div>\r\n        </div>\r\n      </div>\r\n    `\r\n  ];\r\n  if (Array.isArray(snapshot.ageGroups) && snapshot.ageGroups.length) {\r\n    const ageLine = snapshot.ageGroups.map((group) => {\r\n      const count = Number.isFinite(group.count) ? group.count : 0;\r\n      const share = Number.isFinite(group.share)\r\n        ? group.share\r\n        : (snapshot.total ? count / snapshot.total : 0);\r\n      const pct = Math.round(share * 100);\r\n      return `${group.label}: ${formatCount(count)} (${pct}%)`;\r\n    }).join(\" | \");\r\n    list.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Audience Age Split</div>\r\n        <div class=\"muted\">${ageLine}</div>\r\n      </div>\r\n    `);\r\n  }\r\n  snapshot.nations.forEach((nation) => {\r\n    list.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${nation.nation}</div>\r\n            <div class=\"muted\">Capital ${formatCount(nation.capital)} | Elsewhere ${formatCount(nation.elsewhere)}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(nation.total)}</div>\r\n        </div>\r\n      </div>\r\n    `);\r\n  });\r\n  $(\"populationList\").innerHTML = list.join(\"\");\r\n}\r\n\r\nfunction renderRoleActions() {\r\n  const listEl = $(\"roleActionsList\");\r\n  if (!listEl) return;\r\n  const badgeFor = (status) => {\r\n    const meta = ROLE_ACTION_STATUS[status] || ROLE_ACTION_STATUS.placeholder;\r\n    return `<span class=\"${meta.className}\">${meta.label}</span>`;\r\n  };\r\n  const renderAction = (action) => {\r\n    const label = action.label ? `${action.label}${action.priority ? ` (Priority ${action.priority})` : \"\"}: ` : \"\";\r\n    return `\r\n      <div class=\"list-row\">\r\n        <div class=\"muted\">${label}${action.verb} - ${action.detail}</div>\r\n        ${badgeFor(action.status)}\r\n      </div>\r\n    `;\r\n  };\r\n  listEl.innerHTML = ROLE_ACTIONS.map((group) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">${group.role}</div>\r\n      ${group.occupations.map((occupation) => `\r\n        <div class=\"muted\">${occupation.name}${occupation.note ? ` - ${occupation.note}` : \"\"}</div>\r\n        ${occupation.actions.map(renderAction).join(\"\")}\r\n      `).join(\"\")}\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction renderTutorialEconomy() {\r\n  const listEl = $(\"tutorialEconomyList\");\r\n  const tuningEl = $(\"tutorialEconomyTuning\");\r\n  const noticeEl = $(\"tutorialCheaterNotice\");\r\n  if (!listEl || !tuningEl) return;\r\n\r\n  const safeNumber = (value, fallback) => (Number.isFinite(value) ? value : fallback);\r\n  const cheaterActive = Boolean(state.meta?.cheaterMode);\r\n  if (noticeEl) {\r\n    noticeEl.textContent = cheaterActive\r\n      ? \"Cheater mode active. Achievements and tasks are disabled while active.\"\r\n      : \"Enable Cheater Mode in Settings to edit economy tuning.\";\r\n  }\r\n\r\n  const revenueRate = safeNumber(ECONOMY_TUNING?.revenuePerChartPoint, 22);\r\n  const upkeepPerCreator = safeNumber(ECONOMY_TUNING?.upkeepPerCreator, 150);\r\n  const upkeepPerStudio = safeNumber(ECONOMY_TUNING?.upkeepPerOwnedStudio, 600);\r\n  const promoStep = safeNumber(ECONOMY_TUNING?.promoWeekBudgetStep, 1200);\r\n  const promoBase = safeNumber(ECONOMY_TUNING?.promoWeekBase, 1);\r\n  const promoMin = safeNumber(ECONOMY_TUNING?.promoWeeksMin, 1);\r\n  const promoMax = safeNumber(ECONOMY_TUNING?.promoWeeksMax, 4);\r\n  const releaseFee = safeNumber(ECONOMY_BASELINES?.physicalReleaseFee, 0);\r\n  const baseSingle = safeNumber(ECONOMY_BASELINES?.physicalSingle, 4.99);\r\n  const unitRatio = safeNumber(ECONOMY_BASELINES?.physicalUnitCostRatio, 0.35);\r\n  const unitCostMin = safeNumber(ECONOMY_TUNING?.physicalUnitCostMin, 0.5);\r\n  const runMin = safeNumber(ECONOMY_BASELINES?.physicalRunMin, 200);\r\n  const runMax = safeNumber(ECONOMY_BASELINES?.physicalRunMax, 25000);\r\n  const runRound = safeNumber(ECONOMY_BASELINES?.physicalRunRound, 50);\r\n  const multSingle = safeNumber(ECONOMY_PRICE_MULTIPLIERS?.single, 1);\r\n  const multEp = safeNumber(ECONOMY_PRICE_MULTIPLIERS?.ep, 1.55);\r\n  const multAlbum = safeNumber(ECONOMY_PRICE_MULTIPLIERS?.album, 2.25);\r\n\r\n  const ratioLabel = `${Math.round(unitRatio * 100)}%`;\r\n  listEl.innerHTML = [\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Weekly revenue</div>\r\n        <div class=\"muted\">Revenue = sum(max(0, score) * ${formatMoney(revenueRate)}) * difficulty revenue multiplier.</div>\r\n        <div class=\"tiny muted\">Each track uses the same ${formatMoney(revenueRate)} per chart score point.</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Weekly upkeep</div>\r\n        <div class=\"muted\">Upkeep = (creators * ${formatMoney(upkeepPerCreator)}) + (owned studios * ${formatMoney(upkeepPerStudio)}) + lease fees.</div>\r\n        <div class=\"tiny muted\">Final upkeep multiplies by difficulty upkeep modifier.</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Distribution fee</div>\r\n        <div class=\"muted\">Physical/Both releases charge ${formatMoney(releaseFee)} upfront; Digital releases are $0.</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Physical unit price</div>\r\n        <div class=\"muted\">Unit price = ${formatMoney(baseSingle)} * multiplier (Single ${multSingle}x, EP ${multEp}x, Album ${multAlbum}x).</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Physical unit cost</div>\r\n        <div class=\"muted\">Unit cost = max(${formatMoney(unitCostMin)}, unit price * ${ratioLabel}).</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Promo weeks from budget</div>\r\n        <div class=\"muted\">Promo weeks = clamp(floor(budget / ${formatMoney(promoStep)}) + ${formatCount(promoBase)}, ${formatCount(promoMin)} to ${formatCount(promoMax)}).</div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Physical run rounding</div>\r\n        <div class=\"muted\">Recommended units round to ${formatCount(runRound)} and clamp between ${formatCount(runMin)} and ${formatCount(runMax)} (budget caps apply).</div>\r\n      </div>\r\n    `\r\n  ].join(\"\");\r\n\r\n  const attr = (name, value) => (typeof value === \"undefined\" || value === null ? \"\" : ` ${name}=\"${value}\"`);\r\n  const formatValue = (value, format) => {\r\n    if (!Number.isFinite(value)) return \"-\";\r\n    if (format === \"money\") return formatMoney(value);\r\n    if (format === \"percent\") return `${Math.round(value * 100)}%`;\r\n    if (format === \"multiplier\") return `${value.toFixed(2)}x`;\r\n    return formatCount(value);\r\n  };\r\n  const fields = [\r\n    {\r\n      label: \"Revenue per chart score\",\r\n      detail: \"Cash per chart score point.\",\r\n      target: \"tuning\",\r\n      key: \"revenuePerChartPoint\",\r\n      value: revenueRate,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Upkeep per creator\",\r\n      detail: \"Weekly upkeep per signed creator.\",\r\n      target: \"tuning\",\r\n      key: \"upkeepPerCreator\",\r\n      value: upkeepPerCreator,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Upkeep per owned studio\",\r\n      detail: \"Weekly upkeep per owned studio slot.\",\r\n      target: \"tuning\",\r\n      key: \"upkeepPerOwnedStudio\",\r\n      value: upkeepPerStudio,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Promo budget step\",\r\n      detail: \"Budget per promo week tier.\",\r\n      target: \"tuning\",\r\n      key: \"promoWeekBudgetStep\",\r\n      value: promoStep,\r\n      min: 0,\r\n      step: 50,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Promo week base\",\r\n      detail: \"Weeks added before clamp.\",\r\n      target: \"tuning\",\r\n      key: \"promoWeekBase\",\r\n      value: promoBase,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Promo weeks min\",\r\n      detail: \"Minimum promo weeks.\",\r\n      target: \"tuning\",\r\n      key: \"promoWeeksMin\",\r\n      value: promoMin,\r\n      min: 0,\r\n      step: 1,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Promo weeks max\",\r\n      detail: \"Maximum promo weeks.\",\r\n      target: \"tuning\",\r\n      key: \"promoWeeksMax\",\r\n      value: promoMax,\r\n      min: 1,\r\n      step: 1,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Physical release fee\",\r\n      detail: \"Upfront fee for Physical/Both releases.\",\r\n      target: \"baselines\",\r\n      key: \"physicalReleaseFee\",\r\n      value: releaseFee,\r\n      min: 0,\r\n      step: 50,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Physical single base price\",\r\n      detail: \"Base single price before multipliers.\",\r\n      target: \"baselines\",\r\n      key: \"physicalSingle\",\r\n      value: baseSingle,\r\n      min: 0.01,\r\n      step: 0.01,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Single price multiplier\",\r\n      detail: \"Single price multiplier.\",\r\n      target: \"priceMultipliers\",\r\n      key: \"single\",\r\n      value: multSingle,\r\n      min: 0,\r\n      step: 0.05,\r\n      format: \"multiplier\"\r\n    },\r\n    {\r\n      label: \"EP price multiplier\",\r\n      detail: \"EP price multiplier.\",\r\n      target: \"priceMultipliers\",\r\n      key: \"ep\",\r\n      value: multEp,\r\n      min: 0,\r\n      step: 0.05,\r\n      format: \"multiplier\"\r\n    },\r\n    {\r\n      label: \"Album price multiplier\",\r\n      detail: \"Album price multiplier.\",\r\n      target: \"priceMultipliers\",\r\n      key: \"album\",\r\n      value: multAlbum,\r\n      min: 0,\r\n      step: 0.05,\r\n      format: \"multiplier\"\r\n    },\r\n    {\r\n      label: \"Physical unit cost ratio\",\r\n      detail: \"Unit cost as % of unit price.\",\r\n      target: \"baselines\",\r\n      key: \"physicalUnitCostRatio\",\r\n      value: unitRatio,\r\n      min: 0,\r\n      max: 1,\r\n      step: 0.01,\r\n      format: \"percent\"\r\n    },\r\n    {\r\n      label: \"Physical unit cost floor\",\r\n      detail: \"Minimum unit cost.\",\r\n      target: \"tuning\",\r\n      key: \"physicalUnitCostMin\",\r\n      value: unitCostMin,\r\n      min: 0,\r\n      step: 0.1,\r\n      format: \"money\"\r\n    },\r\n    {\r\n      label: \"Physical run rounding\",\r\n      detail: \"Round units to this increment.\",\r\n      target: \"baselines\",\r\n      key: \"physicalRunRound\",\r\n      value: runRound,\r\n      min: 0,\r\n      step: 10,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Physical run min\",\r\n      detail: \"Minimum recommended units.\",\r\n      target: \"baselines\",\r\n      key: \"physicalRunMin\",\r\n      value: runMin,\r\n      min: 0,\r\n      step: 10,\r\n      format: \"count\"\r\n    },\r\n    {\r\n      label: \"Physical run max\",\r\n      detail: \"Maximum recommended units.\",\r\n      target: \"baselines\",\r\n      key: \"physicalRunMax\",\r\n      value: runMax,\r\n      min: 0,\r\n      step: 100,\r\n      format: \"count\"\r\n    }\r\n  ];\r\n\r\n  tuningEl.innerHTML = fields.map((field) => {\r\n    const inputValue = Number.isFinite(field.value) ? field.value : \"\";\r\n    const display = formatValue(field.value, field.format);\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${field.label}</div>\r\n            <div class=\"muted\">${field.detail}</div>\r\n          </div>\r\n          <input\r\n            type=\"number\"\r\n            class=\"tutorial-input\"\r\n            data-cheat-econ-target=\"${field.target}\"\r\n            data-cheat-econ-key=\"${field.key}\"\r\n            value=\"${inputValue}\"\r\n            ${cheaterActive ? \"\" : \"disabled\"}\r\n            ${attr(\"min\", field.min)}\r\n            ${attr(\"max\", field.max)}\r\n            ${attr(\"step\", field.step)}\r\n          >\r\n        </div>\r\n        <div class=\"tiny muted\">Current: ${display}</div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderEconomySummary() {\r\n  if (!$(\"economySummary\")) return;\r\n  const studioMarket = getStudioMarketSnapshot();\r\n  const summary = [\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Weekly Net</div>\r\n            <div class=\"muted\">Revenue ${formatMoney(state.economy.lastRevenue)} | Upkeep ${formatMoney(state.economy.lastUpkeep)}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatMoney(state.economy.lastRevenue - state.economy.lastUpkeep)}</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Studio Availability</div>\r\n            <div class=\"muted\">eyeriS ${formatCount(studioMarket.available)} | Rivals ${formatCount(studioMarket.rivals)} | You ${formatCount(studioMarket.player)}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(studioMarket.total)} total</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Baseline Prices</div>\r\n            <div class=\"muted\">Digital Single ${formatMoney(ECONOMY_BASELINES.digitalSingle)} | Physical Single ${formatMoney(ECONOMY_BASELINES.physicalSingle)}</div>\r\n          </div>\r\n          <div class=\"pill\">2025</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Studio Lease</div>\r\n            <div class=\"muted\">${formatMoney(ECONOMY_BASELINES.studioLease4y)} every 4 years | Build ${formatMoney(ECONOMY_BASELINES.studioBuildCost)}</div>\r\n          </div>\r\n          <div class=\"pill\">eyeriS</div>\r\n        </div>\r\n      </div>\r\n    `\r\n  ];\r\n  $(\"economySummary\").innerHTML = summary.join(\"\");\r\n}\r\n\r\nfunction renderActiveCampaigns() {\r\n  const listEl = $(\"activeCampaignList\");\r\n  if (!listEl) return;\r\n  const activeTracks = state.marketTracks.filter((entry) => entry.isPlayer && entry.promoWeeks > 0);\r\n  const activeActs = state.acts.filter((act) => act.promoWeeks > 0);\r\n  if (!activeTracks.length && !activeActs.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No active promo pushes.</div>`;\r\n    return;\r\n  }\r\n  const items = [\r\n    ...activeTracks.map((entry) => {\r\n      const track = entry.trackId ? getTrack(entry.trackId) : null;\r\n      const title = track ? track.title : entry.title;\r\n      const genreLabel = track\r\n        ? renderTrackGenrePills(track)\r\n        : renderGenrePillsFromGenre(entry.genre, { alignment: entry.alignment });\r\n      return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${renderTrackTitle(title)}</div>\r\n            <div class=\"muted\">${genreLabel}</div>\r\n          </div>\r\n          <div class=\"pill\">${entry.promoWeeks}w</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n    }),\r\n    ...activeActs.map((act) => `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${renderActName(act)}</div>\r\n            <div class=\"muted\">Act promo${act.alignment ? ` | ${renderAlignmentTag(act.alignment)}` : \"\"}</div>\r\n          </div>\r\n          <div class=\"pill\">${act.promoWeeks}w</div>\r\n        </div>\r\n      </div>\r\n    `)\r\n  ];\r\n  listEl.innerHTML = items.join(\"\");\r\n}\r\n\r\nfunction renderPromoAlerts() {\r\n  const listEl = $(\"promoAlertsList\");\r\n  if (!listEl) return;\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const focusEra = getFocusedEra();\r\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\r\n  const displayEra = focusEra || fallbackEra;\r\n  if (!displayEra) {\r\n    listEl.innerHTML = `<div class=\"muted\">No active era promo alerts.</div>`;\r\n    return;\r\n  }\r\n  const act = getAct(displayEra.actId);\r\n  const actLabel = act ? renderActName(act) : \"\";\r\n  const stageName = ERA_STAGES[displayEra.stageIndex] || \"Active\";\r\n  const eraLabel = `${displayEra.name}${actLabel ? ` (${actLabel})` : \"\"} | ${stageName}`;\n  const now = state.time.epochMs;\n  const tracks = state.tracks.filter((track) => track.eraId === displayEra.id)\n    .filter((track) => isTrackReleaseReleased(track) || isTrackReleaseScheduled(track));\n  const trackAlerts = tracks.map((track) => {\n    const used = track.promo?.typesUsed || {};\n    const missing = PROMO_TRACK_REQUIRED_TYPES.filter((typeId) => {\n      if (typeId === \"musicVideo\" && !isTrackReleaseReleased(track)) return false;\n      const count = Number.isFinite(used[typeId]) ? used[typeId] : 0;\n      if (count > 0) return false;\n      if (typeId === \"musicVideo\" && track.promo?.musicVideoUsed) return false;\n      return true;\n    });\n    if (!missing.length) return null;\r\n    return { track, missing };\r\n  }).filter(Boolean);\r\n  const actAlerts = [];\r\n  if (act) {\r\n    const referenceAt = Number.isFinite(act.lastPromoAt) ? act.lastPromoAt : displayEra.startedAt;\r\n    if (Number.isFinite(referenceAt)) {\r\n      const weeksSince = Math.floor(Math.max(0, now - referenceAt) / (DAY_MS * 7));\r\n      if (weeksSince >= ACT_PROMO_WARNING_WEEKS) {\r\n        actAlerts.push({ act, referenceAt, weeksSince });\r\n      }\r\n    }\r\n  }\r\n  const blocks = [\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Focus Era</div>\r\n        <div class=\"muted\">${eraLabel}</div>\r\n      </div>\r\n    `\r\n  ];\r\n  if (!actAlerts.length && !trackAlerts.length) {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">No promo alerts</div>\r\n        <div class=\"muted\">Active-era content has current promo coverage.</div>\r\n      </div>\r\n    `);\r\n    listEl.innerHTML = blocks.join(\"\");\r\n    return;\r\n  }\r\n  actAlerts.forEach((entry) => {\r\n    const alignmentLine = entry.act.alignment ? ` | ${renderAlignmentTag(entry.act.alignment)}` : \"\";\r\n    const lastPromoLabel = formatShortDate(entry.referenceAt);\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${renderActName(entry.act)}</div>\r\n            <div class=\"muted\">Last promo ${lastPromoLabel} (${entry.weeksSince}w ago)${alignmentLine}</div>\r\n            <div class=\"muted\">Warning: no promo activity in ${ACT_PROMO_WARNING_WEEKS} weeks.</div>\r\n          </div>\r\n          <span class=\"badge warn\">Stale act</span>\r\n        </div>\r\n      </div>\r\n    `);\r\n  });\r\n  trackAlerts.forEach(({ track, missing }) => {\n    const missingLabels = missing.map((typeId) => PROMO_TYPE_DETAILS[typeId]?.label || typeId).join(\", \");\n    const act = track.actId ? getAct(track.actId) : null;\n    const actLabel = act ? renderActName(act) : \"Unassigned\";\n    const releaseLabel = track.releasedAt ? ` | Released ${formatShortDate(track.releasedAt)}` : \"\";\n    const releaseStatusLabel = getTrackReleaseStatusLabel(getTrackReleaseStatus(track));\n    blocks.push(`\n      <div class=\"list-item\">\n        <div class=\"list-row\">\n          <div>\n            <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\n            <div class=\"muted\">Missing promo: ${missingLabels}</div>\n            <div class=\"muted\">Act: ${actLabel} | Status: ${releaseStatusLabel}${releaseLabel}</div>\n          </div>\n          <span class=\"badge warn\">Promo gap</span>\n        </div>\n      </div>\n    `);\r\n  });\r\n  listEl.innerHTML = blocks.join(\"\");\r\n}\r\n\r\nasync function updateSaveStatusPanel(root) {\r\n  const scope = root || document;\r\n  const lastLabel = scope.querySelector(\"#saveLastLabel\");\r\n  const targetLabel = scope.querySelector(\"#saveTargetLabel\");\r\n  const targetDetail = scope.querySelector(\"#saveTargetDetail\");\r\n  const autoLabel = scope.querySelector(\"#saveAutoLabel\");\r\n  const autoLast = scope.querySelector(\"#saveAutoLastLabel\");\r\n  const savedAt = state.meta?.savedAt;\r\n  if (lastLabel) {\r\n    lastLabel.textContent = savedAt ? `Last saved: ${formatDate(savedAt)}` : \"Last saved: Never\";\r\n  }\r\n  const autoSave = state.meta?.autoSave;\r\n  if (autoLabel) {\r\n    const minutes = Number.isFinite(autoSave?.minutes) ? autoSave.minutes : 2;\r\n    autoLabel.textContent = `Auto-save interval: ${minutes} min`;\r\n  }\r\n  if (autoLast) {\r\n    const lastAuto = autoSave?.lastSavedAt;\r\n    autoLast.textContent = lastAuto ? `Last auto save: ${formatDate(lastAuto)}` : \"Last auto save: Pending\";\r\n  }\r\n  if (targetLabel) targetLabel.textContent = \"Save target: Local storage\";\r\n  if (targetDetail) targetDetail.textContent = \"External storage not configured.\";\r\n  if (typeof window === \"undefined\") return;\r\n  try {\r\n    const status = await getExternalStorageStatus();\r\n    if (status?.supported === false) {\r\n      if (targetDetail) targetDetail.textContent = \"External storage not supported in this browser.\";\r\n    } else if (status?.status === \"ready\") {\r\n      if (targetLabel) targetLabel.textContent = `Save target: ${status.name || \"External folder\"}`;\r\n      if (targetDetail) targetDetail.textContent = \"External storage ready.\";\r\n    } else if (status?.status === \"not-set\") {\r\n      if (targetDetail) targetDetail.textContent = \"External folder not selected.\";\r\n    } else if (status?.status) {\r\n      if (targetDetail) targetDetail.textContent = `External storage permission: ${status.status}.`;\r\n    }\r\n  } catch {\r\n    if (targetDetail) targetDetail.textContent = \"Unable to read external storage status.\";\r\n  }\r\n}\r\n\r\nfunction renderAwardPerformanceBidControls(shows) {\r\n  const showSelect = $(\"awardBidShowSelect\");\r\n  const slotSelect = $(\"awardBidSlotSelect\");\r\n  const actSelect = $(\"awardBidActSelect\");\r\n  const trackSelect = $(\"awardBidTrackSelect\");\r\n  const amountInput = $(\"awardBidAmountInput\");\r\n  const hintEl = $(\"awardBidHint\");\r\n  const submitBtn = $(\"awardBidSubmitBtn\");\r\n  if (!showSelect || !slotSelect || !actSelect || !trackSelect || !amountInput) return;\r\n  if (!state.ui) state.ui = {};\r\n  const now = state.time?.epochMs || Date.now();\r\n  const list = Array.isArray(shows) ? shows : listAwardShows({ includePast: false, limit: null });\r\n  const openShows = list.filter((show) => isAwardPerformanceBidWindowOpen(show, now));\r\n  const disableControls = (message) => {\r\n    showSelect.disabled = true;\r\n    slotSelect.disabled = true;\r\n    actSelect.disabled = true;\r\n    trackSelect.disabled = true;\r\n    amountInput.disabled = true;\r\n    if (submitBtn) submitBtn.disabled = true;\r\n    showSelect.innerHTML = \"<option value=\\\"\\\">No bidding windows open</option>\";\r\n    slotSelect.innerHTML = \"<option value=\\\"\\\">Slot</option>\";\r\n    actSelect.innerHTML = \"<option value=\\\"\\\">Act</option>\";\r\n    trackSelect.innerHTML = \"<option value=\\\"\\\">Track</option>\";\r\n    if (hintEl) hintEl.textContent = message || \"Performance bids open three months before show night.\";\r\n  };\r\n  if (!openShows.length) {\r\n    disableControls(\"Performance bids open three months before show night.\");\r\n    return;\r\n  }\r\n  showSelect.disabled = false;\r\n  slotSelect.disabled = false;\r\n  actSelect.disabled = false;\r\n  trackSelect.disabled = false;\r\n  amountInput.disabled = false;\r\n  const showOptions = openShows.map((show) => {\r\n    const label = Number.isFinite(show.showAt) ? `${show.label} (${formatShortDate(show.showAt)})` : show.label;\r\n    return `<option value=\"${show.id}\">${label}</option>`;\r\n  }).join(\"\");\r\n  showSelect.innerHTML = showOptions;\r\n  const selectedShowId = openShows.some((show) => show.id === state.ui.awardBidShowId)\r\n    ? state.ui.awardBidShowId\r\n    : openShows[0].id;\r\n  state.ui.awardBidShowId = selectedShowId;\r\n  showSelect.value = selectedShowId;\r\n  const selectedShow = openShows.find((show) => show.id === selectedShowId) || openShows[0];\r\n  const bidWindow = resolveAwardShowPerformanceBidWindow(selectedShow);\r\n  const qualityRange = resolveAwardShowPerformanceQuality(selectedShow);\r\n\r\n  const slots = Array.isArray(selectedShow.performances) ? selectedShow.performances : [];\r\n  if (!slots.length) {\r\n    slotSelect.innerHTML = \"<option value=\\\"\\\">Slot</option>\";\r\n  } else {\r\n    slotSelect.innerHTML = slots.map((slot) => {\r\n      const status = slot.status === \"Booked\" ? \"Booked\" : \"Pending\";\r\n      return `<option value=\"${slot.id}\">${slot.label} (${status})</option>`;\r\n    }).join(\"\");\r\n  }\r\n  const selectedSlotId = slots.some((slot) => slot.id === state.ui.awardBidSlotId)\r\n    ? state.ui.awardBidSlotId\r\n    : slots[0]?.id || \"\";\r\n  state.ui.awardBidSlotId = selectedSlotId || null;\r\n  slotSelect.value = selectedSlotId || \"\";\r\n\r\n  const activeActs = state.acts\r\n    .map((act) => {\r\n      const era = getLatestActiveEraForAct(act.id);\r\n      if (!era || era.status !== \"Active\") return null;\r\n      return { act, era };\r\n    })\r\n    .filter(Boolean)\r\n    .sort((a, b) => String(a.act.name || \"\").localeCompare(String(b.act.name || \"\")));\r\n  if (!activeActs.length) {\r\n    actSelect.innerHTML = \"<option value=\\\"\\\">No active-era acts</option>\";\r\n    actSelect.disabled = true;\r\n    trackSelect.innerHTML = \"<option value=\\\"\\\">Track</option>\";\r\n    trackSelect.disabled = true;\r\n    if (submitBtn) submitBtn.disabled = true;\r\n    if (hintEl) {\r\n      hintEl.textContent = \"Performance bids require an act with an active era.\";\r\n    }\r\n    return;\r\n  }\r\n  actSelect.disabled = false;\r\n  actSelect.innerHTML = activeActs.map(({ act }) => `<option value=\"${act.id}\">${renderActName(act)}</option>`).join(\"\");\r\n  const selectedActId = activeActs.some(({ act }) => act.id === state.ui.awardBidActId)\r\n    ? state.ui.awardBidActId\r\n    : activeActs[0].act.id;\r\n  state.ui.awardBidActId = selectedActId;\r\n  actSelect.value = selectedActId;\r\n  const selectedActEntry = activeActs.find(({ act }) => act.id === selectedActId) || activeActs[0];\r\n  const selectedEraId = selectedActEntry?.era?.id || null;\r\n  const resolveTrackQuality = (track) => {\r\n    if (Number.isFinite(track?.qualityFinal)) return track.qualityFinal;\r\n    if (Number.isFinite(track?.quality)) return track.quality;\r\n    if (Number.isFinite(track?.qualityPotential)) return track.qualityPotential;\r\n    return null;\r\n  };\r\n  const eligibleTracks = state.tracks\r\n    .filter((track) => track.actId === selectedActId && (!selectedEraId || track.eraId === selectedEraId))\r\n    .map((track) => {\n      const quality = resolveTrackQuality(track);\n      const scheduled = state.releaseQueue.find((entry) => entry.trackId === track.id);\n      const isReleased = isTrackReleaseReleased(track);\n      const isScheduled = isTrackReleaseScheduled(track) || Boolean(scheduled);\n      const inReleaseWindow = Boolean(isReleased || isScheduled);\n      const inRange = Number.isFinite(quality)\n        && quality >= qualityRange.min\n        && quality <= qualityRange.max;\n      return {\n        track,\n        quality,\n        inReleaseWindow,\n        inRange,\n        statusLabel: getTrackReleaseStatusLabel(getTrackReleaseStatus(track))\n      };\n    })\n    .filter((entry) => entry.inReleaseWindow && entry.inRange && Number.isFinite(entry.quality));\r\n  eligibleTracks.sort((a, b) => (b.quality || 0) - (a.quality || 0));\r\n  if (!eligibleTracks.length) {\r\n    trackSelect.innerHTML = \"<option value=\\\"\\\">No eligible tracks</option>\";\r\n    trackSelect.disabled = true;\r\n    if (submitBtn) submitBtn.disabled = true;\r\n    if (hintEl) {\r\n      hintEl.textContent = `No active-era tracks meet the ${qualityRange.min}-${qualityRange.max} quality range.`;\r\n    }\r\n    return;\r\n  }\r\n  trackSelect.disabled = false;\r\n  trackSelect.innerHTML = eligibleTracks.map(({ track, quality, statusLabel }) => {\r\n    const grade = qualityGrade(quality);\r\n    return `<option value=\"${track.id}\">${renderTrackTitle(track.title)} (${statusLabel}, Q${quality} ${grade})</option>`;\r\n  }).join(\"\");\r\n  const selectedTrackId = eligibleTracks.some(({ track }) => track.id === state.ui.awardBidTrackId)\r\n    ? state.ui.awardBidTrackId\r\n    : eligibleTracks[0].track.id;\r\n  state.ui.awardBidTrackId = selectedTrackId;\r\n  trackSelect.value = selectedTrackId;\r\n\r\n  const amountValue = Number.isFinite(state.ui.awardBidAmount)\r\n    ? Math.max(0, Math.round(state.ui.awardBidAmount))\r\n    : \"\";\r\n  amountInput.value = amountValue === \"\" ? \"\" : String(amountValue);\r\n  const closeLabel = Number.isFinite(bidWindow.closeAt) ? formatShortDate(bidWindow.closeAt) : \"TBD\";\r\n  if (hintEl) {\r\n    hintEl.textContent = `Bids close ${closeLabel}. Performance quality ${qualityRange.min}-${qualityRange.max}.`;\r\n  }\r\n  const canBid = Boolean(selectedShowId && selectedSlotId && selectedActId && selectedTrackId)\r\n    && Number.isFinite(amountValue) && amountValue > 0;\r\n  if (submitBtn) submitBtn.disabled = !canBid;\r\n}\r\n\r\nfunction renderAwardsCircuit() {\r\n  const listEl = $(\"awardsCircuitList\");\r\n  const noticeEl = $(\"awardsCircuitNotice\");\r\n  if (!listEl) return;\r\n  const shows = listAwardShows({ includePast: true });\r\n  renderAwardPerformanceBidControls(shows);\r\n  if (!shows.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No award shows scheduled yet.</div>`;\r\n    if (noticeEl) {\r\n      noticeEl.textContent = \"\";\r\n      noticeEl.classList.add(\"hidden\");\r\n    }\r\n    return;\r\n  }\r\n  const now = state.time?.epochMs || Date.now();\r\n  const openShows = shows.filter((show) => isAwardPerformanceBidWindowOpen(show, now));\r\n  if (noticeEl) {\r\n    if (openShows.length) {\r\n      const openList = openShows.map((show) => {\r\n        const bidWindow = resolveAwardShowPerformanceBidWindow(show);\r\n        const closeLabel = Number.isFinite(bidWindow.closeAt)\r\n          ? formatShortDate(bidWindow.closeAt)\r\n          : \"TBD\";\r\n        return `${show.label} (closes ${closeLabel})`;\r\n      });\r\n      noticeEl.textContent = `Performance bids open: ${openList.join(\" | \")}.`;\r\n      noticeEl.classList.remove(\"hidden\");\r\n    } else {\r\n      noticeEl.textContent = \"\";\r\n      noticeEl.classList.add(\"hidden\");\r\n    }\r\n  }\r\n  const playerLabel = state.label?.name || \"\";\r\n  const items = shows.map((show) => {\r\n    const showDate = Number.isFinite(show.showAt) ? formatDate(show.showAt) : \"TBD\";\r\n    const window = show.nominationWindow || {};\r\n    const windowLabel = Number.isFinite(window.startWeek) && Number.isFinite(window.endWeek)\r\n      ? formatCompactDateRange(\r\n        weekStartEpochMs(window.startWeek),\r\n        weekStartEpochMs(window.endWeek + 1) - 1\r\n      )\r\n      : \"Nomination window TBD\";\r\n    const lockLabel = Number.isFinite(show.nominationLockAt) ? formatDate(show.nominationLockAt) : \"TBD\";\r\n    const revealLabel = Number.isFinite(show.nominationRevealAt) ? formatDate(show.nominationRevealAt) : \"TBD\";\r\n    const nomineesRevealed = show.status === \"Revealed\"\r\n      || show.status === \"Resolved\"\r\n      || (Number.isFinite(show.nominationRevealAt) && now >= show.nominationRevealAt);\r\n    const nominees = Array.isArray(show.categories)\r\n      ? show.categories.flatMap((category) => category?.nominees || [])\r\n      : [];\r\n    const nominationCount = playerLabel && nomineesRevealed\r\n      ? nominees.filter((nominee) => nominee?.label === playerLabel).length\r\n      : 0;\r\n    const winCount = playerLabel && nomineesRevealed && Array.isArray(show.categories)\r\n      ? show.categories.filter((category) => category?.winner?.label === playerLabel).length\r\n      : 0;\r\n    const playerLine = playerLabel && nomineesRevealed\r\n      ? ` | ${nominationCount} nom${nominationCount === 1 ? \"\" : \"s\"}${winCount ? `, ${winCount} win${winCount === 1 ? \"\" : \"s\"}` : \"\"}`\r\n      : \"\";\r\n    const performanceLine = Array.isArray(show.performances) && show.performances.length\r\n      ? show.performances.map((slot) => `${slot.label}: ${slot.actName || \"TBD\"}`).join(\" | \")\r\n      : \"Performance slots TBD\";\r\n    const bidWindow = resolveAwardShowPerformanceBidWindow(show);\r\n    const qualityRange = resolveAwardShowPerformanceQuality(show);\r\n    const bidLabel = Number.isFinite(bidWindow.openAt) && Number.isFinite(bidWindow.closeAt)\r\n      ? now < bidWindow.openAt\r\n        ? `Bids open ${formatShortDate(bidWindow.openAt)}`\r\n        : now < bidWindow.closeAt\r\n          ? `Bids close ${formatShortDate(bidWindow.closeAt)}`\r\n          : \"Bids closed\"\r\n      : \"Bids TBD\";\r\n    const bidDetail = `${bidLabel} | Performance quality ${qualityRange.min}-${qualityRange.max}`;\r\n    const status = show.status || \"Scheduled\";\r\n    const badgeClass = status === \"Resolved\" || status === \"Revealed\" ? \"badge\" : \"badge warn\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${show.label}</div>\r\n            <div class=\"muted\">${showDate} | ${windowLabel}</div>\r\n            <div class=\"muted\">Lock ${lockLabel} | Reveal ${revealLabel}${playerLine}</div>\r\n            <div class=\"muted\">${bidDetail}</div>\r\n            <div class=\"tiny muted\">${performanceLine}</div>\r\n          </div>\r\n          <div class=\"${badgeClass}\">${status}</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  listEl.innerHTML = items.join(\"\");\r\n}\r\n\r\nconst YEAR_END_CHART_TYPES = [\r\n  { id: \"tracks\", label: \"Tracks\" },\r\n  { id: \"projects\", label: \"Projects\" },\r\n  { id: \"promotions\", label: \"Promos\" },\r\n  { id: \"tours\", label: \"Tours\" }\r\n];\r\n\r\nfunction normalizeAwardsView(value) {\r\n  return value === \"charts\" ? \"charts\" : \"awards\";\r\n}\r\n\r\nfunction normalizeAwardsChartType(value) {\r\n  return YEAR_END_CHART_TYPES.some((entry) => entry.id === value) ? value : \"tracks\";\r\n}\r\n\r\nfunction syncAwardsYearSelect(years) {\r\n  const yearSelect = $(\"awardsYearSelect\");\r\n  if (yearSelect) {\r\n    if (!years.length) {\r\n      yearSelect.innerHTML = `<option value=\"\">No years available</option>`;\r\n      yearSelect.disabled = true;\r\n    } else {\r\n      yearSelect.disabled = false;\r\n      yearSelect.innerHTML = years.map((year) => `<option value=\"${year}\">${year}</option>`).join(\"\");\r\n    }\r\n  }\r\n  if (!years.length) {\r\n    state.ui.awardsYear = null;\r\n    return null;\r\n  }\r\n  const selectedYear = years.includes(state.ui.awardsYear) ? state.ui.awardsYear : years[0];\r\n  state.ui.awardsYear = selectedYear;\r\n  if (yearSelect) yearSelect.value = String(selectedYear);\r\n  return selectedYear;\r\n}\r\n\r\nfunction hasAnnualAwardLedgerData(entry) {\r\n  if (!entry || typeof entry !== \"object\") return false;\r\n  if (!entry.totalWeeks || entry.totalWeeks <= 0) return false;\r\n  const stores = entry.stores || {};\r\n  return [\"tracks\", \"projects\", \"promotions\", \"tours\"].some((key) => {\r\n    const store = stores[key];\r\n    return store && typeof store.candidates === \"object\" && Object.keys(store.candidates).length > 0;\r\n  });\r\n}\r\n\r\nfunction buildYearEndChartDefinitionMap() {\r\n  const definitions = typeof listAnnualAwardDefinitions === \"function\" ? listAnnualAwardDefinitions() : [];\r\n  const map = new Map();\r\n  definitions.forEach((definition) => {\r\n    if (!definition?.store || definition.metric !== \"chartPoints\") return;\r\n    map.set(definition.store, definition);\r\n  });\r\n  return map;\r\n}\r\n\r\nfunction listAnnualAwardYearsFromLedger() {\r\n  const years = Object.keys(state.meta?.annualAwardLedger?.years || {})\r\n    .map((key) => Number.parseInt(key, 10))\r\n    .filter((value) => Number.isFinite(value))\r\n    .sort((a, b) => b - a);\r\n  return years;\r\n}\r\n\r\nfunction resolveAnnualAwardsEntryForYear(year) {\r\n  if (!Number.isFinite(year)) return null;\r\n  const list = Array.isArray(state.meta?.annualAwards) ? state.meta.annualAwards : [];\r\n  return list.find((entry) => Number(entry?.year) === year) || null;\r\n}\r\n\r\nfunction buildAnnualAwardLabelLookup() {\r\n  const lookup = new Map();\r\n  ACHIEVEMENTS.forEach((entry) => {\r\n    if (!entry || !entry.id) return;\r\n    lookup.set(entry.id, entry.label || entry.id);\r\n  });\r\n  return lookup;\r\n}\r\n\r\nfunction resolveAnnualAwardLabel(id, lookup) {\r\n  if (!id) return \"Unknown category\";\r\n  return lookup?.get(id) || id;\r\n}\r\n\r\nfunction buildAnnualAwardCategoryList(yearEntry, awardsEntry, definitions) {\r\n  const list = [];\r\n  const seen = new Set();\r\n  const awards = awardsEntry?.awards && typeof awardsEntry.awards === \"object\" ? awardsEntry.awards : {};\r\n  (definitions || []).forEach((definition) => {\r\n    if (!definition?.id) return;\r\n    const store = yearEntry?.stores?.[definition.store];\r\n    const metricMap = store?.[definition.metric];\r\n    const hasMetricData = metricMap && typeof metricMap === \"object\" && Object.keys(metricMap).length > 0;\r\n    const hasCandidates = store?.candidates && typeof store.candidates === \"object\" && Object.keys(store.candidates).length > 0;\r\n    const hasAward = Boolean(awards?.[definition.id]);\r\n    if (hasMetricData || hasCandidates || hasAward) {\r\n      list.push({\r\n        id: definition.id,\r\n        definition,\r\n        hasMetricData,\r\n        hasCandidates,\r\n        hasAward\r\n      });\r\n      seen.add(definition.id);\r\n    }\r\n  });\r\n  Object.keys(awards || {}).forEach((awardId) => {\r\n    if (seen.has(awardId)) return;\r\n    list.push({\r\n      id: awardId,\r\n      definition: null,\r\n      hasMetricData: false,\r\n      hasCandidates: false,\r\n      hasAward: true\r\n    });\r\n  });\r\n  return list;\r\n}\r\n\r\nfunction resolveAnnualAwardNomineeDisplay(candidate) {\r\n  const projectName = candidate?.projectName ? renderProjectName(candidate.projectName) : \"\";\r\n  if (projectName) {\r\n    return { primary: projectName, meta: candidate?.label ? `Label: ${candidate.label}` : \"\" };\r\n  }\r\n  const title = candidate?.title || candidate?.trackTitle || \"\";\r\n  if (title) {\r\n    const renderedTitle = renderTrackTitle(title);\r\n    const actLabel = renderActName(candidate);\r\n    const metaParts = [];\r\n    if (actLabel) metaParts.push(`Act: ${actLabel}`);\r\n    if (candidate?.label) metaParts.push(`Label: ${candidate.label}`);\r\n    return { primary: renderedTitle, meta: metaParts.join(\" | \") };\r\n  }\r\n  const tourName = candidate?.tourName ? String(candidate.tourName) : \"\";\r\n  if (tourName) {\r\n    const metaParts = [];\r\n    if (candidate?.label) metaParts.push(`Label: ${candidate.label}`);\r\n    return { primary: tourName, meta: metaParts.join(\" | \") };\r\n  }\r\n  const actName = renderActName(candidate);\r\n  const metaParts = [];\r\n  if (candidate?.label) metaParts.push(`Label: ${candidate.label}`);\r\n  return { primary: actName || \"Unknown entity\", meta: metaParts.join(\" | \") };\r\n}\r\n\r\nfunction resolveAnnualAwardNomineeRevealState(year, awardsEntry) {\r\n  if (!Number.isFinite(year)) return { revealAt: null, revealed: false };\r\n  const revealAt = annualAwardNomineeRevealAt(year);\r\n  const now = state.time?.epochMs || Date.now();\r\n  const awardCount = Object.keys(awardsEntry?.awards || {}).length;\r\n  const revealed = awardCount > 0 || (Number.isFinite(revealAt) && now >= revealAt);\r\n  return { revealAt, revealed };\r\n}\r\n\r\nfunction renderAwardsViewTabs() {\r\n  const tabs = $(\"awardsViewTabs\");\r\n  const panels = tabs\r\n    ? Array.from(tabs.parentElement?.querySelectorAll(\"[data-awards-view-panel]\") || [])\r\n    : Array.from(document.querySelectorAll(\"[data-awards-view-panel]\"));\r\n  const active = normalizeAwardsView(state.ui.awardsView);\r\n  if (state.ui.awardsView !== active) state.ui.awardsView = active;\r\n  if (tabs) {\r\n    tabs.querySelectorAll(\".tab\").forEach((tab) => {\r\n      const isActive = tab.dataset.awardsView === active;\r\n      tab.classList.toggle(\"active\", isActive);\r\n    });\r\n  }\r\n  panels.forEach((panel) => {\r\n    const isActive = panel.dataset.awardsViewPanel === active;\r\n    panel.classList.toggle(\"is-active\", isActive);\r\n  });\r\n  const detailTitle = $(\"awardsDetailTitle\");\r\n  if (detailTitle) {\r\n    detailTitle.textContent = active === \"charts\" ? \"Year-End Charts\" : \"Category Detail\";\r\n  }\r\n}\r\n\r\nfunction normalizeAwardMatchValue(value) {\r\n  return String(value || \"\").trim().toLowerCase();\r\n}\r\n\r\nfunction awardWinnerMatches(nominee, winner) {\r\n  if (!nominee || !winner) return false;\r\n  if (winner.actKey && nominee.key && String(winner.actKey) === String(nominee.key)) return true;\r\n  if (winner.actId && nominee.candidate?.actId && String(winner.actId) === String(nominee.candidate.actId)) return true;\r\n  const winnerName = normalizeAwardMatchValue(winner.actName);\r\n  const nomineeName = normalizeAwardMatchValue(nominee.candidate?.actName);\r\n  if (winnerName && nomineeName && winnerName === nomineeName) {\r\n    const winnerLabel = normalizeAwardMatchValue(winner.label);\r\n    const nomineeLabel = normalizeAwardMatchValue(nominee.candidate?.label);\r\n    if (!winnerLabel || !nomineeLabel) return true;\r\n    return winnerLabel === nomineeLabel;\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction renderAnnualAwardsPanel() {\r\n  const listEl = $(\"awardsCategoryList\");\r\n  if (!listEl) return;\r\n  const emptyEl = $(\"awardsYearEmpty\");\r\n  const warningEl = $(\"awardsYearWarning\");\r\n  const years = listAnnualAwardYearsFromLedger();\r\n  const selectedYear = syncAwardsYearSelect(years);\r\n  if (!years.length || !selectedYear) {\r\n    if (emptyEl) {\r\n      emptyEl.textContent = \"No year-end awards recorded yet.\";\r\n      emptyEl.classList.remove(\"hidden\");\r\n    }\r\n    if (warningEl) warningEl.classList.add(\"hidden\");\r\n    listEl.innerHTML = \"\";\r\n    state.ui.awardsYear = null;\r\n    state.ui.awardsCategoryId = null;\r\n    return;\r\n  }\r\n  if (emptyEl) emptyEl.classList.add(\"hidden\");\r\n  const yearEntry = state.meta?.annualAwardLedger?.years?.[String(selectedYear)] || null;\r\n  const awardsEntry = resolveAnnualAwardsEntryForYear(selectedYear);\r\n  const hasLedger = Boolean(yearEntry && typeof yearEntry === \"object\"\r\n    && yearEntry.stores && typeof yearEntry.stores === \"object\");\r\n  const nomineeState = resolveAnnualAwardNomineeRevealState(selectedYear, awardsEntry);\r\n  if (warningEl) {\r\n    const warnings = [];\r\n    if (!hasLedger) warnings.push(\"Ledger data is missing for this year. Nominees may be unavailable.\");\r\n    if (!nomineeState.revealed) {\r\n      const revealLabel = Number.isFinite(nomineeState.revealAt) ? formatDate(nomineeState.revealAt) : \"TBD\";\r\n      warnings.push(`Nominees reveal ${revealLabel}.`);\r\n    }\r\n    if (warnings.length) {\r\n      warningEl.textContent = warnings.join(\" \");\r\n      warningEl.classList.remove(\"hidden\");\r\n    } else {\r\n      warningEl.classList.add(\"hidden\");\r\n    }\r\n  }\r\n  const definitions = typeof listAnnualAwardDefinitions === \"function\" ? listAnnualAwardDefinitions() : [];\r\n  const categories = buildAnnualAwardCategoryList(yearEntry, awardsEntry, definitions);\r\n  if (!categories.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No award categories available for ${selectedYear}.</div>`;\r\n    state.ui.awardsCategoryId = null;\r\n    return;\r\n  }\r\n  const selectedCategoryId = categories.some((entry) => entry.id === state.ui.awardsCategoryId)\r\n    ? state.ui.awardsCategoryId\r\n    : categories[0].id;\r\n  state.ui.awardsCategoryId = selectedCategoryId;\r\n  const labelLookup = buildAnnualAwardLabelLookup();\r\n  const awards = awardsEntry?.awards && typeof awardsEntry.awards === \"object\" ? awardsEntry.awards : {};\r\n  listEl.innerHTML = categories.map((category) => {\r\n    const label = resolveAnnualAwardLabel(category.id, labelLookup);\r\n    const isSelected = category.id === selectedCategoryId;\r\n    const definition = category.definition;\r\n    const nominees = nomineeState.revealed && definition\r\n      ? buildAnnualAwardNomineesFromLedger(definition, yearEntry)\r\n      : [];\r\n    const nomineeCount = nominees.length;\r\n    const nomineeLine = nomineeState.revealed\r\n      ? nomineeCount\r\n        ? `Nominees: ${nomineeCount}`\r\n        : \"Nominees: 0\"\r\n      : \"Nominees: TBD\";\r\n    const winnerEntry = awards?.[category.id] || null;\r\n    const winnerLabel = winnerEntry?.actName || winnerEntry?.actKey || \"TBD\";\r\n    const winnerLine = winnerEntry ? `Winner: ${winnerLabel}` : \"Winner: TBD\";\r\n    const metaLine = `${nomineeLine} | ${winnerLine}`;\r\n    return `\r\n      <div class=\"list-item awards-category ${isSelected ? \"is-selected\" : \"\"}\" data-award-category=\"${category.id}\" role=\"button\" tabindex=\"0\" aria-pressed=\"${isSelected ? \"true\" : \"false\"}\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${label}</div>\r\n            <div class=\"muted\">${metaLine}</div>\r\n          </div>\r\n          <div class=\"actions\">\r\n            <span class=\"badge\">${isSelected ? \"Selected\" : \"View\"}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderYearEndChartsPanel() {\r\n  const listEl = $(\"awardsChartList\");\r\n  if (!listEl) return;\r\n  const emptyEl = $(\"awardsChartEmpty\");\r\n  const warningEl = $(\"awardsChartWarning\");\r\n  const years = listAnnualAwardYearsFromLedger();\r\n  const selectedYear = syncAwardsYearSelect(years);\r\n  if (!years.length || !selectedYear) {\r\n    if (emptyEl) {\r\n      emptyEl.textContent = \"No year-end charts recorded yet.\";\r\n      emptyEl.classList.remove(\"hidden\");\r\n    }\r\n    if (warningEl) warningEl.classList.add(\"hidden\");\r\n    listEl.innerHTML = \"\";\r\n    state.ui.awardsYear = null;\r\n    return;\r\n  }\r\n  if (emptyEl) emptyEl.classList.add(\"hidden\");\r\n  const yearEntry = state.meta?.annualAwardLedger?.years?.[String(selectedYear)] || null;\r\n  const awardsEntry = resolveAnnualAwardsEntryForYear(selectedYear);\r\n  const nomineeState = resolveAnnualAwardNomineeRevealState(selectedYear, awardsEntry);\r\n  const hasLedger = Boolean(yearEntry && typeof yearEntry === \"object\"\r\n    && yearEntry.stores && typeof yearEntry.stores === \"object\");\r\n  const hasData = hasAnnualAwardLedgerData(yearEntry);\r\n  if (warningEl) {\r\n    const warnings = [];\r\n    if (!hasLedger) warnings.push(\"Ledger data is missing for this year. Chart leaders may be unavailable.\");\r\n    if (!nomineeState.revealed) {\r\n      const revealLabel = Number.isFinite(nomineeState.revealAt) ? formatDate(nomineeState.revealAt) : \"TBD\";\r\n      warnings.push(`Year-end charts release ${revealLabel}.`);\r\n    } else if (!hasData) {\r\n      warnings.push(\"No chart data recorded for this year yet.\");\r\n    }\r\n    if (warnings.length) {\r\n      warningEl.textContent = warnings.join(\" \");\r\n      warningEl.classList.remove(\"hidden\");\r\n    } else {\r\n      warningEl.classList.add(\"hidden\");\r\n    }\r\n  }\r\n  const chartDefinitionMap = buildYearEndChartDefinitionMap();\r\n  const selectedChartType = normalizeAwardsChartType(state.ui.awardsChartType);\r\n  state.ui.awardsChartType = selectedChartType;\r\n  const revealLabel = Number.isFinite(nomineeState.revealAt) ? formatDate(nomineeState.revealAt) : \"TBD\";\r\n  listEl.innerHTML = YEAR_END_CHART_TYPES.map((chartType) => {\r\n    const definition = chartDefinitionMap.get(chartType.id);\r\n    const nominees = nomineeState.revealed && definition && yearEntry\r\n      ? buildAnnualAwardNomineesFromLedger(definition, yearEntry)\r\n      : [];\r\n    const leader = nominees[0];\r\n    let metaLine = \"\";\r\n    if (!nomineeState.revealed) {\r\n      metaLine = `Releases ${revealLabel}`;\r\n    } else if (leader) {\r\n      const leaderName = renderActName(leader.candidate) || leader.candidate?.actName || \"Unknown Act\";\r\n      const points = formatCount(Math.round(leader.score || 0));\r\n      metaLine = `Leader: ${leaderName} | Points ${points}`;\r\n    } else {\r\n      metaLine = \"No chart leaders recorded yet.\";\r\n    }\r\n    const isSelected = chartType.id === selectedChartType;\r\n    return `\r\n      <div class=\"list-item awards-category ${isSelected ? \"is-selected\" : \"\"}\" data-award-chart=\"${chartType.id}\" role=\"button\" tabindex=\"0\" aria-pressed=\"${isSelected ? \"true\" : \"false\"}\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${chartType.label}</div>\r\n            <div class=\"muted\">${metaLine}</div>\r\n          </div>\r\n          <div class=\"actions\">\r\n            <span class=\"badge\">${isSelected ? \"Selected\" : \"View\"}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderAnnualAwardsDetail() {\r\n  const detailEl = $(\"awardsDetailBody\");\r\n  if (!detailEl) return;\r\n  const years = listAnnualAwardYearsFromLedger();\r\n  if (!years.length) {\r\n    detailEl.innerHTML = `<div class=\"muted\">No year-end awards recorded yet.</div>`;\r\n    return;\r\n  }\r\n  const year = state.ui.awardsYear;\r\n  if (!Number.isFinite(year)) {\r\n    detailEl.innerHTML = `<div class=\"muted\">Select a year to view awards.</div>`;\r\n    return;\r\n  }\r\n  const yearEntry = state.meta?.annualAwardLedger?.years?.[String(year)] || null;\r\n  const awardsEntry = resolveAnnualAwardsEntryForYear(year);\r\n  const nomineeState = resolveAnnualAwardNomineeRevealState(year, awardsEntry);\r\n  const definitions = typeof listAnnualAwardDefinitions === \"function\" ? listAnnualAwardDefinitions() : [];\r\n  const categories = buildAnnualAwardCategoryList(yearEntry, awardsEntry, definitions);\r\n  if (!categories.length) {\r\n    detailEl.innerHTML = `<div class=\"muted\">No award categories available for ${year}.</div>`;\r\n    return;\r\n  }\r\n  const category = categories.find((entry) => entry.id === state.ui.awardsCategoryId) || categories[0];\r\n  const labelLookup = buildAnnualAwardLabelLookup();\r\n  const categoryLabel = resolveAnnualAwardLabel(category.id, labelLookup);\r\n  const winnerEntry = awardsEntry?.awards && typeof awardsEntry.awards === \"object\"\r\n    ? awardsEntry.awards[category.id]\r\n    : null;\r\n  const headerLines = [];\r\n  headerLines.push(`<div class=\"item-title\">${categoryLabel}</div>`);\r\n  headerLines.push(`<div class=\"muted\">Year ${year}</div>`);\r\n  if (winnerEntry) {\r\n    const winnerName = winnerEntry.actName || winnerEntry.actKey || \"Winner\";\r\n    headerLines.push(`<div class=\"muted\">Winner: ${winnerName}</div>`);\r\n  } else {\r\n    headerLines.push(`<div class=\"muted\">Winner not available.</div>`);\r\n  }\r\n  const items = [\r\n    `\r\n      <div class=\"list-item\">\r\n        ${headerLines.join(\"\")}\r\n      </div>\r\n    `\r\n  ];\r\n  if (!nomineeState.revealed) {\r\n    const revealLabel = Number.isFinite(nomineeState.revealAt) ? formatDate(nomineeState.revealAt) : \"TBD\";\r\n    items.push(`<div class=\"muted\">Nominees reveal ${revealLabel}.</div>`);\r\n    detailEl.innerHTML = items.join(\"\");\r\n    return;\r\n  }\r\n  if (!category.definition) {\r\n    items.push(`<div class=\"muted\">Nominee data unavailable for this category.</div>`);\r\n    detailEl.innerHTML = items.join(\"\");\r\n    return;\r\n  }\r\n  const nominees = buildAnnualAwardNomineesFromLedger(category.definition, yearEntry);\r\n  const winnerIndex = winnerEntry ? nominees.findIndex((nominee) => awardWinnerMatches(nominee, winnerEntry)) : -1;\r\n  if (!nominees.length) {\r\n    items.push(`<div class=\"muted\">No nominees recorded for this category.</div>`);\r\n    detailEl.innerHTML = items.join(\"\");\r\n    return;\r\n  }\r\n  nominees.forEach((nominee, index) => {\r\n    const display = resolveAnnualAwardNomineeDisplay(nominee.candidate);\r\n    const metaLine = display.meta ? `<div class=\"muted\">${display.meta}</div>` : \"\";\r\n    const isWinner = index === winnerIndex;\r\n    items.push(`\r\n      <div class=\"list-item awards-nominee ${isWinner ? \"is-winner\" : \"\"}\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${display.primary}</div>\r\n            ${metaLine}\r\n          </div>\r\n          <div class=\"actions\">\r\n            <span class=\"badge\">#${index + 1}</span>\r\n            ${isWinner ? `<span class=\"badge\">Winner</span>` : \"\"}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `);\r\n  });\r\n  detailEl.innerHTML = items.join(\"\");\r\n}\r\n\r\nfunction renderYearEndChartsDetail() {\r\n  const detailEl = $(\"awardsDetailBody\");\r\n  if (!detailEl) return;\r\n  const years = listAnnualAwardYearsFromLedger();\r\n  if (!years.length) {\r\n    detailEl.innerHTML = `<div class=\"muted\">No year-end charts recorded yet.</div>`;\r\n    return;\r\n  }\r\n  const year = state.ui.awardsYear;\r\n  if (!Number.isFinite(year)) {\r\n    detailEl.innerHTML = `<div class=\"muted\">Select a year to view charts.</div>`;\r\n    return;\r\n  }\r\n  const yearEntry = state.meta?.annualAwardLedger?.years?.[String(year)] || null;\r\n  const awardsEntry = resolveAnnualAwardsEntryForYear(year);\r\n  const nomineeState = resolveAnnualAwardNomineeRevealState(year, awardsEntry);\r\n  const hasData = hasAnnualAwardLedgerData(yearEntry);\r\n  const chartDefinitionMap = buildYearEndChartDefinitionMap();\r\n  const chartType = normalizeAwardsChartType(state.ui.awardsChartType);\r\n  state.ui.awardsChartType = chartType;\r\n  const chartLabel = YEAR_END_CHART_TYPES.find((entry) => entry.id === chartType)?.label || \"Chart\";\r\n  const headerLines = [];\r\n  headerLines.push(`<div class=\"item-title\">Year-End ${chartLabel}</div>`);\r\n  headerLines.push(`<div class=\"muted\">Year ${year}</div>`);\r\n  if (yearEntry) {\r\n    const weeksTracked = Number.isFinite(yearEntry.totalWeeks) ? yearEntry.totalWeeks : 0;\r\n    const lastWeek = Number.isFinite(yearEntry.lastUpdateWeek) ? yearEntry.lastUpdateWeek : null;\r\n    const weekLine = weeksTracked ? `Weeks tracked ${formatCount(weeksTracked)}` : \"Weeks tracked --\";\r\n    const lastLine = lastWeek ? `Last update ${formatWeekRangeLabel(lastWeek)}` : \"Last update --\";\r\n    headerLines.push(`<div class=\"muted\">${weekLine} | ${lastLine}</div>`);\r\n  } else {\r\n    headerLines.push(`<div class=\"muted\">Ledger data unavailable.</div>`);\r\n  }\r\n  const items = [\r\n    `\r\n      <div class=\"list-item\">\r\n        ${headerLines.join(\"\")}\r\n      </div>\r\n    `\r\n  ];\r\n  if (!nomineeState.revealed) {\r\n    const revealLabel = Number.isFinite(nomineeState.revealAt) ? formatDate(nomineeState.revealAt) : \"TBD\";\r\n    items.push(`<div class=\"muted\">Year-end charts release ${revealLabel}.</div>`);\r\n    detailEl.innerHTML = items.join(\"\");\r\n    return;\r\n  }\r\n  if (yearEntry && !hasData) {\r\n    items.push(`<div class=\"muted\">No chart data recorded for ${year} yet.</div>`);\r\n    detailEl.innerHTML = items.join(\"\");\r\n    return;\r\n  }\r\n  if (!yearEntry) {\r\n    items.push(`<div class=\"muted\">No year-end chart ledger available for ${year}.</div>`);\r\n    detailEl.innerHTML = items.join(\"\");\r\n    return;\r\n  }\r\n  const definition = chartDefinitionMap.get(chartType);\r\n  const nominees = definition ? buildAnnualAwardNomineesFromLedger(definition, yearEntry) : [];\r\n  if (!nominees.length) {\r\n    items.push(`<div class=\"muted\">No chart leaders recorded yet.</div>`);\r\n    detailEl.innerHTML = items.join(\"\");\r\n    return;\r\n  }\r\n  nominees.forEach((nominee, index) => {\r\n    const actName = renderActName(nominee.candidate) || nominee.candidate?.actName || \"Unknown Act\";\r\n    const labelName = nominee.candidate?.label || \"Unknown Label\";\r\n    const labelLine = labelName ? `Label: ${labelName}` : \"Label: --\";\r\n    const leadWeek = Number.isFinite(nominee.leadWeek)\r\n      ? `First lead ${formatWeekRangeLabel(nominee.leadWeek)}`\r\n      : \"First lead --\";\r\n    const points = formatCount(Math.round(nominee.score || 0));\r\n    items.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">#${index + 1} ${actName}</div>\r\n            <div class=\"muted\">${labelLine} | ${leadWeek}</div>\r\n          </div>\r\n          <div class=\"pill\">${points} pts</div>\r\n        </div>\r\n      </div>\r\n    `);\r\n  });\r\n  detailEl.innerHTML = items.join(\"\");\r\n}\r\n\r\nfunction renderAnnualAwardsView() {\r\n  renderAwardsViewTabs();\r\n  const view = normalizeAwardsView(state.ui.awardsView);\r\n  if (view === \"charts\") {\r\n    renderYearEndChartsPanel();\r\n    renderYearEndChartsDetail();\r\n  } else {\r\n    renderAnnualAwardsPanel();\r\n    renderAnnualAwardsDetail();\r\n  }\r\n}\r\n\r\nfunction renderWallet() {\r\n  const items = [\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${state.label.name}</div>\r\n            <div class=\"muted\">Active funds</div>\r\n          </div>\r\n          <div class=\"pill\">${formatMoney(state.label.cash)}</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Last Weekly Report</div>\r\n            <div class=\"muted\">${formatWeekRangeLabel(state.economy.lastWeek || 1)}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatMoney(state.economy.lastRevenue)} / ${formatMoney(state.economy.lastUpkeep)}</div>\r\n        </div>\r\n      </div>\r\n    `,\r\n    `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">Audience Reach</div>\r\n            <div class=\"muted\">Active awareness</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(state.label.fans)}</div>\r\n        </div>\r\n      </div>\r\n    `\r\n  ];\r\n  const el = $(\"walletDetails\");\r\n  if (el) el.innerHTML = items.join(\"\");\r\n}\r\n\r\nfunction renderLossArchives() {\r\n  const target = $(\"usageLedgerList\");\r\n  if (!target) return;\r\n  const archives = loadLossArchives();\r\n  if (!archives.length) {\r\n    target.innerHTML = `<div class=\"muted\">No loss archives yet.</div>`;\r\n    return;\r\n  }\r\n  const sorted = archives.slice().sort((a, b) => (b.createdAt || 0) - (a.createdAt || 0));\r\n  target.innerHTML = sorted.map((entry) => {\r\n    const createdAt = entry.createdAt ? new Date(entry.createdAt).toLocaleString() : \"Unknown\";\r\n    const slot = entry.slot ? `Slot ${entry.slot}` : \"Slot -\";\r\n    const week = entry.week ? formatWeekRangeLabel(entry.week) : \"Date range -\";\r\n    const year = entry.year || \"-\";\r\n    const uiCount = Array.isArray(entry.uiEvents) ? entry.uiEvents.length : 0;\r\n    const simCount = Array.isArray(entry.simEvents) ? entry.simEvents.length : 0;\r\n    const label = entry.label || \"Unknown Label\";\r\n    const reason = entry.reason || \"Loss recorded.\";\r\n    const lossId = entry.id || \"\";\r\n    const gameDate = entry.gameTime ? formatDate(entry.gameTime) : \"Unknown\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${label} - Loss</div>\r\n            <div class=\"muted\">${reason}</div>\r\n            <div class=\"muted\">${slot} | ${week} | Year ${year}</div>\r\n            <div class=\"muted\">Game date ${gameDate}</div>\r\n            <div class=\"muted\">UI ${uiCount} | System ${simCount} | Archived ${createdAt}</div>\r\n          </div>\r\n          <div class=\"actions\">\r\n            <button type=\"button\" class=\"ghost mini\" data-loss-action=\"download\" data-loss-id=\"${lossId}\">Download</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderResourceTickSummary() {\r\n  const target = $(\"resourceTickSummary\");\r\n  if (!target) return;\r\n  const ledger = state.resourceTickLedger?.hours || [];\r\n  const recent = ledger.slice(-RESOURCE_TICK_LEDGER_LIMIT);\r\n  const totals = recent.reduce((sum, entry) => ({\r\n    regenTotal: sum.regenTotal + (entry.regenTotal || 0),\r\n    spendTotal: sum.spendTotal + (entry.spendTotal || 0),\r\n    overuseCount: sum.overuseCount + (entry.overuseCount || 0),\r\n    departuresFlagged: sum.departuresFlagged + (entry.departuresFlagged || 0)\r\n  }), { regenTotal: 0, spendTotal: 0, overuseCount: 0, departuresFlagged: 0 });\r\n\r\n  const dayIndex = Math.floor(state.time.epochMs / DAY_MS);\r\n  const spentToday = state.creators.map((creator) => ({\r\n    creator,\r\n    spent: getCreatorStaminaSpentToday(creator)\r\n  }));\r\n  spentToday.sort((a, b) => b.spent - a.spent);\r\n  const topSpent = spentToday.filter((entry) => entry.spent > 0).slice(0, 5);\r\n  const overuseToday = state.creators.filter((creator) => creator.lastOveruseDay === dayIndex);\r\n  const departureRisks = state.creators.filter((creator) => creator.departurePending?.reason === \"overuse\");\r\n\r\n  const blocks = [];\r\n  blocks.push(`\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">Last 24h</div>\r\n      <div class=\"muted\">Regen +${formatCount(totals.regenTotal)} | Spend -${formatCount(totals.spendTotal)}</div>\r\n      <div class=\"muted\">Overuse strikes ${formatCount(totals.overuseCount)} | Departures flagged ${formatCount(totals.departuresFlagged)}</div>\r\n    </div>\r\n  `);\r\n\r\n  if (topSpent.length) {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Top Stamina Spent (Today)</div>\r\n        ${topSpent.map((entry) => `\r\n          <div class=\"muted\">${entry.creator.name} (${roleLabel(entry.creator.role)}) - ${formatCount(entry.spent)} / ${STAMINA_OVERUSE_LIMIT}</div>\r\n        `).join(\"\")}\r\n      </div>\r\n    `);\r\n  } else {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Top Stamina Spent (Today)</div>\r\n        <div class=\"muted\">No stamina spent yet.</div>\r\n      </div>\r\n    `);\r\n  }\r\n\r\n  if (overuseToday.length) {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Overuse Strikes Today</div>\r\n        ${overuseToday.map((creator) => `\r\n          <div class=\"muted\">${creator.name} (${roleLabel(creator.role)}) - strikes ${creator.overuseStrikes}</div>\r\n        `).join(\"\")}\r\n      </div>\r\n    `);\r\n  } else {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Overuse Strikes Today</div>\r\n        <div class=\"muted\">None.</div>\r\n      </div>\r\n    `);\r\n  }\r\n\r\n  if (departureRisks.length) {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Departure Risks</div>\r\n        ${departureRisks.map((creator) => `\r\n          <div class=\"muted\">${creator.name} (${roleLabel(creator.role)}) - strikes ${creator.overuseStrikes}</div>\r\n        `).join(\"\")}\r\n      </div>\r\n    `);\r\n  } else {\r\n    blocks.push(`\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Departure Risks</div>\r\n        <div class=\"muted\">None.</div>\r\n      </div>\r\n    `);\r\n  }\r\n\r\n  target.innerHTML = blocks.join(\"\");\r\n}\r\n\r\nfunction renderQuickRecipes() {\r\n  if (!$(\"quickRecipesList\")) return;\r\n  const recipes = [\r\n    { title: \"Songwriting\", detail: \"Assign Songwriter ID + Theme to draft the sheet music.\" },\r\n    { title: \"Recording\", detail: \"Assign Recorder ID + Mood to craft the demo tone.\" },\r\n    { title: \"Production\", detail: \"Assign Producer ID to master the track quality.\" },\r\n    { title: \"Release\", detail: \"Move Ready tracks into Release Desk for scheduling.\" },\r\n    { title: \"Promo Pushes\", detail: \"Assign a Scheduled or Released Track ID to the Promo Push Slot.\" }\r\n  ];\r\n  $(\"quickRecipesList\").innerHTML = recipes.map((recipe) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">${recipe.title}</div>\r\n      <div class=\"muted\">${recipe.detail}</div>\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction renderActiveArea() {\r\n  if (!$(\"activeAreaDisplay\")) return;\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const counts = getStudioUsageCounts();\r\n  const ownedSlots = getOwnedStudioSlots();\r\n  const totalSlots = ownedSlots + counts.leased;\r\n  state.studio.inUse = counts.total;\r\n  let era = \"No active eras\";\r\n  if (activeEras.length === 1) {\r\n    const active = activeEras[0];\r\n    era = `${active.name} (${ERA_STAGES[active.stageIndex] || \"Active\"})`;\r\n  } else if (activeEras.length > 1) {\r\n    const names = activeEras.slice(0, 2).map((entry) => entry.name).join(\", \");\r\n    const extra = activeEras.length > 2 ? ` +${activeEras.length - 2}` : \"\";\r\n    era = `${activeEras.length} active (${names}${extra})`;\r\n  }\r\n  $(\"activeAreaDisplay\").innerHTML = `\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div>\r\n          <div class=\"item-title\">Studios</div>\r\n          <div class=\"muted\">${counts.total} active / ${totalSlots} total</div>\r\n        </div>\r\n        <div class=\"pill\">${totalSlots} rooms</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div>\r\n          <div class=\"item-title\">Active Era</div>\r\n          <div class=\"muted\">${era}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction renderInventory() {\n  if (!$(\"inventoryList\")) return;\n  const ready = state.tracks.filter((track) => track.status === \"Ready\" || isTrackReleaseScheduled(track));\n  if (!ready.length) {\n    $(\"inventoryList\").innerHTML = `<div class=\"muted\">No finished content yet.</div>`;\n    return;\n  }\n  $(\"inventoryList\").innerHTML = ready.map((track) => {\n    const statusLabel = isTrackReleaseScheduled(track)\n      ? getTrackReleaseStatusLabel(getTrackReleaseStatus(track))\n      : track.status;\n    return `\n    <div class=\"list-item\">\n      <div class=\"list-row\">\n        <div class=\"item-main\">\n          <div class=\"content-thumb\" aria-hidden=\"true\"></div>\n          <div>\n            <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\n            <div class=\"muted\">Item: Track \u0007 ID ${track.id}</div>\n            <div class=\"muted\">${statusLabel} \u0007 ${renderTrackGenrePills(track)}</div>\n          </div>\n        </div>\n        <div class=\"pill grade\" data-grade=\"${qualityGrade(track.quality)}\">${qualityGrade(track.quality)}</div>\n      </div>\n    </div>\n  `;\n  }).join(\"\");\n}\n\r\nfunction renderDistributionInventory() {\r\n  const listEl = $(\"distributionInventoryList\");\r\n  if (!listEl) return;\r\n  const snapshot = getDistributionSnapshot();\r\n  if (!snapshot || !snapshot.regions) {\r\n    listEl.innerHTML = `<div class=\"muted\">No distribution data yet.</div>`;\r\n    return;\r\n  }\r\n  const regions = Object.values(snapshot.regions || {});\r\n  if (!regions.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No region inventory tracked yet.</div>`;\r\n    return;\r\n  }\r\n  const global = snapshot.global || {};\r\n  const globalInventory = formatCount(global.inventory || 0);\r\n  const globalProduction = formatCount(global.production || 0);\r\n  const globalStore = formatCount(global.storeCapacity || 0);\r\n  const globalDemand = formatCount(global.lastDemand || 0);\r\n  const globalSold = formatCount(global.lastSold || 0);\r\n  const globalHtml = `\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div>\r\n          <div class=\"item-title\">Global total</div>\r\n          <div class=\"muted\">Inventory ${globalInventory} | Weekly prod ${globalProduction} | Store cap ${globalStore}</div>\r\n          <div class=\"muted\">Last week: Demand ${globalDemand} | Sold ${globalSold}</div>\r\n        </div>\r\n        <div class=\"pill\">Stock ${globalInventory}</div>\r\n      </div>\r\n    </div>\r\n  `;\r\n  const regionHtml = regions\r\n    .sort((a, b) => String(a.regionLabel || a.regionId).localeCompare(String(b.regionLabel || b.regionId)))\r\n    .map((region) => {\r\n      const inventory = formatCount(region.inventory || 0);\r\n      const production = formatCount(region.capacity?.production || 0);\r\n      const storeCap = formatCount(region.capacity?.store || 0);\r\n      const demand = formatCount(region.lastDemand || 0);\r\n      const sold = formatCount(region.lastSold || 0);\r\n      const factoryStaff = formatCount(region.staff?.factory || 0);\r\n      const shoppingStaff = formatCount(region.staff?.shopping || 0);\r\n      return `\r\n        <div class=\"list-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${region.regionLabel || region.regionId}</div>\r\n              <div class=\"muted\">Nation: ${region.nation}</div>\r\n              <div class=\"muted\">Inventory ${inventory} | Weekly prod ${production} | Store cap ${storeCap}</div>\r\n              <div class=\"muted\">Staff: Factory ${factoryStaff} | Shopping ${shoppingStaff}</div>\r\n              <div class=\"muted\">Last week: Demand ${demand} | Sold ${sold}</div>\r\n            </div>\r\n            <div class=\"pill\">Stock ${inventory}</div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    })\r\n    .join(\"\");\r\n  listEl.innerHTML = `${globalHtml}${regionHtml}`;\r\n}\r\n\r\nfunction renderModifierInventory() {\r\n  const listEl = $(\"modifierInventoryList\");\r\n  if (!listEl) return;\r\n  const items = MODIFIERS.filter((mod) => mod.id !== \"None\" && getModifierInventoryCount(mod.id) > 0);\r\n  if (!items.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No modifiers purchased yet.</div>`;\r\n    return;\r\n  }\r\n  listEl.innerHTML = items.map((modifier) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div>\r\n          <div class=\"item-title\">${modifier.label}</div>\r\n          <div class=\"muted\">${modifier.desc}</div>\r\n          ${renderModifierFocus(modifier)}\r\n          <div class=\"tiny muted\">${formatModifierDelta(modifier)}</div>\r\n        </div>\r\n        <div class=\"pill\">x${getModifierInventoryCount(modifier.id)}</div>\r\n      </div>\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction renderModifierTools() {\r\n  const listEl = $(\"communityToolsList\");\r\n  if (!listEl) return;\r\n  const inflationMultiplier = getPromoInflationMultiplier();\r\n  const inflationLabel = $(\"modifierInflationLabel\");\r\n  if (inflationLabel) inflationLabel.textContent = `Inflation x${inflationMultiplier.toFixed(2)}`;\r\n  const tools = MODIFIERS.filter((mod) => mod.id !== \"None\");\r\n  if (!tools.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No modifiers available.</div>`;\r\n    return;\r\n  }\r\n  listEl.innerHTML = tools.map((modifier) => {\r\n    const { baseCost, adjustedCost } = getModifierCosts(modifier, inflationMultiplier);\r\n    const ownedCount = getModifierInventoryCount(modifier.id);\r\n    const canAfford = state.label.cash >= adjustedCost;\r\n    const buttonLabel = `Buy ${formatMoney(adjustedCost)}${canAfford ? \"\" : \" (short)\"}`;\r\n    const buttonState = !canAfford ? \" disabled\" : \"\";\r\n    const focusLine = renderModifierFocus(modifier);\r\n    const deltaLine = `<div class=\"tiny muted\">${formatModifierDelta(modifier)}</div>`;\r\n    const priceLine = `<div class=\"tiny muted\">Base ${formatMoney(baseCost)} | Inflation-adjusted ${formatMoney(adjustedCost)}</div>`;\r\n    const ownedLine = ownedCount ? `<div class=\"tiny muted\">Owned: x${ownedCount}</div>` : \"\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${modifier.label}</div>\r\n            <div class=\"muted\">${modifier.desc}</div>\r\n            ${focusLine}\r\n            ${deltaLine}\r\n            ${priceLine}\r\n            ${ownedLine}\r\n          </div>\r\n          <button type=\"button\" class=\"ghost mini\" data-modifier-buy=\"${modifier.id}\"${buttonState}>${buttonLabel}</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderCalendarEraList(eras) {\r\n  if (!eras.length) {\r\n    return `<div class=\"muted\">No active eras on the calendar.</div>`;\r\n  }\r\n  return eras.map((era) => {\r\n    const startedLabel = Number.isFinite(era.startedWeek) ? formatWeekRangeLabel(era.startedWeek) : \"TBD\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">${era.name}</div>\r\n        <div class=\"muted\">Act: ${renderActName(era) || \"Unknown\"} | Stage: ${era.stageName}</div>\r\n        <div class=\"muted\">Started ${startedLabel} | Content: ${era.content}</div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction normalizeCalendarTab() {\r\n  if (!state.ui) state.ui = {};\r\n  const tab = state.ui.calendarTab;\r\n  if (tab !== \"label\" && tab !== \"public\") {\r\n    state.ui.calendarTab = \"label\";\r\n  }\r\n  return state.ui.calendarTab || \"label\";\r\n}\r\n\r\nfunction renderCalendarView() {\r\n  normalizeCalendarTab();\r\n  const grid = $(\"calendarGrid\");\r\n  const list = $(\"calendarList\");\r\n  const footerPanel = $(\"calendarFooterPanel\");\r\n  const rangeLabel = $(\"calendarRangeLabel\");\r\n  const projection = buildCalendarProjection({ pastWeeks: 0, futureWeeks: 3 });\r\n  if (rangeLabel) rangeLabel.textContent = projection.rangeLabel || \"\";\r\n\r\n  if (grid) {\r\n    grid.classList.remove(\"hidden\");\r\n    grid.innerHTML = CalendarView(projection);\r\n  }\r\n  if (list) list.classList.remove(\"hidden\");\r\n  if (footerPanel) {\r\n    footerPanel.classList.remove(\"hidden\");\r\n    footerPanel.classList.toggle(\"is-collapsed\", !!state.ui?.calendarFooterCollapsed);\r\n  }\r\n  const upcomingWeeks = projection.weeks.length || 1;\r\n  const upcomingProjection = buildCalendarProjection({\r\n    pastWeeks: 0,\r\n    futureWeeks: Math.max(0, upcomingWeeks - 1),\r\n    anchorWeekIndex: weekIndex() + 1\r\n  });\r\n  renderCalendarList(\"calendarList\", upcomingWeeks, upcomingProjection);\r\n}\r\n\r\nfunction formatEventTimeLabel(epochMs) {\r\n  if (!Number.isFinite(epochMs)) return \"\";\r\n  const date = new Date(epochMs);\r\n  const hours = String(date.getUTCHours()).padStart(2, \"0\");\r\n  const minutes = String(date.getUTCMinutes()).padStart(2, \"0\");\r\n  return hours === \"00\" && minutes === \"00\" ? \"\" : `${hours}:${minutes}`;\r\n}\r\n\r\nfunction renderCalendarUpcomingFooter(projection, tab) {\r\n  const daysWithEvents = [];\r\n  (projection.weeks || []).forEach((week) => {\r\n    const days = Array.isArray(week.days) ? week.days : [];\r\n    days.forEach((day) => {\r\n      if (Array.isArray(day.events) && day.events.length) daysWithEvents.push(day);\r\n    });\r\n  });\r\n\r\n  const countLabel = `${daysWithEvents.length} day${daysWithEvents.length === 1 ? \"\" : \"s\"}`;\r\n  const isCollapsed = !!state.ui?.calendarFooterCollapsed;\r\n  const toggleLabel = isCollapsed ? \"Expand\" : \"Minimize\";\r\n  const togglePressed = isCollapsed ? \"true\" : \"false\";\r\n  const header = `\r\n    <div class=\"calendar-footer-head\">\r\n      <div class=\"subhead\">Upcoming</div>\r\n      <div class=\"calendar-footer-actions\">\r\n        <div class=\"tiny muted\">${countLabel}</div>\r\n        <button type=\"button\" class=\"ghost mini\" data-calendar-footer-toggle aria-pressed=\"${togglePressed}\">${toggleLabel}</button>\r\n      </div>\r\n    </div>\r\n  `;\r\n\r\n  if (!daysWithEvents.length) {\r\n    return `${header}<div class=\"calendar-upcoming calendar-upcoming--empty\"><div class=\"muted\">No upcoming events.</div></div>`;\r\n  }\r\n\r\n  const cards = daysWithEvents.map((day) => {\r\n    const events = Array.isArray(day.events) ? day.events.slice().sort((a, b) => a.ts - b.ts) : [];\r\n    const visible = events.slice(0, 3);\r\n    const overflow = events.length - visible.length;\r\n    const dayClass = day.isPreview ? \"calendar-upcoming-day is-preview\" : \"calendar-upcoming-day\";\r\n    const items = visible.map((entry) => {\r\n      const title = entry.title || \"Untitled\";\r\n      const typeLabel = entry.typeLabel || \"Event\";\r\n      const distribution = entry.distribution || \"Digital\";\r\n      const timeLabel = formatEventTimeLabel(entry.ts);\r\n      const metaLine = timeLabel ? `${typeLabel} | ${timeLabel} | ${distribution}` : `${typeLabel} | ${distribution}`;\r\n      const actLabel = renderActName(entry) || \"Unknown\";\r\n      const labelName = entry.label || \"Label\";\r\n      const showLabel = entry.showLabel || tab === \"public\";\r\n      const labelCountry = getRivalByName(labelName)?.country || state.label.country || \"Annglora\";\r\n      const labelTag = showLabel ? renderLabelTag(labelName, labelCountry) : \"\";\r\n      const labelLine = showLabel\r\n        ? `${labelTag}<span class=\"calendar-upcoming-event-act\">${actLabel}</span>`\r\n        : `<span class=\"calendar-upcoming-event-act\">${actLabel}</span>`;\r\n      return `\r\n        <div class=\"calendar-upcoming-event\">\r\n          <div class=\"calendar-upcoming-event-title\">${title}</div>\r\n          <div class=\"calendar-upcoming-event-meta\">${metaLine}</div>\r\n          <div class=\"calendar-upcoming-event-label\">${labelLine}</div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n    const overflowHtml = overflow > 0\r\n      ? `<div class=\"calendar-upcoming-event calendar-upcoming-event--more\" data-calendar-day-more data-day-ts=\"${day.start}\" role=\"button\" tabindex=\"0\">+${overflow} more</div>`\r\n      : \"\";\r\n    return `\r\n      <div class=\"${dayClass}\" data-day-ts=\"${day.start}\">\r\n        <div class=\"calendar-upcoming-meta\">\r\n          <div class=\"calendar-upcoming-date\">\r\n            <span class=\"calendar-upcoming-dayname\">${day.dayLabel}</span>\r\n            <span class=\"calendar-upcoming-datelabel\">${day.dateLabel}</span>\r\n          </div>\r\n          <div class=\"calendar-upcoming-count\">${events.length} event${events.length === 1 ? \"\" : \"s\"}</div>\r\n        </div>\r\n        <div class=\"calendar-upcoming-events\">\r\n          ${items}\r\n          ${overflowHtml}\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n\r\n  return `${header}<div class=\"calendar-upcoming\">${cards}</div>`;\r\n}\r\n\r\nfunction formatBroadcastScope(scope) {\r\n  if (!scope) return \"Local\";\r\n  if (scope.type === \"global\") return \"Global\";\r\n  if (scope.type === \"nation\") return `${scope.id} Nation`;\r\n  if (scope.type === \"region\") return `${scope.id} Region`;\r\n  return scope.id || scope.type || \"Local\";\r\n}\r\n\r\nfunction listPromoTimeframesSafe() {\r\n  return Array.isArray(PROMO_TIMEFRAMES) ? PROMO_TIMEFRAMES : [];\r\n}\r\n\r\nfunction promoDayStartEpochMs(epochMs) {\r\n  const day = new Date(epochMs);\r\n  day.setUTCHours(0, 0, 0, 0);\r\n  return day.getTime();\r\n}\r\n\r\nfunction resolvePromoWindow(epochMs) {\r\n  const frames = listPromoTimeframesSafe();\r\n  if (!frames.length) return null;\r\n  const hour = new Date(epochMs).getUTCHours();\r\n  const dayStart = promoDayStartEpochMs(epochMs);\r\n  const current = frames.find((frame) => hour >= frame.startHour && hour < frame.endHour);\r\n  if (current) return { frame: current, dayStart, isCurrent: true };\r\n  const first = frames[0];\r\n  if (hour < first.startHour) return { frame: first, dayStart, isCurrent: false };\r\n  return { frame: first, dayStart: dayStart + DAY_MS, isCurrent: false };\r\n}\r\n\r\nfunction buildWeekSelectOptions({ selectedWeek, startWeek, count, placeholder = \"Date range\" }) {\r\n  const baseWeek = Number.isFinite(startWeek) ? startWeek : weekIndex() + 1;\r\n  const total = Math.max(1, Math.round(Number(count) || 1));\r\n  const weeks = new Set();\r\n  if (Number.isFinite(selectedWeek)) weeks.add(selectedWeek);\r\n  for (let i = 0; i < total; i += 1) {\r\n    weeks.add(baseWeek + i);\r\n  }\r\n  const options = Array.from(weeks)\r\n    .sort((a, b) => a - b)\r\n    .map((week) => `<option value=\"${week}\">${formatWeekRangeLabel(week)}</option>`)\r\n    .join(\"\");\r\n  const placeholderOption = placeholder ? `<option value=\"\">${placeholder}</option>` : \"\";\r\n  return `${placeholderOption}${options}`;\r\n}\r\n\r\nfunction renderPromoScheduleControls() {\r\n  const weekInput = $(\"promoScheduleWeek\");\r\n  const daySelect = $(\"promoScheduleDay\");\r\n  const timeframeSelect = $(\"promoScheduleTimeframe\");\r\n  if (!weekInput || !daySelect || !timeframeSelect) return;\r\n  if (!state.ui) state.ui = {};\r\n  const frames = listPromoTimeframesSafe();\r\n  const options = frames.map((frame) => `<option value=\"${frame.id}\">${frame.label}</option>`).join(\"\");\r\n  timeframeSelect.innerHTML = `<option value=\"\">Timeframe</option>${options}`;\r\n  const selectedWeek = Number.isFinite(state.ui.promoScheduleWeek)\r\n    ? Math.max(1, Math.round(state.ui.promoScheduleWeek))\r\n    : null;\r\n  const dayValue = Number.isFinite(state.ui.promoScheduleDay)\r\n    ? String(clamp(Math.round(state.ui.promoScheduleDay), 0, 6))\r\n    : \"\";\r\n  if (weekInput.tagName === \"SELECT\") {\r\n    weekInput.innerHTML = buildWeekSelectOptions({\r\n      selectedWeek,\r\n      startWeek: weekIndex() + 1,\r\n      count: 12,\r\n      placeholder: \"Date range\"\r\n    });\r\n    weekInput.value = selectedWeek ? String(selectedWeek) : \"\";\r\n  } else {\r\n    weekInput.value = selectedWeek ? String(selectedWeek) : \"\";\r\n  }\r\n  if (!daySelect.querySelector('option[value=\"\"]')) {\r\n    daySelect.insertAdjacentHTML(\"afterbegin\", \"<option value=\\\"\\\">Day</option>\");\r\n  }\r\n  daySelect.value = dayValue;\r\n  timeframeSelect.value = state.ui.promoScheduleTimeframe || \"\";\r\n}\r\n\r\nfunction getBookingTimeframeId(booking) {\r\n  if (booking?.timeframeId) return booking.timeframeId;\r\n  if (!Number.isFinite(booking?.startsAt)) return null;\r\n  const hour = new Date(booking.startsAt).getUTCHours();\r\n  const frames = listPromoTimeframesSafe();\r\n  const match = frames.find((frame) => hour >= frame.startHour && hour < frame.endHour);\r\n  return match?.id || frames[0]?.id || null;\r\n}\r\n\r\nfunction getStudioTimeframeCapacity(studio, timeframeId) {\r\n  const frames = listPromoTimeframesSafe();\r\n  const frame = frames.find((entry) => entry.id === timeframeId);\r\n  if (!frame) return 0;\r\n  const overrides = studio?.timeframeSlots;\r\n  if (overrides && typeof overrides === \"object\") {\r\n    const value = overrides[timeframeId];\r\n    if (Number.isFinite(value)) return Math.max(0, Math.floor(value));\r\n  }\r\n  return Math.max(0, Math.floor(frame.slots || 0));\r\n}\r\n\r\nfunction buildPromoTimeframeUsage(bookings, studio, dayStart, defaultStudioId) {\r\n  const frames = listPromoTimeframesSafe();\r\n  return frames.map((frame) => {\r\n    const capacity = getStudioTimeframeCapacity(studio, frame.id);\r\n    const inUse = bookings.filter((booking) => {\r\n      if (!booking) return false;\r\n      const bookingStudioId = booking.studioId || defaultStudioId;\r\n      if (studio && bookingStudioId !== studio.id) return false;\r\n      if (!Number.isFinite(booking.startsAt)) return false;\r\n      if (promoDayStartEpochMs(booking.startsAt) !== dayStart) return false;\r\n      const timeframeId = getBookingTimeframeId(booking);\r\n      return timeframeId === frame.id;\r\n    }).length;\r\n    return { frame, capacity, inUse, available: Math.max(0, capacity - inUse) };\r\n  });\r\n}\r\n\r\nfunction formatPromoTimeframeUsageLine(usage) {\r\n  if (!usage.length) return \"Slots: -\";\r\n  const segments = usage.map((entry) => `${entry.frame.label} ${formatCount(entry.inUse)}/${formatCount(entry.capacity)}`);\r\n  return `Slots: ${segments.join(\" | \")}`;\r\n}\r\n\r\nfunction renderCalendarStructuresPanel() {\r\n  const recordingList = $(\"calendarRecordingStudios\");\r\n  const broadcastList = $(\"calendarBroadcastStudios\");\r\n  const filmingList = $(\"calendarFilmingStudios\");\r\n  if (!recordingList && !broadcastList && !filmingList) return;\r\n\r\n  if (recordingList) {\r\n    const entries = buildStudioEntries().filter((entry) => entry.ownerType !== \"player\");\r\n    const grouped = new Map();\r\n    entries.forEach((entry) => {\r\n      const key = entry.ownerId || entry.ownerName || entry.id;\r\n      if (!grouped.has(key)) {\r\n        grouped.set(key, { ownerName: entry.ownerName || \"Rival\", slotCount: entry.slotCount || 0, occupied: 0 });\r\n      }\r\n      const group = grouped.get(key);\r\n      group.slotCount = Math.max(group.slotCount, entry.slotCount || 0);\r\n      if (entry.occupied) group.occupied += 1;\r\n    });\r\n    const list = Array.from(grouped.values()).sort((a, b) => a.ownerName.localeCompare(b.ownerName));\r\n    if (!list.length) {\r\n      recordingList.innerHTML = `<div class=\"muted\">No rival recording studios tracked yet.</div>`;\r\n    } else {\r\n      recordingList.innerHTML = list.map((entry) => {\r\n        const available = Math.max(0, entry.slotCount - entry.occupied);\r\n        const slotLine = `Slots: ${formatCount(entry.occupied)} in use | ${formatCount(available)} open | Cap ${formatCount(entry.slotCount)}`;\r\n        const status = available > 0 ? `${formatCount(available)} open` : \"Full\";\r\n        return `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">${entry.ownerName} Recording Studios</div>\r\n                <div class=\"muted\">${slotLine}</div>\r\n              </div>\r\n              <div class=\"pill\">${status}</div>\r\n            </div>\r\n          </div>\r\n        `;\r\n      }).join(\"\");\r\n    }\r\n  }\r\n\r\n  if (broadcastList) {\r\n    const studios = Array.isArray(BROADCAST_STUDIOS) ? BROADCAST_STUDIOS : [];\r\n    if (!studios.length) {\r\n      broadcastList.innerHTML = `<div class=\"muted\">No broadcast studios available.</div>`;\r\n    } else {\r\n      const epochMs = Number.isFinite(state.time?.epochMs) ? state.time.epochMs : Date.now();\r\n      const window = resolvePromoWindow(epochMs);\r\n      const dayIndex = new Date((window?.dayStart ?? epochMs)).getUTCDay();\r\n      const dayLabel = DAYS?.[dayIndex] || \"Day\";\r\n      const windowLabel = window ? (window.isCurrent ? window.frame.label : `Next ${window.frame.label}`) : \"\";\r\n      const bookings = state.promoFacilities?.broadcast?.bookings || [];\r\n      const dayStart = window?.dayStart ?? promoDayStartEpochMs(epochMs);\r\n      const defaultStudioId = studios[0]?.id || null;\r\n      broadcastList.innerHTML = studios.map((studio) => {\r\n        const usage = buildPromoTimeframeUsage(bookings, studio, dayStart, defaultStudioId);\r\n        const windowUsage = window ? usage.find((entry) => entry.frame.id === window.frame.id) : null;\r\n        const capacity = windowUsage?.capacity || 0;\r\n        const available = windowUsage?.available || 0;\r\n        const scopeLabel = formatBroadcastScope(studio.scope);\r\n        const meta = `${studio.owner || \"Broadcast\"} | ${scopeLabel} | ${dayLabel}${windowLabel ? ` | ${windowLabel}` : \"\"}`;\r\n        const slotLine = formatPromoTimeframeUsageLine(usage);\r\n        const status = capacity > 0 ? `${formatCount(available)} open` : \"Closed\";\r\n        return `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">${studio.label}</div>\r\n                <div class=\"muted\">${meta}</div>\r\n                <div class=\"muted\">${slotLine}</div>\r\n              </div>\r\n              <div class=\"pill\">${status}</div>\r\n            </div>\r\n          </div>\r\n        `;\r\n      }).join(\"\");\r\n    }\r\n  }\r\n\r\n  if (filmingList) {\r\n    const studios = Array.isArray(FILMING_STUDIOS) ? FILMING_STUDIOS : [];\r\n    if (!studios.length) {\r\n      filmingList.innerHTML = `<div class=\"muted\">No filming studios available.</div>`;\r\n    } else {\r\n      const epochMs = Number.isFinite(state.time?.epochMs) ? state.time.epochMs : Date.now();\r\n      const window = resolvePromoWindow(epochMs);\r\n      const dayIndex = new Date((window?.dayStart ?? epochMs)).getUTCDay();\r\n      const dayLabel = DAYS?.[dayIndex] || \"Day\";\r\n      const windowLabel = window ? (window.isCurrent ? window.frame.label : `Next ${window.frame.label}`) : \"\";\r\n      const dayStart = window?.dayStart ?? promoDayStartEpochMs(epochMs);\r\n      const bookings = state.promoFacilities?.filming?.bookings || [];\r\n      const defaultStudioId = studios[0]?.id || null;\r\n      filmingList.innerHTML = studios.map((studio) => {\r\n        const usage = buildPromoTimeframeUsage(bookings, studio, dayStart, defaultStudioId);\r\n        const windowUsage = window ? usage.find((entry) => entry.frame.id === window.frame.id) : null;\r\n        const capacity = windowUsage?.capacity || 0;\r\n        const available = windowUsage?.available || 0;\r\n        const scopeLabel = formatBroadcastScope(studio.scope);\r\n        const meta = `${studio.owner || \"Filming\"} | ${scopeLabel} | ${dayLabel}${windowLabel ? ` | ${windowLabel}` : \"\"}`;\r\n        const slotLine = formatPromoTimeframeUsageLine(usage);\r\n        const status = capacity > 0 ? `${formatCount(available)} open` : \"Closed\";\r\n        return `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">${studio.label}</div>\r\n                <div class=\"muted\">${meta}</div>\r\n                <div class=\"muted\">${slotLine}</div>\r\n              </div>\r\n              <div class=\"pill\">${status}</div>\r\n            </div>\r\n          </div>\r\n        `;\r\n      }).join(\"\");\r\n    }\r\n  }\r\n\r\n  renderAchievements();\r\n  renderRivalAchievementRace();\r\n}\r\n\r\nfunction renderCalendarList(targetId, weeks, projectionOverride) {\r\n  const target = $(targetId);\r\n  if (!target) return;\r\n  if (UI_REACT_ISLANDS_ENABLED && targetId === \"calendarFullList\") {\r\n    target.innerHTML = \"\";\r\n    return;\r\n  }\r\n  normalizeCalendarTab();\r\n  const futureWeeks = Math.max(0, (weeks || 1) - 1);\r\n  const projection = projectionOverride && (projectionOverride.tab === \"label\" || projectionOverride.tab === \"public\")\r\n    ? projectionOverride\r\n    : buildCalendarProjection({ pastWeeks: 0, futureWeeks });\r\n  const tab = projection.tab === \"public\" ? \"public\" : \"label\";\r\n  const filters = projection.filters || {};\r\n\r\n  const scope = target.closest(\"#calendarModal\") || target.closest(\".view\") || document;\r\n  scope.querySelectorAll(\"[data-calendar-tab]\").forEach((btn) => {\r\n    if (!btn.dataset.calendarTab) return;\r\n    btn.classList.toggle(\"active\", btn.dataset.calendarTab === tab);\r\n  });\r\n  scope.querySelectorAll(\"[data-calendar-filter]\").forEach((input) => {\r\n    const key = input.dataset.calendarFilter;\r\n    if (!key || typeof filters[key] !== \"boolean\") return;\r\n    input.checked = filters[key] !== false;\r\n  });\r\n\r\n  if (targetId === \"calendarList\") {\r\n    target.innerHTML = renderCalendarUpcomingFooter(projection, tab);\r\n    return;\r\n  }\r\n\r\n  if (!projection.weeks.length) {\r\n    target.innerHTML = `<div class=\"muted\">No scheduled entries.</div>`;\r\n    return;\r\n  }\r\n\r\n  target.innerHTML = projection.weeks.map((week) => {\r\n    const entries = Array.isArray(week.events) ? week.events.slice() : [];\r\n    entries.sort((a, b) => a.ts - b.ts);\r\n    const weekLabel = formatCompactDateRange(week.start, week.end - HOUR_MS);\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${weekLabel}</div>\r\n            <div class=\"muted\">${formatDate(week.start)} - ${formatDate(week.end - HOUR_MS)}</div>\r\n          </div>\r\n          <div class=\"pill\">${entries.length} event(s)</div>\r\n        </div>\r\n        ${entries.map((entry) => {\r\n          const label = entry.label || \"Label\";\r\n          const labelCountry = getRivalByName(label)?.country || state.label.country || \"Annglora\";\r\n          const labelTag = label ? renderLabelTag(label, labelCountry) : \"Label\";\r\n          const actLabel = renderActName(entry) || \"Unknown\";\r\n          const title = entry.title || \"Untitled\";\r\n          const typeLabel = entry.typeLabel || \"Event\";\r\n          const distribution = entry.distribution || \"Digital\";\r\n          const timeLabel = formatEventTimeLabel(entry.ts);\r\n          const timeLine = timeLabel ? ` @ ${timeLabel}` : \"\";\r\n          return `\r\n            <div class=\"muted\">${labelTag} | ${actLabel} | ${title} (${typeLabel}${timeLine}, ${distribution})</div>\r\n          `;\r\n        }).join(\"\")}\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderCalendarDayDetail(dayStartTs) {\r\n  const listEl = $(\"calendarDayList\");\r\n  if (!listEl) return;\r\n  const titleEl = $(\"calendarDayTitle\");\r\n  const dayStart = Number(dayStartTs);\r\n  if (!Number.isFinite(dayStart)) {\r\n    if (titleEl) titleEl.textContent = \"Selected day\";\r\n    listEl.innerHTML = `<div class=\"muted\">No date selected.</div>`;\r\n    return;\r\n  }\r\n  if (titleEl) titleEl.textContent = formatShortDate(dayStart);\r\n  const weekNumber = weekNumberFromEpochMs(dayStart);\r\n  const anchorWeekIndex = Number.isFinite(weekNumber) ? weekNumber - 1 : weekIndex();\r\n  const projection = buildCalendarProjection({ pastWeeks: 0, futureWeeks: 0, anchorWeekIndex });\r\n  const week = projection.weeks[0];\r\n  const day = week?.days?.find((entry) => entry.start === dayStart) || null;\r\n  const events = Array.isArray(day?.events) ? day.events.slice().sort((a, b) => a.ts - b.ts) : [];\r\n\r\n  if (!events.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No events scheduled for this day.</div>`;\r\n    return;\r\n  }\r\n\r\n  listEl.innerHTML = events.map((entry) => {\r\n    const label = entry.label || \"Label\";\r\n    const labelCountry = getRivalByName(label)?.country || state.label.country || \"Annglora\";\r\n    const labelTag = label ? renderLabelTag(label, labelCountry) : \"Label\";\r\n    const actLabel = renderActName(entry) || \"Unknown\";\r\n    const title = entry.title || \"Untitled\";\r\n    const typeLabel = entry.typeLabel || \"Event\";\r\n    const distribution = entry.distribution || \"Digital\";\r\n    const timeLabel = formatEventTimeLabel(entry.ts);\r\n    const timeLine = timeLabel ? ` @ ${timeLabel}` : \"\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${title}</div>\r\n            <div class=\"muted\">${labelTag} | ${actLabel}</div>\r\n            <div class=\"muted\">${typeLabel}${timeLine} | ${distribution}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderActs() {\r\n  if (!state.acts.length) {\r\n    $(\"actList\").innerHTML = `<div class=\"muted\">No acts yet.</div>`;\r\n    return;\r\n  }\r\n  const list = state.acts.map((act) => {\r\n    const activeEras = getActiveEras().filter((era) => era.actId === act.id && era.status === \"Active\");\r\n    const historyCount = state.era.history.filter((era) => era.actId === act.id).length;\r\n    const eraLabel = activeEras.length\r\n      ? activeEras.map((era) => `${era.name} (${ERA_STAGES[era.stageIndex] || \"Active\"})`).join(\", \")\r\n      : \"None active\";\r\n    const members = act.memberIds\r\n      .map((id) => {\r\n        const creator = getCreator(id);\r\n        return creator ? creator.name : \"Unknown\";\r\n      })\r\n      .join(\", \");\r\n    const inputId = `act-rename-${act.id}`;\r\n    return `\r\n      <div class=\"list-item\" data-entity-type=\"act\" data-entity-id=\"${act.id}\" data-entity-name=\"${act.name}\" draggable=\"true\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${renderActName(act)}</div>\r\n              <div class=\"muted\">ID ${act.id} | ${act.type}</div>\r\n              <div class=\"muted\">${renderAlignmentTag(act.alignment)}</div>\r\n            </div>\r\n            <button type=\"button\" class=\"ghost\" data-act-set=\"${act.id}\">Assign</button>\r\n          </div>\r\n        <div class=\"muted\">Members: ${members || \"None\"}</div>\r\n        <div class=\"muted\">Eras: ${eraLabel}${historyCount ? ` | Past ${historyCount}` : \"\"}</div>\r\n        <div class=\"field\">\r\n          <label for=\"${inputId}\">Rename Act</label>\r\n          <input id=\"${inputId}\" type=\"text\" value=\"${act.name}\" data-act-input=\"${act.id}\" aria-label=\"Rename act ${act.name}\">\r\n        </div>\r\n        <div class=\"actions\">\r\n          <button type=\"button\" class=\"ghost\" data-act-rename=\"${act.id}\">Save Name</button>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  $(\"actList\").innerHTML = list.join(\"\");\r\n}\r\n\r\nfunction renderCreatorFallbackSymbols({ unassigned = false } = {}) {\r\n  const emoji = unassigned ? UNASSIGNED_CREATOR_EMOJI : CREATOR_FALLBACK_EMOJI;\r\n  return `<span class=\"avatar-symbols\" aria-hidden=\"true\"><span class=\"material-symbols-rounded avatar-icon\">${CREATOR_FALLBACK_ICON}</span><span class=\"avatar-emoji\">${emoji}</span></span>`;\r\n}\r\n\r\nfunction renderCreatorAvatar(creator) {\r\n  const initials = creatorInitials(creator?.nameHangul || creator?.name || \"\");\r\n  const portraitUrl = getCreatorPortraitUrl(creator);\r\n  const hasImage = Boolean(portraitUrl);\r\n  const imageStyle = hasImage ? ` style=\"background-image: url('${safeAvatarUrl(portraitUrl)}')\"` : \"\";\r\n  const className = hasImage ? \"creator-avatar has-image\" : \"creator-avatar has-symbols\";\r\n  const note = creator?.portraitNote ? ` title=\"${escapeAttribute(creator.portraitNote)}\"` : \"\";\r\n  const content = hasImage ? initials : renderCreatorFallbackSymbols();\r\n  return `<div class=\"${className}\" aria-hidden=\"true\"${imageStyle}${note}>${content}</div>`;\r\n}\r\n\r\nfunction renderCreators() {\r\n  const creatorList = $(\"creatorList\");\r\n  if (!creatorList) return;\r\n  const busyIds = getBusyCreatorIds(\"In Progress\");\r\n  const pool = state.creators || [];\r\n  const labelName = state.label?.name || \"\";\r\n  const labelCountry = state.label?.country || \"\";\r\n  const labelAcronym = state.label?.acronym || \"\";\r\n  const labelPill = renderCreatorLabelPill({ labelName, labelCountry, labelAcronym });\r\n  const actPopularityMap = buildActPopularityScoreMap();\r\n  const columns = MARKET_ROLES.map((role) => {\r\n    const roleLabelText = roleLabel(role);\r\n    const roleCreators = pool.filter((creator) => creator.role === role);\r\n    const list = roleCreators.map((creator) => {\r\n      const busy = busyIds.has(creator.id);\r\n      const staminaPct = Math.round((creator.stamina / STAMINA_MAX) * 100);\r\n      const catharsisScore = getCreatorCatharsisScore(creator);\r\n      const catharsisGrade = scoreGrade(catharsisScore);\r\n      const inactivity = getCreatorCatharsisInactivityStatus(creator);\r\n      const inactivityPct = Math.round((inactivity?.pct || 0) * 100);\r\n      const inactivityDetail = inactivityPct > 0\r\n        ? `Inactivity debuff: -${inactivityPct}% catharsis${inactivity?.isRecovering && Number.isFinite(inactivity?.recoveryDaysRemaining)\r\n          ? ` | recovering ${formatCount(inactivity.recoveryDaysRemaining)}d`\r\n          : \" | recovers over 14d after use\"}`\r\n        : \"\";\r\n      const roleText = roleLabel(creator.role);\r\n      const themeCells = creator.prefThemes.map((theme) => renderThemeTag(theme)).join(\"\");\r\n      const moodCells = creator.prefMoods.map((mood) => renderMoodTag(mood)).join(\"\");\r\n      const nationalityPill = renderNationalityPill(creator.country);\r\n      const memberships = listCreatorActs(creator.id);\r\n      const sortedActs = sortActsByPopularity(memberships, actPopularityMap);\r\n      const actLabels = sortedActs.map((act) => renderActName(act));\r\n      const visibleActs = actLabels.slice(0, 2);\r\n      const overflowCount = Math.max(0, actLabels.length - visibleActs.length);\r\n      const actsInline = visibleActs.length\r\n        ? visibleActs.map((label) => `<span class=\"creator-acts-name\">${label}</span>`).join(\", \")\r\n        : `<span class=\"creator-acts-name muted\">No Act</span>`;\r\n      const overflowHint = overflowCount ? `<span class=\"creator-acts-overflow\">+${overflowCount} more</span>` : \"\";\r\n      const hasMultipleActs = actLabels.length > 1;\r\n      const popoverId = `creator-acts-popover-${creator.id}`;\r\n      const actsPopover = hasMultipleActs\r\n        ? `\r\n          <div id=\"${popoverId}\" class=\"creator-acts-popover\" data-creator-acts-popover=\"${creator.id}\" aria-hidden=\"true\">\r\n            <div class=\"creator-acts-popover-title\">Acts</div>\r\n            <div class=\"creator-acts-popover-list\">\r\n              ${sortedActs.map((act) => `<div class=\"creator-acts-popover-item\">${renderActName(act)}</div>`).join(\"\")}\r\n            </div>\r\n          </div>\r\n        `\r\n        : \"\";\r\n      const actsMoreButton = hasMultipleActs\r\n        ? `<button type=\"button\" class=\"ghost mini creator-acts-more\" data-creator-acts-more=\"${creator.id}\" aria-expanded=\"false\" aria-controls=\"${popoverId}\">See more</button>`\r\n        : \"\";\r\n      return `\r\n        <div class=\"list-item\" data-entity-type=\"creator\" data-entity-id=\"${creator.id}\" data-entity-name=\"${creator.name}\" draggable=\"true\">\r\n          <div class=\"list-row\">\r\n            <div class=\"creator-card\">\r\n              <div class=\"creator-card-header\">\r\n                <div class=\"creator-card-header-left\">${nationalityPill}${labelPill}</div>\r\n                <div class=\"creator-card-header-right\">\r\n                  <div class=\"creator-card-occupation\">${roleText}</div>\r\n                  <div class=\"creator-card-id\">ID ${creator.id}</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"creator-card-body\">\r\n                <div class=\"creator-card-portrait\">${renderCreatorAvatar(creator)}</div>\r\n                <div class=\"creator-card-info\">\r\n                  <div class=\"item-title\">${renderCreatorName(creator)}</div>\r\n                  <div class=\"muted\">${formatCreatorAgeMeta(creator)}</div>\r\n                  <div class=\"muted\">${renderCreatorSkillProgress(creator)}</div>\r\n                  <div class=\"creator-card-meta-row\">\r\n                    <div class=\"muted\">Catharsis <span class=\"grade-text\" data-grade=\"${catharsisGrade}\">${catharsisScore}</span></div>\r\n                    <div class=\"muted creator-card-acts\">\r\n                      <span class=\"creator-acts-label\">Acts:</span>\r\n                      <span class=\"creator-acts-primary\">${actsInline}</span>\r\n                      ${overflowHint}\r\n                      ${actsMoreButton}\r\n                      ${actsPopover}\r\n                    </div>\r\n                  </div>\r\n                  ${inactivityDetail ? `<div class=\"muted\">${inactivityDetail}</div>` : \"\"}\r\n                  <div class=\"muted\">Preferred Themes:</div>\r\n                  <div class=\"creator-pref-tags\">${themeCells}</div>\r\n                  <div class=\"muted\">Preferred Moods:</div>\r\n                  <div class=\"creator-pref-tags\">${moodCells}</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"creator-card-footer\">\r\n                <div class=\"creator-card-stamina\">\r\n                  <div class=\"bar\"><span style=\"width:${staminaPct}%\"></span></div>\r\n                  <div class=\"muted\">Stamina ${creator.stamina} / ${STAMINA_MAX}</div>\r\n                </div>\r\n                <div class=\"creator-card-actions\">\r\n                  <div class=\"pill\">${busy ? \"Busy\" : \"Ready\"}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    });\r\n    const emptyMsg = pool.length\r\n      ? `No ${roleLabelText} Creator IDs signed.`\r\n      : \"No Creator IDs signed.\";\r\n    return `\r\n      <div class=\"ccc-market-column\" data-role=\"${role}\">\r\n        <div class=\"ccc-market-head\">\r\n          <div class=\"ccc-market-title\">${roleLabelText}s</div>\r\n          <div class=\"tiny muted\">${roleCreators.length} signed</div>\r\n        </div>\r\n        <div class=\"list ccc-market-list\">\r\n          ${list.length ? list : `<div class=\"muted\">${emptyMsg}</div>`}\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  creatorList.innerHTML = columns.join(\"\");\r\n}\r\n\r\nfunction renderCheaterCccControls() {\r\n  const roleSelect = $(\"cheatCccRole\");\r\n  if (roleSelect && !roleSelect.dataset.built) {\r\n    roleSelect.innerHTML = MARKET_ROLES.map((role) => `<option value=\"${role}\">${roleLabel(role)}</option>`).join(\"\");\r\n    roleSelect.dataset.built = \"1\";\r\n  }\r\n  const themeSelect = $(\"cheatCccTheme\");\r\n  if (themeSelect && !themeSelect.dataset.built) {\r\n    themeSelect.innerHTML = buildThemeOptions([{ value: \"\", label: \"Any Theme\" }]);\r\n    bindThemeSelectAccent(themeSelect);\r\n    themeSelect.dataset.built = \"1\";\r\n  }\r\n  const moodSelect = $(\"cheatCccMood\");\r\n  if (moodSelect && !moodSelect.dataset.built) {\r\n    moodSelect.innerHTML = buildMoodOptions([{ value: \"\", label: \"Any Mood\" }]);\r\n    moodSelect.dataset.built = \"1\";\r\n  }\r\n  const countrySelect = $(\"cheatCccCountry\");\r\n  if (countrySelect && !countrySelect.dataset.built) {\r\n    const options = [`<option value=\"\">Any Nation</option>`]\r\n      .concat(NATIONS.map((nation) => `<option value=\"${nation}\">${nation}</option>`));\r\n    countrySelect.innerHTML = options.join(\"\");\r\n    countrySelect.dataset.built = \"1\";\r\n  }\r\n  const genderSelect = $(\"cheatCccGender\");\r\n  if (genderSelect && !genderSelect.dataset.built) {\r\n    genderSelect.innerHTML = [\r\n      `<option value=\"\">Any Gender</option>`,\r\n      `<option value=\"man\">Man</option>`,\r\n      `<option value=\"woman\">Woman</option>`,\r\n      `<option value=\"nonbinary\">Non-binary</option>`\r\n    ].join(\"\");\r\n    genderSelect.dataset.built = \"1\";\r\n  }\r\n  const cheaterActive = Boolean(state.meta?.cheaterMode);\r\n  document.querySelectorAll(\"[data-cheat-ccc]\").forEach((input) => {\r\n    if (!input) return;\r\n    input.disabled = !cheaterActive;\r\n  });\r\n  const status = $(\"cheatCccStatus\");\r\n  if (status) {\r\n    status.textContent = cheaterActive\r\n      ? \"Cheater mode active. Inject Creator IDs into the CCC pool.\"\r\n      : \"Enable Cheater Mode in Settings to use CCC injection.\";\r\n  }\r\n}\r\n\r\nfunction renderMarket({ skipThrottle = false } = {}) {\r\n  if (!skipThrottle) {\r\n    if (shouldThrottleWorldRender()) return;\r\n    recordWorldRender();\r\n  }\r\n  const perfStart = perfNow();\r\n  ensureMarketCreators({}, { replenish: false });\r\n  renderCheaterCccControls();\r\n  const listEl = $(\"marketList\");\r\n  if (!listEl) return;\r\n  const filters = state.ui.cccFilters || {};\r\n  document.querySelectorAll(\"[data-ccc-filter]\").forEach((input) => {\r\n    const key = input.dataset.cccFilter;\r\n    if (!key) return;\r\n    input.checked = filters[key] !== false;\r\n  });\r\n  const themeFilter = state.ui.cccThemeFilter || \"All\";\r\n  const moodFilter = state.ui.cccMoodFilter || \"All\";\r\n  const sortMode = state.ui.cccSort || \"default\";\r\n  const themeSelect = $(\"cccThemeFilter\");\r\n  const moodSelect = $(\"cccMoodFilter\");\r\n  const sortSelect = $(\"cccSort\");\r\n  if (themeSelect) {\r\n    themeSelect.value = themeFilter;\r\n    setThemeSelectAccent(themeSelect);\r\n  }\r\n  if (moodSelect) moodSelect.value = moodFilter;\r\n  if (sortSelect) sortSelect.value = sortMode;\r\n  const filtersActive = themeFilter !== \"All\" || moodFilter !== \"All\";\r\n  const pool = state.marketCreators || [];\r\n  const now = state.time.epochMs;\r\n  pruneCreatorSignLockouts(now);\r\n  const unsignedPill = renderCreatorLabelPill({ unsigned: true });\r\n\r\n  const sortCreators = (list) => {\r\n    const entries = list.map((creator, index) => ({\r\n      creator,\r\n      index,\r\n      isLocked: Boolean(getCreatorSignLockout(creator.id, now))\r\n    }));\r\n    const byText = (a, b) => a.localeCompare(b);\r\n    const themeKey = (creator) => (creator.prefThemes?.[0] ? creator.prefThemes[0] : \"\");\r\n    const themeKey2 = (creator) => (creator.prefThemes?.[1] ? creator.prefThemes[1] : \"\");\r\n    const moodKey = (creator) => (creator.prefMoods?.[0] ? creator.prefMoods[0] : \"\");\r\n    const moodKey2 = (creator) => (creator.prefMoods?.[1] ? creator.prefMoods[1] : \"\");\r\n    const compareBySort = (a, b) => {\r\n      if (!sortMode || sortMode === \"default\") return a.index - b.index;\r\n      if (sortMode === \"quality-desc\") {\r\n        return (b.creator.skill || 0) - (a.creator.skill || 0)\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"quality-asc\") {\r\n        return (a.creator.skill || 0) - (b.creator.skill || 0)\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"theme-asc\") {\r\n        return byText(themeKey(a.creator), themeKey(b.creator))\r\n          || byText(themeKey2(a.creator), themeKey2(b.creator))\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"theme-desc\") {\r\n        return byText(themeKey(b.creator), themeKey(a.creator))\r\n          || byText(themeKey2(b.creator), themeKey2(a.creator))\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"mood-asc\") {\r\n        return byText(moodKey(a.creator), moodKey(b.creator))\r\n          || byText(moodKey2(a.creator), moodKey2(b.creator))\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      if (sortMode === \"mood-desc\") {\r\n        return byText(moodKey(b.creator), moodKey(a.creator))\r\n          || byText(moodKey2(b.creator), moodKey2(a.creator))\r\n          || byText(a.creator.name || \"\", b.creator.name || \"\")\r\n          || a.index - b.index;\r\n      }\r\n      return a.index - b.index;\r\n    };\r\n    entries.sort((a, b) => {\r\n      if (a.isLocked !== b.isLocked) return a.isLocked ? 1 : -1;\r\n      return compareBySort(a, b);\r\n    });\r\n    return entries.map((entry) => entry.creator);\r\n  };\r\n\r\n  const columns = MARKET_ROLES.map((role) => {\r\n    const roleLabelText = roleLabel(role);\r\n    const roleCreators = pool.filter((creator) => creator.role === role);\r\n    const filteredCreators = roleCreators.filter((creator) => {\r\n      const themeMatch = themeFilter === \"All\" || creator.prefThemes?.includes(themeFilter);\r\n      const moodMatch = moodFilter === \"All\" || creator.prefMoods?.includes(moodFilter);\r\n      return themeMatch && moodMatch;\r\n    });\r\n    const sortedCreators = sortCreators(filteredCreators);\r\n    const roleFiltered = filters[role] === false;\r\n    const creatorsToRender = roleFiltered ? [] : sortedCreators;\r\n    const list = creatorsToRender.map((creator) => {\r\n      const catharsisScore = getCreatorCatharsisScore(creator);\r\n      const catharsisGrade = scoreGrade(catharsisScore);\r\n      const staminaPct = Math.round((creator.stamina / STAMINA_MAX) * 100);\r\n      const nationalityPill = renderNationalityPill(creator.country);\r\n      const lockout = getCreatorSignLockout(creator.id, now);\r\n      const isLocked = !!lockout;\r\n      const signCost = Number.isFinite(creator.signCost) ? creator.signCost : 0;\r\n      const canAfford = state.label.cash >= signCost;\r\n      const itemClass = `list-item${isLocked ? \" ccc-market-item--failed\" : \"\"}`;\r\n      const buttonState = isLocked || !canAfford ? \" disabled\" : \"\";\r\n      const buttonLabel = isLocked\r\n        ? \"Locked until refresh\"\r\n        : `Sign ${formatMoney(signCost)}${canAfford ? \"\" : \" (not enough money)\"}`;\r\n      const lockoutReason = isLocked && lockout?.reason ? ` - ${lockout.reason}` : \"\";\r\n      const lockoutHint = isLocked\r\n        ? `<div class=\"tiny muted creator-card-hint\">Locked until 12AM refresh${lockoutReason}</div>`\r\n        : \"\";\r\n      const lockoutTitle = isLocked && lockout\r\n        ? ` title=\"Locked until ${formatDate(lockout.lockedUntilEpochMs)}${lockout?.reason ? ` | ${lockout.reason}` : \"\"}\"`\r\n        : \"\";\r\n      const cashTitle = !isLocked && !canAfford\r\n        ? ' title=\"Not enough money to sign this creator.\"'\r\n        : \"\";\r\n      const buttonTitle = lockoutTitle || cashTitle;\r\n      const themeCells = (creator.prefThemes || []).map((theme) => renderThemeTag(theme)).join(\"\");\r\n      const moodCells = (creator.prefMoods || []).map((mood) => renderMoodTag(mood)).join(\"\");\r\n      return `\r\n        <div class=\"${itemClass}\" data-ccc-creator=\"${creator.id}\">\r\n          <div class=\"list-row\">\r\n            <div class=\"creator-card\">\r\n              <div class=\"creator-card-header\">\r\n                <div class=\"creator-card-header-left\">${nationalityPill}${unsignedPill}</div>\r\n                <div class=\"creator-card-header-right\">\r\n                  <div class=\"creator-card-occupation\">${roleLabelText}</div>\r\n                  <div class=\"creator-card-id\">ID ${creator.id}</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"creator-card-body\">\r\n                <div class=\"creator-card-portrait\">${renderCreatorAvatar(creator)}</div>\r\n                <div class=\"creator-card-info\">\r\n                  <div class=\"item-title\">${renderCreatorName(creator)}</div>\r\n                  <div class=\"muted\">${formatCreatorAgeMeta(creator)}</div>\r\n                  <div class=\"muted\">${renderCreatorSkillProgress(creator)}</div>\r\n                  <div class=\"muted\">Catharsis <span class=\"grade-text\" data-grade=\"${catharsisGrade}\">${catharsisScore}</span></div>\r\n                  <div class=\"muted\">Preferred Themes:</div>\r\n                  <div class=\"creator-pref-tags\">${themeCells}</div>\r\n                  <div class=\"muted\">Preferred Moods:</div>\r\n                  <div class=\"creator-pref-tags\">${moodCells}</div>\r\n                </div>\r\n              </div>\r\n              <div class=\"creator-card-footer\">\r\n                <div class=\"creator-card-stamina\">\r\n                  <div class=\"bar\"><span style=\"width:${staminaPct}%\"></span></div>\r\n                  <div class=\"muted\">Stamina ${creator.stamina} / ${STAMINA_MAX}</div>\r\n                </div>\r\n                <div class=\"creator-card-actions\">\r\n                  <button type=\"button\" data-sign=\"${creator.id}\"${buttonState}${buttonTitle}>${buttonLabel}</button>\r\n                  ${lockoutHint}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    });\r\n    const filteredNotice = `${roleLabelText}s are hidden by the role filters. Toggle the checkboxes to view them.`;\r\n    const emptyMsg = roleFiltered\r\n      ? filteredNotice\r\n      : filtersActive\r\n        ? `No ${roleLabelText} Creator IDs match the current filters.`\r\n        : pool.length\r\n          ? `No ${roleLabelText} Creator IDs available.`\r\n          : \"No Creator IDs available.\";\r\n    const columnState = roleFiltered ? \" filtered\" : \"\";\r\n    const baseCountLabel = filtersActive\r\n      ? `${sortedCreators.length} of ${roleCreators.length} available`\r\n      : `${roleCreators.length} available`;\r\n    const countLabel = `${baseCountLabel}${roleFiltered ? \"  Filtered out\" : \"\"}`;\r\n    return `\r\n      <div class=\"ccc-market-column${columnState}\" data-role=\"${role}\">\r\n        <div class=\"ccc-market-head\">\r\n          <div class=\"ccc-market-title\">${roleLabelText}s</div>\r\n          <div class=\"tiny muted\">${countLabel}</div>\r\n        </div>\r\n        <div class=\"list ccc-market-list\">\r\n          ${list.length ? list : `<div class=\"muted\">${emptyMsg}</div>`}\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  listEl.innerHTML = columns.join(\"\");\r\n  const durationMs = perfNow() - perfStart;\r\n  if (durationMs > MARKET_RENDER_LOG_MS) {\r\n    const now = perfNow();\r\n    if (now - lastMarketPerfLogAt >= MARKET_RENDER_LOG_COOLDOWN_MS) {\r\n      lastMarketPerfLogAt = now;\r\n      logEvent(`[perf] Market render ${durationMs.toFixed(2)}ms (creators ${pool.length})`, \"warn\");\r\n    }\r\n  }\r\n}\r\n\r\nfunction buildRivalActSummary(labelName) {\r\n  const entries = Array.isArray(state.marketTracks) ? state.marketTracks : [];\r\n  const actMap = new Map();\r\n  entries.forEach((entry) => {\r\n    if (!entry || entry.label !== labelName) return;\r\n    const actName = entry.actName || \"Unknown Act\";\r\n    const key = `${actName}::${entry.actNameKey || \"\"}`;\r\n    const current = actMap.get(key) || { name: actName, nameKey: entry.actNameKey || null, count: 0, latest: null };\r\n    current.count += 1;\r\n    if (Number.isFinite(entry.releasedAt)) {\r\n      current.latest = current.latest ? Math.max(current.latest, entry.releasedAt) : entry.releasedAt;\r\n    }\r\n    actMap.set(key, current);\r\n  });\r\n  return Array.from(actMap.values()).sort((a, b) => {\r\n    const aLatest = Number.isFinite(a.latest) ? a.latest : 0;\r\n    const bLatest = Number.isFinite(b.latest) ? b.latest : 0;\r\n    if (aLatest !== bLatest) return bLatest - aLatest;\r\n    if (a.count !== b.count) return b.count - a.count;\r\n    return a.name.localeCompare(b.name);\r\n  });\r\n}\r\n\r\nfunction resolveChartEntryLabel(entry) {\r\n  if (!entry) return \"\";\r\n  if (entry.label) return entry.label;\r\n  if (entry.track?.label) return entry.track.label;\r\n  return \"\";\r\n}\r\n\r\nfunction formatSignedDelta(value, formatter) {\r\n  if (!Number.isFinite(value)) return \"-\";\r\n  if (value === 0) return \"0\";\r\n  const sign = value > 0 ? \"+\" : \"-\";\r\n  return `${sign}${formatter(Math.abs(value))}`;\r\n}\r\n\r\nfunction formatShareValue(value, digits = 0) {\r\n  if (!Number.isFinite(value)) return \"-\";\r\n  return `${Number(value).toFixed(digits)}%`;\r\n}\r\n\r\nfunction buildLabelRankMap() {\r\n  const ranking = getLabelRanking();\r\n  const map = new Map();\r\n  ranking.forEach(([label], index) => {\r\n    if (!label) return;\r\n    map.set(label, index + 1);\r\n  });\r\n  return map;\r\n}\r\n\r\nfunction resolveLabelSharePercent(labelName) {\r\n  if (!labelName) return null;\r\n  const share = state.meta?.labelShare?.[labelName];\r\n  return Number.isFinite(share) ? share * 100 : null;\r\n}\r\n\r\nfunction resolveLabelEconomySnapshot({ isPlayer = false, rival = null } = {}) {\r\n  const economy = isPlayer ? state.economy : rival?.economy;\r\n  const revenue = Number.isFinite(economy?.lastRevenue) ? economy.lastRevenue : null;\r\n  const costs = Number.isFinite(economy?.lastUpkeep) ? economy.lastUpkeep : null;\r\n  const net = Number.isFinite(revenue) && Number.isFinite(costs) ? revenue - costs : null;\r\n  const lastWeek = Number.isFinite(economy?.lastWeek) ? economy.lastWeek : null;\r\n  return { revenue, costs, net, lastWeek };\r\n}\r\n\r\nfunction computeSalesEquivalent(metrics) {\r\n  const safe = metrics || {};\r\n  const weights = typeof CONSUMPTION_VALUE_WEIGHTS === \"object\" ? CONSUMPTION_VALUE_WEIGHTS : {};\r\n  const salesWeight = Number.isFinite(weights.sales) ? weights.sales : 1;\r\n  const streamingWeight = Number.isFinite(weights.streaming) ? weights.streaming : 0.1;\r\n  const airplayWeight = Number.isFinite(weights.airplay) ? weights.airplay : 0;\r\n  const socialWeight = Number.isFinite(weights.social) ? weights.social : 0;\r\n  const sales = Number(safe.sales || 0);\r\n  const streaming = Number(safe.streaming || 0);\r\n  const airplay = Number(safe.airplay || 0);\r\n  const social = Number(safe.social || 0);\r\n  return sales * salesWeight + streaming * streamingWeight + airplay * airplayWeight + social * socialWeight;\r\n}\r\n\r\nfunction buildConsumptionShareSnapshot(labelName) {\r\n  const entries = Array.isArray(state.charts?.global) ? state.charts.global : [];\r\n  const totals = { sales: 0, streaming: 0, airplay: 0, social: 0 };\r\n  const labelTotals = { sales: 0, streaming: 0, airplay: 0, social: 0 };\r\n  entries.forEach((entry) => {\r\n    if (!entry) return;\r\n    const metrics = entry.metrics || {};\r\n    const sales = Number(metrics.sales || 0);\r\n    const streaming = Number(metrics.streaming || 0);\r\n    const airplay = Number(metrics.airplay || 0);\r\n    const social = Number(metrics.social || 0);\r\n    totals.sales += sales;\r\n    totals.streaming += streaming;\r\n    totals.airplay += airplay;\r\n    totals.social += social;\r\n    if (labelName && resolveChartEntryLabel(entry) === labelName) {\r\n      labelTotals.sales += sales;\r\n      labelTotals.streaming += streaming;\r\n      labelTotals.airplay += airplay;\r\n      labelTotals.social += social;\r\n    }\r\n  });\r\n  const hasMetrics = Object.values(totals).some((value) => value > 0);\r\n  const share = {\r\n    sales: totals.sales ? (labelTotals.sales / totals.sales) * 100 : null,\r\n    streaming: totals.streaming ? (labelTotals.streaming / totals.streaming) * 100 : null,\r\n    airplay: totals.airplay ? (labelTotals.airplay / totals.airplay) * 100 : null,\r\n    social: totals.social ? (labelTotals.social / totals.social) * 100 : null\r\n  };\r\n  const totalEquivalent = computeSalesEquivalent(totals);\r\n  const labelEquivalent = computeSalesEquivalent(labelTotals);\r\n  const overall = totalEquivalent ? (labelEquivalent / totalEquivalent) * 100 : null;\r\n  return { totals, labelTotals, share, overall, hasMetrics, entryCount: entries.length };\r\n}\r\n\r\nfunction listLabelReleases(labelName) {\r\n  if (!labelName) return [];\r\n  const active = Array.isArray(state.marketTracks) ? state.marketTracks : [];\r\n  const archived = Array.isArray(state.meta?.marketTrackArchive) ? state.meta.marketTrackArchive : [];\r\n  return active.concat(archived).filter((entry) => entry?.label === labelName);\r\n}\r\n\r\nfunction countAnnualAwardsForLabel(labelName, year) {\r\n  if (!labelName || !Number.isFinite(year)) return 0;\r\n  const list = Array.isArray(state.meta?.annualAwards) ? state.meta.annualAwards : [];\r\n  const entry = list.find((award) => award?.year === year);\r\n  if (!entry || !entry.awards) return 0;\r\n  return Object.values(entry.awards).filter((award) => award?.label === labelName).length;\r\n}\r\n\r\nfunction resolveLatestCompletedEra() {\r\n  const history = Array.isArray(state.era?.history) ? state.era.history.slice() : [];\r\n  if (!history.length) return null;\r\n  return history.sort((a, b) => {\r\n    const aStamp = Number.isFinite(a.completedAt) ? a.completedAt : 0;\r\n    const bStamp = Number.isFinite(b.completedAt) ? b.completedAt : 0;\r\n    if (bStamp !== aStamp) return bStamp - aStamp;\r\n    const aWeek = Number.isFinite(a.completedWeek) ? a.completedWeek : 0;\r\n    const bWeek = Number.isFinite(b.completedWeek) ? b.completedWeek : 0;\r\n    return bWeek - aWeek;\r\n  })[0];\r\n}\r\n\r\nfunction buildPlayerEraSummary(labelName) {\r\n  const era = resolveLatestCompletedEra();\r\n  if (!era) {\r\n    return { label: labelName || \"You\", name: \"Era\", hasData: false };\r\n  }\r\n  const stats = era.outcomeStats || {};\r\n  const revenue = Number.isFinite(stats.revenue) ? stats.revenue : null;\r\n  const costs = Number.isFinite(stats.costs) ? stats.costs : null;\r\n  const net = Number.isFinite(stats.profit)\r\n    ? stats.profit\r\n    : (Number.isFinite(revenue) && Number.isFinite(costs) ? revenue - costs : null);\r\n  let chartPoints = null;\r\n  let pointsSum = 0;\r\n  let pointsSeen = false;\r\n  state.tracks.forEach((track) => {\r\n    if (!track || track.eraId !== era.id) return;\r\n    const economy = track.economy || {};\r\n    if (!Number.isFinite(economy.chartPoints)) return;\r\n    pointsSum += economy.chartPoints;\r\n    pointsSeen = true;\r\n  });\r\n  if (pointsSeen) chartPoints = Math.round(pointsSum);\r\n  const completedAt = Number.isFinite(era.completedAt) ? era.completedAt : null;\r\n  const year = completedAt ? new Date(completedAt).getUTCFullYear() : currentYear();\r\n  const awards = countAnnualAwardsForLabel(labelName, year);\r\n  return {\r\n    label: labelName || \"You\",\r\n    name: era.name || \"Era\",\r\n    outcome: era.outcome || null,\r\n    startWeek: Number.isFinite(era.startedWeek) ? era.startedWeek : null,\r\n    endWeek: Number.isFinite(era.completedWeek) ? era.completedWeek : null,\r\n    revenue,\r\n    costs,\r\n    net,\r\n    chartPoints,\r\n    awards,\r\n    releaseCount: Number.isFinite(stats.trackCount) ? stats.trackCount : null,\r\n    year,\r\n    hasData: true,\r\n    isEstimate: false\r\n  };\r\n}\r\n\r\nfunction buildRivalEraSummary(rival) {\r\n  if (!rival?.name) return { label: \"Rival\", name: \"Rival era\", hasData: false };\r\n  const plan = rival.aiPlan || {};\r\n  const completedIndex = Number.isFinite(plan.lastCompletedWindow) ? plan.lastCompletedWindow : null;\r\n  if (!Number.isFinite(completedIndex)) {\r\n    return { label: rival.name, name: \"Rival era\", hasData: false };\r\n  }\r\n  const endWeek = completedIndex + 1;\r\n  let startWeek = null;\r\n  if (Number.isFinite(plan.windowStartWeekIndex)\r\n    && Number.isFinite(plan.windowEndWeekIndex)\r\n    && plan.windowEndWeekIndex === completedIndex\r\n    && plan.windowStartWeekIndex <= completedIndex) {\r\n    startWeek = plan.windowStartWeekIndex + 1;\r\n  }\r\n  if (!Number.isFinite(startWeek)) {\r\n    startWeek = Math.max(1, endWeek - ACT_PROMO_WARNING_WEEKS + 1);\r\n  }\r\n  const releases = listLabelReleases(rival.name);\r\n  const windowReleases = releases.filter((entry) => {\r\n    const week = weekNumberFromEpochMs(entry.releasedAt);\r\n    if (!Number.isFinite(week)) return false;\r\n    return week >= startWeek && week <= endWeek;\r\n  });\r\n  let chartPoints = null;\r\n  let pointsSum = 0;\r\n  let pointsSeen = false;\r\n  windowReleases.forEach((entry) => {\r\n    const history = entry?.chartHistory?.global;\r\n    const peak = Number.isFinite(history?.peak) ? history.peak : null;\r\n    const weeks = Number.isFinite(history?.weeks) ? history.weeks : null;\r\n    if (!Number.isFinite(peak) || !Number.isFinite(weeks)) return;\r\n    pointsSum += Math.max(1, CHART_SIZES.global + 1 - peak) * weeks;\r\n    pointsSeen = true;\r\n  });\r\n  if (pointsSeen) chartPoints = Math.round(pointsSum);\r\n  const economy = resolveLabelEconomySnapshot({ isPlayer: false, rival });\r\n  const windowWeeks = Math.max(1, endWeek - startWeek + 1);\r\n  const revenue = Number.isFinite(economy.revenue) ? economy.revenue * windowWeeks : null;\r\n  const costs = Number.isFinite(economy.costs) ? economy.costs * windowWeeks : null;\r\n  const net = Number.isFinite(revenue) && Number.isFinite(costs) ? revenue - costs : null;\r\n  const endEpoch = weekStartEpochMs(endWeek);\r\n  const year = Number.isFinite(endEpoch) ? new Date(endEpoch).getUTCFullYear() : currentYear();\r\n  const awards = countAnnualAwardsForLabel(rival.name, year);\r\n  const planLabel = plan.lastHuskId || plan.activeHuskId || plan.huskSource || null;\r\n  return {\r\n    label: rival.name,\r\n    name: planLabel ? `Plan ${planLabel}` : \"Rival plan\",\r\n    startWeek,\r\n    endWeek,\r\n    revenue,\r\n    costs,\r\n    net,\r\n    chartPoints,\r\n    awards,\r\n    releaseCount: windowReleases.length,\r\n    year,\r\n    hasData: true,\r\n    isEstimate: Number.isFinite(revenue) || Number.isFinite(costs)\r\n  };\r\n}\r\n\r\nfunction formatEraWeekRange(startWeek, endWeek) {\r\n  const startLabel = Number.isFinite(startWeek) ? formatWeekRangeLabel(startWeek) : \"\";\r\n  const endLabel = Number.isFinite(endWeek) ? formatWeekRangeLabel(endWeek) : \"\";\r\n  if (startLabel && endLabel) return `${startLabel} - ${endLabel}`;\r\n  return startLabel || endLabel || \"Week -\";\r\n}\r\n\r\nfunction renderRivalEraColumn({ label, summary, isPlayer }) {\r\n  const pill = isPlayer ? ` <span class=\"pill\">You</span>` : \"\";\r\n  if (!summary?.hasData) {\r\n    return `\r\n      <div class=\"rival-era-column\">\r\n        <div class=\"item-title\">${label}${pill}</div>\r\n        <div class=\"muted\">No completed era data yet.</div>\r\n      </div>\r\n    `;\r\n  }\r\n  const range = formatEraWeekRange(summary.startWeek, summary.endWeek);\r\n  const outcomeLine = summary.outcome ? `Outcome ${summary.outcome}` : \"\";\r\n  const releaseLine = Number.isFinite(summary.releaseCount) ? `Releases ${formatCount(summary.releaseCount)}` : \"\";\r\n  const metaLine = [range, outcomeLine, releaseLine].filter(Boolean).join(\" | \");\r\n  const revenueLabel = Number.isFinite(summary.revenue) ? formatMoney(summary.revenue) : \"-\";\r\n  const costsLabel = Number.isFinite(summary.costs) ? formatMoney(summary.costs) : \"-\";\r\n  const netLabel = Number.isFinite(summary.net) ? formatMoney(summary.net) : \"-\";\r\n  const pointsLabel = Number.isFinite(summary.chartPoints) ? formatCount(summary.chartPoints) : \"-\";\r\n  const awardsLabel = Number.isFinite(summary.awards) ? formatCount(summary.awards) : \"-\";\r\n  const estimateLine = summary.isEstimate ? \"Estimated from latest weekly economy and chart history.\" : \"\";\r\n  return `\r\n    <div class=\"rival-era-column\">\r\n      <div class=\"item-title\">${label}${pill}</div>\r\n      <div class=\"tiny muted\">${summary.name || \"Era\"}${metaLine ? ` | ${metaLine}` : \"\"}</div>\r\n      <div class=\"stat-mini-grid\">\r\n        <div class=\"stat-mini\">\r\n          <div class=\"stat-label\">Revenue</div>\r\n          <div class=\"stat-value\">${revenueLabel}</div>\r\n        </div>\r\n        <div class=\"stat-mini\">\r\n          <div class=\"stat-label\">Costs</div>\r\n          <div class=\"stat-value\">${costsLabel}</div>\r\n        </div>\r\n        <div class=\"stat-mini\">\r\n          <div class=\"stat-label\">Net</div>\r\n          <div class=\"stat-value\">${netLabel}</div>\r\n        </div>\r\n        <div class=\"stat-mini\">\r\n          <div class=\"stat-label\">Chart Points</div>\r\n          <div class=\"stat-value\">${pointsLabel}</div>\r\n        </div>\r\n        <div class=\"stat-mini\">\r\n          <div class=\"stat-label\">Awards</div>\r\n          <div class=\"stat-value\">${awardsLabel}</div>\r\n        </div>\r\n      </div>\r\n      ${estimateLine ? `<div class=\"tiny muted\">${estimateLine}</div>` : \"\"}\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction renderRivalKpiBlock({ title, subtitle, kpi, consumption, isPlayer }) {\r\n  const pill = isPlayer ? ` <span class=\"pill\">You</span>` : \"\";\r\n  const rankLabel = Number.isFinite(kpi.rank) ? `#${kpi.rank}` : \"-\";\r\n  const shareLabel = formatShareValue(kpi.sharePct);\r\n  const netLabel = Number.isFinite(kpi.net) ? formatMoney(kpi.net) : \"-\";\r\n  let consumptionLine = \"Consumption share unavailable.\";\r\n  if (consumption?.hasMetrics) {\r\n    const parts = [];\r\n    const sales = formatShareValue(consumption.share.sales);\r\n    const streaming = formatShareValue(consumption.share.streaming);\r\n    const airplay = formatShareValue(consumption.share.airplay);\r\n    const social = formatShareValue(consumption.share.social);\r\n    if (sales !== \"-\") parts.push(`Sales ${sales}`);\r\n    if (streaming !== \"-\") parts.push(`Streaming ${streaming}`);\r\n    if (airplay !== \"-\") parts.push(`Airplay ${airplay}`);\r\n    if (social !== \"-\") parts.push(`Social ${social}`);\r\n    consumptionLine = `Consumption share ${formatShareValue(consumption.overall)}${parts.length ? ` | ${parts.join(\" | \")}` : \"\"}`;\r\n  }\r\n  return `\r\n    <div class=\"rival-kpi-block\">\r\n      <div>\r\n        <div class=\"item-title\">${title}${pill}</div>\r\n        ${subtitle ? `<div class=\"tiny muted\">${subtitle}</div>` : \"\"}\r\n      </div>\r\n      <div class=\"rival-kpi-metrics\">\r\n        <div class=\"stat-mini\">\r\n          <div class=\"stat-label\">Rank</div>\r\n          <div class=\"stat-value\">${rankLabel}</div>\r\n        </div>\r\n        <div class=\"stat-mini\">\r\n          <div class=\"stat-label\">Share</div>\r\n          <div class=\"stat-value\">${shareLabel}</div>\r\n        </div>\r\n        <div class=\"stat-mini\">\r\n          <div class=\"stat-label\">Net</div>\r\n          <div class=\"stat-value\">${netLabel}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"tiny muted rival-kpi-consumption\">${consumptionLine}</div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction buildRivalComparisonEntries(playerKpi, rivalKpi, playerConsumption, rivalConsumption) {\r\n  const entries = [];\r\n  if (Number.isFinite(playerKpi.rank) && Number.isFinite(rivalKpi.rank)) {\r\n    const delta = rivalKpi.rank - playerKpi.rank;\r\n    entries.push({\r\n      key: \"rank\",\r\n      label: \"Rank delta\",\r\n      delta,\r\n      score: Math.abs(delta),\r\n      display: formatSignedDelta(delta, (value) => `${value}`)\r\n    });\r\n  }\r\n  if (Number.isFinite(playerKpi.sharePct) && Number.isFinite(rivalKpi.sharePct)) {\r\n    const delta = playerKpi.sharePct - rivalKpi.sharePct;\r\n    entries.push({\r\n      key: \"share\",\r\n      label: \"Chart share\",\r\n      delta,\r\n      score: Math.abs(delta),\r\n      display: formatSignedDelta(delta, (value) => `${value.toFixed(0)}%`)\r\n    });\r\n  }\r\n  if (Number.isFinite(playerKpi.net) && Number.isFinite(rivalKpi.net)) {\r\n    const delta = playerKpi.net - rivalKpi.net;\r\n    entries.push({\r\n      key: \"net\",\r\n      label: \"Weekly net\",\r\n      delta,\r\n      score: Math.abs(delta) / 1000,\r\n      display: formatSignedDelta(delta, (value) => formatMoney(value))\r\n    });\r\n  }\r\n  if (Number.isFinite(playerConsumption?.overall) && Number.isFinite(rivalConsumption?.overall)) {\r\n    const delta = playerConsumption.overall - rivalConsumption.overall;\r\n    entries.push({\r\n      key: \"consumption\",\r\n      label: \"Consumption share\",\r\n      delta,\r\n      score: Math.abs(delta),\r\n      display: formatSignedDelta(delta, (value) => `${value.toFixed(0)}%`)\r\n    });\r\n  }\r\n  return entries;\r\n}\r\n\r\nfunction renderRivalComparisonStrip(entries) {\r\n  if (!entries.length) {\r\n    return `<div class=\"muted\">No comparison data yet.</div>`;\r\n  }\r\n  const best = entries\r\n    .filter((entry) => entry.delta > 0)\r\n    .sort((a, b) => b.score - a.score)[0];\r\n  const worst = entries\r\n    .filter((entry) => entry.delta < 0)\r\n    .sort((a, b) => b.score - a.score)[0];\r\n  return `\r\n    <div class=\"rival-compare-strip\">\r\n      ${entries.map((entry) => {\r\n        const deltaClass = entry.delta > 0 ? \"positive\" : entry.delta < 0 ? \"negative\" : \"neutral\";\r\n        const itemClass = entry.key === best?.key\r\n          ? \"rival-compare-item is-best\"\r\n          : entry.key === worst?.key\r\n            ? \"rival-compare-item is-worst\"\r\n            : \"rival-compare-item\";\r\n        const note = entry.delta > 0 ? \"You lead\" : entry.delta < 0 ? \"Rival leads\" : \"Even\";\r\n        return `\r\n          <div class=\"${itemClass}\">\r\n            <div class=\"tiny muted\">${entry.label}</div>\r\n            <div class=\"delta ${deltaClass}\">${entry.display}</div>\r\n            <div class=\"tiny muted\">${note}</div>\r\n          </div>\r\n        `;\r\n      }).join(\"\")}\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction renderRivalRosterPanel() {\r\n  const targets = [\r\n    { listEl: $(\"rivalRosterList\"), selectEl: $(\"rivalRosterSelect\"), metaEl: $(\"rivalRosterMeta\") },\r\n    { listEl: $(\"rivalRosterWindowList\"), selectEl: $(\"rivalRosterWindowSelect\"), metaEl: $(\"rivalRosterWindowMeta\") }\r\n  ].filter((target) => target.listEl && target.selectEl);\r\n  if (!targets.length) return;\r\n  const rivals = Array.isArray(state.rivals) ? state.rivals.slice() : [];\r\n  if (!state.ui) state.ui = {};\r\n\r\n  const applyTargets = ({ listMarkup = \"\", selectMarkup = \"\", selectValue = \"\", metaText = \"\" } = {}) => {\r\n    targets.forEach(({ listEl, selectEl, metaEl }) => {\r\n      if (selectEl) {\r\n        selectEl.innerHTML = selectMarkup;\r\n        selectEl.value = selectValue;\r\n      }\r\n      if (listEl) {\r\n        listEl.innerHTML = listMarkup;\r\n      }\r\n      if (metaEl) {\r\n        metaEl.textContent = metaText;\r\n      }\r\n    });\r\n  };\r\n\r\n  if (!rivals.length) {\r\n    applyTargets({\r\n      selectMarkup: `<option value=\"\">No rival labels yet</option>`,\r\n      selectValue: \"\",\r\n      listMarkup: `<div class=\"muted\">No rival rosters available yet.</div>`,\r\n      metaText: \"No rivals observed.\"\r\n    });\r\n    return;\r\n  }\r\n  const selectedId = state.ui.rivalRosterId;\r\n  const selected = rivals.find((rival) => rival.id === selectedId) || rivals[0];\r\n  state.ui.rivalRosterId = selected?.id || null;\r\n  const selectMarkup = [\r\n    `<option value=\"\">Select a rival label</option>`,\r\n    ...rivals.map((rival) => `<option value=\"${rival.id}\">${rival.name}</option>`)\r\n  ].join(\"\");\r\n  const selectValue = selected ? selected.id : \"\";\r\n  if (!selected) {\r\n    applyTargets({\r\n      selectMarkup,\r\n      selectValue: \"\",\r\n      listMarkup: `<div class=\"muted\">Select a rival label to view their roster.</div>`,\r\n      metaText: \"Select a rival label.\"\r\n    });\r\n    return;\r\n  }\r\n\r\n  const creators = Array.isArray(selected.creators) ? selected.creators : [];\r\n  const acts = buildRivalActSummary(selected.name);\r\n  const metaText = `${formatCount(creators.length)} creators | ${formatCount(acts.length)} acts`;\r\n\r\n  const playerLabel = state.label?.name || \"Player\";\r\n  const rankMap = buildLabelRankMap();\r\n  const playerEconomy = resolveLabelEconomySnapshot({ isPlayer: true });\r\n  const rivalEconomy = resolveLabelEconomySnapshot({ rival: selected });\r\n  const playerKpi = {\r\n    rank: rankMap.get(playerLabel) || null,\r\n    sharePct: resolveLabelSharePercent(playerLabel),\r\n    net: playerEconomy.net\r\n  };\r\n  const rivalKpi = {\r\n    rank: rankMap.get(selected.name) || null,\r\n    sharePct: resolveLabelSharePercent(selected.name),\r\n    net: rivalEconomy.net\r\n  };\r\n  const playerConsumption = buildConsumptionShareSnapshot(playerLabel);\r\n  const rivalConsumption = buildConsumptionShareSnapshot(selected.name);\r\n  const playerEraSummary = buildPlayerEraSummary(playerLabel);\r\n  const rivalEraSummary = buildRivalEraSummary(selected);\r\n\r\n  const currentWeek = weekIndex() + 1;\r\n  const shareWeek = Number.isFinite(state.meta?.labelShareWeek) ? state.meta.labelShareWeek : null;\r\n  const warnings = new Set();\r\n  if (!Array.isArray(state.charts?.global) || !state.charts.global.length) {\r\n    warnings.add(\"Global charts missing; rank and consumption share may be limited.\");\r\n  }\r\n  if (!Number.isFinite(shareWeek) || shareWeek !== currentWeek) {\r\n    const shareWeekLabel = Number.isFinite(shareWeek) ? `Week ${shareWeek}` : \"unknown week\";\r\n    warnings.add(`Label share last refreshed ${shareWeekLabel}; current Week ${currentWeek}.`);\r\n  }\r\n  if (!Number.isFinite(playerEconomy.lastWeek) || playerEconomy.lastWeek !== currentWeek) {\r\n    const economyWeekLabel = Number.isFinite(playerEconomy.lastWeek) ? `Week ${playerEconomy.lastWeek}` : \"unknown week\";\r\n    warnings.add(`${playerLabel} economy data is stale (${economyWeekLabel}).`);\r\n  }\r\n  if (!Number.isFinite(rivalEconomy.lastWeek) || rivalEconomy.lastWeek !== currentWeek) {\r\n    const economyWeekLabel = Number.isFinite(rivalEconomy.lastWeek) ? `Week ${rivalEconomy.lastWeek}` : \"unknown week\";\r\n    warnings.add(`${selected.name} economy data is stale (${economyWeekLabel}).`);\r\n  }\r\n  if (!playerConsumption.hasMetrics || !rivalConsumption.hasMetrics) {\r\n    warnings.add(\"Consumption metrics missing from global charts.\");\r\n  }\r\n  if (!Number.isFinite(playerKpi.rank) || !Number.isFinite(rivalKpi.rank)) {\r\n    warnings.add(\"Label ranking missing for one or more labels.\");\r\n  }\r\n  if (!Number.isFinite(playerKpi.sharePct) || !Number.isFinite(rivalKpi.sharePct)) {\r\n    warnings.add(\"Chart share missing for one or more labels.\");\r\n  }\r\n  if (!playerEraSummary.hasData) {\r\n    warnings.add(`${playerLabel} has no completed era summary yet.`);\r\n  }\r\n  if (!rivalEraSummary.hasData) {\r\n    warnings.add(`${selected.name} has no completed plan window yet.`);\r\n  }\r\n  if (rivalEraSummary.hasData && rivalEraSummary.releaseCount === 0) {\r\n    warnings.add(`${selected.name} has no releases logged in the completed window.`);\r\n  }\r\n  if (rivalEraSummary.isEstimate) {\r\n    warnings.add(`${selected.name} era economics estimated from latest weekly totals.`);\r\n  }\r\n\r\n  const warningMarkup = warnings.size\r\n    ? `\r\n      <div class=\"callout callout--warn rival-roster-warning\">\r\n        <div class=\"item-title\">Data warnings</div>\r\n        ${Array.from(warnings).map((warning) => `<div class=\"tiny muted\">- ${warning}</div>`).join(\"\")}\r\n      </div>\r\n    `\r\n    : \"\";\r\n  const shareWeekLabel = Number.isFinite(shareWeek) ? `Share Week ${shareWeek}` : \"Share Week -\";\r\n  const playerSubtitle = `${shareWeekLabel} | Econ Week ${Number.isFinite(playerEconomy.lastWeek) ? playerEconomy.lastWeek : \"-\"}`;\r\n  const rivalSubtitle = `${shareWeekLabel} | Econ Week ${Number.isFinite(rivalEconomy.lastWeek) ? rivalEconomy.lastWeek : \"-\"}`;\r\n  const comparisonEntries = buildRivalComparisonEntries(playerKpi, rivalKpi, playerConsumption, rivalConsumption);\r\n  const comparisonMarkup = renderRivalComparisonStrip(comparisonEntries);\r\n  const eraSummaryLine = `${playerLabel}: ${playerEraSummary.hasData ? playerEraSummary.name : \"none\"} | ${selected.name}: ${rivalEraSummary.hasData ? rivalEraSummary.name : \"none\"}`;\r\n  const eraBadge = playerEraSummary.hasData || rivalEraSummary.hasData ? \"Details\" : \"No data\";\r\n  const rivalrySummaryMarkup = `\r\n    <div class=\"subhead\">Rivalry Snapshot</div>\r\n    <div class=\"rival-roster-summary\">\r\n      ${warningMarkup}\r\n      <div class=\"rival-kpi-grid\">\r\n        ${renderRivalKpiBlock({\r\n          title: playerLabel,\r\n          subtitle: playerSubtitle,\r\n          kpi: playerKpi,\r\n          consumption: playerConsumption,\r\n          isPlayer: true\r\n        })}\r\n        ${renderRivalKpiBlock({\r\n          title: selected.name,\r\n          subtitle: rivalSubtitle,\r\n          kpi: rivalKpi,\r\n          consumption: rivalConsumption,\r\n          isPlayer: false\r\n        })}\r\n      </div>\r\n      <div class=\"tiny muted\">Player vs rival deltas</div>\r\n      ${comparisonMarkup}\r\n      <details class=\"rival-era-card\">\r\n        <summary class=\"rival-era-summary\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">Era just completed</div>\r\n              <div class=\"muted\">${eraSummaryLine}</div>\r\n            </div>\r\n            <div class=\"badge\">${eraBadge}</div>\r\n          </div>\r\n        </summary>\r\n        <div class=\"rival-era-details\">\r\n          <div class=\"rival-era-columns\">\r\n            ${renderRivalEraColumn({ label: playerLabel, summary: playerEraSummary, isPlayer: true })}\r\n            ${renderRivalEraColumn({ label: selected.name, summary: rivalEraSummary, isPlayer: false })}\r\n          </div>\r\n        </div>\r\n      </details>\r\n    </div>\r\n  `;\r\n\r\n  const creatorSections = MARKET_ROLES.map((role) => {\r\n    const roleLabelText = roleLabel(role);\r\n    const roleCreators = creators.filter((creator) => creator.role === role);\r\n    const items = roleCreators.map((creator) => {\r\n      const catharsisScore = getCreatorCatharsisScore(creator);\r\n      const catharsisGrade = scoreGrade(catharsisScore);\r\n      const inactivity = getCreatorCatharsisInactivityStatus(creator);\r\n      const inactivityPct = Math.round((inactivity?.pct || 0) * 100);\r\n      const inactivityLine = inactivityPct > 0\r\n        ? `Inactivity debuff: -${inactivityPct}% catharsis`\r\n        : \"\";\r\n      return `\r\n        <div class=\"list-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${renderCreatorName(creator)}</div>\r\n              <div class=\"muted\">${roleLabelText} | Skill ${formatCount(creator.skill || 0)} | Catharsis <span class=\"grade-text\" data-grade=\"${catharsisGrade}\">${catharsisScore}</span></div>\r\n              ${inactivityLine ? `<div class=\"tiny muted\">${inactivityLine}</div>` : \"\"}\r\n            </div>\r\n            <div class=\"pill\">${creator.country || \"-\"}</div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    });\r\n    const emptyMsg = `No ${roleLabelText}s signed.`;\r\n    return `\r\n      <div class=\"rival-roster-group\">\r\n        <div class=\"tiny muted\">${roleLabelText}s (${formatCount(roleCreators.length)})</div>\r\n        <div class=\"list\">\r\n          ${items.length ? items.join(\"\") : `<div class=\"muted\">${emptyMsg}</div>`}\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n\r\n  const actItems = acts.map((act) => {\r\n    const actLabel = renderActName({ name: act.name, nameKey: act.nameKey });\r\n    const dateLabel = Number.isFinite(act.latest) ? formatShortDate(act.latest) : \"Unknown\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${actLabel}</div>\r\n            <div class=\"muted\">${formatCount(act.count)} release${act.count === 1 ? \"\" : \"s\"} | Last ${dateLabel}</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(act.count)}</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  const actMarkup = actItems.length\r\n    ? actItems.join(\"\")\r\n    : `<div class=\"muted\">No rival acts observed yet.</div>`;\r\n\r\n  const listMarkup = `\r\n    ${rivalrySummaryMarkup}\r\n    <div class=\"subhead\">Creators</div>\r\n    ${creatorSections}\r\n    <div class=\"subhead\">Acts</div>\r\n    <div class=\"list\">${actMarkup}</div>\r\n  `;\r\n  applyTargets({\r\n    selectMarkup,\r\n    selectValue,\r\n    listMarkup,\r\n    metaText\r\n  });\r\n}\r\n\r\nfunction renderWorkOrders() {\r\n  const listEl = $(\"workOrderList\");\r\n  if (!listEl) return;\r\n  if (!state.workOrders.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No active work orders.</div>`;\r\n    return;\r\n  }\r\n  const now = state.time.epochMs;\r\n  const list = state.workOrders.map((order) => {\r\n    const track = getTrack(order.trackId);\r\n    const crewIds = getWorkOrderCreatorIds(order);\r\n    const crew = crewIds.map((id) => getCreator(id)).filter(Boolean);\r\n    const crewLabel = buildWorkOrderCrewLabel(crew);\r\n    const stage = STAGES[order.stageIndex];\r\n    const hoursLeft = order.status === \"In Progress\" ? Math.max(0, Math.ceil((order.endAt - now) / HOUR_MS)) : \"Queued\";\r\n    const crewLine = `${stage?.name || \"Stage\"} | ${crewLabel.primary}`;\r\n    const crewDetail = crewLabel.secondary ? `<div class=\"muted\">${crewLabel.secondary}</div>` : \"\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${track ? renderTrackTitle(track.title) : \"Unknown\"}</div>\r\n            <div class=\"muted\">${crewLine}</div>\r\n            ${crewDetail}\r\n          </div>\r\n          <div class=\"pill\">${hoursLeft}h</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  listEl.innerHTML = list.join(\"\");\r\n}\r\n\r\nfunction buildChartSnapshotEntryMap(snapshot) {\r\n  if (!snapshot || !Array.isArray(snapshot.entries)) return null;\r\n  const map = new Map();\r\n  snapshot.entries.forEach((entry) => {\r\n    const key = entry?.trackId || null;\r\n    if (!key || map.has(key)) return;\r\n    map.set(key, entry);\r\n  });\r\n  return map;\r\n}\r\n\r\nfunction renderTrackHistoryPanel(activeTab) {\r\n  const panel = $(\"trackHistoryPanel\");\r\n  if (!panel || activeTab !== \"history\") return;\r\n  const listEl = $(\"trackHistoryList\");\r\n  if (!listEl) return;\r\n  const metaEl = $(\"trackHistoryMeta\");\r\n  const focusEra = getFocusedEra();\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\r\n  const targetEra = focusEra || fallbackEra;\r\n\r\n  if (!targetEra) {\r\n    panel.dataset.historyKey = \"\";\r\n    panel.dataset.historyStatus = \"\";\r\n    if (metaEl) metaEl.textContent = \"Focus an active era to view chart history.\";\r\n    listEl.innerHTML = `<div class=\"muted\">No active era selected.</div>`;\r\n    return;\r\n  }\r\n\r\n  const tracks = state.tracks.filter((track) => isTrackReleaseReleased(track, { includeShelved: true }) && track.eraId === targetEra.id);\n  if (metaEl) metaEl.textContent = `${targetEra.name} | ${formatCount(tracks.length)} released tracks`;\r\n  if (!tracks.length) {\r\n    panel.dataset.historyKey = \"\";\r\n    panel.dataset.historyStatus = \"\";\r\n    listEl.innerHTML = `<div class=\"muted\">No released tracks for ${targetEra.name} yet.</div>`;\r\n    return;\r\n  }\r\n\r\n  const chartWeek = Number.isFinite(state.meta?.chartHistoryLastWeek) ? state.meta.chartHistoryLastWeek : weekIndex() + 1;\r\n  const trackKey = tracks.map((track) => track.id).sort().join(\",\");\r\n  const cacheKey = `${targetEra.id}:${chartWeek}:${trackKey}`;\r\n  if (panel.dataset.historyKey === cacheKey && panel.dataset.historyStatus === \"ready\") {\r\n    return;\r\n  }\r\n\r\n  panel.dataset.historyKey = cacheKey;\r\n  panel.dataset.historyStatus = \"loading\";\r\n  listEl.innerHTML = `<div class=\"muted\">Loading chart history...</div>`;\r\n\r\n  const requestId = ++trackHistoryRequestId;\r\n  (async () => {\r\n    const weeks = await listChartWeeks();\r\n    if (requestId !== trackHistoryRequestId) return;\r\n    const currentWeek = weekIndex() + 1;\r\n    let weekNumbers = weeks.map((entry) => entry.week).filter((week) => week <= currentWeek);\r\n    if (!weekNumbers.length) {\r\n      listEl.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n      panel.dataset.historyStatus = \"ready\";\r\n      return;\r\n    }\r\n    const releaseWeeks = tracks\r\n      .map((track) => weekNumberFromEpochMs(track.releasedAt))\r\n      .filter((week) => Number.isFinite(week));\r\n    const minWeek = releaseWeeks.length ? Math.min(...releaseWeeks) : null;\r\n    if (minWeek) {\r\n      weekNumbers = weekNumbers.filter((week) => week >= minWeek);\r\n    }\r\n    if (!weekNumbers.length) {\r\n      listEl.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n      panel.dataset.historyStatus = \"ready\";\r\n      return;\r\n    }\r\n    weekNumbers.sort((a, b) => b - a);\r\n    const scopes = buildTrackHistoryScopes();\r\n    const snapshotsByWeek = new Map();\r\n    for (const week of weekNumbers) {\r\n      const snapshots = await Promise.all(scopes.map((scope) => fetchChartSnapshot(scope.scope, week)));\r\n      if (requestId !== trackHistoryRequestId) return;\r\n      const scopeMap = new Map();\r\n      snapshots.forEach((snapshot, index) => {\r\n        const entryMap = buildChartSnapshotEntryMap(snapshot);\r\n        if (entryMap) scopeMap.set(scopes[index].scope, entryMap);\r\n      });\r\n      snapshotsByWeek.set(week, scopeMap);\r\n    }\r\n    if (requestId !== trackHistoryRequestId) return;\r\n\r\n    const headerCells = scopes.map((scope) => `<th title=\"${scope.title}\">${scope.label}</th>`).join(\"\");\r\n    const historyMarkup = tracks.map((track) => {\r\n      const act = getAct(track.actId);\r\n      const project = track.projectName || `${track.title} - Single`;\r\n      const projectType = track.projectType || \"Single\";\r\n      const releaseDate = track.releasedAt ? formatShortDate(track.releasedAt) : \"TBD\";\r\n      const releaseWeek = weekNumberFromEpochMs(track.releasedAt);\r\n      const rows = weekNumbers.map((week) => {\r\n        const weekTitle = formatWeekRangeLabel(week);\r\n        const weekLabel = weekTitle;\r\n        const scopeMap = snapshotsByWeek.get(week);\r\n        const cells = scopes.map((scope) => {\r\n          const entryMap = scopeMap?.get(scope.scope);\r\n          const entry = entryMap?.get(track.id);\r\n          let value = \"-\";\r\n          let cellClass = \"chart-rank is-unreleased\";\r\n          if (Number.isFinite(releaseWeek) && week >= releaseWeek) {\r\n            if (entry && Number.isFinite(entry.rank)) {\r\n              value = `#${entry.rank}`;\r\n              cellClass = \"chart-rank\";\r\n            } else {\r\n              value = \"DNC\";\r\n              cellClass = \"chart-rank is-dnc\";\r\n            }\r\n          }\r\n          return `<td class=\"${cellClass}\">${value}</td>`;\r\n        }).join(\"\");\r\n        return `<tr><td title=\"${weekTitle}\">${weekLabel}</td>${cells}</tr>`;\r\n      }).join(\"\");\r\n\r\n      return `\r\n        <div class=\"list-item track-history-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n              <div class=\"muted\">Act: ${renderActName(act || \"Unassigned\")} | Project: ${renderProjectName(project)} (${projectType})</div>\r\n              <div class=\"muted\">Released ${releaseDate} | ${track.distribution || \"Digital\"}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"track-history-table-wrap\">\r\n            <table class=\"chart-table track-history-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Date Range</th>\r\n                  ${headerCells}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                ${rows}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n\r\n    listEl.innerHTML = historyMarkup;\r\n    panel.dataset.historyStatus = \"ready\";\r\n  })().catch(() => {\r\n    if (requestId !== trackHistoryRequestId) return;\r\n    listEl.innerHTML = `<div class=\"muted\">Chart history unavailable.</div>`;\r\n    panel.dataset.historyStatus = \"ready\";\r\n  });\r\n}\r\n\r\nfunction renderTracks() {\r\n  const activeView = state.ui.activeView || \"\";\r\n  const createStage = state.ui.createStage || \"sheet\";\r\n  const allTracks = state.tracks;\n  const pipelineTracks = allTracks.filter((track) => (\n    track.status === \"In Production\"\n    || track.status === \"Awaiting Demo\"\n    || track.status === \"Awaiting Master\"\n  ));\n  const archivedTracks = allTracks.filter((track) => isTrackReleaseReleased(track, { includeShelved: true }));\n  let tracks = allTracks.filter((track) => !isTrackReleaseReleased(track, { includeShelved: true }));\n  if (activeView === \"create\") {\r\n    tracks = pipelineTracks;\r\n    if (createStage === \"demo\") {\r\n      tracks = tracks.filter((track) => track.stageIndex === 1);\r\n    } else if (createStage === \"master\") {\r\n      tracks = tracks.filter((track) => track.stageIndex === 2);\r\n    }\r\n  }\r\n  const trackList = $(\"trackList\");\r\n  if (trackList) {\r\n    if (!tracks.length) {\r\n      let emptyMsg = activeView === \"create\" && createStage === \"demo\"\r\n        ? \"No sheet music awaiting demo recordings.\"\r\n        : activeView === \"create\" && createStage === \"master\"\r\n          ? \"No demos awaiting mastering.\"\r\n          : activeView === \"create\"\r\n            ? \"No tracks in the creation pipeline.\"\r\n            : \"No active tracks in catalog.\";\r\n      if (archivedTracks.length && emptyMsg === \"No active tracks in catalog.\") {\r\n        emptyMsg = `${emptyMsg} Released tracks are in the Archive.`;\r\n      }\r\n      trackList.innerHTML = `<div class=\"muted\">${emptyMsg}</div>`;\r\n    } else {\r\n      const focusEra = getFocusedEra();\r\n      const now = state.time.epochMs;\r\n      const list = tracks.map((track) => {\r\n    const stageName = track.status === \"In Production\" ? STAGES[Math.min(track.stageIndex, STAGES.length - 1)].name : track.status;\n    const grade = qualityGrade(track.quality);\n    const act = getAct(track.actId);\n    const project = track.projectName || `${track.title} - Single`;\n    const projectType = track.projectType || \"Single\";\n    const themeTag = renderThemeTag(track.theme);\r\n    const alignTag = renderAlignmentTag(track.alignment);\r\n    const actLine = activeView === \"create\"\r\n      ? `Project: ${project} (${projectType})`\r\n      : `Act: ${renderActName(act || \"Unassigned\")} | Project: ${renderProjectName(project)} (${projectType})`;\r\n    const era = track.eraId ? getEraById(track.eraId) : null;\r\n    const eraName = era ? era.name : null;\r\n    const focusSuffix = focusEra && era && focusEra.id === era.id ? \" | Focus\" : \"\";\n    const modifierName = track.modifier ? track.modifier.label : \"None\";\n    const genreLabel = renderTrackGenrePills(track, { fallback: \"Genre: -\" });\n    const releaseStatusLabel = getTrackReleaseStatusLabel(getTrackReleaseStatus(track));\n    const releaseSuffix = activeView !== \"create\" && !isTrackReleaseUnreleased(track)\n      ? ` | Release ${releaseStatusLabel}`\n      : \"\";\n    const activeOrder = track.status === \"In Production\"\n      ? state.workOrders.find((order) => order.trackId === track.id && order.status === \"In Progress\")\n      : null;\n    let progressBlock = \"\";\r\n    if (activeOrder && activeOrder.startAt && activeOrder.endAt) {\r\n      const total = Math.max(1, activeOrder.endAt - activeOrder.startAt);\r\n      const progress = clamp((now - activeOrder.startAt) / total, 0, 1);\r\n      const pct = Math.round(progress * 100);\r\n      const hoursLeft = Math.max(0, Math.ceil((activeOrder.endAt - now) / HOUR_MS));\r\n      progressBlock = `\r\n        <div class=\"bar\"><span style=\"width:${pct}%\"></span></div>\r\n        <div class=\"muted\">Progress: ${pct}%  ${hoursLeft}h left</div>\r\n      `;\r\n    } else if (track.status === \"In Production\") {\r\n      progressBlock = `<div class=\"muted\">Queued for studio time.</div>`;\r\n    }\r\n    return `\r\n      <div class=\"list-item\" data-entity-type=\"track\" data-entity-id=\"${track.id}\" data-entity-name=\"${track.title}\" draggable=\"true\">\r\n        <div class=\"list-row\">\r\n          <div class=\"item-main\">\r\n            <div class=\"content-thumb\" aria-hidden=\"true\"></div>\r\n            <div>\r\n              <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n              <div class=\"muted\">ID ${track.id} | Item: Track</div>\r\n              <div class=\"muted\">${genreLabel}</div>\r\n              <div class=\"muted\">${themeTag} ${alignTag}</div>\r\n              <div class=\"muted\">${actLine}</div>\r\n              <div class=\"muted\">Distribution: ${track.distribution || \"Digital\"}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"badge grade\" data-grade=\"${grade}\">${grade}</div>\r\n        </div>\n        <div class=\"muted\">Status: ${stageName}${releaseSuffix} | Quality ${track.quality}${eraName ? ` | Era: ${eraName}${focusSuffix}` : \"\"}</div>\n        ${progressBlock}\n      </div>\n    `;\n      });\r\n      trackList.innerHTML = list.join(\"\");\r\n    }\r\n  }\r\n\r\n  const archiveList = $(\"trackArchiveList\");\r\n  if (!archiveList) return;\r\n  if (!archivedTracks.length) {\r\n    archiveList.innerHTML = `<div class=\"muted\">No released tracks yet.</div>`;\r\n    return;\r\n  }\r\n  const sortedArchive = archivedTracks.slice().sort((a, b) => (b.releasedAt || 0) - (a.releasedAt || 0));\r\n  const archiveItems = sortedArchive.map((track) => {\n    const act = getAct(track.actId);\n    const project = track.projectName || `${track.title} - Single`;\n    const projectType = track.projectType || \"Single\";\n    const releaseDate = track.releasedAt ? formatDate(track.releasedAt) : \"TBD\";\n    const grade = qualityGrade(track.quality);\n    const releaseStatusLabel = getTrackReleaseStatusLabel(getTrackReleaseStatus(track));\n    const genreLabel = renderTrackGenrePills(track, { fallback: \"Genre: -\" });\n    const actLine = `Act: ${renderActName(act || \"Unassigned\")} | Project: ${renderProjectName(project)} (${projectType})`;\n    const inventory = track.physicalInventory || null;\n    const shelfLine = isTrackReleaseShelved(track) && inventory?.unitsProduced\n      ? `<div class=\"muted\">Shelved stock ${formatCount(inventory.unitsAvailable || 0)} / ${formatCount(inventory.unitsProduced || 0)}</div>`\n      : \"\";\n    return `\n      <div class=\"list-item\" data-entity-type=\"track\" data-entity-id=\"${track.id}\" data-entity-name=\"${track.title}\" draggable=\"true\">\n        <div class=\"list-row\">\n          <div class=\"item-main\">\n            <div class=\"content-thumb\" aria-hidden=\"true\"></div>\n            <div>\n              <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\n              <div class=\"muted\">ID ${track.id} | ${genreLabel}</div>\n              <div class=\"muted\">${actLine}</div>\n              <div class=\"muted\">Status: ${releaseStatusLabel} | Released ${releaseDate} | ${track.distribution || \"Digital\"}</div>\n              ${shelfLine}\n            </div>\n          </div>\n          <div class=\"badge grade\" data-grade=\"${grade}\">${grade}</div>\n        </div>\n      </div>\n    `;\r\n  });\r\n  archiveList.innerHTML = archiveItems.join(\"\");\r\n\r\n  let activeTab = state.ui.trackPanelTab || \"active\";\r\n  if (activeTab === \"history\" && !$(\"trackHistoryPanel\")) {\r\n    activeTab = \"active\";\r\n  }\r\n  document.querySelectorAll(\"[data-track-tab]\").forEach((tab) => {\r\n    const isActive = tab.dataset.trackTab === activeTab;\r\n    tab.classList.toggle(\"active\", isActive);\r\n    tab.setAttribute(\"aria-pressed\", String(isActive));\r\n  });\r\n  document.querySelectorAll(\"[data-track-panel]\").forEach((panel) => {\r\n    const isActive = panel.dataset.trackPanel === activeTab;\r\n    panel.classList.toggle(\"hidden\", !isActive);\r\n  });\r\n  renderTrackHistoryPanel(activeTab);\r\n}\r\n\r\nfunction renderRolloutStrategyPlanner() {\r\n  const select = $(\"rolloutStrategySelect\");\r\n  const summary = $(\"rolloutStrategySummary\");\r\n  const planLibrarySummary = $(\"rolloutPlanLibrarySummary\");\r\n  const weekInput = $(\"rolloutStrategyWeek\");\r\n  const dropInput = $(\"rolloutStrategyDropId\");\r\n  const eventTypeSelect = $(\"rolloutStrategyEventType\");\r\n  const eventContentInput = $(\"rolloutStrategyEventContent\");\r\n  const focusTypeSelect = $(\"rolloutStrategyFocusType\");\r\n  const focusTargetInput = $(\"rolloutStrategyFocusTarget\");\r\n  const focusTargetList = $(\"rolloutStrategyFocusTargetList\");\r\n  const autoRunToggle = $(\"rolloutStrategyAutoRun\");\r\n  const expandBtn = $(\"rolloutStrategyExpand\");\r\n  const addDropBtn = $(\"rolloutStrategyAddDrop\");\r\n  const addEventBtn = $(\"rolloutStrategyAddEvent\");\r\n  const createBtn = $(\"rolloutStrategyCreate\");\r\n  const templateSelect = $(\"rolloutStrategyTemplateSelect\");\r\n  const templateCreateBtn = $(\"rolloutStrategyTemplateCreate\");\r\n  const planLibrary = listRolloutPlanLibrary();\r\n  if (!select || !summary) return;\r\n\r\n  if (planLibrarySummary) {\r\n    planLibrarySummary.innerHTML = renderPlanLibraryList(planLibrary);\r\n  }\r\n\r\n  const era = getRolloutPlanningEra();\r\n  if (!era) {\r\n    select.innerHTML = `<option value=\"\">No active era</option>`;\r\n    summary.innerHTML = `<div class=\"muted\">Focus an active era to plan a rollout strategy.</div>`;\r\n    if (weekInput) weekInput.disabled = true;\r\n    if (dropInput) dropInput.disabled = true;\r\n    if (eventTypeSelect) eventTypeSelect.disabled = true;\r\n    if (eventContentInput) eventContentInput.disabled = true;\r\n    if (focusTypeSelect) focusTypeSelect.disabled = true;\r\n    if (focusTargetInput) focusTargetInput.disabled = true;\r\n    if (autoRunToggle) autoRunToggle.disabled = true;\r\n    if (expandBtn) expandBtn.disabled = true;\r\n    if (addDropBtn) addDropBtn.disabled = true;\r\n    if (addEventBtn) addEventBtn.disabled = true;\r\n    if (createBtn) createBtn.disabled = true;\r\n    if (templateSelect) {\r\n      templateSelect.innerHTML = `<option value=\"\">No active era</option>`;\r\n      templateSelect.disabled = true;\r\n    }\r\n    if (templateCreateBtn) templateCreateBtn.disabled = true;\r\n    return;\r\n  }\r\n\r\n  if (templateSelect) {\r\n    if (!planLibrary.length) {\r\n      templateSelect.innerHTML = `<option value=\"\">No plans yet</option>`;\r\n      templateSelect.disabled = true;\r\n      if (templateCreateBtn) templateCreateBtn.disabled = true;\r\n    } else {\r\n      templateSelect.innerHTML = planLibrary.map((plan) => {\r\n        const label = plan.label || plan.id || \"Rollout Plan\";\r\n        const focusTag = plan.focusType && plan.focusType !== \"Era\" ? ` (${plan.focusType})` : \"\";\r\n        return `<option value=\"${plan.id}\">${label}${focusTag}</option>`;\r\n      }).join(\"\");\r\n      const stored = state.ui?.viewContext?.selectedRolloutTemplateId;\r\n      const desired = planLibrary.some((plan) => plan.id === stored)\r\n        ? stored\r\n        : planLibrary[0].id;\r\n      templateSelect.value = desired;\r\n      if (state.ui?.viewContext) state.ui.viewContext.selectedRolloutTemplateId = desired;\r\n      templateSelect.disabled = false;\r\n      if (templateCreateBtn) templateCreateBtn.disabled = false;\r\n    }\r\n  }\r\n\r\n  const focusTypeOptions = [\"Era\", \"Release\", \"Project\", \"Tour\", \"Campaign\"];\r\n  if (focusTypeSelect) {\r\n    focusTypeSelect.innerHTML = focusTypeOptions\r\n      .map((type) => `<option value=\"${type}\">${type}</option>`)\r\n      .join(\"\");\r\n  }\r\n\r\n  const buildFocusTargetOptions = (focusType) => {\r\n    if (focusType === \"Release\") {\r\n      const tracks = state.tracks.filter((track) => !track.eraId || track.eraId === era.id);\r\n      return tracks.map((track) => (\r\n        `<option value=\"${track.id}\" label=\"${track.title}\"></option>`\r\n      )).join(\"\");\r\n    }\r\n    if (focusType === \"Project\") {\r\n      const projects = new Map();\r\n      state.tracks.forEach((track) => {\r\n        if (track.eraId && track.eraId !== era.id) return;\r\n        const name = track.projectName || `${track.title} - Single`;\r\n        const type = normalizeProjectType(track.projectType || \"Single\");\r\n        const key = `${name}::${type}`;\r\n        if (!projects.has(key)) projects.set(key, { name, type });\r\n      });\r\n      return Array.from(projects.values()).map((project) => (\r\n        `<option value=\"${project.name}\" label=\"${project.name} (${project.type})\"></option>`\r\n      )).join(\"\");\r\n    }\r\n    if (focusType === \"Tour\") {\r\n      const drafts = listTourDrafts();\r\n      return drafts.map((draft) => (\r\n        `<option value=\"${draft.id}\" label=\"${draft.name || draft.id}\"></option>`\r\n      )).join(\"\");\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  if (focusTargetList && focusTypeSelect) {\r\n    focusTargetList.innerHTML = buildFocusTargetOptions(focusTypeSelect.value || \"Era\");\r\n  }\r\n\r\n  const strategies = getRolloutStrategiesForEra(era.id);\r\n  if (!strategies.length) {\r\n    select.innerHTML = `<option value=\"\">No strategy yet</option>`;\r\n    summary.innerHTML = `<div class=\"muted\">No rollout strategies yet. Click New to create one.</div>`;\r\n    if (weekInput) weekInput.disabled = true;\r\n    if (dropInput) dropInput.disabled = true;\r\n    if (eventTypeSelect) eventTypeSelect.disabled = true;\r\n    if (eventContentInput) eventContentInput.disabled = true;\r\n    if (focusTypeSelect) focusTypeSelect.disabled = true;\r\n    if (focusTargetInput) focusTargetInput.disabled = true;\r\n    if (autoRunToggle) autoRunToggle.disabled = true;\r\n    if (expandBtn) expandBtn.disabled = true;\r\n    if (addDropBtn) addDropBtn.disabled = true;\r\n    if (addEventBtn) addEventBtn.disabled = true;\r\n    if (createBtn) createBtn.disabled = false;\r\n    return;\r\n  }\r\n\r\n  select.innerHTML = strategies.map((strategy) => {\r\n    const label = strategy.label || strategy.id;\r\n    return `<option value=\"${strategy.id}\">${label} | ${strategy.status}</option>`;\r\n  }).join(\"\");\r\n\r\n  const desiredId = state.ui.viewContext?.rolloutStrategyId || era.rolloutStrategyId || strategies[0].id;\r\n  const activeStrategy = strategies.find((strategy) => strategy.id === desiredId) || strategies[0];\r\n  select.value = activeStrategy.id;\r\n  setSelectedRolloutStrategyId(activeStrategy.id);\r\n\r\n  if (focusTypeSelect) {\r\n    focusTypeSelect.value = activeStrategy.focusType || \"Era\";\r\n    focusTypeSelect.disabled = false;\r\n  }\r\n  if (focusTargetList) {\r\n    focusTargetList.innerHTML = buildFocusTargetOptions(activeStrategy.focusType || \"Era\");\r\n  }\r\n  if (focusTargetInput) {\r\n    const focusValue = activeStrategy.focusLabel || activeStrategy.focusId || \"\";\r\n    if ((activeStrategy.focusType || \"Era\") === \"Era\") {\r\n      focusTargetInput.value = era.name || \"\";\r\n      focusTargetInput.disabled = true;\r\n    } else {\r\n      focusTargetInput.value = focusValue;\r\n      focusTargetInput.disabled = false;\r\n    }\r\n  }\r\n\r\n  if (eventTypeSelect) {\r\n    eventTypeSelect.innerHTML = Object.keys(PROMO_TYPE_DETAILS)\r\n      .map((key) => `<option value=\"${key}\">${PROMO_TYPE_DETAILS[key].label}</option>`)\r\n      .join(\"\");\r\n    if (!eventTypeSelect.value) eventTypeSelect.value = DEFAULT_PROMO_TYPE;\r\n  }\r\n\r\n  if (weekInput) {\r\n    weekInput.disabled = false;\r\n    const weekCount = activeStrategy.weeks.length;\r\n    const currentValue = Number(weekInput.value) || 1;\r\n    if (weekInput.tagName === \"SELECT\") {\r\n      const baseWeek = Number.isFinite(era?.startedWeek) ? era.startedWeek : weekIndex() + 1;\r\n      weekInput.innerHTML = activeStrategy.weeks.map((week, index) => {\r\n        const label = formatWeekRangeLabel(baseWeek + index);\r\n        return `<option value=\"${index + 1}\">${label}</option>`;\r\n      }).join(\"\");\r\n    } else {\r\n      weekInput.max = String(weekCount);\r\n    }\r\n    const parsed = Math.max(1, Math.min(weekCount, currentValue));\r\n    weekInput.value = String(parsed);\r\n  }\r\n  if (dropInput) dropInput.disabled = false;\r\n  if (eventTypeSelect) eventTypeSelect.disabled = false;\r\n  if (eventContentInput) eventContentInput.disabled = false;\r\n  if (autoRunToggle) {\r\n    autoRunToggle.disabled = false;\r\n    autoRunToggle.checked = Boolean(activeStrategy.autoRun);\r\n  }\r\n  if (expandBtn) expandBtn.disabled = false;\r\n  if (addDropBtn) addDropBtn.disabled = false;\r\n  if (addEventBtn) addEventBtn.disabled = false;\r\n  if (createBtn) createBtn.disabled = false;\r\n\r\n  const focusLine = formatPlanFocusLine(activeStrategy);\r\n  const header = `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">${activeStrategy.label || `Plan ${activeStrategy.id}`}</div>\r\n      <div class=\"muted\">ID ${activeStrategy.id} | Focus: ${focusLine}</div>\r\n      <div class=\"muted\">Status: ${activeStrategy.status} | Source: ${activeStrategy.source} | Windows: ${activeStrategy.weeks.length}</div>\r\n      ${renderPlanContextLines(activeStrategy.context)}\r\n    </div>\r\n  `;\r\n  const budgetSummary = renderRolloutBudgetSummary(activeStrategy);\r\n  const baseWeek = Number.isFinite(era?.startedWeek) ? era.startedWeek : weekIndex() + 1;\r\n  const rows = activeStrategy.weeks.map((week, index) => {\r\n    const dropCount = Array.isArray(week.drops) ? week.drops.length : 0;\r\n    const eventCount = Array.isArray(week.events) ? week.events.length : 0;\r\n    const windowLabel = formatWeekRangeLabel(baseWeek + index);\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">${windowLabel}</div>\r\n        <div class=\"muted\">Drops ${dropCount} | Events ${eventCount}</div>\r\n      </div>\r\n    `;\r\n  });\r\n  summary.innerHTML = rows.length\r\n    ? header + budgetSummary + rows.join(\"\")\r\n    : `${header}${budgetSummary}<div class=\"muted\">No rollout items yet.</div>`;\r\n}\r\n\r\nfunction renderEraStatus() {\r\n  const eraBox = $(\"eraStatus\");\r\n  if (!eraBox) return;\r\n  renderFocusEraStatus();\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const focusEra = getFocusedEra();\r\n  if (!activeEras.length) {\r\n    eraBox.innerHTML = `<div class=\"muted\">No active Eras. Start one or schedule a release.</div>`;\r\n    renderRolloutStrategyPlanner();\r\n    return;\r\n  }\r\n  eraBox.innerHTML = activeEras.map((era) => {\r\n    const act = getAct(era.actId);\r\n    const stageName = ERA_STAGES[era.stageIndex] || \"Complete\";\r\n    const stageWeeks = era.rolloutWeeks || ROLLOUT_PRESETS[1].weeks;\r\n    const stageTotal = stageWeeks[era.stageIndex] || 0;\r\n    const stageProgress = `${era.stageWeek}/${stageTotal} weeks`;\r\n    const content = era.contentTypes?.length ? era.contentTypes.join(\", \") : \"Unassigned\";\r\n    const startedLabel = Number.isFinite(era.startedWeek) ? formatWeekRangeLabel(era.startedWeek) : \"TBD\";\r\n    const isFocused = focusEra && focusEra.id === era.id;\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${era.name}</div>\r\n            <div class=\"muted\">Act: ${renderActName(act || \"Unknown\")}</div>\r\n            <div class=\"muted\">Stage: ${stageName} | ${stageProgress}</div>\r\n            <div class=\"muted\">Status: ${era.status} | Started ${startedLabel}</div>\r\n            <div class=\"muted\">Content: ${content}</div>\r\n          </div>\r\n          <div class=\"actions\">\r\n            ${isFocused ? `<span class=\"pill\">Focused</span>` : `<button type=\"button\" class=\"ghost mini\" data-era-focus=\"${era.id}\">Focus</button>`}\r\n            <button type=\"button\" class=\"ghost mini\" data-era-end=\"${era.id}\">End Era</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n  renderRolloutStrategyPlanner();\r\n}\r\n\r\nfunction renderEraHistoryPanel(targetEra) {\r\n  const panel = $(\"eraHistoryPanel\");\r\n  const listEl = $(\"eraHistoryList\");\r\n  if (!panel || !listEl) return;\r\n  const metaEl = $(\"eraHistoryMeta\");\r\n\r\n  if (!targetEra) {\r\n    panel.dataset.historyKey = \"\";\r\n    panel.dataset.historyStatus = \"\";\r\n    if (metaEl) metaEl.textContent = \"Focus an active era to view chart history.\";\r\n    listEl.innerHTML = `<div class=\"muted\">No active era selected.</div>`;\r\n    return;\r\n  }\r\n\r\n  const tracks = state.tracks.filter((track) => isTrackReleaseReleased(track, { includeShelved: true }) && track.eraId === targetEra.id);\n  if (metaEl) metaEl.textContent = `${targetEra.name} | ${formatCount(tracks.length)} released tracks`;\r\n  if (!tracks.length) {\r\n    panel.dataset.historyKey = \"\";\r\n    panel.dataset.historyStatus = \"\";\r\n    listEl.innerHTML = `<div class=\"muted\">No released tracks for ${targetEra.name} yet.</div>`;\r\n    return;\r\n  }\r\n\r\n  const chartWeek = Number.isFinite(state.meta?.chartHistoryLastWeek) ? state.meta.chartHistoryLastWeek : weekIndex() + 1;\r\n  const trackKey = tracks.map((track) => track.id).sort().join(\",\");\r\n  const cacheKey = `${targetEra.id}:${chartWeek}:${trackKey}`;\r\n  if (panel.dataset.historyKey === cacheKey && panel.dataset.historyStatus === \"ready\") {\r\n    return;\r\n  }\r\n\r\n  panel.dataset.historyKey = cacheKey;\r\n  panel.dataset.historyStatus = \"loading\";\r\n  listEl.innerHTML = `<div class=\"muted\">Loading chart history...</div>`;\r\n\r\n  const requestId = ++eraHistoryRequestId;\r\n  (async () => {\r\n    const weeks = await listChartWeeks();\r\n    if (requestId !== eraHistoryRequestId) return;\r\n    const currentWeek = weekIndex() + 1;\r\n    let weekNumbers = weeks.map((entry) => entry.week).filter((week) => week <= currentWeek);\r\n    if (!weekNumbers.length) {\r\n      listEl.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n      panel.dataset.historyStatus = \"ready\";\r\n      return;\r\n    }\r\n    const releaseWeeks = tracks\r\n      .map((track) => weekNumberFromEpochMs(track.releasedAt))\r\n      .filter((week) => Number.isFinite(week));\r\n    const minWeek = releaseWeeks.length ? Math.min(...releaseWeeks) : null;\r\n    if (minWeek) {\r\n      weekNumbers = weekNumbers.filter((week) => week >= minWeek);\r\n    }\r\n    if (!weekNumbers.length) {\r\n      listEl.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n      panel.dataset.historyStatus = \"ready\";\r\n      return;\r\n    }\r\n    weekNumbers.sort((a, b) => b - a);\r\n    const scopes = buildTrackHistoryScopes();\r\n    const snapshotsByWeek = new Map();\r\n    for (const week of weekNumbers) {\r\n      const snapshots = await Promise.all(scopes.map((scope) => fetchChartSnapshot(scope.scope, week)));\r\n      if (requestId !== eraHistoryRequestId) return;\r\n      const scopeMap = new Map();\r\n      snapshots.forEach((snapshot, index) => {\r\n        const entryMap = buildChartSnapshotEntryMap(snapshot);\r\n        if (entryMap) scopeMap.set(scopes[index].scope, entryMap);\r\n      });\r\n      snapshotsByWeek.set(week, scopeMap);\r\n    }\r\n    if (requestId !== eraHistoryRequestId) return;\r\n\r\n    const headerCells = scopes.map((scope) => `<th title=\"${scope.title}\">${scope.label}</th>`).join(\"\");\r\n    const historyMarkup = tracks.map((track) => {\r\n      const act = getAct(track.actId);\r\n      const project = track.projectName || `${track.title} - Single`;\r\n      const projectType = track.projectType || \"Single\";\r\n      const releaseDate = track.releasedAt ? formatShortDate(track.releasedAt) : \"TBD\";\r\n      const releaseWeek = weekNumberFromEpochMs(track.releasedAt);\r\n      const rows = weekNumbers.map((week) => {\r\n        const weekTitle = formatWeekRangeLabel(week);\r\n        const weekLabel = weekTitle;\r\n        const scopeMap = snapshotsByWeek.get(week);\r\n        const cells = scopes.map((scope) => {\r\n          const entryMap = scopeMap?.get(scope.scope);\r\n          const entry = entryMap?.get(track.id);\r\n          let value = \"-\";\r\n          let cellClass = \"chart-rank is-unreleased\";\r\n          if (Number.isFinite(releaseWeek) && week >= releaseWeek) {\r\n            if (entry && Number.isFinite(entry.rank)) {\r\n              value = `#${entry.rank}`;\r\n              cellClass = \"chart-rank\";\r\n            } else {\r\n              value = \"DNC\";\r\n              cellClass = \"chart-rank is-dnc\";\r\n            }\r\n          }\r\n          return `<td class=\"${cellClass}\">${value}</td>`;\r\n        }).join(\"\");\r\n        return `<tr><td title=\"${weekTitle}\">${weekLabel}</td>${cells}</tr>`;\r\n      }).join(\"\");\r\n\r\n      return `\r\n        <div class=\"list-item track-history-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n              <div class=\"muted\">Act: ${renderActName(act || \"Unassigned\")} | Project: ${renderProjectName(project)} (${projectType})</div>\r\n              <div class=\"muted\">Released ${releaseDate} | ${track.distribution || \"Digital\"}</div>\r\n            </div>\r\n          </div>\r\n          <div class=\"track-history-table-wrap\">\r\n            <table class=\"chart-table track-history-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Date Range</th>\r\n                  ${headerCells}\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                ${rows}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n\r\n    listEl.innerHTML = historyMarkup;\r\n    panel.dataset.historyStatus = \"ready\";\r\n  })().catch(() => {\r\n    if (requestId !== eraHistoryRequestId) return;\r\n    listEl.innerHTML = `<div class=\"muted\">Chart history unavailable.</div>`;\r\n    panel.dataset.historyStatus = \"ready\";\r\n  });\r\n}\r\n\r\nfunction renderEraPerformance() {\r\n  const tableWrap = $(\"eraPerformanceTableWrap\");\r\n  if (!tableWrap) return;\r\n  const metaEl = $(\"eraPerformanceMeta\");\r\n  const focusEra = getFocusedEra();\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\r\n  const targetEra = focusEra || fallbackEra;\r\n\r\n  if (!targetEra) {\r\n    if (metaEl) metaEl.textContent = \"Focus an active era to see performance details.\";\r\n    tableWrap.innerHTML = `<div class=\"muted\">No active era selected.</div>`;\r\n    renderEraHistoryPanel(null);\r\n    return;\r\n  }\r\n\r\n  const eraTracks = state.tracks.filter((track) => track.eraId === targetEra.id);\r\n  const released = eraTracks.filter((track) => isTrackReleaseReleased(track, { includeShelved: true }));\n  if (metaEl) metaEl.textContent = `${targetEra.name} | ${formatCount(eraTracks.length)} tracks | Released ${formatCount(released.length)}`;\r\n  if (!eraTracks.length) {\r\n    tableWrap.innerHTML = `<div class=\"muted\">No tracks linked to ${targetEra.name} yet.</div>`;\r\n    renderEraHistoryPanel(targetEra);\r\n    return;\r\n  }\r\n\r\n  const rows = eraTracks.map((track) => {\r\n    const act = getAct(track.actId);\r\n    const economy = track.economy || {};\r\n    const isReleased = isTrackReleaseReleased(track, { includeShelved: true });\n    const marketEntry = getMarketTrackByTrackId(track.id)\r\n      || getArchivedMarketTrackByTrackId(track.id);\r\n    const history = marketEntry?.chartHistory?.global || null;\r\n    const peakLabel = history?.peak ? `#${history.peak}` : \"-\";\r\n    const wocLabel = history?.weeks ? formatCount(history.weeks) : \"-\";\r\n    const chartPoints = isReleased ? formatCount(economy.chartPoints || 0) : \"-\";\r\n    const salesLabel = isReleased ? formatCount(economy.sales || 0) : \"-\";\r\n    const streamLabel = isReleased ? formatCount(economy.streaming || 0) : \"-\";\r\n    const revenueLabel = isReleased ? formatMoney(economy.revenue || 0) : \"-\";\r\n    const productionCost = economy.productionCost || 0;\r\n    const distributionFees = economy.distributionFees || 0;\r\n    const actualCosts = productionCost + distributionFees;\r\n    const net = isReleased ? formatMoney((economy.revenue || 0) - actualCosts) : \"-\";\r\n    const costsLabel = formatMoney(actualCosts || 0);\r\n    const physical = recommendPhysicalRun(track, { act, label: state.label });\r\n    const vinylUnits = physical.units ? formatCount(physical.units) : \"0\";\r\n    const vinylGross = formatMoney(physical.estimatedGross || 0);\r\n    const vinylCost = formatMoney(physical.estimatedCost || 0);\r\n    const unitPrice = formatMoney(physical.unitPrice || 0);\r\n    const unitCost = formatMoney(physical.unitCost || 0);\n    const budgetNote = physical.isBudgetCapped && Number.isFinite(physical.budgetCap)\n      ? `Budget cap ${formatCount(physical.budgetCap)}`\n      : \"\";\n    const inventory = track.physicalInventory || null;\n    const shelfLine = isTrackReleaseShelved(track) && inventory?.unitsProduced\n      ? `<div class=\"muted\">Shelved stock ${formatCount(inventory.unitsAvailable || 0)} / ${formatCount(inventory.unitsProduced || 0)}</div>`\n      : \"\";\n    const releaseDate = track.releasedAt ? formatShortDate(track.releasedAt) : \"TBD\";\n    const projectType = track.projectType || \"Single\";\n    const distribution = track.distribution || \"Digital\";\n\r\n    return `\r\n      <tr>\r\n        <td>\r\n          <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n          <div class=\"muted\">Act: ${renderActName(act || \"Unassigned\")} | Status: ${getTrackReleaseStatusLabel(getTrackReleaseStatus(track))}</div>\n        </td>\r\n        <td>\r\n          <div>${projectType}</div>\r\n          <div class=\"muted\">${distribution}</div>\r\n          <div class=\"muted\">Release ${releaseDate}</div>\r\n        </td>\r\n        <td>\r\n          <div class=\"chart-score\">${chartPoints}</div>\r\n          <div class=\"muted\">Peak ${peakLabel} | WOC ${wocLabel}</div>\r\n        </td>\r\n        <td>\r\n          <div>Sales ${salesLabel}</div>\r\n          <div class=\"muted\">Stream ${streamLabel}</div>\r\n        </td>\r\n        <td>\r\n          <div>Revenue ${revenueLabel}</div>\r\n          <div class=\"muted\">Costs ${costsLabel}</div>\r\n          <div class=\"muted\">Net ${net}</div>\r\n        </td>\r\n        <td>\n          <div>${vinylUnits} units</div>\n          <div class=\"muted\">${unitPrice} ea | ${unitCost} cost</div>\n          <div class=\"muted\">Gross ${vinylGross} | Cost ${vinylCost}</div>\n          ${budgetNote ? `<div class=\"muted\">${budgetNote}</div>` : \"\"}\n          ${shelfLine}\n        </td>\n      </tr>\n    `;\n  }).join(\"\");\r\n\r\n  tableWrap.innerHTML = `\r\n    <table class=\"chart-table era-performance-table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Content</th>\r\n          <th>Type</th>\r\n          <th>Charts</th>\r\n          <th>Sales</th>\r\n          <th>Economics</th>\r\n          <th>Vinyl Run</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        ${rows}\r\n      </tbody>\r\n    </table>\r\n  `;\r\n\r\n  renderEraHistoryPanel(targetEra);\r\n}\r\n\r\nfunction projectKey(projectName, projectType) {\r\n  const nameKey = normalizeProjectName(projectName);\r\n  const typeKey = normalizeProjectType(projectType);\r\n  return `${nameKey}::${typeKey}`;\r\n}\r\n\r\nfunction collectProjectSummaries(tracks, queuedIds) {\n  const summaries = new Map();\n  tracks.forEach((track) => {\n    const projectName = track.projectName || `${track.title} - Single`;\r\n    const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n    const key = projectKey(projectName, projectType);\r\n    const summary = summaries.get(key) || {\r\n      projectName,\r\n      projectType,\r\n      trackCount: 0,\r\n      readyCount: 0,\r\n      masteringCount: 0,\r\n      scheduledCount: 0,\r\n      releasedCount: 0,\r\n      actNames: new Set(),\r\n      revenue: 0,\r\n      productionCost: 0,\r\n      distributionFees: 0,\r\n      promoCost: 0,\r\n      costs: 0,\r\n      profit: 0\r\n    };\r\n    summary.trackCount += 1;\r\n    if (isTrackReleaseReleased(track, { includeShelved: true })) summary.releasedCount += 1;\n    if (track.status === \"Ready\") summary.readyCount += 1;\n    if (track.status !== \"Ready\" && isMasteringTrack(track)) summary.masteringCount += 1;\n    if (isTrackReleaseScheduled(track) || queuedIds.has(track.id)) summary.scheduledCount += 1;\n    const economy = track.economy || {};\r\n    summary.revenue += Number(economy.revenue || 0);\r\n    summary.productionCost += Number(economy.productionCost || 0);\r\n    summary.distributionFees += Number(economy.distributionFees || 0);\r\n    summary.promoCost += Number(economy.promoCost || 0);\r\n    summary.costs = summary.productionCost + summary.distributionFees + summary.promoCost;\r\n    summary.profit = summary.revenue - summary.costs;\r\n    const act = track.actId ? getAct(track.actId) : null;\r\n    if (act?.name) summary.actNames.add(act.name);\r\n    summaries.set(key, summary);\r\n  });\r\n  return Array.from(summaries.values()).sort((a, b) => a.projectName.localeCompare(b.projectName));\r\n}\r\n\r\nfunction renderReleaseDesk() {\r\n  const readyList = $(\"readyList\");\r\n  if (!readyList) return;\r\n  if (!state.ui) state.ui = {};\r\n  if (typeof document !== \"undefined\") {\r\n    const active = document.activeElement;\r\n    const activeSelect = active && active.matches\r\n      ? (active.matches(\"select[data-assign-act]\") || active.matches(\"select[data-release-type]\")) && readyList.contains(active)\r\n      : false;\r\n    if (state.ui.releaseDeskLock && !activeSelect) state.ui.releaseDeskLock = false;\r\n    if (state.ui.releaseDeskLock) return;\r\n  } else if (state.ui.releaseDeskLock) {\r\n    state.ui.releaseDeskLock = false;\r\n  }\r\n  const isReleaseReadyTrack = (track) => (\n    Boolean(track)\n    && (track.status === \"Ready\"\n      || isTrackReleaseScheduled(track)\n      || isTrackReleaseReleased(track, { includeShelved: true }))\n  );\n  const queueEntries = state.releaseQueue.map((entry) => {\n    const track = getTrack(entry.trackId);\n    const isReleaseReady = isReleaseReadyTrack(track);\n    return { entry, track, isReleaseReady };\n  });\n  const queuedIds = new Set(queueEntries.filter((item) => item.isReleaseReady).map((item) => item.entry.trackId));\n  const blockedQueue = queueEntries.filter((item) => !item.isReleaseReady);\n  const projectTracks = state.tracks.filter((track) => isReleaseReadyTrack(track) && track.actId);\n  const projectSummaries = collectProjectSummaries(projectTracks, queuedIds);\n  const hasReadyUnassigned = state.tracks.some((track) => isReleaseReadyTrack(track) && !track.actId);\n  const projectSummaryByKey = new Map(\r\n    projectSummaries.map((summary) => [projectKey(summary.projectName, summary.projectType), summary])\r\n  );\r\n  const projectList = $(\"releaseProjectList\");\r\n  if (projectList) {\r\n    if (!projectSummaries.length) {\r\n      const emptyMessage = hasReadyUnassigned\r\n        ? \"No projects yet. Assign an Act to mastered tracks to draft projects.\"\r\n        : \"No projects yet. Create content in Create, then return here to schedule releases.\";\r\n      projectList.innerHTML = `<div class=\"muted\">${emptyMessage}</div>`;\r\n    } else {\r\n      projectList.innerHTML = projectSummaries.map((summary) => {\r\n        const limits = getProjectTrackLimits(summary.projectType);\r\n        const minRemaining = Math.max(0, limits.min - summary.trackCount);\r\n        const maxRemaining = Math.max(0, limits.max - summary.trackCount);\r\n        const statusLabel = minRemaining > 0\r\n          ? `${minRemaining} to minimum`\r\n          : maxRemaining === 0\r\n            ? \"At cap\"\r\n            : `+${maxRemaining} slots`;\r\n        const statusClass = minRemaining > 0 || maxRemaining === 0 ? \"badge warn\" : \"badge\";\r\n        const readyLabel = `Ready ${formatCount(summary.readyCount)}`;\r\n        const masteringLabel = summary.masteringCount ? `Mastering ${formatCount(summary.masteringCount)}` : null;\r\n        const actLabel = summary.actNames.size\r\n          ? Array.from(summary.actNames).map((name) => renderActName(name)).join(\", \")\r\n          : \"Unassigned\";\r\n        const summaryParts = [\r\n          `${summary.projectType} | Tracks ${summary.trackCount}/${limits.max}`,\r\n          readyLabel,\r\n          masteringLabel,\r\n          `Scheduled ${formatCount(summary.scheduledCount)}`,\r\n          `Released ${formatCount(summary.releasedCount)}`\r\n        ].filter(Boolean).join(\" | \");\r\n        const revenueLabel = formatMoney(summary.revenue || 0);\r\n        const costsLabel = formatMoney(summary.costs || 0);\r\n        const profitLabel = formatMoney(summary.profit || 0);\r\n        const productionLabel = formatMoney(summary.productionCost || 0);\r\n        const distributionLabel = formatMoney(summary.distributionFees || 0);\r\n        const promoLabel = formatMoney(summary.promoCost || 0);\r\n        const economyLine = `Revenue ${revenueLabel} | Costs ${costsLabel} | Net ${profitLabel}`;\r\n        const inputsLine = `Inputs: Prod ${productionLabel} | Dist ${distributionLabel} | Promo ${promoLabel}`;\r\n        return `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div>\r\n                <div class=\"item-title\">${renderProjectName(summary.projectName)}</div>\r\n                <div class=\"muted\">${summaryParts}</div>\r\n                <div class=\"muted\">Acts: ${actLabel}</div>\r\n                <div class=\"muted\">${economyLine}</div>\r\n                <div class=\"muted\">${inputsLine}</div>\r\n              </div>\r\n              <div class=\"${statusClass}\">${statusLabel}</div>\r\n            </div>\r\n          </div>\r\n        `;\r\n      }).join(\"\");\r\n    }\r\n  }\r\n  const distributionSelect = $(\"releaseDistribution\");\r\n  const selectedDistribution = distributionSelect ? distributionSelect.value : \"Digital\";\r\n  const resolveReleaseFeeLabel = (distribution, { rush = false } = {}) => {\r\n    const distFee = getReleaseDistributionFee(distribution);\r\n    const rushFee = getReleaseRushFee(distribution, { rush });\r\n    return formatMoney(distFee + rushFee);\r\n  };\r\n  const selectedFeeLabel = resolveReleaseFeeLabel(selectedDistribution);\r\n  const rushFeeLabel = resolveReleaseFeeLabel(\"Digital\", { rush: true });\r\n  const canRush = selectedDistribution === \"Digital\";\r\n  const asapAt = getReleaseAsapAtForDistribution(selectedDistribution);\r\n  const asapLabel = formatDate(asapAt);\r\n  const rushAt = getReleaseAsapAtForDistribution(\"Digital\", { rush: true });\r\n  const rushLabel = formatDate(rushAt);\r\n  const readyTracks = state.tracks.filter((track) => {\r\n    if (queuedIds.has(track.id)) return false;\r\n    return track.status === \"Ready\";\r\n  });\r\n  const readyHtml = readyTracks.length\r\n    ? readyTracks.map((track) => {\r\n      const isReady = track.status === \"Ready\";\r\n      const act = getAct(track.actId);\r\n      const actOptions = state.acts.map((entry) => `<option value=\"${entry.id}\"${entry.id === track.actId ? \" selected\" : \"\"}>${entry.name}</option>`).join(\"\");\r\n      const actSelect = state.acts.length\r\n        ? `\r\n          <div class=\"field\">\r\n            <label>Assign Act</label>\r\n            <div class=\"input-row\">\r\n              <select data-assign-act=\"${track.id}\">\r\n                <option value=\"\">Select Act</option>\r\n                ${actOptions}\r\n              </select>\r\n              <button type=\"button\" class=\"ghost mini\" data-act-recommend=\"${track.id}\">Recommend</button>\r\n            </div>\r\n          </div>\r\n        `\r\n        : `<div class=\"muted\">No Acts available. Create one in Harmony Hub - Acts.</div>`;\r\n      const project = track.projectName || `${track.title} - Single`;\r\n      const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n      const releaseType = resolveTrackReleaseType(track);\r\n      const releaseTypeLabel = releaseType === \"Single\" ? \"Single\" : \"Project track\";\r\n      const editionLabel = track.projectEdition === \"Deluxe\" ? \" | Deluxe\" : \"\";\r\n      const limits = getProjectTrackLimits(projectType);\r\n      const summaryKey = projectKey(project, projectType);\r\n      const summary = projectSummaryByKey.get(summaryKey);\r\n      const projectCount = summary ? summary.trackCount : 1;\r\n      const minRemaining = Math.max(0, limits.min - projectCount);\r\n      const maxRemaining = Math.max(0, limits.max - projectCount);\r\n      const projectCountLine = minRemaining > 0\r\n        ? `Project size: ${projectCount}/${limits.max} (${minRemaining} to minimum)`\r\n        : maxRemaining === 0\r\n          ? `Project size: ${projectCount}/${limits.max} (at cap)`\r\n          : `Project size: ${projectCount}/${limits.max}`;\r\n      const themeTag = renderThemeTag(track.theme);\r\n      const alignTag = renderAlignmentTag(track.alignment);\r\n      const modifierName = track.modifier ? track.modifier.label : \"None\";\r\n      const derivedGenre = track.genre || makeGenre(track.theme, track.mood);\r\n      const grade = qualityGrade(track.quality);\r\n      const rec = derivedGenre ? recommendReleasePlan({ ...track, genre: derivedGenre }) : recommendReleasePlan(track);\r\n      const recScheduleLabel = rec.scheduleKey === \"rush\"\r\n        ? \"rush\"\r\n        : rec.scheduleKey === \"now\"\r\n          ? \"now\"\r\n          : rec.scheduleKey === \"fortnight\"\r\n            ? \"+14d\"\r\n            : rec.scheduleKey === \"week\"\r\n              ? \"+7d\"\r\n              : rec.scheduleKey;\r\n      const recLabel = `${rec.distribution} ${recScheduleLabel}`;\r\n      const recFeeLabel = resolveReleaseFeeLabel(rec.distribution, { rush: rec.rush });\n      const genreLabel = renderGenrePillsFromGenre(derivedGenre, { fallback: \"-\", alignment: track.alignment });\n      const hasAct = Boolean(track.actId);\n      const canSchedule = hasAct && isReady;\n      const eligibility = evaluatePhysicalEligibility(track, { labelFans: Number(state.label?.fans || 0) });\n      const qualityLabel = Number.isFinite(eligibility.quality) ? Math.round(eligibility.quality) : \"-\";\r\n      const minQualityLabel = Number.isFinite(eligibility.minQuality) ? Math.round(eligibility.minQuality) : 0;\r\n      const fansLabel = Number.isFinite(eligibility.fans) ? formatCount(eligibility.fans) : \"-\";\r\n      const minFansLabel = Number.isFinite(eligibility.minFans) ? formatCount(eligibility.minFans) : \"-\";\r\n      const eligibilityText = eligibility.ok\n        ? `Physical eligible: Quality ${qualityLabel}/${minQualityLabel}, Fans ${fansLabel}/${minFansLabel}`\n        : `Physical locked: Quality ${qualityLabel}/${minQualityLabel}, Fans ${fansLabel}/${minFansLabel}`;\n      const eligibilityClass = eligibility.ok ? \"muted\" : \"muted warn\";\n      const wantsShelvedPhysical = rec.distribution === \"Physical\"\n        || rec.distribution === \"Both\"\n        || selectedDistribution === \"Physical\"\n        || selectedDistribution === \"Both\";\n      const shelvedBadge = wantsShelvedPhysical\n        ? `<div class=\"badge${eligibility.ok ? \"\" : \" warn\"}\">Shelved physical ${eligibility.ok ? \"ready\" : \"locked\"}</div>`\n        : \"\";\n      const releaseTypeSelect = `\n        <div class=\"field\">\n          <label>Release Type</label>\n          <select data-release-type=\"${track.id}\">\n            <option value=\"Single\"${releaseType === \"Single\" ? \" selected\" : \"\"}>Single</option>\n            <option value=\"Project\"${releaseType === \"Project\" ? \" selected\" : \"\"}>Project track</option>\r\n          </select>\r\n        </div>\r\n      `;\r\n      return `\r\n        <div class=\"list-item\">\r\n          <div class=\"list-row\">\r\n            <div class=\"item-main\">\r\n              <div class=\"content-thumb\" aria-hidden=\"true\"></div>\r\n              <div>\r\n                <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n                <div class=\"muted\">${genreLabel} | <span class=\"grade-text\" data-grade=\"${grade}\">${grade}</span></div>\r\n                <div class=\"muted\">${themeTag} ${alignTag}</div>\r\n                <div class=\"muted\">Act: ${renderActName(act || \"Unassigned\")} | Project: ${renderProjectName(project)} (${projectType}${editionLabel})</div>\r\n                <div class=\"muted\">Release type: ${releaseTypeLabel}</div>\r\n                <div class=\"muted\">${projectCountLine}</div>\r\n                <div class=\"muted\">Modifier: ${modifierName}</div>\n                <div class=\"muted\">Recommended: ${recLabel} - ${rec.reason}</div>\n                <div class=\"${eligibilityClass}\">${eligibilityText}</div>\n                ${shelvedBadge}\n                ${releaseTypeSelect}\n                ${actSelect}\n              </div>\n            </div>\r\n            <div class=\"time-row\">\r\n              <div>\r\n              <button type=\"button\" data-release=\"asap\" data-track=\"${track.id}\"${canSchedule ? \"\" : \" disabled\"}>Release ASAP (${selectedFeeLabel})</button>\r\n                <div class=\"time-meta\">${asapLabel} (earliest Friday at midnight)</div>\r\n                ${canRush ? `<div class=\"time-meta\">Rush window: ${rushLabel}</div>` : \"\"}\r\n              </div>\r\n              <button type=\"button\" class=\"ghost\" data-release=\"rush\" data-track=\"${track.id}\"${canSchedule && canRush ? \"\" : \" disabled\"}>Instant (Rush) (${rushFeeLabel})</button>\r\n              <button type=\"button\" class=\"ghost\" data-release=\"week\" data-track=\"${track.id}\"${canSchedule ? \"\" : \" disabled\"}>+7d (${selectedFeeLabel})</button>\r\n              <button type=\"button\" class=\"ghost\" data-release=\"fortnight\" data-track=\"${track.id}\"${canSchedule ? \"\" : \" disabled\"}>+14d (${selectedFeeLabel})</button>\r\n              <button type=\"button\" class=\"ghost\" data-release=\"recommend\" data-track=\"${track.id}\"${canSchedule ? \"\" : \" disabled\"}>Use Recommended (${recFeeLabel})</button>\r\n              <button type=\"button\" class=\"ghost\" data-track-scrap=\"${track.id}\" title=\"Scrap this mastered track (removes it from the pipeline).\">Scrap</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join(\"\")\r\n    : `<div class=\"muted\">No release-ready tracks yet.</div>`;\r\n  readyList.innerHTML = readyHtml;\r\n\r\n  const releaseQueueList = $(\"releaseQueueList\");\r\n  if (!releaseQueueList) return;\r\n  if (!queueEntries.length) {\r\n    releaseQueueList.innerHTML = `<div class=\"muted\">No scheduled releases.</div>`;\r\n    return;\r\n  }\r\n  const blockedNote = (() => {\r\n    if (!blockedQueue.length) return \"\";\r\n    let missingCount = 0;\r\n    let unmasteredCount = 0;\r\n    blockedQueue.forEach(({ track }) => {\r\n      if (!track) missingCount += 1;\r\n      else unmasteredCount += 1;\r\n    });\r\n    const parts = [];\r\n    if (unmasteredCount) parts.push(`${formatCount(unmasteredCount)} not mastered yet`);\r\n    if (missingCount) parts.push(`${formatCount(missingCount)} missing track${missingCount === 1 ? \"\" : \"s\"}`);\r\n    return `<div class=\"muted\">Blocked: ${parts.join(\", \")}.</div>`;\r\n  })();\r\n  const releaseReadyQueue = queueEntries.filter((item) => item.isReleaseReady);\r\n  const queueHtml = releaseReadyQueue.length\r\n    ? releaseReadyQueue.map(({ entry, track }) => {\r\n      const date = formatDate(entry.releaseAt);\r\n      const act = track ? getAct(track.actId) : null;\r\n      const project = track ? (track.projectName || `${track.title} - Single`) : \"Unknown\";\r\n      const projectType = track ? normalizeProjectType(track.projectType || \"Single\") : \"Single\";\r\n      const releaseType = track ? resolveTrackReleaseType(track) : \"Single\";\r\n      const releaseTypeLabel = releaseType === \"Single\" ? \"Single\" : \"Project track\";\r\n      const editionLabel = track?.projectEdition === \"Deluxe\" ? \" | Deluxe\" : \"\";\r\n      const distribution = entry.rush ? \"Digital Rush\" : (entry.distribution || entry.note || \"Digital\");\r\n      return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div class=\"item-main\">\r\n            <div class=\"content-thumb\" aria-hidden=\"true\"></div>\r\n            <div>\r\n              <div class=\"item-title\">${track ? renderTrackTitle(track.title) : \"Unknown\"}</div>\r\n              <div class=\"muted\">${date} | ${distribution}</div>\r\n              <div class=\"muted\">Act: ${track ? renderActName(act || \"Unassigned\") : \"Unknown\"} | Project: ${renderProjectName(project)} (${projectType}${editionLabel})</div>\r\n              <div class=\"muted\">Release type: ${releaseTypeLabel}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n    }).join(\"\")\r\n    : `<div class=\"muted\">No release-ready scheduled entries.</div>`;\r\n  releaseQueueList.innerHTML = `${blockedNote}${queueHtml}`;\r\n  renderDistributionInventory();\r\n}\r\n\r\nfunction renderTouringDesk() {\r\n  const draftSelect = $(\"tourDraftSelect\");\r\n  if (!draftSelect) return;\r\n  if (!state.ui) state.ui = {};\r\n  if (typeof document !== \"undefined\") {\r\n    const active = document.activeElement;\r\n    const isTourField = active && typeof active.closest === \"function\" && active.closest(\"[data-tour-lock]\");\r\n    if (state.ui.tourDeskLock && !isTourField) state.ui.tourDeskLock = false;\r\n    if (state.ui.tourDeskLock) return;\r\n  } else if (state.ui.tourDeskLock) {\r\n    state.ui.tourDeskLock = false;\r\n  }\r\n  if (!state.ui.tourVenueFilters || typeof state.ui.tourVenueFilters !== \"object\") {\r\n    state.ui.tourVenueFilters = { nation: \"All\", regionId: \"All\", tier: \"All\" };\r\n  }\r\n  if (!Number.isFinite(state.ui.tourBookingWeek)) state.ui.tourBookingWeek = weekIndex() + 1;\r\n  if (!Number.isFinite(state.ui.tourBookingDay)) state.ui.tourBookingDay = 5;\r\n  if (!Number.isFinite(state.ui.tourAutoCount)) state.ui.tourAutoCount = 8;\r\n  state.ui.tourBookingWeek = Math.max(1, Math.round(state.ui.tourBookingWeek));\r\n  state.ui.tourBookingDay = clamp(Math.round(state.ui.tourBookingDay), 0, 6);\r\n  state.ui.tourAutoCount = Math.max(1, Math.round(state.ui.tourAutoCount));\r\n\r\n  const drafts = listTourDrafts();\r\n  let draft = getSelectedTourDraft();\r\n  if (!draft && drafts.length) draft = selectTourDraft(drafts[0].id);\r\n\r\n  const noticeEl = $(\"tourNotice\");\r\n  const nameInput = $(\"tourNameInput\");\r\n  const actSelect = $(\"tourActSelect\");\r\n  const eraSelect = $(\"tourEraSelect\");\r\n  const anchorSelect = $(\"tourAnchorSelect\");\r\n  const windowStartInput = $(\"tourWindowStart\");\r\n  const windowEndInput = $(\"tourWindowEnd\");\r\n  const autoCountInput = $(\"tourAutoCount\");\r\n  const autoGenerateBtn = $(\"tourAutoGenerateBtn\");\r\n  const plannerMeta = $(\"tourPlannerMeta\");\r\n\r\n  const act = draft?.actId ? getAct(draft.actId) : null;\r\n  const era = draft?.eraId ? getEraById(draft.eraId) : (act ? getLatestActiveEraForAct(act.id) : null);\r\n  const marketPool = Array.isArray(state.marketTracks) ? state.marketTracks : [];\r\n  const marketTracks = marketPool.filter((track) => {\r\n    if (!track || !track.isPlayer) return false;\r\n    if (!draft?.actId) return false;\r\n    if (track.actId !== draft.actId) return false;\r\n    if (draft?.eraId && track.eraId !== draft.eraId) return false;\r\n    return true;\r\n  });\r\n\r\n  const defaultNotice = (() => {\r\n    if (!draft) return { message: \"Create a tour draft to begin planning.\", tone: \"warn\" };\r\n    if (!draft.actId) return { message: \"Assign an Act to unlock venues and projections.\", tone: \"warn\" };\r\n    if (!era || era.status !== \"Active\") return { message: \"Touring requires an active Era for the selected Act.\", tone: \"warn\" };\r\n    if (!marketTracks.length) return { message: \"Touring requires released Project or Track content.\", tone: \"warn\" };\r\n    return { message: \"Plan the window, pick an anchor release, then book venues to build the route.\", tone: \"info\" };\r\n  })();\r\n  const notice = state.ui.tourNotice || defaultNotice;\r\n  if (noticeEl) {\r\n    noticeEl.textContent = notice.message || defaultNotice.message;\r\n    noticeEl.className = `callout${notice.tone === \"warn\" ? \" callout--warn\" : \"\"}`;\r\n  }\r\n\r\n  if (draftSelect) {\r\n    if (!drafts.length) {\r\n      draftSelect.innerHTML = `<option value=\"\">No drafts yet</option>`;\r\n    } else {\r\n      draftSelect.innerHTML = drafts.map((entry) => (\r\n        `<option value=\"${entry.id}\"${draft?.id === entry.id ? \" selected\" : \"\"}>${entry.name || entry.id}</option>`\r\n      )).join(\"\");\r\n    }\r\n    draftSelect.value = draft?.id || \"\";\r\n  }\r\n\r\n  if (nameInput) {\r\n    nameInput.value = draft?.name || \"\";\r\n    nameInput.disabled = !draft;\r\n  }\r\n  if (actSelect) {\r\n    const acts = Array.isArray(state.acts) ? state.acts : [];\r\n    const options = acts.map((entry) => `<option value=\"${entry.id}\">${entry.name}</option>`).join(\"\");\r\n    actSelect.innerHTML = `<option value=\"\">Select Act</option>${options}`;\r\n    actSelect.value = draft?.actId || \"\";\r\n    actSelect.disabled = !draft || !acts.length;\r\n  }\r\n  if (eraSelect) {\r\n    const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n    const options = activeEras\r\n      .filter((entry) => !draft?.actId || entry.actId === draft.actId)\r\n      .map((entry) => {\r\n        const eraAct = getAct(entry.actId);\r\n        const actLabel = eraAct ? ` (${eraAct.name})` : \"\";\r\n        return `<option value=\"${entry.id}\">${entry.name}${actLabel}</option>`;\r\n      }).join(\"\");\r\n    eraSelect.innerHTML = `<option value=\"\">Auto (latest active)</option>${options}`;\r\n    eraSelect.value = draft?.eraId || \"\";\r\n    eraSelect.disabled = !draft;\r\n  }\r\n\r\n  if (anchorSelect) {\r\n    let anchorValue = \"auto\";\r\n    if (draft?.anchorTrackIds?.length) {\r\n      anchorValue = `track:${draft.anchorTrackIds[0]}`;\r\n    } else if (draft?.anchorProjectId) {\r\n      anchorValue = draft.anchorProjectId;\r\n    }\r\n    const sortedTracks = marketTracks.slice().sort((a, b) => (b.releasedAt || 0) - (a.releasedAt || 0));\r\n    const projectMap = new Map();\r\n    sortedTracks.forEach((track) => {\r\n      const projectName = track.projectName || `${track.title} - Single`;\r\n      const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n      const key = `${normalizeProjectName(projectName)}::${projectType}`;\r\n      if (!projectMap.has(key)) projectMap.set(key, track);\r\n    });\r\n    const projectOptions = Array.from(projectMap.values()).map((track) => {\r\n      const key = buildPromoProjectKeyFromTrack(track);\r\n      if (!key) return \"\";\r\n      const projectName = track.projectName || `${track.title} - Single`;\r\n      const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n      const label = `${projectName} (${projectType})`;\r\n      return `<option value=\"${key}\">${label}</option>`;\r\n    }).filter(Boolean).join(\"\");\r\n    const trackOptions = sortedTracks.map((track) => {\r\n      const trackId = track.trackId || track.id;\r\n      if (!trackId) return \"\";\r\n      const projectName = track.projectName || `${track.title} - Single`;\r\n      const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n      const suffix = projectType === \"Single\" ? \"Single\" : projectType;\r\n      return `<option value=\"track:${trackId}\">${track.title} (${suffix} | ${projectName})</option>`;\r\n    }).filter(Boolean).join(\"\");\r\n    anchorSelect.innerHTML = `\r\n      <option value=\"auto\">Auto (latest release)</option>\r\n      ${projectOptions ? `<optgroup label=\"Projects\">${projectOptions}</optgroup>` : \"\"}\r\n      ${trackOptions ? `<optgroup label=\"Tracks\">${trackOptions}</optgroup>` : \"\"}\r\n    `;\r\n    anchorSelect.value = anchorValue;\r\n    anchorSelect.disabled = !draft || !draft.actId || !marketTracks.length;\r\n  }\r\n\r\n  const windowStartWeek = Number.isFinite(draft?.window?.startWeek) ? Math.round(draft.window.startWeek) : null;\r\n  const windowEndWeek = Number.isFinite(draft?.window?.endWeek) ? Math.round(draft.window.endWeek) : null;\r\n  if (windowStartInput) {\r\n    if (windowStartInput.tagName === \"SELECT\") {\r\n      windowStartInput.innerHTML = buildWeekSelectOptions({\r\n        selectedWeek: windowStartWeek,\r\n        startWeek: weekIndex() + 1,\r\n        count: 24,\r\n        placeholder: \"Start window\"\r\n      });\r\n      windowStartInput.value = windowStartWeek ? String(windowStartWeek) : \"\";\r\n    } else {\r\n      windowStartInput.value = windowStartWeek ? String(windowStartWeek) : \"\";\r\n    }\r\n    windowStartInput.disabled = !draft;\r\n  }\r\n  if (windowEndInput) {\r\n    if (windowEndInput.tagName === \"SELECT\") {\r\n      windowEndInput.innerHTML = buildWeekSelectOptions({\r\n        selectedWeek: windowEndWeek,\r\n        startWeek: weekIndex() + 1,\r\n        count: 24,\r\n        placeholder: \"End window\"\r\n      });\r\n      windowEndInput.value = windowEndWeek ? String(windowEndWeek) : \"\";\r\n    } else {\r\n      windowEndInput.value = windowEndWeek ? String(windowEndWeek) : \"\";\r\n    }\r\n    windowEndInput.disabled = !draft;\r\n  }\r\n  if (autoCountInput) {\r\n    autoCountInput.value = String(state.ui.tourAutoCount || 1);\r\n    autoCountInput.disabled = !draft;\r\n  }\r\n  if (autoGenerateBtn) {\r\n    autoGenerateBtn.disabled = !draft;\r\n  }\r\n  if (plannerMeta) {\r\n    const actLabel = act ? renderActName(act) : \"No Act\";\r\n    const eraLabel = era ? era.name : \"No active Era\";\r\n    plannerMeta.textContent = `Status: ${draft?.status || \"Draft\"} | Act: ${actLabel} | Era: ${eraLabel}`;\r\n  }\r\n\r\n  const timelineList = $(\"tourTimelineList\");\r\n  if (timelineList) {\r\n    const bookings = draft ? listTourBookings({ tourId: draft.id }) : [];\r\n    const ordered = bookings.slice().sort((a, b) => (a.scheduledAt || 0) - (b.scheduledAt || 0));\r\n    if (!draft) {\r\n      timelineList.innerHTML = `<div class=\"muted\">No tour draft selected yet.</div>`;\r\n    } else if (!ordered.length) {\r\n      timelineList.innerHTML = `<div class=\"muted\">No tour dates booked yet.</div>`;\r\n    } else {\r\n      timelineList.innerHTML = ordered.map((booking) => {\r\n        const isCompleted = booking.status === \"Completed\";\r\n        const projection = booking.projection || {};\r\n        const attendance = Number(isCompleted ? booking.attendance : projection.attendance || 0);\r\n        const revenue = Number(isCompleted ? booking.revenue : projection.revenue || 0);\r\n        const costs = Number(isCompleted ? booking.costs : projection.costs || 0);\r\n        const profit = Number(isCompleted ? booking.profit : projection.profit || 0);\n        const warnings = Array.isArray(booking.warnings) ? booking.warnings : [];\n        const warningLine = warnings.length\n          ? `<div class=\"muted tour-warning-line\">${warnings.map((warn) => warn.message || warn.code || \"Warning\").join(\" | \")}</div>`\n          : \"\";\n        const catalogMerch = booking.catalogMerch || null;\n        const merchTrack = catalogMerch?.trackId ? getTrack(catalogMerch.trackId) : null;\n        const merchLabel = catalogMerch\n          ? `<div class=\"muted\">${catalogMerch.kind === \"dvd\" ? \"DVD merch\" : \"Catalog merch\"}: ${formatCount(catalogMerch.units || 0)} units ${merchTrack ? `(${renderTrackTitle(merchTrack.title)})` : \"\"}</div>`\n          : \"\";\n        const statusBadge = isCompleted ? \"badge\" : \"badge warn\";\n        const canRemove = !isCompleted;\n        return `\n          <div class=\"list-item\">\n            <div class=\"list-row\">\n              <div>\n                <div class=\"item-title\">${booking.venueLabel || \"Venue\"} | ${formatDate(booking.scheduledAt)}</div>\n                <div class=\"muted\">${booking.weekNumber ? formatWeekRangeLabel(booking.weekNumber) : \"Date range -\"} | ${DAYS?.[booking.dayIndex] || \"Day\"} | ${booking.regionId || \"Region\"} (${booking.tier || \"Tier\"})</div>\n                <div class=\"muted\">${isCompleted ? \"Actual\" : \"Projected\"} attendance ${formatCount(attendance)} | Revenue ${formatMoney(revenue)} | Costs ${formatMoney(costs)} | Profit ${formatMoney(profit)}</div>\n                ${merchLabel}\n                ${warningLine}\n              </div>\n              <div class=\"${statusBadge}\">${isCompleted ? \"Completed\" : \"Booked\"}</div>\n            </div>\n            <div class=\"actions\">\n              <button type=\"button\" class=\"ghost mini\" data-tour-remove=\"${booking.id}\"${canRemove ? \"\" : \" disabled\"}>Remove</button>\r\n            </div>\r\n          </div>\r\n        `;\r\n      }).join(\"\");\r\n    }\r\n  }\r\n\r\n  const bookingWeekInput = $(\"tourBookingWeek\");\r\n  const bookingDaySelect = $(\"tourBookingDay\");\r\n  const bookingWeekValue = Number.isFinite(state.ui.tourBookingWeek) ? state.ui.tourBookingWeek : weekIndex() + 1;\r\n  if (bookingWeekInput) {\r\n    if (bookingWeekInput.tagName === \"SELECT\") {\r\n      bookingWeekInput.innerHTML = buildWeekSelectOptions({\r\n        selectedWeek: bookingWeekValue,\r\n        startWeek: weekIndex() + 1,\r\n        count: 24,\r\n        placeholder: \"Date range\"\r\n      });\r\n      bookingWeekInput.value = String(bookingWeekValue);\r\n    } else {\r\n      bookingWeekInput.value = String(bookingWeekValue);\r\n    }\r\n    bookingWeekInput.disabled = !draft;\r\n  }\r\n  if (bookingDaySelect) {\r\n    bookingDaySelect.value = String(state.ui.tourBookingDay ?? 5);\r\n    bookingDaySelect.disabled = !draft;\r\n  }\r\n\r\n  const venueNation = $(\"tourVenueNation\");\r\n  const venueRegion = $(\"tourVenueRegion\");\r\n  const venueTier = $(\"tourVenueTier\");\r\n  if (venueNation) {\r\n    const options = NATIONS.map((nation) => `<option value=\"${nation}\">${nation}</option>`).join(\"\");\r\n    venueNation.innerHTML = `<option value=\"All\">All Nations</option>${options}`;\r\n    venueNation.value = state.ui.tourVenueFilters.nation || \"All\";\r\n    venueNation.disabled = !draft;\r\n  }\r\n  if (venueRegion) {\r\n    const options = REGION_DEFS.map((region) => `<option value=\"${region.id}\">${region.label}</option>`).join(\"\");\r\n    venueRegion.innerHTML = `<option value=\"All\">All Regions</option>${options}`;\r\n    venueRegion.value = state.ui.tourVenueFilters.regionId || \"All\";\r\n    venueRegion.disabled = !draft;\r\n  }\r\n  if (venueTier) {\r\n    const tiers = listTourTiers();\r\n    const options = tiers.map((tier) => `<option value=\"${tier}\">${tier}</option>`).join(\"\");\r\n    venueTier.innerHTML = `<option value=\"All\">All Tiers</option>${options}`;\r\n    venueTier.value = state.ui.tourVenueFilters.tier || \"All\";\r\n    venueTier.disabled = !draft;\r\n  }\r\n\r\n  const venueList = $(\"tourVenueList\");\r\n  if (venueList) {\r\n    if (!draft) {\r\n      venueList.innerHTML = `<div class=\"muted\">Create a tour draft to browse venues.</div>`;\r\n    } else {\r\n      const filters = state.ui.tourVenueFilters || {};\r\n      const filterNation = filters.nation !== \"All\" ? filters.nation : null;\r\n      const filterRegion = filters.regionId !== \"All\" ? filters.regionId : null;\r\n      const filterTier = filters.tier !== \"All\" ? filters.tier : null;\r\n      const venues = listTourVenues({ nation: filterNation, regionId: filterRegion, tier: filterTier });\r\n      const tierOrder = listTourTiers();\r\n      const tierIndex = (tier) => {\r\n        const index = tierOrder.indexOf(tier);\r\n        return index >= 0 ? index : tierOrder.length;\r\n      };\r\n      venues.sort((a, b) => {\r\n        const tierDelta = tierIndex(a.tier) - tierIndex(b.tier);\r\n        if (tierDelta !== 0) return tierDelta;\r\n        return (a.capacity || 0) - (b.capacity || 0);\r\n      });\r\n      const week = state.ui.tourBookingWeek || weekIndex() + 1;\r\n      const dayIndex = state.ui.tourBookingDay ?? 5;\r\n      const scheduledAt = weekStartEpochMs(week) + dayIndex * DAY_MS;\r\n      const anchor = draft && act ? resolveTourAnchor(draft, act.id, era?.id) : { primary: null };\r\n      const projectionsReady = !!(draft && act && era && marketTracks.length);\r\n      if (!venues.length) {\r\n        venueList.innerHTML = `<div class=\"muted\">No venues match the current filters.</div>`;\r\n      } else {\r\n        venueList.innerHTML = venues.map((venue) => {\r\n          const availability = getTourVenueAvailability(venue.id, scheduledAt);\r\n          const validation = validateTourBooking({ draft, venue, scheduledAt });\r\n          const projection = validation.projection || (projectionsReady\r\n            ? computeTourProjection({ draft, act, era, venue, scheduledAt, anchor: anchor.primary })\r\n            : null);\r\n          const slotsLabel = `${availability.available}/${availability.capacity} slots`;\r\n          const projectionLine = projection\r\n            ? `Projected attendance ${formatCount(projection.attendance)} | Profit ${formatMoney(projection.profit)}`\r\n            : \"Projection unavailable (needs Act + Era + released content).\";\r\n          const blockLine = !validation.ok && validation.reason\r\n            ? `<div class=\"muted tour-warning-line\">${validation.reason}</div>`\r\n            : \"\";\r\n          const canBook = validation.ok;\r\n          return `\r\n            <div class=\"list-item\">\r\n              <div class=\"list-row\">\r\n                <div>\r\n                  <div class=\"item-title\">${venue.label}</div>\r\n                  <div class=\"muted\">${venue.tier} | ${venue.regionId} | Capacity ${formatCount(venue.capacity)}</div>\r\n                  <div class=\"muted\">Availability ${slotsLabel} | ${formatDate(scheduledAt)}</div>\r\n                  <div class=\"muted\">${projectionLine}</div>\r\n                  ${blockLine}\r\n                </div>\r\n                <div class=\"actions\">\r\n                  <button type=\"button\" data-tour-book=\"${venue.id}\"${canBook ? \"\" : \" disabled\"}>Book</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          `;\r\n        }).join(\"\");\r\n      }\r\n    }\r\n  }\r\n\r\n  const summaryList = $(\"tourBudgetSummary\");\r\n  const warningList = $(\"tourWarningList\");\r\n  const crewSummaryList = $(\"tourCrewSummary\");\r\n  const crewStaminaList = $(\"tourCrewStaminaList\");\r\n  if (summaryList) {\r\n    if (!draft) {\r\n      summaryList.innerHTML = `<div class=\"muted\">Select a tour draft to see projections.</div>`;\r\n    } else {\r\n      const summary = computeTourDraftSummary(draft.id);\r\n      if (!summary.count) {\r\n        summaryList.innerHTML = `<div class=\"muted\">No tour dates booked yet.</div>`;\r\n      } else {\r\n        const legLine = (summary.legs || [])\r\n          .map((leg) => `${leg.regionLabel} (${leg.count})`)\r\n          .join(\" | \");\r\n        summaryList.innerHTML = `\r\n          <div class=\"list-item\">\r\n            <div class=\"item-title\">Tour summary</div>\r\n            <div class=\"muted\">Dates ${formatCount(summary.count)} | Attendance ${formatCount(summary.attendance)}</div>\r\n            ${legLine ? `<div class=\"muted\">Legs ${summary.legCount} | ${legLine}</div>` : \"\"}\r\n            <div class=\"muted\">Revenue ${formatMoney(summary.revenue)} | Costs ${formatMoney(summary.costs)} | Profit ${formatMoney(summary.profit)}</div>\r\n          </div>\r\n        `;\r\n      }\r\n    }\r\n  }\r\n  if (crewSummaryList || crewStaminaList) {\r\n    if (!draft) {\r\n      const message = `<div class=\"muted\">Select a tour draft to see crew readiness.</div>`;\r\n      if (crewSummaryList) crewSummaryList.innerHTML = message;\r\n      if (crewStaminaList) crewStaminaList.innerHTML = message;\r\n    } else if (!act) {\r\n      const message = `<div class=\"muted\">Assign an Act to view crew readiness.</div>`;\r\n      if (crewSummaryList) crewSummaryList.innerHTML = message;\r\n      if (crewStaminaList) crewStaminaList.innerHTML = message;\r\n    } else {\r\n      const crew = (act.memberIds || []).map((id) => getCreator(id)).filter(Boolean);\r\n      if (!crew.length) {\r\n        const message = `<div class=\"muted\">No crew assigned for this Act yet.</div>`;\r\n        if (crewSummaryList) crewSummaryList.innerHTML = message;\r\n        if (crewStaminaList) crewStaminaList.innerHTML = message;\r\n      } else {\r\n        const crewCount = crew.length;\r\n        const staffing = resolveTourStaffingBoost(crew);\r\n        const staminaProfile = resolveTourDateStaminaCost(crewCount, staffing.boostPct);\r\n        const perDateCost = staminaProfile.perMember;\r\n        const projectedCost = Math.max(1, Math.ceil(perDateCost || 0));\r\n        const now = state.time?.epochMs || Date.now();\r\n        const upcomingBookings = listTourBookings({ tourId: draft.id })\r\n          .filter((booking) => booking?.status !== \"Completed\" && Number.isFinite(booking?.scheduledAt))\r\n          .filter((booking) => booking.scheduledAt >= now);\r\n        const upcomingDates = upcomingBookings.length;\r\n        const avgSkill = crew.reduce((sum, creator) => sum + Number(creator.skill || 0), 0) / crewCount;\r\n        const avgCatharsis = crew.reduce((sum, creator) => sum + getCreatorCatharsisScore(creator), 0) / crewCount;\r\n        const avgStamina = crew.reduce((sum, creator) => sum + Number(creator.stamina || 0), 0) / crewCount;\r\n        const avgStaminaPct = STAMINA_MAX ? clamp(avgStamina / STAMINA_MAX, 0, 1) : 0;\r\n        const avgSkillPct = SKILL_MAX ? clamp(avgSkill / SKILL_MAX, 0, 1) : 0;\r\n        const maxDates = crew.map((creator) => (\r\n          estimateCreatorMaxConsecutiveTourDates(creator, crewCount, { boostPct: staffing.boostPct })\r\n        ));\r\n        const minMaxDates = maxDates.length ? Math.min(...maxDates) : 0;\r\n        const avgMaxDates = maxDates.length\r\n          ? maxDates.reduce((sum, value) => sum + value, 0) / maxDates.length\r\n          : 0;\r\n        const projectedSpend = Math.max(0, Math.round(perDateCost * upcomingDates));\r\n        const projectedFatigue = avgStamina > 0 ? Math.round((projectedSpend / avgStamina) * 100) : 0;\r\n        const staffingBoostPct = Math.round(staffing.boostPct * 100);\r\n        const staffingLine = `Staffing boost +${staffingBoostPct}% | Date cost ${formatCount(Math.round(perDateCost))} stamina per creator`;\r\n        const overuseEntries = crew.map((creator) => {\r\n          const spent = getCreatorStaminaSpentToday(creator);\r\n          const projected = spent + projectedCost;\r\n          const risk = STAMINA_OVERUSE_LIMIT > 0\r\n            ? projected > STAMINA_OVERUSE_LIMIT\r\n              ? 2\r\n              : projected >= STAMINA_OVERUSE_LIMIT * 0.75\r\n                ? 1\r\n                : 0\r\n            : 0;\r\n          return { creator, spent, projected, risk };\r\n        });\r\n        const overuseRiskCount = overuseEntries.filter((entry) => entry.risk > 0).length;\r\n        const readiness = (() => {\r\n          if (upcomingDates && minMaxDates > 0 && upcomingDates > minMaxDates) {\r\n            return { label: \"Overbooked\", className: \"badge danger\" };\r\n          }\r\n          if (avgStaminaPct < 0.35 || avgSkillPct < 0.45) {\r\n            return { label: \"Strained\", className: \"badge warn\" };\r\n          }\r\n          if (upcomingDates > 0 && (avgStaminaPct < 0.55 || avgSkillPct < 0.55)) {\r\n            return { label: \"Warming\", className: \"badge warn\" };\r\n          }\r\n          return { label: \"Ready\", className: \"badge\" };\r\n        })();\r\n\r\n        if (crewSummaryList) {\r\n          const upcomingLabel = upcomingDates\r\n            ? `${formatCount(upcomingDates)} upcoming date${upcomingDates === 1 ? \"\" : \"s\"}`\r\n            : \"No upcoming dates\";\r\n          const staminaLabel = STAMINA_MAX\r\n            ? `${formatCount(Math.round(avgStamina))} / ${STAMINA_MAX}`\r\n            : formatCount(Math.round(avgStamina));\r\n          const skillLabel = formatCount(Math.round(avgSkill));\r\n          const catharsisLabel = formatCount(Math.round(avgCatharsis));\r\n          const streakLabel = minMaxDates > 0\r\n            ? `Min streak ${formatCount(minMaxDates)} dates | Avg streak ${formatCount(Math.round(avgMaxDates))}`\r\n            : \"Streak estimate unavailable\";\r\n          const fatigueLabel = upcomingDates\r\n            ? `Projected fatigue ${formatCount(projectedSpend)} stamina (~${projectedFatigue}% avg)`\r\n            : \"Projected fatigue -\";\r\n          const overuseLabel = overuseRiskCount\r\n            ? `Overuse risk ${formatCount(overuseRiskCount)} crew near daily limit`\r\n            : \"Overuse risk none\";\r\n          crewSummaryList.innerHTML = `\r\n            <div class=\"list-item\">\r\n              <div class=\"list-row\">\r\n                <div>\r\n                  <div class=\"item-title\">Tour readiness</div>\r\n                  <div class=\"muted\">Stamina avg ${staminaLabel} | Skill avg ${skillLabel} | ${upcomingLabel}</div>\r\n                  <div class=\"muted\">${streakLabel}</div>\r\n                  <div class=\"muted\">${fatigueLabel} | ${overuseLabel}</div>\r\n                  <div class=\"muted\">${staffingLine}</div>\r\n                </div>\r\n                <div class=\"${readiness.className}\">${readiness.label}</div>\r\n              </div>\r\n            </div>\r\n            <div class=\"list-item\">\r\n              <div class=\"item-title\">Skill + catharsis</div>\r\n              <div class=\"muted\">Act: ${renderActName(act)} | Skill avg ${skillLabel} | Catharsis avg ${catharsisLabel}</div>\r\n              <div class=\"muted\">Tour crew: ${formatCount(crewCount)} member${crewCount === 1 ? \"\" : \"s\"} | Skill avg ${skillLabel} | Catharsis avg ${catharsisLabel}</div>\r\n            </div>\r\n          `;\r\n        }\r\n\r\n        if (crewStaminaList) {\r\n          crewStaminaList.innerHTML = crew.map((creator) => {\r\n            const stamina = Number(creator.stamina || 0);\r\n            const spent = getCreatorStaminaSpentToday(creator);\r\n            const strikes = creator.overuseStrikes || 0;\r\n            const maxStreak = estimateCreatorMaxConsecutiveTourDates(creator, crewCount, { boostPct: staffing.boostPct });\r\n            const entry = overuseEntries.find((item) => item.creator?.id === creator.id);\r\n            const risk = entry?.risk || 0;\r\n            const riskBadge = risk === 2\r\n              ? `<div class=\"badge danger\">Overuse risk</div>`\r\n              : risk === 1\r\n                ? `<div class=\"badge warn\">Overuse risk</div>`\r\n                : \"\";\r\n            return `\r\n              <div class=\"list-item\">\r\n                <div class=\"list-row\">\r\n                  <div>\r\n                    <div class=\"item-title\">${creator.name}</div>\r\n                    <div class=\"muted\">Stamina ${formatCount(stamina)} / ${STAMINA_MAX} | Spent ${formatCount(spent)} / ${STAMINA_OVERUSE_LIMIT} | Strikes ${formatCount(strikes)}</div>\r\n                    <div class=\"muted\">Max consecutive dates ${formatCount(maxStreak)}</div>\r\n                  </div>\r\n                  ${riskBadge}\r\n                </div>\r\n              </div>\r\n            `;\r\n          }).join(\"\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n  if (warningList) {\r\n    if (!draft) {\r\n      warningList.innerHTML = `<div class=\"muted\">No tour warnings yet.</div>`;\r\n    } else {\r\n      const summary = computeTourDraftSummary(draft.id);\r\n      const seen = new Set();\r\n      const warnings = (summary.warnings || [])\r\n        .filter((warn) => {\r\n          const code = warn?.code || warn?.message || \"warning\";\r\n          if (seen.has(code)) return false;\r\n          seen.add(code);\r\n          return true;\r\n        })\r\n        .map((warn) => warn?.message || warn?.code || \"Warning\");\r\n      warningList.innerHTML = warnings.length\r\n        ? warnings.map((message) => `\r\n          <div class=\"list-item\">\r\n            <div class=\"list-row\">\r\n              <div class=\"muted\">${message}</div>\r\n              <div class=\"badge warn\">Warning</div>\r\n            </div>\r\n          </div>\r\n        `).join(\"\")\r\n        : `<div class=\"muted\">No tour warnings yet.</div>`;\r\n    }\r\n  }\r\n  const balanceToggle = $(\"tourBalanceToggle\");\r\n  if (balanceToggle) {\r\n    balanceToggle.checked = touringBalanceEnabled();\r\n  }\r\n}\r\n\r\nfunction collectProjectChartEntries(entries) {\r\n  const projects = new Map();\r\n  (entries || []).forEach((entry) => {\r\n    const track = entry.track || entry;\r\n    if (!track) return;\r\n    const projectName = track.projectName || `${track.title} - Single`;\r\n    const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n    const label = track.label || \"Unknown\";\r\n    const actName = track.actName || \"-\";\r\n    const key = `${normalizeProjectName(projectName)}::${projectType}::${label}::${actName}`;\r\n    const metrics = entry.metrics || {};\r\n    const score = Number(entry.score || 0);\r\n    const existing = projects.get(key) || {\r\n      projectName,\r\n      projectType,\r\n      label,\r\n      actName,\r\n      alignment: track.alignment,\r\n      country: track.country || \"Annglora\",\r\n      primaryTrack: track,\r\n      primaryScore: Number.isFinite(score) ? score : 0,\r\n      trackCount: 0,\r\n      metrics: { sales: 0, streaming: 0, airplay: 0, social: 0 },\r\n      score: 0\r\n    };\r\n    existing.trackCount += 1;\r\n    if (Number.isFinite(score)) {\r\n      existing.score += score;\r\n      if (!existing.primaryTrack || score > existing.primaryScore) {\r\n        existing.primaryTrack = track;\r\n        existing.primaryScore = score;\r\n      }\r\n    }\r\n    existing.metrics.sales += Number(metrics.sales || 0);\r\n    existing.metrics.streaming += Number(metrics.streaming || 0);\r\n    existing.metrics.airplay += Number(metrics.airplay || 0);\r\n    existing.metrics.social += Number(metrics.social || 0);\r\n    projects.set(key, existing);\r\n  });\r\n  return Array.from(projects.values())\r\n    .sort((a, b) => b.score - a.score)\r\n    .map((entry, index) => ({ ...entry, rank: index + 1 }));\r\n}\r\n\r\nfunction buildTrendRankingList({ limit = null, showMore = false, inlineGenre = false } = {}) {\r\n  const { visible, aggregate, statusByGenre } = collectTrendRanking();\r\n  const displayed = typeof limit === \"number\" ? visible.slice(0, limit) : visible;\r\n  if (!displayed.length) {\r\n    return { markup: `<div class=\"muted\">No trends yet.</div>`, visibleCount: 0, totalCount: visible.length };\r\n  }\r\n  const alignmentScores = aggregate.alignmentScores || {};\r\n  const list = displayed.map((trend, index) => {\r\n    const theme = themeFromGenre(trend);\r\n    const mood = moodFromGenre(trend);\r\n    const status = statusByGenre?.[trend] || { label: \"STABLE\", className: \"\", weekLabel: \"\" };\r\n    const statusClass = status.className ? `badge ${status.className}` : \"badge\";\r\n    const weekBadge = status.weekLabel ? `<div class=\"badge\">${status.weekLabel}</div>` : \"\";\r\n    const points = Math.round(aggregate.totals?.[trend] || 0);\r\n    const pointsLabel = `${formatCount(points)} pts`;\r\n    const isTop = index < TREND_DETAIL_COUNT;\r\n    const leader = isTop ? trendAlignmentLeader(trend, alignmentScores) : null;\r\n    const detail = isTop\r\n      ? `\r\n        <div class=\"trend-detail\">\r\n          <div class=\"trend-detail-row\">\r\n            <span class=\"trend-detail-pill\">Alignment push</span>\r\n            ${leader\r\n              ? `${renderAlignmentTag(leader.alignment)} <span class=\"muted\">${leader.share}% of trend points</span>`\r\n              : `<span class=\"muted\">No clear alignment leader</span>`}\r\n          </div>\r\n        </div>\r\n      `\r\n      : \"\";\r\n    const moreAction = showMore && index === 0\r\n      ? `<button type=\"button\" class=\"ghost mini\" data-ranking-more=\"trends\">More</button>`\r\n      : \"\";\r\n    return `\r\n      <div class=\"list-item trend-item${isTop ? \" trend-item--top\" : \"\"}\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">#${index + 1} ${renderGenrePills(theme, mood, { inline: inlineGenre })}</div>\r\n          </div>\r\n          <div class=\"ranking-actions\">\r\n            <div class=\"${statusClass}\">${status.label}</div>\r\n            ${weekBadge}\r\n            <div class=\"pill trend-points\">${pointsLabel}</div>\r\n            ${moreAction}\r\n          </div>\r\n        </div>\r\n        ${detail}\r\n      </div>\r\n    `;\r\n  });\r\n  return { markup: list.join(\"\"), visibleCount: displayed.length, totalCount: visible.length };\r\n}\r\n\r\nfunction renderTrends() {\r\n  const listEl = $(\"trendList\");\r\n  if (!listEl) return;\r\n  const scopeSelect = $(\"trendScopeSelect\");\r\n  const targetSelect = $(\"trendScopeTarget\");\r\n  const targetLabel = $(\"trendScopeTargetLabel\");\r\n  const scopeMeta = $(\"trendScopeMeta\");\r\n  if (scopeSelect) {\r\n    scopeSelect.value = \"global\";\r\n    scopeSelect.disabled = true;\r\n  }\r\n  if (targetLabel) targetLabel.textContent = \"Global\";\r\n  if (targetSelect) {\r\n    targetSelect.disabled = true;\r\n    targetSelect.innerHTML = `<option value=\"global\">Global</option>`;\r\n  }\r\n  const limit = getCommunityTrendRankingLimit();\r\n  const { markup, visibleCount, totalCount } = buildTrendRankingList({ limit, showMore: true });\r\n  listEl.innerHTML = markup;\r\n  if (scopeMeta) {\r\n    if (!totalCount) {\r\n      scopeMeta.textContent = \"No trends available yet.\";\r\n    } else if (visibleCount >= totalCount) {\r\n      scopeMeta.textContent = `Showing ${formatCount(totalCount)} global trends.`;\r\n    } else {\r\n      scopeMeta.textContent = `Showing Global Top ${formatCount(visibleCount)} of ${formatCount(totalCount)} trends.`;\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderCommunityRankings() {\r\n  renderCommunityLabels();\r\n  renderTrends();\r\n}\r\n\r\nfunction renderRankingModal(category) {\r\n  const titleEl = $(\"rankingModalTitle\");\r\n  const listEl = $(\"rankingModalList\");\r\n  const metaEl = $(\"rankingModalMeta\");\r\n  if (!titleEl || !listEl) return;\r\n  if (category === \"labels\") {\r\n    const { markup, totalCount } = buildLabelRankingList();\r\n    titleEl.textContent = \"Label Rankings\";\r\n    listEl.innerHTML = markup;\r\n    if (metaEl) {\r\n      metaEl.textContent = totalCount\r\n        ? `Showing ${formatCount(totalCount)} ranked labels.`\r\n        : \"No labels ranked yet.\";\r\n    }\r\n  } else if (category === \"trends\") {\r\n    const { markup, totalCount } = buildTrendRankingList();\r\n    titleEl.textContent = \"Trend Rankings\";\r\n    listEl.innerHTML = markup;\r\n    if (metaEl) {\r\n      metaEl.textContent = totalCount\r\n        ? `Showing ${formatCount(totalCount)} global trends.`\r\n        : \"No trends available yet.\";\r\n    }\r\n  }\r\n  openOverlay(\"rankingModal\");\r\n}\r\n\r\nfunction renderRankingWindow(category) {\r\n  const windowEl = $(\"rankingWindow\");\r\n  const titleEl = $(\"rankingWindowTitle\");\r\n  const listEl = $(\"rankingWindowList\");\r\n  const metaEl = $(\"rankingWindowMeta\");\r\n  if (!windowEl || !titleEl || !listEl) return;\r\n  const isLabels = category === \"labels\";\r\n  if (isLabels) {\r\n    const { markup, visibleCount, totalCount } = buildLabelRankingList({ limit: 8, showUsage: true });\r\n    titleEl.textContent = \"Top Labels\";\r\n    listEl.innerHTML = markup;\r\n    if (metaEl) {\r\n      if (!totalCount) {\r\n        metaEl.textContent = \"No labels ranked yet.\";\r\n      } else if (visibleCount >= totalCount) {\r\n        metaEl.textContent = `Showing ${formatCount(totalCount)} labels.`;\r\n      } else {\r\n        metaEl.textContent = `Showing Top ${formatCount(visibleCount)} of ${formatCount(totalCount)} labels.`;\r\n      }\r\n    }\r\n    return;\r\n  }\r\n  const { markup, visibleCount, totalCount } = buildTrendRankingList({ limit: 40, inlineGenre: true });\r\n  titleEl.textContent = \"Top Trends\";\r\n  listEl.innerHTML = markup;\r\n  if (metaEl) {\r\n    if (!totalCount) {\r\n      metaEl.textContent = \"No trends available yet.\";\r\n    } else if (visibleCount >= totalCount) {\r\n      metaEl.textContent = `Showing ${formatCount(totalCount)} global trends.`;\r\n    } else {\r\n      metaEl.textContent = `Showing Global Top ${formatCount(visibleCount)} of ${formatCount(totalCount)} trends.`;\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderCreateTrends() {\r\n  const listEl = $(\"createTrendList\");\r\n  if (!listEl) return;\r\n  const { visible, aggregate, statusByGenre } = collectTrendRanking();\r\n  const list = visible.slice(0, TREND_DETAIL_COUNT).map((trend, index) => {\r\n    const theme = themeFromGenre(trend);\r\n    const mood = moodFromGenre(trend);\r\n    const status = statusByGenre?.[trend] || { label: \"STABLE\", className: \"\", weekLabel: \"\" };\r\n    const statusClass = status.className ? `badge ${status.className}` : \"badge\";\r\n    const weekBadge = status.weekLabel ? `<div class=\"badge\">${status.weekLabel}</div>` : \"\";\r\n    const points = Math.round(aggregate.totals?.[trend] || 0);\r\n    const pointsLabel = `${formatCount(points)} pts`;\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">#${index + 1} ${renderGenrePills(theme, mood)}</div>\r\n          </div>\r\n          <div class=\"ranking-actions\">\r\n            <div class=\"${statusClass}\">${status.label}</div>\r\n            ${weekBadge}\r\n            <div class=\"pill trend-points\">${pointsLabel}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  });\r\n  listEl.innerHTML = list.length ? list.join(\"\") : `<div class=\"muted\">No trends yet.</div>`;\r\n}\r\n\r\nfunction renderGenreIndex() {\r\n  const listEl = $(\"genreList\");\r\n  if (!listEl) return;\r\n  const themeFilter = state.ui.genreTheme || \"All\";\r\n  const moodFilter = state.ui.genreMood || \"All\";\r\n  const list = [];\r\n  THEMES.forEach((theme) => {\r\n    if (themeFilter !== \"All\" && theme !== themeFilter) return;\r\n    MOODS.forEach((mood) => {\r\n      if (moodFilter !== \"All\" && mood !== moodFilter) return;\r\n      const genre = makeGenre(theme, mood);\r\n      const label = renderGenrePills(theme, mood);\r\n      const hot = state.trends.includes(genre);\r\n      list.push(`\r\n        <div class=\"list-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${label}</div>\r\n            </div>\r\n            ${hot ? `<div class=\"badge warn\">Hot</div>` : `<div class=\"pill\">Catalog</div>`}\r\n          </div>\r\n        </div>\r\n      `);\r\n    });\r\n  });\r\n  listEl.innerHTML = list.length ? list.join(\"\") : `<div class=\"muted\">No genres match the filters.</div>`;\r\n}\r\n\r\nfunction renderStudiosList() {\r\n  const listEl = $(\"studioList\");\r\n  if (!listEl) return;\r\n  const filters = state.ui.studioFilters || {};\r\n  const ownerFilter = state.ui.studioOwnerFilter || \"all\";\r\n  const restrictToOwned = state.ui.activeView === \"create\";\r\n  document.querySelectorAll(\"[data-studio-filter]\").forEach((input) => {\r\n    const key = input.dataset.studioFilter;\r\n    if (!key || typeof filters[key] !== \"boolean\") return;\r\n    input.checked = filters[key] !== false;\r\n  });\r\n\r\n  const ownerSelect = $(\"studioOwnerFilter\");\r\n  if (ownerSelect) {\r\n    const options = [\r\n      `<option value=\"all\">All rivals</option>`,\r\n      ...state.rivals.map((rival) => `<option value=\"${rival.id}\">${rival.name}</option>`)\r\n    ];\r\n    ownerSelect.innerHTML = options.join(\"\");\r\n    const validOwners = new Set([\"all\", ...state.rivals.map((rival) => rival.id)]);\r\n    if (!validOwners.has(ownerFilter)) state.ui.studioOwnerFilter = \"all\";\r\n    ownerSelect.value = state.ui.studioOwnerFilter || \"all\";\r\n    ownerSelect.disabled = restrictToOwned || filters.unowned === false;\r\n  }\r\n\r\n  const showOwned = restrictToOwned ? true : filters.owned !== false;\r\n  const showUnowned = restrictToOwned ? false : filters.unowned !== false;\r\n  const showOccupied = filters.occupied !== false;\r\n  const showUnoccupied = filters.unoccupied !== false;\r\n  const filtered = buildStudioEntries().filter((entry) => {\r\n    if (entry.ownerType === \"player\" && !showOwned) return false;\r\n    if (entry.ownerType !== \"player\" && !showUnowned) return false;\r\n    if (entry.ownerType !== \"player\" && ownerFilter !== \"all\" && entry.ownerId !== ownerFilter) return false;\r\n    if (entry.occupied && !showOccupied) return false;\r\n    if (!entry.occupied && !showUnoccupied) return false;\r\n    return true;\r\n  });\r\n\r\n  if (!filtered.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No studios match the filters.</div>`;\r\n    return;\r\n  }\r\n\r\n  listEl.innerHTML = filtered.map((entry) => {\r\n    const ownership = entry.ownerType === \"player\" ? \"Owned\" : \"Unowned\";\r\n    const status = entry.occupied ? \"Occupied\" : \"Available\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${entry.ownerName} Studio ${entry.slotIndex}</div>\r\n            <div class=\"muted\">${ownership} | Slot ${entry.slotIndex} of ${entry.slotCount}</div>\r\n          </div>\r\n          <div class=\"pill\">${status}</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderCharts() {\r\n  if (shouldThrottleChartsRender()) return;\r\n  recordChartsRender();\r\n  const contentType = state.ui.chartContentType || \"tracks\";\r\n  const isActs = contentType === \"acts\";\r\n  const isDemographics = contentType === \"demographics\";\r\n  document.querySelectorAll(\"#chartTypeTabs .tab\").forEach((btn) => {\r\n    btn.classList.toggle(\"active\", btn.dataset.chartContent === contentType);\r\n  });\r\n  const chartTabs = document.querySelector(\"#chartTabs\");\r\n  if (chartTabs) chartTabs.classList.toggle(\"hidden\", isActs);\r\n  const regionTabs = document.querySelector(\"#chartRegionTabs\");\r\n  const regions = Array.isArray(REGION_DEFS) ? REGION_DEFS : [];\r\n  const regionIds = new Set(regions.map((region) => region.id));\r\n  let activeChart = state.ui.activeChart || \"global\";\r\n  let demographicsNotice = \"\";\r\n  if (isActs) {\r\n    if (activeChart !== \"global\") {\r\n      activeChart = \"global\";\r\n      state.ui.activeChart = activeChart;\r\n    }\r\n  } else if (isDemographics) {\r\n    if (regionIds.has(activeChart)) {\r\n      const region = regions.find((entry) => entry.id === activeChart);\r\n      if (region?.nation) {\r\n        activeChart = region.nation;\r\n        state.ui.activeChart = activeChart;\r\n        demographicsNotice = `Regional demographics are not modeled yet. Showing ${activeChart}.`;\r\n        logEvent(`Demographics uses nation scope only. Showing ${activeChart}.`, \"warn\");\r\n      } else {\r\n        activeChart = \"global\";\r\n        state.ui.activeChart = activeChart;\r\n        demographicsNotice = \"Demographics scope reset to Global after an invalid selection.\";\r\n        logEvent(\"Demographics scope reset to Global after an invalid selection.\", \"warn\");\r\n      }\r\n    } else if (activeChart !== \"global\" && !NATIONS.includes(activeChart)) {\r\n      activeChart = \"global\";\r\n      state.ui.activeChart = activeChart;\r\n      demographicsNotice = \"Demographics scope reset to Global after an invalid selection.\";\r\n      logEvent(\"Demographics scope reset to Global after an invalid selection.\", \"warn\");\r\n    }\r\n  } else if (activeChart !== \"global\" && !NATIONS.includes(activeChart) && !regionIds.has(activeChart)) {\r\n    activeChart = \"global\";\r\n    state.ui.activeChart = activeChart;\r\n    logEvent(\"Charts scope reset to Global after an invalid selection.\", \"warn\");\r\n  }\r\n  const chartWeekBtn = $(\"chartWeekBtn\");\r\n  if (chartWeekBtn) {\r\n    chartWeekBtn.disabled = isActs || isDemographics;\r\n    chartWeekBtn.title = isActs\r\n      ? \"History snapshots are available for charts only.\"\r\n      : isDemographics\r\n        ? \"Population snapshots update yearly.\"\r\n        : \"\";\r\n  }\r\n  if (isActs) {\r\n    if (regionTabs) {\r\n      regionTabs.innerHTML = \"\";\r\n      regionTabs.classList.add(\"hidden\");\r\n    }\r\n    const leaderboard = getActPopularityLeaderboard(currentYear());\r\n    const yearLabel = `Year ${leaderboard.year}`;\r\n    if ($(\"chartWeekRange\")) $(\"chartWeekRange\").textContent = yearLabel;\r\n    if ($(\"chartHistoryNotice\")) $(\"chartHistoryNotice\").textContent = \"\";\r\n    const meta = $(\"chartMeta\");\r\n    if (meta) {\r\n      const weeksTracked = Number.isFinite(leaderboard.totalWeeks) ? leaderboard.totalWeeks : 0;\r\n      const trackedLabel = weeksTracked\r\n        ? `${formatCount(weeksTracked)} weeks tracked`\r\n        : \"No weekly points logged yet\";\r\n      meta.textContent = `${yearLabel} | Act popularity leaderboard | ${trackedLabel}`;\r\n    }\r\n    const entries = Array.isArray(leaderboard.entries) ? leaderboard.entries : [];\r\n    if (!entries.length) {\r\n      $(\"chartList\").innerHTML = `<div class=\"muted\">No act popularity data yet. Weekly chart updates will populate this leaderboard.</div>`;\r\n      return;\r\n    }\r\n    const rows = entries.map((entry, index) => {\r\n      const labelTag = renderLabelTag(entry.label || \"Unknown Label\", entry.country || state.label?.country || \"Annglora\");\r\n      const actName = renderActName(entry) || \"Unknown Act\";\r\n      const weeksActive = Number.isFinite(entry.weeksActive) ? entry.weeksActive : 0;\r\n      const lastWeek = Number.isFinite(entry.lastWeek) ? entry.lastWeek : null;\r\n      const lastWeekLabel = lastWeek ? `Last window ${formatWeekRangeLabel(lastWeek)}` : \"Last window --\";\r\n      const trackPoints = formatCount(Math.round(entry.trackPoints || 0));\r\n      const promoPoints = formatCount(Math.round(entry.promoPoints || 0));\r\n      const tourPoints = formatCount(Math.round(entry.tourPoints || 0));\r\n      const totalPoints = formatCount(Math.round(entry.points || 0));\r\n      const playerLine = entry.isPlayer ? `<div class=\"muted\">Your act</div>` : \"\";\r\n      return `\r\n        <tr>\r\n          <td class=\"chart-rank\">#${index + 1}</td>\r\n          <td class=\"chart-title\">\r\n            <div class=\"item-title\">${actName}</div>\r\n            ${playerLine}\r\n          </td>\r\n          <td class=\"chart-label\">${labelTag}</td>\r\n          <td class=\"chart-act\">\r\n            <div>Weeks active ${formatCount(weeksActive)}</div>\r\n            <div class=\"muted\">${lastWeekLabel}</div>\r\n          </td>\r\n          <td class=\"chart-metrics\">\r\n            <div class=\"muted\">Tracks ${trackPoints} | Promos ${promoPoints} | Tours ${tourPoints}</div>\r\n          </td>\r\n          <td class=\"chart-score\">${totalPoints}</td>\r\n        </tr>\r\n      `;\r\n    });\r\n    $(\"chartList\").innerHTML = `\r\n      <div class=\"chart-table-wrap\">\r\n        <table class=\"chart-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Rank</th>\r\n              <th>Act</th>\r\n              <th>Label</th>\r\n              <th>Activity</th>\r\n              <th>Breakdown</th>\r\n              <th>Points</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            ${rows.join(\"\")}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    `;\r\n    return;\r\n  }\r\n  const activeRegion = regions.find((region) => region.id === activeChart) || null;\r\n  const activeNation = activeChart === \"global\"\r\n    ? null\r\n    : NATIONS.includes(activeChart)\r\n      ? activeChart\r\n      : activeRegion?.nation || null;\r\n\r\n  document.querySelectorAll(\"#chartTabs .tab\").forEach((btn) => {\r\n    const chartKey = btn.dataset.chart;\r\n    const isActive = activeChart === \"global\"\r\n      ? chartKey === \"global\"\r\n      : chartKey === activeNation;\r\n    btn.classList.toggle(\"active\", !!isActive);\r\n  });\r\n  if (regionTabs) {\r\n    if (!activeNation || isDemographics) {\r\n      regionTabs.innerHTML = \"\";\r\n      regionTabs.classList.add(\"hidden\");\r\n    } else {\r\n      const nationRegions = regions.filter((region) => region.nation === activeNation);\r\n      regionTabs.classList.toggle(\"hidden\", nationRegions.length === 0);\r\n      regionTabs.innerHTML = nationRegions.map((region) => (\r\n        `<button class=\"tab${region.id === activeChart ? \" active\" : \"\"}\" data-chart=\"${region.id}\" type=\"button\">${region.label} Regional</button>`\r\n      )).join(\"\");\r\n    }\r\n  }\r\n  if (isDemographics) {\r\n    const snapshot = computePopulationSnapshot();\r\n    const scopeEntry = activeNation\r\n      ? snapshot?.nations?.find((entry) => entry.nation === activeNation)\r\n      : snapshot;\r\n    const scopeLabel = activeNation || \"Gaia\";\r\n    const stageLabel = snapshot?.stage || \"Campaign Era\";\r\n    if ($(\"chartWeekRange\")) $(\"chartWeekRange\").textContent = `Year ${currentYear()}`;\r\n    if ($(\"chartHistoryNotice\")) {\r\n      $(\"chartHistoryNotice\").textContent = demographicsNotice;\r\n    }\r\n    const meta = $(\"chartMeta\");\r\n    if (meta) {\r\n      meta.textContent = `Population | ${scopeLabel} | ${stageLabel} | Age pyramid in 4-year bins`;\r\n    }\r\n    if (!scopeEntry || !Array.isArray(scopeEntry.ageGroups) || !scopeEntry.ageGroups.length) {\r\n      $(\"chartList\").innerHTML = `<div class=\"muted\">No population snapshot available yet.</div>`;\r\n      return;\r\n    }\r\n    const scopeTotal = Number.isFinite(scopeEntry.total) ? scopeEntry.total : snapshot?.total || 0;\r\n    const segmentDefs = [\r\n      { label: \"0-20\", min: 0, max: 20 },\r\n      { label: \"21-40\", min: 21, max: 40 },\r\n      { label: \"41-60\", min: 41, max: 60 },\r\n      { label: \"61+\", min: 61, max: 119 }\r\n    ];\r\n    const segmentLine = segmentDefs.map((segment) => {\r\n      const share = scopeEntry.ageGroups.reduce((sum, group) => {\r\n        const midpoint = (group.minAge + group.maxAge) / 2;\r\n        if (midpoint < segment.min || midpoint > segment.max) return sum;\r\n        const pct = Number.isFinite(group.share)\r\n          ? group.share\r\n          : scopeTotal ? (group.count || 0) / scopeTotal : 0;\r\n        return sum + pct;\r\n      }, 0);\r\n      return `${segment.label}: ${Math.round(share * 100)}%`;\r\n    }).join(\" | \");\r\n    const ageCards = scopeEntry.ageGroups.map((group) => {\r\n      const pct = Number.isFinite(group.share)\r\n        ? Math.round(group.share * 100)\r\n        : scopeTotal ? Math.round(((group.count || 0) / scopeTotal) * 100) : 0;\r\n      const count = Number.isFinite(group.count)\r\n        ? group.count\r\n        : scopeTotal ? Math.round(scopeTotal * (group.share || 0)) : 0;\r\n      const midpoint = (group.minAge + group.maxAge) / 2;\r\n      const budget = computeAudienceWeeklyBudget(midpoint, { stable: true });\r\n      const engagement = computeAudienceEngagementRate(midpoint, { stable: true });\r\n      const hours = computeAudienceWeeklyHours(midpoint, { stable: true });\r\n      return `\r\n        <div class=\"demographic-card\">\r\n          <div class=\"item-title\">${group.label}</div>\r\n          <div class=\"muted\">${formatCount(count)} (${pct}%)</div>\r\n          <div class=\"tiny muted\">Budget ${formatMoney(budget)} / wk | Engage ${Math.round(engagement * 100)}% | Time ${formatCount(hours)}h</div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n    const nationLines = snapshot?.nations?.map((entry) => {\r\n      const share = snapshot.total ? Math.round((entry.total / snapshot.total) * 100) : 0;\r\n      const detail = activeNation\r\n        ? `Capital ${formatCount(entry.capital)} | Elsewhere ${formatCount(entry.elsewhere)}`\r\n        : `${share}% of Gaia`;\r\n      return `\r\n        <div class=\"list-item\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${entry.nation}</div>\r\n              <div class=\"muted\">${detail}</div>\r\n            </div>\r\n            <div class=\"pill\">${formatCount(entry.total)}</div>\r\n          </div>\r\n        </div>\r\n      `;\r\n    }).join(\"\") || \"\";\r\n    const audienceSection = `\r\n      <div class=\"subhead\">Audience Chunks</div>\r\n      <div class=\"tiny muted\">Sampled 1K-member chunks with yearly age + preference evolution.</div>\r\n      <div id=\"demographicsAudienceMeta\" class=\"tiny muted\"></div>\r\n      <div id=\"demographicsAudienceList\" class=\"list\"></div>\r\n    `;\r\n    $(\"chartList\").innerHTML = `\r\n      <div class=\"callout\">\r\n        Demographics uses the seeded age pyramid per nation. Higher engagement flags streaming pressure, while higher budgets hint at future sales lift as cohorts age.\r\n      </div>\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${scopeLabel} Population</div>\r\n            <div class=\"muted\">${stageLabel} | Updates yearly</div>\r\n          </div>\r\n          <div class=\"pill\">${formatCount(scopeTotal)}</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"list-item\">\r\n        <div class=\"item-title\">Age Segments</div>\r\n        <div class=\"muted\">${segmentLine}</div>\r\n      </div>\r\n      ${nationLines}\r\n      <div class=\"demographics-grid\">\r\n        ${ageCards}\r\n      </div>\r\n      ${audienceSection}\r\n    `;\r\n    renderAudienceChunks({ listId: \"demographicsAudienceList\", metaId: \"demographicsAudienceMeta\" });\r\n    return;\r\n  }\r\n  const chartSource = contentType === \"promotions\"\r\n    ? state.promoCharts\r\n    : contentType === \"tours\"\r\n      ? state.tourCharts\r\n      : state.charts;\r\n  let entries = [];\r\n  let size = CHART_SIZES.global;\r\n  let baseScopeKey = \"global\";\r\n  if (activeChart === \"global\") {\r\n    entries = chartSource?.global || [];\r\n    size = CHART_SIZES.global;\r\n    baseScopeKey = \"global\";\r\n  } else if (NATIONS.includes(activeChart)) {\r\n    entries = chartSource?.nations?.[activeChart] || [];\r\n    size = CHART_SIZES.nation;\r\n    baseScopeKey = `nation:${activeChart}`;\r\n  } else {\r\n    entries = chartSource?.regions?.[activeChart] || [];\r\n    size = CHART_SIZES.region;\r\n    baseScopeKey = `region:${activeChart}`;\r\n  }\r\n  const scopeKey = contentType === \"promotions\"\r\n    ? `promo:${baseScopeKey}`\r\n    : contentType === \"tours\"\r\n      ? `tour:${baseScopeKey}`\r\n      : baseScopeKey;\r\n  const scopeLabel = chartScopeLabel(activeChart);\r\n\r\n  const historyWeek = state.ui.chartHistoryWeek;\r\n  const historySnapshot = state.ui.chartHistorySnapshot;\r\n  let historyMissing = false;\r\n  if (historyWeek) {\r\n    if (historySnapshot && historySnapshot.week === historyWeek && historySnapshot.scope === scopeKey) {\r\n      entries = historySnapshot.entries || [];\r\n    } else {\r\n      entries = [];\r\n      historyMissing = true;\r\n    }\r\n  }\r\n  entries = Array.isArray(entries) ? entries : [];\r\n  const displayEntries = contentType === \"projects\" ? collectProjectChartEntries(entries) : entries;\r\n\r\n  const weekLabel = formatWeekRangeLabel(historyWeek || (weekIndex() + 1));\r\n  if ($(\"chartWeekRange\")) $(\"chartWeekRange\").textContent = weekLabel;\r\n  if ($(\"chartHistoryNotice\")) {\r\n    if (historyWeek && historyMissing) {\r\n      $(\"chartHistoryNotice\").textContent = \"History view: no snapshot available for this week.\";\r\n    } else if (historyWeek) {\r\n      $(\"chartHistoryNotice\").textContent = `History view: ${weekLabel}`;\r\n    } else {\r\n      $(\"chartHistoryNotice\").textContent = \"\";\r\n    }\r\n  }\r\n\r\n  const meta = $(\"chartMeta\");\r\n  if (meta) {\r\n    if (contentType === \"tracks\" || contentType === \"projects\") {\r\n      const weights = chartWeightsForScope(activeChart);\r\n      const pct = (value) => Math.round(value * 100);\r\n      const contentLabel = contentType === \"projects\" ? \"Project\" : \"Track\";\r\n      meta.textContent = `Top ${size} | ${scopeLabel} | ${contentLabel} charts | Weights S ${pct(weights.sales)}% / Stream ${pct(weights.streaming)}% / Air ${pct(weights.airplay)}% / Social ${pct(weights.social)}%`;\r\n    } else if (contentType === \"promotions\") {\r\n      meta.textContent = `Top ${size} | ${scopeLabel} | Promotions chart | Metrics Likes / Views / Comments / Concurrent`;\r\n    } else {\r\n      meta.textContent = `Top ${size} | ${scopeLabel} | Touring chart | Metric Attendance draw`;\r\n    }\r\n  }\r\n\r\n  const globalLocked = contentType === \"tracks\" && activeChart === \"global\" && displayEntries.length < size;\r\n  if (historyMissing) {\r\n    $(\"chartList\").innerHTML = `<div class=\"muted\">No saved chart history for this week and scope.</div>`;\r\n  } else if (globalLocked) {\r\n    const remaining = Math.max(0, size - displayEntries.length);\r\n    $(\"chartList\").innerHTML = `<div class=\"muted\">Global chart unlocks when ${formatCount(size)} tracks are in circulation. ${formatCount(remaining)} more needed.</div>`;\r\n  } else if (!displayEntries.length) {\r\n    $(\"chartList\").innerHTML = `<div class=\"muted\">No chart data yet.</div>`;\r\n  } else {\r\n    let rows = [];\r\n    if (contentType === \"projects\") {\r\n      rows = displayEntries.map((entry) => {\r\n        const labelTag = renderLabelTag(entry.label, entry.country || \"Annglora\");\r\n        const alignTag = renderAlignmentTag(entry.alignment);\r\n        const metrics = entry.metrics || {};\r\n        const trackCount = entry.trackCount || 0;\r\n        const genreLine = entry.primaryTrack\r\n          ? renderTrackGenrePills(entry.primaryTrack, { fallback: \"Genre -\" })\r\n          : \"Genre -\";\r\n        return `\r\n          <tr>\r\n            <td class=\"chart-rank\">#${entry.rank}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">${renderProjectName(entry.projectName)}</div>\r\n              <div class=\"muted\">${entry.projectType} | ${formatCount(trackCount)} track${trackCount === 1 ? \"\" : \"s\"}</div>\r\n            </td>\r\n            <td class=\"chart-label\">${labelTag}</td>\r\n            <td class=\"chart-act\">\r\n              <div>${renderActName(entry) || \"-\"}</div>\r\n              <div class=\"muted\">${genreLine}</div>\r\n            </td>\r\n            <td class=\"chart-align\">${alignTag}</td>\r\n            <td class=\"chart-metrics\">\r\n              <div class=\"muted\">Charting tracks ${formatCount(trackCount)}</div>\r\n              <div class=\"muted\">Sales ${formatCount(metrics.sales || 0)} | Stream ${formatCount(metrics.streaming || 0)}</div>\r\n              <div class=\"muted\">Air ${formatCount(metrics.airplay || 0)} | Social ${formatCount(metrics.social || 0)}</div>\r\n            </td>\r\n            <td class=\"chart-score\">${formatCount(entry.score || 0)}</td>\r\n          </tr>\r\n        `;\r\n      });\r\n    } else if (contentType === \"promotions\") {\r\n      rows = displayEntries.map((entry) => {\r\n        const labelTag = renderLabelTag(entry.label, entry.country || \"Annglora\");\r\n        const alignTag = renderAlignmentTag(entry.alignment);\r\n        const actLabel = renderActName(entry) || \"-\";\r\n        const trackTitle = entry.trackTitle || entry.title || \"\";\r\n        const targetType = entry.targetType\r\n          || (trackTitle ? \"track\" : entry.projectName ? \"project\" : \"act\");\r\n        const targetLine = targetType === \"track\"\r\n          ? `Track: ${trackTitle}`\r\n          : targetType === \"project\"\r\n            ? `Project: ${renderProjectName(entry.projectName || \"\")}`\r\n            : \"Act push\";\r\n        const projectLine = entry.projectName\r\n          ? renderProjectName(entry.projectName)\r\n          : (targetType === \"track\" ? \"Single\" : \"Act visibility\");\r\n        const lastRank = entry.lastRank ? `LW ${entry.lastRank}` : \"LW --\";\r\n        const peak = entry.peak ? `Peak ${entry.peak}` : \"Peak --\";\r\n        const woc = entry.woc ? `WOC ${entry.woc}` : \"WOC 0\";\r\n        const metrics = entry.metrics || {};\r\n        const primaryLabel = metrics.primaryLabel || \"Engagement\";\r\n        const primaryValue = Number(metrics.primary || 0);\r\n        return `\r\n          <tr>\r\n            <td class=\"chart-rank\">#${entry.rank}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">${entry.promoLabel || \"Promo push\"}</div>\r\n              <div class=\"muted\">${targetLine}</div>\r\n            </td>\r\n            <td class=\"chart-label\">${labelTag}</td>\r\n            <td class=\"chart-act\">\r\n              <div>${actLabel}</div>\r\n              <div class=\"muted\">${projectLine}</div>\r\n            </td>\r\n            <td class=\"chart-align\">${alignTag}</td>\r\n            <td class=\"chart-metrics\">\r\n              <div class=\"muted\">${lastRank} | ${peak} | ${woc}</div>\r\n              <div class=\"muted\">${primaryLabel} ${formatCount(primaryValue)}</div>\r\n              <div class=\"muted\">Likes ${formatCount(metrics.likes || 0)} | Views ${formatCount(metrics.views || 0)} | Comments ${formatCount(metrics.comments || 0)} | Concurrent ${formatCount(metrics.concurrent || 0)}</div>\r\n            </td>\r\n            <td class=\"chart-score\">${formatCount(entry.score || 0)}</td>\r\n          </tr>\r\n        `;\r\n      });\r\n    } else if (contentType === \"tours\") {\r\n      rows = displayEntries.map((entry) => {\r\n        const labelTag = renderLabelTag(entry.label, entry.country || \"Annglora\");\r\n        const alignTag = renderAlignmentTag(entry.alignment);\r\n        const dateCount = Number.isFinite(entry.dateCount) ? entry.dateCount : (entry.trackCount || 0);\r\n        const primaryTrack = entry.primaryTrack || {\r\n          title: entry.primaryTrackTitle || entry.title || \"-\",\r\n          theme: entry.primaryTrackTheme || entry.theme || \"\",\r\n          mood: entry.primaryTrackMood || entry.mood || \"\",\r\n          genre: entry.primaryTrackGenre || entry.genre || \"\"\r\n        };\r\n        const genreLine = renderTrackGenrePills(primaryTrack, { fallback: \"Genre -\" });\r\n        const lastRank = entry.lastRank ? `LW ${entry.lastRank}` : \"LW --\";\r\n        const peak = entry.peak ? `Peak ${entry.peak}` : \"Peak --\";\r\n        const woc = entry.woc ? `WOC ${entry.woc}` : \"WOC 0\";\r\n        const metrics = entry.metrics || {};\r\n        const grossTicket = formatMoney(metrics.grossTicket || 0);\r\n        const merch = formatMoney(metrics.merch || 0);\r\n        const sponsorship = formatMoney(metrics.sponsorship || 0);\r\n        const revenue = formatMoney(metrics.revenue || 0);\r\n        const costs = formatMoney(metrics.costs || 0);\r\n        const profit = formatMoney(metrics.profit || 0);\r\n        return `\r\n          <tr>\r\n            <td class=\"chart-rank\">#${entry.rank}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">${renderActName(entry) || \"-\"}</div>\r\n              <div class=\"muted\">Tour dates ${formatCount(dateCount)}</div>\r\n            </td>\r\n            <td class=\"chart-label\">${labelTag}</td>\r\n            <td class=\"chart-act\">\r\n              <div>${primaryTrack?.title ? renderTrackTitle(primaryTrack.title) : \"-\"}</div>\r\n              <div class=\"muted\">${genreLine}</div>\r\n            </td>\r\n            <td class=\"chart-align\">${alignTag}</td>\r\n            <td class=\"chart-metrics\">\r\n              <div class=\"muted\">${lastRank} | ${peak} | ${woc}</div>\r\n              <div class=\"muted\">Attendance ${formatCount(metrics.attendance || 0)}</div>\r\n              <div class=\"muted\">Ticket ${grossTicket} | Merch ${merch} | Sponsor ${sponsorship}</div>\r\n              <div class=\"muted\">Revenue ${revenue} | Costs ${costs} | Profit ${profit}</div>\r\n            </td>\r\n            <td class=\"chart-score\">${formatCount(entry.score || 0)}</td>\r\n          </tr>\r\n        `;\r\n      });\r\n    } else {\r\n      rows = displayEntries.map((entry) => {\r\n        const track = entry.track || entry;\r\n        const labelTag = renderLabelTag(track.label, track.country || \"Annglora\");\r\n        const alignTag = renderAlignmentTag(track.alignment);\r\n        const projectName = track.projectName || \"-\";\r\n        const actLabel = renderActName(track) || \"-\";\r\n        const lastRank = entry.lastRank ? `LW ${entry.lastRank}` : \"LW --\";\r\n        const peak = entry.peak ? `Peak ${entry.peak}` : \"Peak --\";\r\n        const woc = entry.woc ? `WOC ${entry.woc}` : \"WOC 0\";\r\n        const metrics = entry.metrics || {};\r\n        return `\r\n          <tr>\r\n            <td class=\"chart-rank\">#${entry.rank}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">${renderTrackTitle(track.title)}</div>\r\n              <div class=\"muted\">${renderTrackGenrePills(track, { fallback: \"Genre -\" })}</div>\r\n            </td>\r\n            <td class=\"chart-label\">${labelTag}</td>\r\n            <td class=\"chart-act\">\r\n              <div>${actLabel}</div>\r\n              <div class=\"muted\">${renderProjectName(projectName)}</div>\r\n            </td>\r\n            <td class=\"chart-align\">${alignTag}</td>\r\n            <td class=\"chart-metrics\">\r\n              <div class=\"muted\">${lastRank} | ${peak} | ${woc}</div>\r\n              <div class=\"muted\">Sales ${formatCount(metrics.sales || 0)} | Stream ${formatCount(metrics.streaming || 0)}</div>\r\n              <div class=\"muted\">Air ${formatCount(metrics.airplay || 0)} | Social ${formatCount(metrics.social || 0)}</div>\r\n            </td>\r\n            <td class=\"chart-score\">${entry.score}</td>\r\n          </tr>\r\n        `;\r\n      });\r\n    }\r\n\r\n    if (displayEntries.length < size) {\r\n      for (let i = displayEntries.length + 1; i <= size; i += 1) {\r\n        let statsMarkup = `\r\n          <div class=\"muted\">LW -- | Peak -- | WOC 0</div>\r\n          <div class=\"muted\">Sales N/A | Stream N/A</div>\r\n          <div class=\"muted\">Air N/A | Social N/A</div>\r\n        `;\r\n        if (contentType === \"projects\") {\r\n          statsMarkup = `\r\n            <div class=\"muted\">Charting tracks N/A</div>\r\n            <div class=\"muted\">Sales N/A | Stream N/A</div>\r\n            <div class=\"muted\">Air N/A | Social N/A</div>\r\n          `;\r\n        } else if (contentType === \"promotions\") {\r\n          statsMarkup = `\r\n            <div class=\"muted\">LW -- | Peak -- | WOC 0</div>\r\n            <div class=\"muted\">Engagement N/A</div>\r\n            <div class=\"muted\">Likes N/A | Views N/A | Comments N/A | Concurrent N/A</div>\r\n          `;\r\n        } else if (contentType === \"tours\") {\r\n          statsMarkup = `\r\n            <div class=\"muted\">LW -- | Peak -- | WOC 0</div>\r\n            <div class=\"muted\">Attendance N/A</div>\r\n            <div class=\"muted\">Ticket N/A | Merch N/A | Sponsor N/A</div>\r\n            <div class=\"muted\">Revenue N/A | Costs N/A | Profit N/A</div>\r\n          `;\r\n        }\r\n        rows.push(`\r\n          <tr class=\"chart-empty\">\r\n            <td class=\"chart-rank\">#${i}</td>\r\n            <td class=\"chart-title\">\r\n              <div class=\"item-title\">N/A</div>\r\n              <div class=\"muted\">N/A</div>\r\n            </td>\r\n            <td class=\"chart-label\"><span class=\"muted\">N/A</span></td>\r\n            <td class=\"chart-act\">\r\n              <div>N/A</div>\r\n              <div class=\"muted\">N/A</div>\r\n            </td>\r\n            <td class=\"chart-align\"><span class=\"muted\">N/A</span></td>\r\n            <td class=\"chart-metrics\">\r\n              ${statsMarkup}\r\n            </td>\r\n            <td class=\"chart-score\">N/A</td>\r\n          </tr>\r\n        `);\r\n      }\r\n    }\r\n    const rowMarkup = rows.join(\"\");\r\n    const contentHeader = contentType === \"projects\"\r\n      ? \"Project\"\r\n      : contentType === \"promotions\"\r\n        ? \"Promotion\"\r\n        : contentType === \"tours\"\r\n          ? \"Tour\"\r\n          : \"Track\";\r\n    const actHeader = contentType === \"projects\"\r\n      ? \"Act / Genre\"\r\n      : contentType === \"promotions\"\r\n        ? \"Act / Target\"\r\n        : contentType === \"tours\"\r\n          ? \"Top Track / Genre\"\r\n          : \"Act / Project\";\r\n    $(\"chartList\").innerHTML = `\r\n      <div class=\"chart-table-wrap\">\r\n        <table class=\"chart-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Rank</th>\r\n              <th>${contentHeader}</th>\r\n              <th>Label</th>\r\n              <th>${actHeader}</th>\r\n              <th>Alignment</th>\r\n              <th>Stats</th>\r\n              <th>Score</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            ${rowMarkup}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n}\r\n\r\nfunction formatAchievementWins(value, target) {\r\n  const wins = Number.isFinite(value) ? Math.max(0, Math.round(value)) : 0;\r\n  const goal = Number.isFinite(target) ? Math.max(1, Math.round(target)) : 1;\r\n  if (wins >= goal && wins > 0) {\r\n    return wins > 1 ? `WON x${formatCount(wins)}` : \"WON\";\r\n  }\r\n  return `Wins ${formatCount(wins)} / ${formatCount(goal)}`;\r\n}\r\n\r\nconst ACHIEVEMENT_DESTINATIONS = {\r\n  \"REQ-01\": { route: \"charts\", label: \"Charts\", note: \"Track global hits under Charts > Tracks.\" },\r\n  \"REQ-02\": { route: \"releases\", label: \"Calendar\", note: \"Focus on releases for project sales.\" },\r\n  \"REQ-03\": { route: \"awards\", label: \"Year-End Awards\", note: \"Inspect critics' categories.\" },\r\n  \"REQ-04\": { route: \"releases\", label: \"Calendar\", note: \"Watch project chart/stream totals.\" },\r\n  \"REQ-05\": { route: \"releases\", label: \"Calendar\", note: \"Monitor best-selling releases.\" },\r\n  \"REQ-06\": { route: \"awards\", label: \"Year-End Awards\", note: \"Inspect critics' categories.\" },\r\n  \"REQ-07\": { route: \"logs\", label: \"Promotions\", note: \"Review promo leaderboard & EyeriSocial.\" },\r\n  \"REQ-08\": { route: \"logs\", label: \"Promotions\", note: \"Watch promo reach & visibility.\" },\r\n  \"REQ-09\": { route: \"awards\", label: \"Year-End Awards\", note: \"Inspect critics' categories.\" },\r\n  \"REQ-10\": { route: \"tour\", label: \"Tour\", note: \"Use the Tour planner & timeline.\" },\r\n  \"REQ-11\": { route: \"tour\", label: \"Tour\", note: \"Balance attendance and staffing in Tour.\" },\r\n  \"REQ-12\": { route: \"awards\", label: \"Year-End Awards\", note: \"Tour awards live under Clubs & Tours.\" }\r\n};\r\n\r\nfunction getAchievementDestination(id) {\r\n  return ACHIEVEMENT_DESTINATIONS[id] || { route: \"dashboard\", label: \"Dashboard\" };\r\n}\r\n\r\nfunction getBlockedAchievementReason() {\r\n  if (state.meta?.cheaterMode) return \"Cheater mode active: achievements pause until disabled.\";\r\n  if (state.meta?.monopolyLoss) return \"Monopoly loss: achievements are blocked this run.\";\r\n  if (state.meta?.achievementsLocked && !state.meta?.bailoutUsed) return \"Achievements locked until bailout clears.\";\r\n  return \"\";\r\n}\r\n\r\nfunction computeAchievementProgressRatio(definition, value) {\r\n  if (!definition || typeof definition.target === \"undefined\") return 0;\r\n  if (value === null || typeof value === \"undefined\") return 0;\r\n  const target = Number(definition.target);\r\n  if (!Number.isFinite(target) || target <= 0) return 0;\r\n  return clamp(Number(value) / target, 0, 1);\r\n}\r\n\r\nfunction buildAchievementRowMarkup(achievement) {\r\n  const unlocked = new Set(state.meta.achievementsUnlocked || []);\r\n  const done = unlocked.has(achievement.id);\r\n  const value = typeof achievement.progress === \"function\" ? achievement.progress() : null;\r\n  const ratio = done ? 1 : computeAchievementProgressRatio(achievement, value);\r\n  const progressLabel = formatAchievementWins(value, achievement.target);\r\n  const blockedReason = getBlockedAchievementReason();\r\n  let statusLabel = \"In Progress\";\r\n  let statusState = \"in-progress\";\r\n  let reasonText = `Progress: ${progressLabel}`;\r\n  if (done) {\r\n    statusLabel = \"Completed\";\r\n    statusState = \"completed\";\r\n    reasonText = `Reward ${formatCount(achievement.exp)} EXP`;\r\n  } else if (blockedReason) {\r\n    statusLabel = \"Blocked\";\r\n    statusState = \"blocked\";\r\n    reasonText = blockedReason;\r\n  }\r\n  const destination = getAchievementDestination(achievement.id);\r\n  const destNote = destination.note ? `<div class=\"tiny muted\">${destination.note}</div>` : \"\";\r\n  const progressWidth = Math.round(ratio * 100);\r\n  return `\r\n    <div class=\"achievement-row\">\r\n      <div class=\"achievement-row-head\">\r\n        <div class=\"achievement-row-main\">\r\n          <div>\r\n            <div class=\"achievement-row-title\">${achievement.id}  ${achievement.label}</div>\r\n            <div class=\"achievement-desc\">${achievement.desc}</div>\r\n          </div>\r\n          <span class=\"achievement-status-pill achievement-status-pill--${statusState}\">${statusLabel}</span>\r\n        </div>\r\n        <button type=\"button\" class=\"ghost mini achievement-go-btn\" data-achievement-route=\"${destination.route}\">\r\n          Go to ${destination.label}\r\n        </button>\r\n      </div>\r\n      <div class=\"achievement-row-reason\">\r\n        <div class=\"tiny muted\">${reasonText}</div>\r\n        ${destNote}\r\n      </div>\r\n      <div class=\"achievement-progress\">\r\n        <div class=\"achievement-progress-bar\">\r\n          <div class=\"achievement-progress-fill\" style=\"width: ${progressWidth}%\"></div>\r\n        </div>\r\n        <div class=\"tiny muted\">${progressLabel}</div>\r\n      </div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction renderAchievementChecklist(targetId) {\r\n  const listEl = $(targetId);\r\n  if (!listEl) return;\r\n  listEl.innerHTML = ACHIEVEMENTS.map(buildAchievementRowMarkup).join(\"\");\r\n}\r\n\r\nfunction buildAchievementSummaryText() {\r\n  const unlockedCount = state.meta.achievementsUnlocked?.length || 0;\r\n  const count = Math.max(unlockedCount, state.meta.achievements || 0);\r\n  const notes = [];\r\n  if (state.meta.bailoutUsed) notes.push(\"Bailout used: win flagged for leaderboards.\");\r\n  if (state.meta.monopolyLoss) notes.push(\"Monopoly loss: achievements disabled.\");\r\n  if (state.meta.cheaterMode) notes.push(\"Cheater mode active: achievements paused.\");\r\n  const noteText = notes.join(\" \");\r\n  return `CEO Requests ${count} / ${ACHIEVEMENT_TARGET}${noteText ? ` | ${noteText}` : \"\"}`;\r\n}\r\n\r\nfunction updateAchievementSummaries() {\r\n  const summaryText = buildAchievementSummaryText();\r\n  const summaryEl = $(\"achievementSummary\");\r\n  if (summaryEl) summaryEl.textContent = summaryText;\r\n  const dashboardSummary = $(\"dashboardAchievementSummary\");\r\n  if (dashboardSummary) dashboardSummary.textContent = summaryText;\r\n  const viewMeta = $(\"achievementViewMeta\");\r\n  if (viewMeta) viewMeta.textContent = summaryText;\r\n}\r\n\r\nfunction renderAchievementsView() {\r\n  renderAchievementChecklist(\"achievementsList\");\r\n  updateAchievementSummaries();\r\n}\r\n\r\nfunction renderAchievements() {\r\n  renderAchievementChecklist(\"achievementList\");\r\n  updateAchievementSummaries();\r\n}\r\n\r\nfunction renderRivalAchievementRace() {\r\n  const listEl = $(\"rivalAchievementList\");\r\n  if (!listEl) return;\r\n  const rivals = Array.isArray(state.rivals) ? state.rivals.slice() : [];\r\n  const entries = [];\r\n  if (state.label?.name) entries.push({ name: state.label.name, isPlayer: true, rival: null });\r\n  rivals.forEach((rival) => {\r\n    if (rival?.name) entries.push({ name: rival.name, isPlayer: false, rival });\r\n  });\r\n  if (!entries.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No label progress yet.</div>`;\r\n    return;\r\n  }\r\n  const labelMap = new Map(ACHIEVEMENTS.map((entry) => [entry.id, entry.label]));\r\n  const ranked = entries.map((entry) => {\r\n    const progress = buildLabelAchievementProgress(entry.name);\r\n    return { entry, progress };\r\n  }).sort((a, b) => b.progress.total - a.progress.total || String(a.entry.name).localeCompare(String(b.entry.name)));\r\n  listEl.innerHTML = ranked.map(({ entry, progress }) => {\r\n    const focusId = entry.rival?.achievementFocus || null;\r\n    const focusLabel = focusId ? labelMap.get(focusId) || \"Unknown Request\" : \"None\";\r\n    const focusText = focusId ? `${focusId} ${focusLabel}` : \"No focus set\";\r\n    const summaryLine = entry.isPlayer ? \"Player label\" : `Focus ${focusText}`;\r\n    const totalPct = ACHIEVEMENT_TARGET > 0 ? Math.round((progress.total / ACHIEVEMENT_TARGET) * 100) : 0;\r\n    const requestMarkup = progress.entries.map((request) => {\r\n      const done = request.wins >= request.target;\r\n      const badgeClass = done ? \"badge\" : \"badge warn\";\r\n      const badgeText = done\r\n        ? formatAchievementWins(request.wins, request.target)\r\n        : `${formatCount(request.wins)} / ${formatCount(request.target)}`;\r\n      const percent = Math.round(request.ratio * 100);\r\n      return `\r\n        <div class=\"rival-achievement-detail\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${request.id} ${request.label}</div>\r\n              <div class=\"muted\">${request.desc}</div>\r\n            </div>\r\n            <div class=\"${badgeClass}\">${badgeText}</div>\r\n          </div>\r\n          <div class=\"progress-bar\">\r\n            <div class=\"progress-fill\" style=\"width: ${percent}%\"></div>\r\n          </div>\r\n          <div class=\"tiny muted\">${formatAchievementWins(request.wins, request.target)}</div>\r\n        </div>\r\n      `;\r\n    }).join(\"\");\r\n    return `\r\n      <details class=\"rival-achievement-card\">\r\n        <summary class=\"rival-achievement-summary\">\r\n          <div class=\"list-row\">\r\n            <div>\r\n              <div class=\"item-title\">${entry.name}${entry.isPlayer ? \" <span class=\\\"pill\\\">You</span>\" : \"\"}</div>\r\n              <div class=\"muted\">${summaryLine}</div>\r\n            </div>\r\n            <div class=\"badge\">${progress.total} / ${ACHIEVEMENT_TARGET}</div>\r\n          </div>\r\n          <div class=\"progress-bar\">\r\n            <div class=\"progress-fill\" style=\"width: ${totalPct}%\"></div>\r\n          </div>\r\n          <div class=\"tiny muted\">${totalPct}% complete</div>\r\n        </summary>\r\n        <div class=\"rival-achievement-details\">\r\n          ${requestMarkup}\r\n        </div>\r\n      </details>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderQuests() {\r\n  renderAchievements();\r\n  const questList = $(\"questList\");\r\n  const summaryEl = $(\"questSummary\");\r\n  if (!questList) return;\r\n  if (state.meta.cheaterMode) {\r\n    if (summaryEl) summaryEl.textContent = \"Cheater mode active: tasks are paused.\";\r\n    questList.innerHTML = `<div class=\"muted\">Cheater mode active. Tasks are disabled.</div>`;\r\n    return;\r\n  }\r\n  if (!state.quests.length) {\r\n    if (summaryEl) summaryEl.textContent = \"No active tasks.\";\r\n    questList.innerHTML = `<div class=\"muted\">No active tasks.</div>`;\r\n    return;\r\n  }\r\n  const completed = state.quests.filter((quest) => quest.done).length;\r\n  const activeCount = state.quests.length - completed;\r\n  if (summaryEl) summaryEl.textContent = `${formatCount(activeCount)} active | ${formatCount(completed)} complete`;\r\n  const list = state.quests.map((quest) => {\r\n    let detail = \"\";\r\n    if (quest.type === \"releaseCount\") detail = `${quest.progress}/${quest.target} released`;\r\n    if (quest.type === \"trendRelease\") detail = `${quest.progress}/${quest.target} released`;\r\n    if (quest.type === \"countryTop\") detail = quest.bestRank ? `Best rank #${quest.bestRank}` : \"No chart entries\";\r\n    if (quest.type === \"chartTop\") detail = quest.bestRank ? `Best rank #${quest.bestRank}` : \"No chart entries\";\r\n    if (quest.type === \"projectRelease\") {\r\n      detail = `${quest.progress}/${quest.target} ${quest.projectType} project${quest.target === 1 ? \"\" : \"s\"}`;\r\n    }\r\n    if (quest.type === \"promoRuns\") detail = `${quest.progress}/${quest.target} promos launched`;\r\n    if (quest.type === \"tourBookings\") detail = `${quest.progress}/${quest.target} dates booked`;\r\n    if (quest.type === \"awardNominations\") detail = `${quest.progress}/${quest.target} nominations`;\r\n    if (quest.type === \"awardWins\") detail = `${quest.progress}/${quest.target} wins`;\r\n    if (quest.type === \"cash\") detail = `${formatMoney(quest.progress)} / ${formatMoney(quest.target)}`;\r\n    const badgeClass = quest.done ? \"badge\" : \"badge warn\";\r\n    const expReward = Math.round(quest.expReward ?? (quest.reward / 8));\r\n    const focusRequests = Array.isArray(quest.focusRequests) ? quest.focusRequests.filter(Boolean) : [];\r\n    const focusLine = focusRequests.length ? `Supports CEO Requests: ${focusRequests.join(\", \")}` : \"\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${quest.id}</div>\r\n            <div class=\"muted\">${quest.text}</div>\r\n            <div class=\"muted\">${quest.story}</div>\r\n            ${focusLine ? `<div class=\"tiny muted\">${focusLine}</div>` : \"\"}\r\n          </div>\r\n          <div class=\"${badgeClass}\">${quest.done ? \"Done\" : \"Active\"}</div>\r\n        </div>\r\n        <div class=\"muted\">${detail} | Reward ${formatMoney(quest.reward)} + ${formatCount(expReward)} EXP</div>\r\n      </div>\r\n    `;\r\n  });\r\n  questList.innerHTML = list.join(\"\");\r\n}\r\n\r\nfunction renderSocialFeed() {\r\n  const listEl = $(\"socialFeed\");\r\n  if (!listEl) return;\r\n  const showInternal = state.ui.socialShowInternal !== false;\r\n  const filters = state.ui.socialFilters || {};\r\n  const posts = [];\r\n\r\n  if (showInternal) {\r\n    state.events.forEach((entry) => {\r\n      posts.push({\r\n        id: `LOG-${entry.ts}`,\r\n        ts: entry.ts,\r\n        handle: \"@System\",\r\n        title: entry.text,\r\n        lines: [],\r\n        type: \"system\",\r\n        order: 3\r\n      });\r\n    });\r\n  }\r\n\r\n  (state.social?.posts || []).forEach((post) => {\r\n    posts.push({ ...post, order: post.order || 0 });\r\n  });\r\n\r\n  const filtered = posts.filter((post) => {\r\n    const type = post.type || \"system\";\r\n    return filters[type] !== false;\r\n  });\r\n\r\n  filtered.sort((a, b) => (b.ts - a.ts) || (a.order - b.order));\r\n\r\n  if (!filtered.length) {\r\n    listEl.innerHTML = `<div class=\"muted\">No eyeriSocial posts yet.</div>`;\r\n    return;\r\n  }\r\n\r\n  const summarize = (value) => {\r\n    if (!value) return \"\";\r\n    const text = String(value).replace(/\\s+/g, \" \").trim();\r\n    return text.length > 120 ? `${text.slice(0, 120)}...` : text;\r\n  };\r\n\r\n  listEl.innerHTML = filtered.map((post) => {\r\n    const handle = post.handle || \"@Gaia\";\r\n    const title = post.title || post.text || \"Update\";\r\n    const fullLines = post.lines?.length ? post.lines : (post.text && post.title ? [post.text] : []);\r\n    const emailTypes = [\"quest\", \"contract\", \"receipt\"];\r\n    const preview = emailTypes.includes(post.type) ? \"\" : summarize(fullLines[0] || \"\");\r\n    return `\r\n      <div class=\"list-item social-item\" data-post-id=\"${post.id}\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${title}</div>\r\n            <div class=\"muted\">${handle} | ${formatDate(post.ts)}</div>\r\n            ${preview ? `<div class=\"muted\">${preview}</div>` : \"\"}\r\n          </div>\r\n          <div class=\"pill\">${post.type || \"system\"}</div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n\r\n  const toggle = $(\"socialShowInternal\");\r\n  if (toggle) toggle.checked = Boolean(showInternal);\r\n  document.querySelectorAll(\"[data-social-filter]\").forEach((input) => {\r\n    const key = input.dataset.socialFilter;\r\n    if (!key) return;\r\n    input.checked = filters[key] !== false;\r\n  });\r\n}\r\n\r\nfunction renderEventLog() {\r\n  renderSocialFeed();\r\n  renderSystemLog();\r\n}\r\n\r\nfunction renderSystemLog() {\r\n  const target = $(\"eventLogList\");\r\n  if (!target) return;\r\n  if (!state.events.length) {\r\n    target.innerHTML = `<div class=\"muted\">No system updates yet.</div>`;\r\n    return;\r\n  }\r\n  target.innerHTML = state.events.slice(0, 80).map((entry) => {\r\n    const time = formatDate(entry.ts);\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${entry.kind?.toUpperCase() || \"INFO\"}</div>\r\n            <div class=\"muted\">${time}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"muted\">${entry.text}</div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction renderMainMenu() {\r\n  const list = [];\r\n  for (let i = 1; i <= SLOT_COUNT; i += 1) {\r\n    const data = getSlotData(i);\r\n    const hasData = Boolean(data);\r\n    const labelName = data?.label?.name || \"Empty Game Slot\";\r\n    const savedAt = data?.meta?.savedAt ? new Date(data.meta.savedAt).toLocaleString() : \"Never saved\";\r\n    const totalQuarters = data?.time?.totalQuarters;\r\n    const hours = Number.isFinite(totalQuarters)\r\n      ? Math.floor(totalQuarters / QUARTERS_PER_HOUR)\r\n      : data?.time?.totalHours || 0;\r\n    const week = Math.floor(hours / WEEK_HOURS) + 1;\r\n    const cash = data?.label?.cash ?? 0;\r\n    const mode = getSlotGameMode(data);\r\n    const modeLabel = mode ? shortGameModeLabel(mode.label) : \"\";\r\n    const modeTag = mode && modeLabel\r\n      ? `<span class=\"pill mode-pill\" data-mode=\"${mode.id}\" title=\"${mode.label}\">${modeLabel}</span>`\r\n      : \"\";\r\n    const metaLine = data\r\n      ? `${modeTag ? `${modeTag} ` : \"\"}${formatWeekRangeLabel(week)} | ${formatMoney(cash)} | ${savedAt}`\r\n      : \"Create a new label in this game slot.\";\r\n    list.push(`\r\n      <div class=\"slot-card\" data-slot-index=\"${i}\" data-slot-has-data=\"${hasData ? \"1\" : \"0\"}\" data-slot-default=\"${hasData ? \"continue\" : \"new\"}\">\r\n        <div class=\"slot-row\">\r\n          <div>\r\n            <div class=\"item-title\">Game Slot ${i}: ${data ? labelName : \"Empty\"}</div>\r\n            <div class=\"muted\">${metaLine}</div>\r\n          </div>\r\n          <div class=\"actions\">\r\n            <button type=\"button\" data-slot-action=\"continue\" data-slot-index=\"${i}\" ${hasData ? \"\" : \"disabled\"}>Continue</button>\r\n            <button type=\"button\" class=\"ghost\" data-slot-action=\"new\" data-slot-index=\"${i}\">Create New</button>\r\n            ${hasData ? `<button type=\"button\" class=\"ghost\" data-slot-action=\"delete\" data-slot-index=\"${i}\">Delete</button>` : \"\"}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `);\r\n  }\r\n  $(\"slotList\").innerHTML = list.join(\"\");\r\n  const closeBtn = $(\"menuCloseBtn\");\r\n  if (closeBtn) {\r\n    closeBtn.disabled = !session.activeSlot;\r\n  }\r\n  const saveBtn = $(\"menuSaveBtn\");\r\n  if (saveBtn) {\r\n    saveBtn.disabled = !session.activeSlot;\r\n  }\r\n  const autoSaveMinutes = $(\"autoSaveMinutes\");\r\n  const autoSaveToggle = $(\"autoSaveToggle\");\r\n  if (autoSaveMinutes && autoSaveToggle) {\r\n    const options = [];\r\n    for (let i = 2; i <= 10; i += 1) {\r\n      options.push(`<option value=\"${i}\">${i} min</option>`);\r\n    }\r\n    autoSaveMinutes.innerHTML = options.join(\"\");\r\n    autoSaveMinutes.value = String(state.meta.autoSave.minutes || 2);\r\n    autoSaveToggle.checked = Boolean(state.meta.autoSave.enabled);\r\n    const disabled = !session.activeSlot;\r\n    autoSaveMinutes.disabled = disabled;\r\n    autoSaveToggle.disabled = disabled;\r\n  }\r\n  const cheaterToggle = $(\"cheaterModeToggle\");\r\n  if (cheaterToggle) {\r\n    cheaterToggle.checked = Boolean(state.meta.cheaterMode);\r\n    cheaterToggle.disabled = !session.activeSlot;\r\n  }\r\n  void updateSaveStatusPanel(document);\r\n}\r\n\r\nfunction openMainMenu() {\r\n  document.body.classList.add(\"menu-open\");\r\n  if (state.time.speed !== \"pause\") {\r\n    session.prevSpeed = state.time.speed;\r\n  }\r\n  setTimeSpeed(\"pause\");\r\n  renderMainMenu();\r\n}\r\n\r\nfunction closeMainMenu() {\r\n  document.body.classList.remove(\"menu-open\");\r\n  if (session.prevSpeed) {\r\n    setTimeSpeed(session.prevSpeed);\r\n    session.prevSpeed = null;\r\n  }\r\n}\r\n\r\nfunction updateGenrePreview() {\r\n  const themeSelect = $(\"themeSelect\");\r\n  const moodSelect = $(\"moodSelect\");\r\n  if (!themeSelect || !moodSelect) return;\r\n  const theme = themeSelect.value;\r\n  const mood = moodSelect.value;\r\n  const preview = $(\"genrePreview\");\r\n  const alignmentSelect = $(\"trackAlignment\");\r\n  const alignment = alignmentSelect ? alignmentSelect.value : (state.label?.alignment || \"\");\r\n  if (!preview) return;\r\n  if (!theme || !mood) {\r\n    preview.textContent = \"Planned Genre: -\";\r\n    return;\r\n  }\r\n  preview.innerHTML = `Planned Genre: ${renderGenrePills(theme, mood, { alignment })}`;\r\n}\r\n\r\nfunction stageLabelFromId(stageId) {\r\n  if (stageId === \"demo\") return \"Demo Recording\";\r\n  if (stageId === \"master\") return \"Master Recording\";\r\n  return \"Sheet Music\";\r\n}\r\n\r\nfunction stageIndexFromId(stageId) {\r\n  if (stageId === \"demo\") return 1;\r\n  if (stageId === \"master\") return 2;\r\n  return 0;\r\n}\r\n\r\nfunction renderActiveStudiosSelect(stageId, selectId, metaId) {\r\n  const stageKey = stageId || \"sheet\";\r\n  const select = $(selectId);\r\n  if (!select) return;\r\n  const stageIndex = stageIndexFromId(stageKey);\r\n  const stageLabel = stageLabelFromId(stageKey);\r\n  const labelEl = select.closest(\".field\")?.querySelector(\"label\");\r\n  if (labelEl) labelEl.textContent = `Active Studios (${stageLabel})`;\r\n\r\n  const active = state.workOrders\r\n    .filter((order) => order.status === \"In Progress\" && order.stageIndex === stageIndex)\r\n    .map((order) => {\r\n      const track = getTrack(order.trackId);\r\n      const crewIds = getWorkOrderCreatorIds(order);\r\n      const crew = crewIds.map((id) => getCreator(id)).filter(Boolean);\r\n      const lead = crew[0] || null;\r\n      const stageName = STAGES[order.stageIndex]?.name || stageLabel;\r\n      const crewLabel = buildWorkOrderCrewLabel(crew);\r\n      const crewText = lead\r\n        ? `${crewLabel.primary}${crewLabel.secondary ? ` ${crewLabel.secondary}` : \"\"}`\r\n        : null;\r\n      return {\r\n        slot: Number.isFinite(order.studioSlot) ? order.studioSlot : null,\r\n        trackTitle: track ? track.title : \"Unknown Track\",\r\n        creatorName: crewText,\r\n        stageName\r\n      };\r\n    })\r\n    .sort((a, b) => (a.slot || 0) - (b.slot || 0));\r\n\r\n  if (!active.length) {\r\n    select.innerHTML = `<option value=\"\">No active studios</option>`;\r\n    select.disabled = true;\r\n  } else {\r\n    select.innerHTML = active\r\n      .map((entry, index) => {\r\n        const slotLabel = entry.slot ? `Studio ${entry.slot}` : `Studio ${index + 1}`;\r\n        const creatorLabel = entry.creatorName ? ` | ${entry.creatorName}` : \"\";\r\n        return `<option value=\"${entry.slot || index + 1}\">${slotLabel} | ${entry.trackTitle}${creatorLabel}</option>`;\r\n      })\r\n      .join(\"\");\r\n    select.disabled = false;\r\n  }\r\n\r\n  const meta = $(metaId);\r\n  if (meta) {\r\n    const counts = getStudioUsageCounts();\r\n    const ownedSlots = getOwnedStudioSlots();\r\n    const totalSlots = ownedSlots + counts.leased;\r\n    meta.textContent = `Active ${active.length}/${STAGE_STUDIO_LIMIT} | Global ${counts.total}/${totalSlots}`;\r\n  }\r\n}\r\n\r\nfunction renderCreateStageTrackSelect() {\r\n  const renderStageSelect = (stageId, selectId, metaId) => {\r\n    const select = $(selectId);\r\n    if (!select) return;\r\n    const meta = $(metaId);\r\n    const isDemo = stageId === \"demo\";\r\n    const status = isDemo ? \"Awaiting Demo\" : \"Awaiting Master\";\r\n    const tracks = state.tracks.filter((track) => track.status === status);\r\n    if (!tracks.length) {\r\n      select.innerHTML = `<option value=\"\">No tracks awaiting ${isDemo ? \"demo recording\" : \"mastering\"}.</option>`;\r\n      select.disabled = true;\r\n      if (state.ui.createTrackIds) state.ui.createTrackIds[stageId] = null;\r\n      if (state.ui.createStage === stageId) state.ui.createTrackId = null;\r\n      if (meta) meta.textContent = `Awaiting ${isDemo ? \"demo recordings\" : \"mastering\"}: 0`;\r\n      return;\r\n    }\r\n    select.innerHTML = tracks\r\n      .map((track) => `<option value=\"${track.id}\">${track.title}</option>`)\r\n      .join(\"\");\r\n    const stored = state.ui.createTrackIds ? state.ui.createTrackIds[stageId] : null;\r\n    const preferred = tracks.some((track) => track.id === stored)\r\n      ? stored\r\n      : tracks[0].id;\r\n    if (state.ui.createTrackIds) state.ui.createTrackIds[stageId] = preferred;\r\n    if (state.ui.createStage === stageId) state.ui.createTrackId = preferred;\r\n    select.value = preferred;\r\n    select.disabled = false;\r\n    if (meta) meta.textContent = `Awaiting ${isDemo ? \"demo recordings\" : \"mastering\"}: ${tracks.length}`;\r\n  };\r\n\r\n  renderStageSelect(\"demo\", \"demoTrackSelect\", \"demoTrackMeta\");\r\n  renderStageSelect(\"master\", \"masterTrackSelect\", \"masterTrackMeta\");\r\n}\r\n\r\nfunction getSheetStartPlan({ mode, theme, modifierId, cash } = {}) {\r\n  const resolvedMode = mode || state.ui.recommendAllMode || \"solo\";\r\n  const resolvedTheme = typeof theme === \"string\"\r\n    ? theme\r\n    : ($(\"themeSelect\") ? $(\"themeSelect\").value : \"\");\r\n  const resolvedModifierId = typeof modifierId === \"string\"\r\n    ? modifierId\r\n    : ($(\"modifierSelect\") ? $(\"modifierSelect\").value : \"None\");\r\n  const modifier = getModifier(resolvedModifierId);\r\n  const assignedSongwriters = [...new Set(getTrackRoleIdsFromSlots(\"Songwriter\"))];\r\n  const req = staminaRequirement(\"Songwriter\");\r\n  const eligibleSongwriters = assignedSongwriters.filter((id) => {\r\n    const creator = getCreator(id);\r\n    return creator && creator.stamina >= req;\r\n  });\r\n  const cashOnHand = Number.isFinite(cash) ? cash : state.label.cash;\r\n  const studioSlotsAvailable = getStudioAvailableSlots();\r\n  const sheetStageSlots = getStageStudioAvailable(0);\r\n  const capacityLimit = Math.min(studioSlotsAvailable, sheetStageSlots);\r\n  const themeReady = !!resolvedTheme;\r\n\r\n  if (resolvedMode === \"collab\") {\r\n    const sheetCrew = assignedSongwriters;\r\n    const sheetCost = sheetCrew.length ? getStageCost(0, modifier, sheetCrew) : 0;\r\n    const canStart = themeReady\r\n      && sheetCrew.length > 0\r\n      && cashOnHand >= sheetCost\r\n      && capacityLimit > 0;\r\n    return {\r\n      mode: resolvedMode,\r\n      themeReady,\r\n      modifier,\r\n      assignedSongwriters,\r\n      eligibleSongwriters,\r\n      startableSongwriters: canStart ? sheetCrew : [],\r\n      startableCount: canStart ? 1 : 0,\r\n      sheetCost,\r\n      capacityLimit,\r\n      studioSlotsAvailable,\r\n      sheetStageSlots,\r\n      stoppedByCash: themeReady && sheetCrew.length > 0 && cashOnHand < sheetCost,\r\n      stoppedByCapacity: themeReady && sheetCrew.length > 0 && capacityLimit <= 0,\r\n      staminaRequirement: req\r\n    };\r\n  }\r\n\r\n  if (!themeReady) {\r\n    let previewCash = cashOnHand;\r\n    let previewCapacity = capacityLimit;\r\n    let sheetCost = 0;\r\n    for (let i = 0; i < eligibleSongwriters.length; i += 1) {\r\n      if (previewCapacity <= 0) break;\r\n      const songwriterId = eligibleSongwriters[i];\r\n      const stageCost = getStageCost(0, modifier, [songwriterId]);\r\n      if (previewCash < stageCost) break;\r\n      previewCash -= stageCost;\r\n      previewCapacity -= 1;\r\n      sheetCost += stageCost;\r\n    }\r\n    return {\r\n      mode: resolvedMode,\r\n      themeReady,\r\n      modifier,\r\n      assignedSongwriters,\r\n      eligibleSongwriters,\r\n      startableSongwriters: [],\r\n      startableCount: 0,\r\n      sheetCost,\r\n      capacityLimit,\r\n      studioSlotsAvailable,\r\n      sheetStageSlots,\r\n      stoppedByCash: false,\r\n      stoppedByCapacity: false,\r\n      staminaRequirement: req\r\n    };\r\n  }\r\n\r\n  let remainingCash = cashOnHand;\r\n  let remainingCapacity = capacityLimit;\r\n  let stoppedByCash = false;\r\n  let stoppedByCapacity = false;\r\n  const startableSongwriters = [];\r\n  let sheetCost = 0;\r\n  for (let i = 0; i < eligibleSongwriters.length; i += 1) {\r\n    if (remainingCapacity <= 0) {\r\n      stoppedByCapacity = true;\r\n      break;\r\n    }\r\n    const songwriterId = eligibleSongwriters[i];\r\n    const stageCost = getStageCost(0, modifier, [songwriterId]);\r\n    if (remainingCash < stageCost) {\r\n      stoppedByCash = true;\r\n      break;\r\n    }\r\n    startableSongwriters.push(songwriterId);\r\n    remainingCash -= stageCost;\r\n    remainingCapacity -= 1;\r\n    sheetCost += stageCost;\r\n  }\r\n\r\n  return {\r\n    mode: resolvedMode,\r\n    themeReady,\r\n    modifier,\r\n    assignedSongwriters,\r\n    eligibleSongwriters,\r\n    startableSongwriters,\r\n    startableCount: startableSongwriters.length,\r\n    sheetCost,\r\n    capacityLimit,\r\n    studioSlotsAvailable,\r\n    sheetStageSlots,\r\n    stoppedByCash,\r\n    stoppedByCapacity,\r\n    staminaRequirement: req\r\n  };\r\n}\r\n\r\nfunction getCreateStageAvailability() {\r\n  const theme = $(\"themeSelect\") ? $(\"themeSelect\").value : \"\";\r\n  const modifierId = $(\"modifierSelect\") ? $(\"modifierSelect\").value : \"None\";\r\n  const sheetPlan = getSheetStartPlan({ theme, modifierId });\r\n  const sheetReadyCount = sheetPlan.startableCount;\r\n  const studioSlotsAvailable = sheetPlan.studioSlotsAvailable;\r\n  const sheetStageSlots = sheetPlan.sheetStageSlots;\r\n  const sheetCanStart = sheetPlan.startableCount > 0;\r\n  const sheetReason = (() => {\r\n    if (!sheetPlan.themeReady) return \"Select a Theme to create sheet music.\";\r\n    if (!sheetPlan.assignedSongwriters.length) return \"Assign a Songwriter ID to create sheet music.\";\r\n    if (sheetPlan.mode === \"solo\" && sheetPlan.assignedSongwriters.length && !sheetPlan.eligibleSongwriters.length) {\r\n      return `No available Songwriter creators with ${sheetPlan.staminaRequirement} stamina.`;\r\n    }\r\n    if (sheetStageSlots <= 0) return \"No studio slots available for sheet music. Wait for a studio to free up.\";\r\n    if (studioSlotsAvailable <= 0) return \"No studio slots available. Finish a production or expand capacity first.\";\r\n    if (sheetPlan.stoppedByCash && !sheetPlan.startableCount) return \"Not enough cash to create sheet music.\";\r\n    return \"\";\r\n  })();\r\n\r\n  const demoTracks = state.tracks.filter((track) => track.status === \"Awaiting Demo\");\r\n  const masterTracks = state.tracks.filter((track) => track.status === \"Awaiting Master\");\r\n  const demoCount = demoTracks.length;\r\n  const masterCount = masterTracks.length;\r\n\r\n  const demoTrackId = (state.ui.createTrackIds ? state.ui.createTrackIds.demo : null)\r\n    || $(\"demoTrackSelect\")?.value\r\n    || null;\r\n  const demoTrack = demoTrackId ? getTrack(demoTrackId) : null;\r\n  const mood = $(\"moodSelect\") ? $(\"moodSelect\").value : \"\";\r\n  const moodValid = !!mood && (!Array.isArray(MOODS) || MOODS.includes(mood));\r\n  const demoPerformers = getTrackRoleIdsFromSlots(\"Performer\");\r\n  const demoAssigned = demoPerformers.length\r\n    ? normalizeRoleIds(demoPerformers, \"Performer\")\r\n    : getTrackRoleIds(demoTrack, \"Performer\");\r\n  const demoCost = demoAssigned.length ? getStageCost(1, demoTrack?.modifier, demoAssigned) : 0;\r\n  const demoReady = demoTrack && demoTrack.status === \"Awaiting Demo\" && demoTrack.stageIndex === 1;\r\n  const demoStageSlots = getStageStudioAvailable(1);\r\n  const demoCanStart = !!demoReady\r\n    && moodValid\r\n    && demoAssigned.length > 0\r\n    && state.label.cash >= demoCost\r\n    && studioSlotsAvailable > 0\r\n    && demoStageSlots > 0;\r\n  const demoReason = (() => {\r\n    if (!demoCount) return \"No tracks awaiting demo recording.\";\r\n    if (!demoTrackId) return \"Select a track awaiting demo recording.\";\r\n    if (!demoTrack) return \"Track not found for demo recording.\";\r\n    if (!demoReady) return \"Track is not ready for demo recording.\";\r\n    if (!mood) return \"Select a Mood to create the demo recording.\";\r\n    if (!moodValid) return \"Select a valid Mood to create the demo recording.\";\r\n    if (!demoAssigned.length) return \"Assign a Recorder ID to create the demo recording.\";\r\n    if (studioSlotsAvailable <= 0) return \"No studio slots available. Finish a production or expand capacity first.\";\r\n    if (demoStageSlots <= 0) return \"No studio slots available for demo recording. Wait for a studio to free up.\";\r\n    if (state.label.cash < demoCost) return \"Not enough cash to create the demo recording.\";\r\n    return \"\";\r\n  })();\r\n\r\n  const masterTrackId = (state.ui.createTrackIds ? state.ui.createTrackIds.master : null)\r\n    || $(\"masterTrackSelect\")?.value\r\n    || null;\r\n  const masterTrack = masterTrackId ? getTrack(masterTrackId) : null;\r\n  const alignmentInput = $(\"trackAlignment\") ? $(\"trackAlignment\").value : \"\";\r\n  const resolvedAlignment = alignmentInput || masterTrack?.alignment || state.label.alignment || \"\";\r\n  const alignmentValid = !!resolvedAlignment && (!Array.isArray(ALIGNMENTS) || ALIGNMENTS.includes(resolvedAlignment));\r\n  const masterProducers = getTrackRoleIdsFromSlots(\"Producer\");\r\n  const masterAssigned = masterProducers.length\r\n    ? normalizeRoleIds(masterProducers, \"Producer\")\r\n    : getTrackRoleIds(masterTrack, \"Producer\");\r\n  const masterCost = masterAssigned.length ? getStageCost(2, masterTrack?.modifier, masterAssigned) : 0;\r\n  const masterReady = masterTrack\r\n    && masterTrack.status === \"Awaiting Master\"\r\n    && masterTrack.stageIndex === 2\r\n    && !!masterTrack.mood;\r\n  const masterStageSlots = getStageStudioAvailable(2);\r\n  const masterCanStart = !!masterReady\r\n    && alignmentValid\r\n    && masterAssigned.length > 0\r\n    && state.label.cash >= masterCost\r\n    && studioSlotsAvailable > 0\r\n    && masterStageSlots > 0;\r\n  const masterReason = (() => {\r\n    if (!masterCount) return \"No tracks awaiting mastering.\";\r\n    if (!masterTrackId) return \"Select a track awaiting mastering.\";\r\n    if (!masterTrack) return \"Track not found for mastering.\";\r\n    if (!masterTrack.status || masterTrack.status !== \"Awaiting Master\" || masterTrack.stageIndex !== 2) {\r\n      return \"Track is not ready for mastering.\";\r\n    }\r\n    if (!masterTrack.mood) return \"Demo recording must assign a Mood before mastering.\";\r\n    if (!masterAssigned.length) return \"Assign a Producer ID to create the master recording.\";\r\n    if (!resolvedAlignment) return \"Select a Content Alignment before mastering.\";\r\n    if (!alignmentValid) return \"Select a valid Content Alignment before mastering.\";\r\n    if (studioSlotsAvailable <= 0) return \"No studio slots available. Finish a production or expand capacity first.\";\r\n    if (masterStageSlots <= 0) return \"No studio slots available for mastering. Wait for a studio to free up.\";\r\n    if (state.label.cash < masterCost) return \"Not enough cash to create the master recording.\";\r\n    return \"\";\r\n  })();\r\n\r\n  return {\r\n    sheetReadyCount,\r\n    demoCount,\r\n    masterCount,\r\n    sheetCanStart,\r\n    demoCanStart,\r\n    masterCanStart,\r\n    sheetCost: Number.isFinite(sheetPlan.sheetCost) ? sheetPlan.sheetCost : 0,\r\n    demoCost,\r\n    masterCost,\r\n    sheetReason: sheetCanStart ? \"\" : (sheetReason || \"Requirements not met.\"),\r\n    demoReason: demoCanStart ? \"\" : (demoReason || \"Requirements not met.\"),\r\n    masterReason: masterCanStart ? \"\" : (masterReason || \"Requirements not met.\")\r\n  };\r\n}\r\n\r\nfunction renderProjectTypeMeta() {\r\n  const meta = $(\"projectTypeMeta\");\r\n  if (!meta) return;\r\n  const projectNameInput = $(\"projectName\");\r\n  const rawName = projectNameInput ? projectNameInput.value.trim() : \"\";\r\n  const projectType = $(\"projectTypeSelect\") ? $(\"projectTypeSelect\").value : \"Single\";\r\n  const limits = getProjectTrackLimits(projectType);\r\n  const typeLabel = limits.type || normalizeProjectType(projectType);\r\n  if (!rawName) {\r\n    meta.textContent = `${typeLabel} projects target ${limits.min}-${limits.max} tracks.`;\r\n    return;\r\n  }\r\n  const normalizedName = normalizeProjectName(rawName);\r\n  const projectTracks = state.tracks.filter((track) => {\r\n    const trackName = track.projectName || `${track.title} - Single`;\r\n    return normalizeProjectName(trackName) === normalizedName;\r\n  });\r\n  const existingTypes = Array.from(new Set(projectTracks.map((track) => normalizeProjectType(track.projectType))));\r\n  if (existingTypes.length && !existingTypes.includes(typeLabel)) {\r\n    meta.textContent = `${rawName} already uses ${existingTypes.join(\" / \")}. Switch the Content Type or rename the project.`;\r\n    return;\r\n  }\r\n  const count = projectTracks.length;\r\n  const minRemaining = Math.max(0, limits.min - count);\r\n  const maxRemaining = Math.max(0, limits.max - count);\r\n  let detail = `${count}/${limits.max} tracks`;\r\n  if (minRemaining > 0) {\r\n    detail += ` | ${minRemaining} to minimum`;\r\n  } else if (maxRemaining === 0) {\r\n    detail += \" | Maxed\";\r\n  } else {\r\n    detail += ` | ${maxRemaining} slots left`;\r\n  }\r\n  meta.textContent = `${rawName} (${typeLabel}): ${detail}`;\r\n}\r\n\r\nfunction renderCreateStageControls() {\r\n  const stageButtons = document.querySelectorAll(\"[data-create-stage]\");\r\n  if (!stageButtons.length) return;\r\n  let stage = state.ui.createStage || \"sheet\";\r\n  const validStages = [\"sheet\", \"demo\", \"master\"];\r\n  if (!validStages.includes(stage)) {\r\n    logEvent(\"Unknown creation stage selected. Reverting to Sheet Music.\", \"warn\");\r\n    stage = \"sheet\";\r\n  }\r\n  state.ui.createStage = stage;\r\n  renderCreateStageTrackSelect();\r\n  const availability = getCreateStageAvailability();\r\n  const sheetCountEl = $(\"createStageCountSheet\");\r\n  if (sheetCountEl) sheetCountEl.textContent = `(${availability.sheetReadyCount} available)`;\r\n  const demoCountEl = $(\"createStageCountDemo\");\r\n  if (demoCountEl) demoCountEl.textContent = `(${availability.demoCount} available)`;\r\n  const masterCountEl = $(\"createStageCountMaster\");\r\n  if (masterCountEl) masterCountEl.textContent = `(${availability.masterCount} available)`;\r\n  stageButtons.forEach((btn) => {\r\n    const id = btn.dataset.createStage;\r\n    if (!id || !validStages.includes(id)) return;\r\n    const isActive = id === stage;\r\n    btn.classList.toggle(\"active\", isActive);\r\n    btn.setAttribute(\"aria-pressed\", String(isActive));\r\n    const column = btn.closest(\".create-stage-column\");\r\n    if (column) column.classList.toggle(\"is-active\", isActive);\r\n  });\r\n\r\n  const desiredRole = stage === \"demo\"\r\n    ? \"Performer\"\r\n    : stage === \"master\"\r\n      ? \"Producer\"\r\n      : stage === \"sheet\"\r\n        ? \"Songwriter\"\r\n        : null;\r\n  const currentRole = parseTrackRoleTarget(state.ui.slotTarget || \"\")?.role || null;\r\n  if (desiredRole && currentRole !== desiredRole) {\r\n    state.ui.slotTarget = `${TRACK_ROLE_TARGETS[desiredRole]}-1`;\r\n  }\r\n  if (stage === \"demo\" || stage === \"master\") {\r\n    const tracked = state.ui.createTrackIds ? state.ui.createTrackIds[stage] : null;\r\n    state.ui.createTrackId = tracked || null;\r\n  }\r\n  const sheetBtn = $(\"startSheetBtn\");\r\n  if (sheetBtn) {\r\n    const sheetCostLabel = formatMoney(availability.sheetCost || 0);\r\n    sheetBtn.textContent = `Create Sheet Music (${sheetCostLabel})`;\r\n    sheetBtn.disabled = !availability.sheetCanStart;\r\n    sheetBtn.title = availability.sheetCanStart ? \"\" : availability.sheetReason;\r\n  }\r\n  const sheetReason = $(\"startSheetReason\");\r\n  if (sheetReason) {\r\n    sheetReason.textContent = availability.sheetReason || \"\";\r\n    sheetReason.classList.toggle(\"hidden\", !availability.sheetReason);\r\n  }\r\n  const demoBtn = $(\"startDemoBtn\");\r\n  if (demoBtn) {\r\n    const demoCostLabel = formatMoney(availability.demoCost || 0);\r\n    demoBtn.textContent = `Create Demo Recording (${demoCostLabel})`;\r\n    demoBtn.disabled = !availability.demoCanStart;\r\n    demoBtn.title = availability.demoCanStart ? \"\" : availability.demoReason;\r\n  }\r\n  const demoReason = $(\"startDemoReason\");\r\n  if (demoReason) {\r\n    demoReason.textContent = availability.demoReason || \"\";\r\n    demoReason.classList.toggle(\"hidden\", !availability.demoReason);\r\n  }\r\n  const masterBtn = $(\"startMasterBtn\");\r\n  if (masterBtn) {\r\n    const masterCostLabel = formatMoney(availability.masterCost || 0);\r\n    masterBtn.textContent = `Create Master Recording (${masterCostLabel})`;\r\n    masterBtn.disabled = !availability.masterCanStart;\r\n    masterBtn.title = availability.masterCanStart ? \"\" : availability.masterReason;\r\n  }\r\n  const masterReason = $(\"startMasterReason\");\r\n  if (masterReason) {\r\n    masterReason.textContent = availability.masterReason || \"\";\r\n    masterReason.classList.toggle(\"hidden\", !availability.masterReason);\r\n  }\r\n  const recommendSelect = $(\"recommendAllMode\");\r\n  if (recommendSelect) recommendSelect.value = state.ui.recommendAllMode || \"solo\";\r\n  const recommendHelp = $(\"recommendAllHelp\");\r\n  if (recommendHelp) {\r\n    recommendHelp.textContent = stage === \"sheet\"\r\n      ? \"Solo starts separate sheet music for each assigned songwriter. Collab fills one track with everyone.\"\r\n      : \"Solo/collab applies to sheet music only. Demo and master stages always run one track at a time.\";\r\n  }\r\n  const advanced = $(\"createAdvancedOptions\");\r\n  if (advanced) {\r\n    const showAdvanced = !!state.ui.createAdvancedOpen;\r\n    advanced.classList.toggle(\"hidden\", !showAdvanced);\r\n  }\r\n  renderActiveStudiosSelect(\"sheet\", \"activeStudiosSelectSheet\", \"activeStudiosMetaSheet\");\r\n  renderActiveStudiosSelect(\"demo\", \"activeStudiosSelectDemo\", \"activeStudiosMetaDemo\");\r\n  renderActiveStudiosSelect(\"master\", \"activeStudiosSelectMaster\", \"activeStudiosMetaMaster\");\r\n  renderProjectTypeMeta();\r\n}\r\n\r\nfunction shouldThrottleWorldRender() {\r\n  if (state.time?.speed === \"pause\") return false;\r\n  if (state.ui?.forceWorldRender) return false;\r\n  const now = Date.now();\r\n  const totalHours = Number.isFinite(state.time?.totalHours) ? state.time.totalHours : null;\r\n  const isFast = state.time?.speed === \"fast\" || session.timeJumpActive;\r\n  if (isFast && Number.isFinite(totalHours) && Number.isFinite(lastWorldRenderHour)) {\r\n    if (totalHours - lastWorldRenderHour < WORLD_RENDER_FAST_HOUR_STEP) return true;\r\n  }\r\n  return now - lastWorldRenderAt < WORLD_RENDER_THROTTLE_MS;\r\n}\r\n\r\nfunction recordWorldRender() {\r\n  lastWorldRenderAt = Date.now();\r\n  if (Number.isFinite(state.time?.totalHours)) lastWorldRenderHour = state.time.totalHours;\r\n  if (state.ui?.forceWorldRender) state.ui.forceWorldRender = false;\r\n}\r\n\r\nfunction shouldThrottleChartsRender() {\r\n  if (state.time?.speed === \"pause\") return false;\r\n  if (state.ui?.forceChartsRender) return false;\r\n  const now = Date.now();\r\n  const totalHours = Number.isFinite(state.time?.totalHours) ? state.time.totalHours : null;\r\n  const isFast = state.time?.speed === \"fast\" || session.timeJumpActive;\r\n  if (isFast && Number.isFinite(totalHours) && Number.isFinite(lastChartsRenderHour)) {\r\n    if (totalHours - lastChartsRenderHour < CHART_RENDER_FAST_HOUR_STEP) return true;\r\n  }\r\n  return now - lastChartsRenderAt < CHART_RENDER_THROTTLE_MS;\r\n}\r\n\r\nfunction recordChartsRender() {\r\n  lastChartsRenderAt = Date.now();\r\n  if (Number.isFinite(state.time?.totalHours)) lastChartsRenderHour = state.time.totalHours;\r\n  if (state.ui?.forceChartsRender) state.ui.forceChartsRender = false;\r\n}\r\n\r\nfunction safeRenderCreateView() {\r\n  try {\r\n    renderCreateStageControls();\r\n    renderSlots();\r\n    renderTracks();\r\n    renderModifierInventory();\r\n    renderCreateTrends();\r\n    updateGenrePreview();\r\n    if (typeof window !== \"undefined\" && typeof window.updateCreateModePanels === \"function\") {\r\n      window.updateCreateModePanels();\r\n    }\r\n    if (typeof window !== \"undefined\" && typeof window.updateAutoCreateSummary === \"function\") {\r\n      window.updateAutoCreateSummary();\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Create view render failed:\", error);\r\n    showToast(\r\n      \"Create view error\",\r\n      \"The Create tab encountered an issue; try reloading the view or switching tabs to recover.\",\r\n      { tone: \"warn\" }\r\n    );\r\n  }\r\n}\r\n\r\nfunction renderActiveView(view) {\r\n  const raw = view || state.ui.activeView || \"dashboard\";\r\n  const active = raw === \"promotion\"\n    ? \"logs\"\n    : raw === \"era\"\n      ? \"eras\"\n      : raw === \"roster\"\n        ? \"acts\"\n        : raw;\n  if (active === \"dashboard\") {\r\n    renderDashboard();\r\n  } else if (active === \"charts\") {\r\n    renderCharts();\r\n    renderSlots();\r\n  } else if (active === \"awards\") {\r\n    renderAnnualAwardsView();\r\n  } else if (active === \"achievements\") {\r\n    renderAchievementsView();\r\n  } else if (active === \"release\") {\r\n    renderReleaseDesk();\r\n  } else if (active === \"create\") {\r\n    safeRenderCreateView();\r\n  } else if (active === \"releases\") {\r\n    renderCalendarView();\r\n    renderCalendarStructuresPanel();\r\n  } else if (active === \"eras\") {\r\n    renderEraStatus();\r\n    renderSlots();\r\n    renderEraPerformance();\r\n  } else if (active === \"acts\") {\r\n    renderActs();\r\n    renderSlots();\r\n  } else if (active === \"creators\") {\r\n    renderCreators();\r\n    renderSlots();\r\n  } else if (active === \"world\") {\r\n    if (shouldThrottleWorldRender()) return;\r\n    recordWorldRender();\r\n    renderMarket({ skipThrottle: true });\r\n    renderModifierTools();\r\n    renderRivalRosterPanel();\r\n    renderPopulation();\r\n    renderGenreIndex();\r\n    renderEconomySummary();\r\n    renderQuests();\r\n    renderTopBar();\r\n  } else if (active === \"tour\") {\r\n    renderTouringDesk();\r\n  } else if (active === \"logs\") {\r\n    renderSlots();\r\n    renderEventLog();\r\n    renderPromoAlerts();\r\n    renderAwardsCircuit();\r\n    renderPromoScheduleControls();\r\n    renderWallet();\r\n    renderResourceTickSummary();\r\n    renderLossArchives();\r\n    if (typeof window !== \"undefined\" && typeof window.updateAutoPromoSummary === \"function\") {\r\n      window.updateAutoPromoSummary();\r\n    }\r\n  }\r\n}\r\n\r\nfunction shouldHoldActiveViewRender() {\r\n  const ui = state.ui;\r\n  if (!ui?.renderHoldActive) return false;\r\n  const now = Date.now();\r\n  const holdUntil = Number.isFinite(ui.renderHoldUntil) ? ui.renderHoldUntil : 0;\r\n  if (!holdUntil || now > holdUntil) {\r\n    ui.renderHoldActive = false;\r\n    ui.renderHoldUntil = 0;\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction renderAll({ save = true } = {}) {\r\n  syncLabelWallets();\r\n  renderTime();\r\n  renderStats();\r\n  renderNotificationsButton();\r\n  renderTopBar();\r\n  if (!shouldHoldActiveViewRender()) {\r\n    renderActiveView(state.ui.activeView);\r\n  }\r\n  renderWallet();\r\n  if (typeof window !== \"undefined\" && window.updateTimeControls) {\r\n    window.updateTimeControls();\r\n  }\r\n  if (typeof window !== \"undefined\" && window.updateRecommendations) {\r\n    window.updateRecommendations();\r\n  }\r\n  if (save) saveToActiveSlot();\r\n}\r\n\r\nexport {\r\n  refreshSelectOptions,\r\n  updateActMemberFields,\r\n  renderAutoAssignModal,\r\n  renderTime,\r\n  renderStats,\r\n  renderSlots,\r\n  renderActs,\r\n  renderCreators,\r\n  renderEraStatus,\r\n  renderTracks,\r\n  renderModifierInventory,\r\n  renderReleaseDesk,\r\n  renderTouringDesk,\r\n  renderQuickRecipes,\r\n  renderCalendarView,\r\n  renderCalendarList,\r\n  renderCalendarDayDetail,\r\n  renderGenreIndex,\r\n  renderCommunityRankings,\r\n  renderStudiosList,\r\n  renderRoleActions,\r\n  renderTutorialEconomy,\r\n  renderModifierTools,\r\n  renderCharts,\r\n  renderWallet,\r\n  renderLossArchives,\r\n  renderResourceTickSummary,\r\n  renderAwardsCircuit,\r\n  renderSocialFeed,\r\n  renderMainMenu,\r\n  updateSaveStatusPanel,\r\n  renderRankingModal,\r\n  renderRankingWindow,\r\n  renderAll,\r\n  renderActiveStudiosSelect,\r\n  renderCreateStageTrackSelect,\r\n  renderCreateStageControls,\r\n  renderActiveView,\r\n  renderMarket,\r\n  renderRivalRosterPanel,\r\n  renderEventLog,\r\n  renderSystemLog,\r\n  renderTrends,\r\n  renderCommunityLabels,\r\n  renderTopBar,\r\n  renderPopulation,\r\n  renderEconomySummary,\r\n  renderActiveCampaigns,\r\n  renderInventory,\r\n  renderWorkOrders,\r\n  renderTrackHistoryPanel,\r\n  renderRolloutStrategyPlanner,\r\n  renderCreateTrends,\r\n  renderAchievements,\r\n  renderQuests,\r\n  renderActiveArea,\r\n  renderCalendarEraList,\r\n  renderCreatorFallbackSymbols,\r\n  renderCreatorAvatar,\r\n  openMainMenu,\r\n  closeMainMenu,\r\n  updateGenrePreview,\r\n};\r\n"]}