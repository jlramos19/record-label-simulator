{"version":3,"file":"ui.js","sourceRoot":"","sources":["../../../../src/app/ui.ts"],"names":[],"mappings":"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","sourcesContent":["// @ts-nocheck\r\nimport * as game from \"./game.js\";\r\nimport { loadCSV } from \"./csv.js\";\r\nimport { fetchChartSnapshot, listChartWeeks } from \"./db.js\";\r\nimport {\r\n  TRACK_ROLLOUT_DEFAULT_TOGGLES,\r\n  TRACK_ROLLOUT_DEFAULT_WEIGHTS,\r\n  TRACK_ROLLOUT_TOGGLE_KEYS,\r\n  TRACK_ROLLOUT_WEIGHT_KEYS,\r\n  ensurePremadeRolloutTemplates,\r\n  fetchTrackRolloutInstance,\r\n  getTrackRolloutTemplateCache,\r\n  listTrackRolloutTemplates,\r\n  normalizeWeights,\r\n  saveTrackRolloutInstance,\r\n  saveTrackRolloutTemplate,\r\n  setTrackRolloutTemplateCache\r\n} from \"./track-rollout.js\";\r\nimport { buildPromoHint, DEFAULT_PROMO_TYPE, getPromoTypeCosts, getPromoTypeDetails, PROMO_TYPE_DETAILS } from \"./promo_types.js\";\r\nimport { setUiHooks } from \"./game/ui-hooks.js\";\r\nimport { flushUsageSession, getUsageSessionSnapshot, recordUsageEvent, updateUsageSessionContext } from \"./usage-log.js\";\r\nimport { getStorageHealthSnapshot, recordStorageError } from \"./storage-health.js\";\r\nimport { decodeSavePayload, estimatePayloadBytes, isQuotaExceededError } from \"./storage-utils.js\";\nimport {\r\n  clearExternalStorageHandle,\r\n  getExternalStorageStatus,\r\n  importChartHistoryFromExternal,\r\n  importSavesFromExternal,\r\n  isExternalStorageSupported,\r\n  requestExternalStorageHandle,\r\n  syncExternalStorageNow\r\n} from \"./file-storage.js\";\r\nimport {\n  $,\n  closeOverlay as closeOverlayRaw,\n  describeSlot,\n  getSlotElement,\n  openOverlay,\n  shakeElement,\r\n  shakeField,\r\n  shakeSlot,\r\n  showEndScreen\r\n} from \"./ui/dom.js\";\r\nimport { showToast } from \"./guardrails.js\";\r\nimport {\r\n  closeMainMenu,\r\n  openMainMenu,\r\n  refreshSelectOptions,\r\n  renderActs,\r\n  renderAll,\r\n  renderActiveView,\r\n  renderAwardsCircuit,\r\n  renderAutoAssignModal,\r\n  renderCalendarDayDetail,\r\n  renderCalendarList,\r\n  renderCalendarView,\r\n  renderCharts,\r\n  renderCreateStageControls,\r\n  renderCreators,\r\n  renderEraStatus,\r\n  renderEventLog,\r\n  renderGenreIndex,\r\n  renderLossArchives,\r\n  renderMainMenu,\r\n  updateSaveStatusPanel,\r\n  renderMarket,\r\n  renderQuickRecipes,\r\n  renderRankingWindow,\r\n  renderReleaseDesk,\r\n  renderTrackRolloutStrategy,\r\n  renderRivalRosterPanel,\r\n  renderRoleActions,\r\n  renderSlots,\r\n  renderSocialFeed,\r\n  renderStats,\r\n  renderStudiosList,\r\n  renderTime,\r\n  renderTouringDesk,\r\n  renderTracks,\r\n  renderTutorialEconomy,\r\n  renderWallet,\r\n  updateActMemberFields,\r\n  updateGenrePreview\r\n} from \"./ui/render/index.js\";\r\nimport {\r\n  bindThemeSelectAccent,\r\n  buildMoodOptions,\r\n  buildThemeOptions,\r\n  setThemeSelectAccent\r\n} from \"./ui/themeMoodOptions.js\";\r\nimport { createRenderScheduler } from \"./ui/render-scheduler.js\";\r\n\r\nconst {\r\n  state,\n  session,\n  startTimeJumpSummary,\n  logTimeJumpSummary,\n  rankCandidates,\n  MARKET_ROLES,\r\n  logEvent,\n  checkStorageHealth,\n  saveToActiveSlot,\n  autoFulfillQuest,\n  makeTrackTitle,\n  makeProjectTitle,\r\n  makeLabelName,\r\n  getModifier,\r\n  getModifierInventoryCount,\r\n  purchaseModifier,\r\n  placeAwardPerformanceBid,\r\n  getProjectTrackLimits,\r\n  staminaRequirement,\r\n  getCreatorStaminaSpentToday,\r\n  STAMINA_OVERUSE_LIMIT,\r\n  getCrewStageStats,\r\n  getAdjustedStageHours,\r\n  getAdjustedTotalStageHours,\r\n  getStageCost,\r\n  createTrack,\r\n  evaluateProjectTrackConstraints,\r\n  startDemoStage,\r\n  startMasterStage,\r\n  advanceHours,\r\n  makeActName,\r\n  makeActNameEntry,\r\n  makeAct,\r\n  registerAct,\r\n  pickDistinct,\r\n  getAct,\r\n  getCreator,\r\n  makeEraName,\r\n  getEraById,\r\n  getActiveEras,\r\n  getLatestActiveEraForAct,\r\n  getStudioAvailableSlots,\r\n  getFocusedEra,\r\n  getRolloutPlanningEra,\r\n  setFocusEraById,\r\n  setCheaterEconomyOverride,\r\n  setCheaterMode,\r\n  startEraForAct,\r\n  endEraById,\r\n  createRolloutStrategyForEra,\r\n  createRolloutStrategyFromTemplate,\r\n  createTourDraft,\r\n  autoGenerateTourDates,\r\n  updateTourDraft,\r\n  deleteTourDraft,\r\n  getSelectedTourDraft,\r\n  selectTourDraft,\r\n  listTourDrafts,\r\n  getRolloutPlanById,\r\n  getRolloutStrategyById,\r\n  setSelectedRolloutStrategyId,\r\n  addRolloutStrategyDrop,\r\n  addRolloutStrategyEvent,\r\n  expandRolloutStrategy,\r\n  bookTourDate,\r\n  removeTourBooking,\r\n  setTouringBalanceEnabled,\r\n  uid,\r\n  weekIndex,\r\n  clamp,\r\n  getTrack,\r\n  getTrackReleaseStatus,\r\n  getTrackReleaseStatusLabel,\r\n  isTrackReleaseReleased,\r\n  isTrackReleaseScheduled,\r\n  getMarketTrackById,\r\n  getMarketTrackByTrackId,\r\n  assignTrackAct,\r\n  scheduleRelease,\r\n  getReleaseAsapAtForDistribution,\r\n  scrapTrack,\r\n  buildMarketCreators,\r\n  injectCheaterMarketCreators,\r\n  getRivalByName,\r\n  buildPromoProjectKey,\r\n  buildPromoProjectKeyFromTrack,\r\n  normalizeCreator,\r\n  normalizeProjectName,\r\n  normalizeProjectType,\r\n  parseAutoPromoSlotTarget,\r\n  parsePromoProjectKey,\n  postCreatorSigned,\n  importSlotData,\n  getSlotData,\n  resetState,\n  computeAutoCreateBudget,\r\n  computeAutoPromoBudget,\r\n  ensureAutoPromoBudgetSlots,\r\n  ensureAutoPromoSlots,\r\n  computeCharts,\r\n  collectTrendRanking,\r\n  startGameLoop,\r\n  setTimeSpeed,\r\n  markUiLogStart,\r\n  formatCount,\r\n  formatMoney,\r\n  formatDate,\r\n  formatHourCountdown,\r\n  formatWeekRangeLabel,\r\n  hoursUntilNextScheduledTime,\r\n  moodFromGenre,\r\n  themeFromGenre,\r\n  TREND_DETAIL_COUNT,\r\n  UI_REACT_ISLANDS_ENABLED,\r\n  WEEKLY_SCHEDULE,\r\n  handleFromName,\r\n  setSlotTarget,\r\n  assignToSlot,\r\n  clearSlot,\r\n  getSlotValue,\r\n  loadSlot,\r\n  deleteSlot,\r\n  getLossArchives,\r\n  recommendTrackPlan,\r\n  recommendActForTrack,\r\n  recommendReleasePlan,\r\n  markCreatorPromo,\r\n  recordTrackPromoCost,\n  getPromoFacilityForType,\n  getPromoFacilityAvailability,\n  getPromoFacilityPriceMultiplier,\n  reservePromoFacilitySlot,\n  scheduleManualPromoEvent,\r\n  ensureMarketCreators,\r\n  attemptSignCreator,\r\n  listGameModes,\r\n  DEFAULT_GAME_MODE,\r\n  listGameDifficulties,\r\n  DEFAULT_GAME_DIFFICULTY,\r\n  DEFAULT_TRACK_SLOT_VISIBLE,\r\n  acceptBailout,\r\n  declineBailout\r\n} = game;\r\n\r\nconst renderScheduler = createRenderScheduler({\r\n  renderAll,\r\n  renderEventLog,\r\n  renderLossArchives,\r\n  renderMarket,\r\n  renderSlots,\r\n  renderStats,\r\n  renderTime\r\n});\r\n\r\nsetUiHooks({\r\n  closeMainMenu,\r\n  openMainMenu,\r\n  openOverlay,\r\n  closeOverlay,\r\n  showToast,\r\n  showEndScreen,\r\n  refreshSelectOptions,\r\n  renderAll: renderScheduler.renderAll,\r\n  renderEventLog: renderScheduler.renderEventLog,\r\n  renderLossArchives: renderScheduler.renderLossArchives,\r\n  renderMarket: renderScheduler.renderMarket,\r\n  renderSlots: renderScheduler.renderSlots,\r\n  renderStats: renderScheduler.renderStats,\r\n  renderTime: renderScheduler.renderTime,\r\n  updateGenrePreview,\r\n  refreshPromoTypes: () => updatePromoTypeHint(document)\r\n});\r\n\r\nconst ROUTES = [\r\n  \"dashboard\",\r\n  \"charts\",\r\n  \"awards\",\r\n  \"achievements\",\r\n  \"acts\",\r\n  \"creators\",\r\n  \"create\",\r\n  \"release\",\r\n  \"releases\",\r\n  \"eras\",\r\n  \"world\",\r\n  \"rival-rosters\",\r\n  \"logs\",\r\n  \"tour\",\r\n  \"patch-notes\"\r\n];\r\nconst DEFAULT_ROUTE = \"dashboard\";\r\nconst ROUTE_ALIASES = {\r\n  promotion: \"logs\",\r\n  promotions: \"logs\",\r\n  era: \"eras\",\r\n  calendar: \"releases\",\r\n  roster: \"acts\",\r\n  signed: \"acts\",\r\n  \"year-end\": \"awards\",\r\n  yearend: \"awards\",\r\n  rivals: \"rival-rosters\",\r\n  \"rival-roster\": \"rival-rosters\"\r\n};\r\nconst VIEW_PANEL_STATE_KEY = \"rls_view_panel_state_v1\";\r\nconst UI_EVENT_LOG_KEY = \"rls_ui_event_log_v1\";\r\nconst UI_EVENT_LOG_MAX_BYTES = 1024 * 1024;\r\nconst GAME_MODE_KEY = \"rls_game_mode_v1\";\r\nconst GAME_DIFFICULTY_KEY = \"rls_game_difficulty_v1\";\r\nconst START_PREFS_KEY = \"rls_start_prefs_v1\";\r\nconst UI_THEME_KEY = \"rls_ui_theme_v1\";\r\nconst EXTERNAL_STORAGE_PROMPT_KEY = \"rls_external_storage_prompt_v1\";\r\nconst UI_THEME_DEFAULT = \"dark\";\r\nconst UI_THEME_META = { dark: \"#0a0703\", light: \"#ccffff\" };\r\nlet uiThemeMediaQuery = null;\r\nlet uiThemeMediaBound = false;\r\nlet activeRoute = DEFAULT_ROUTE;\r\nlet hasMountedRoute = false;\r\nlet chartHistoryRequestId = 0;\r\nlet trackRolloutTemplateRequestId = 0;\r\nlet trackRolloutTemplatesStatus = \"idle\";\r\nlet trackRolloutInstanceRequestId = 0;\r\nlet trackRolloutLoadedTrackId = null;\r\nlet lastLoggedLabelAlignment = null;\r\nconst CALENDAR_WHEEL_THRESHOLD = 120;\r\nconst CALENDAR_WHEEL_RESET_MS = 320;\r\nconst CALENDAR_DRAG_THRESHOLD = 80;\r\nconst CALENDAR_VELOCITY_THRESHOLD = 0.55;\r\nconst QUICK_SKIP_SELECTOR = \"[data-skip-quick]\";\r\nlet calendarWheelAcc = 0;\r\nlet calendarWheelAt = 0;\r\nlet calendarDragState = null;\r\nlet timeJumpInFlight = false;\r\nlet horizontalWheelBound = false;\r\nlet externalStoragePromptPromise = null;\r\nlet externalStoragePromptResolve = null;\r\n\r\nconst TRACK_ROLE_KEYS = {\r\n  Songwriter: \"songwriterIds\",\r\n  Performer: \"performerIds\",\r\n  Producer: \"producerIds\"\r\n};\r\nconst TRACK_ROLE_TARGETS = {\r\n  Songwriter: \"track-writer-1\",\r\n  Performer: \"track-performer-1\",\r\n  Producer: \"track-producer-1\"\r\n};\r\nconst ROLE_LABELS = {\n  Songwriter: \"Songwriter\",\n  Performer: \"Vocalist\",\n  Recorder: \"Vocalist\",\n  Vocalist: \"Vocalist\",\n  Producer: \"Producer\"\n};\nconst STATE_EVENT = \"rls:state-changed\";\r\nconst UI_RENDER_HOLD_SELECTOR = \"button, [role=\\\"button\\\"], a, input, select, textarea, [data-ui-render-hold]\";\r\nconst UI_RENDER_HOLD_FALLBACK_MS = 3000;\r\n\r\nfunction emitStateChanged() {\r\n  if (typeof window === \"undefined\") return;\r\n  window.dispatchEvent(new Event(STATE_EVENT));\r\n}\r\n\r\nfunction ensureUiState() {\r\n  if (!state.ui) state.ui = {};\r\n  return state.ui;\r\n}\r\n\r\nfunction requestWorldRender() {\r\n  const ui = ensureUiState();\r\n  ui.forceWorldRender = true;\r\n}\r\n\r\nfunction requestChartsRender() {\r\n  const ui = ensureUiState();\r\n  ui.forceChartsRender = true;\r\n}\r\n\r\nfunction isUiRenderHoldTarget(target) {\r\n  if (!target || !target.closest) return false;\r\n  return Boolean(target.closest(UI_RENDER_HOLD_SELECTOR));\r\n}\r\n\r\nfunction startUiRenderHold() {\r\n  const ui = ensureUiState();\r\n  ui.renderHoldActive = true;\r\n  ui.renderHoldUntil = Date.now() + UI_RENDER_HOLD_FALLBACK_MS;\r\n}\r\n\r\nfunction extendUiRenderHold() {\r\n  const ui = ensureUiState();\r\n  if (!ui.renderHoldActive) return;\r\n  ui.renderHoldUntil = Date.now() + UI_RENDER_HOLD_FALLBACK_MS;\r\n}\r\n\r\nfunction endUiRenderHold() {\r\n  const ui = ensureUiState();\r\n  ui.renderHoldActive = false;\r\n  ui.renderHoldUntil = 0;\r\n}\r\n\r\nconst VIEW_SWITCH_TOAST_ID = \"viewSwitchToast\";\r\nconst VIEW_SWITCH_HIDE_DELAY = 220;\r\nlet viewSwitchHideTimer = null;\r\n\r\nfunction formatTimestampShort(ms) {\n  const safeMs = Number.isFinite(ms) && ms > 0 ? ms : Date.now();\n  const localDate = new Date(safeMs);\n  const dateLabel = game.formatShortDate(safeMs);\n  const timeLabel = localDate.toLocaleTimeString([], { hour: \"2-digit\", minute: \"2-digit\" });\n  return `${dateLabel} ${timeLabel}`;\n}\n\nfunction formatTimestampForFilename(ms) {\n  const safeMs = Number.isFinite(ms) && ms > 0 ? ms : Date.now();\n  const stamp = new Date(safeMs);\n  const pad = (value) => String(value).padStart(2, \"0\");\n  return `${stamp.getUTCFullYear()}${pad(stamp.getUTCMonth() + 1)}${pad(stamp.getUTCDate())}_${pad(stamp.getUTCHours())}${pad(stamp.getUTCMinutes())}${pad(stamp.getUTCSeconds())}Z`;\n}\n\nfunction buildSaveExportFilename(slot) {\n  const slotLabel = Number.isFinite(slot) ? `slot_${slot}` : \"slot\";\n  return `rls_${slotLabel}_${formatTimestampForFilename(Date.now())}.json`;\n}\n\nfunction buildSaveLocationLabel(status) {\n  const slotPrefix = session.activeSlot ? `Slot ${session.activeSlot}` : \"Slot -\";\n  const localDisabled = session.localStorageDisabled;\r\n  const localReason = session.localStorageDisabledReason;\r\n  const localLabel = localDisabled ? (localReason === \"quota\" ? \"local full\" : \"local disabled\") : \"local\";\r\n  if (!status) {\r\n    return `${slotPrefix} (${localLabel})`;\r\n  }\r\n  const name = status.name || \"External folder\";\r\n  if (status.status === \"ready\") {\r\n    return localDisabled ? `${slotPrefix} \u001a ${name} (${localLabel})` : `${slotPrefix} \u001a ${name}`;\r\n  }\r\n  if (status.status === \"not-set\") {\r\n    return `${slotPrefix} (${localLabel})`;\r\n  }\r\n  const note = status.status === \"unsupported\" ? \"unsupported\" : status.status;\r\n  const detail = localDisabled ? `${note}, ${localLabel}` : note;\r\n  return `${slotPrefix} \u001a ${name} (${detail})`;\r\n}\r\n\r\nasync function describeSaveLocation() {\r\n  try {\r\n    const status = await getExternalStorageStatus();\r\n    return buildSaveLocationLabel(status);\r\n  } catch {\r\n    return buildSaveLocationLabel(null);\r\n  }\r\n}\r\n\r\nasync function refreshSaveLocationStatus() {\n  const statusEl = $(\"saveLocationStatus\");\n  if (!statusEl) return;\n  const label = await describeSaveLocation();\n  statusEl.textContent = label;\n}\n\nfunction describeSaveFailure(reason) {\n  switch (reason) {\n    case \"localStorageQuota\":\n      return \"Local storage is full. Clear old saves or configure External Storage in Internal Log.\";\n    case \"localStorageUnavailable\":\n    case \"localStorageDisabled\":\n      return \"Local storage is unavailable. Enable browser storage or use External Storage in Internal Log.\";\n    case \"serialize\":\n      return \"Save data could not be serialized. Reload and try again.\";\n    case \"localStorageError\":\n      return \"Local storage write failed. Check browser settings and retry.\";\n    default:\n      return \"Check storage permissions or retry.\";\n  }\n}\n\nfunction showViewSwitchToast() {\n  if (typeof document === \"undefined\") return;\n  const toast = document.getElementById(VIEW_SWITCH_TOAST_ID);\n  if (!toast) return;\n  toast.classList.remove(\"hidden\");\r\n  toast.classList.add(\"visible\");\r\n  if (viewSwitchHideTimer) {\r\n    window.clearTimeout(viewSwitchHideTimer);\r\n    viewSwitchHideTimer = null;\r\n  }\r\n}\r\n\r\nfunction hideViewSwitchToast() {\r\n  if (typeof document === \"undefined\") return;\r\n  const toast = document.getElementById(VIEW_SWITCH_TOAST_ID);\r\n  if (!toast) return;\r\n  toast.classList.remove(\"visible\");\r\n  if (viewSwitchHideTimer) window.clearTimeout(viewSwitchHideTimer);\r\n  viewSwitchHideTimer = window.setTimeout(() => {\r\n    toast.classList.add(\"hidden\");\r\n    viewSwitchHideTimer = null;\r\n  }, VIEW_SWITCH_HIDE_DELAY);\r\n}\r\n\r\nfunction normalizeUiTheme(value) {\r\n  if (value === \"dark\" || value === \"light\" || value === \"system\") return value;\r\n  return UI_THEME_DEFAULT;\r\n}\r\n\r\nfunction handleLocalStorageWriteError(context, error) {\r\n  const label = context || \"local storage\";\r\n  if (isQuotaExceededError(error)) {\r\n    recordStorageError({\r\n      scope: \"localStorage\",\r\n      message: `Local storage is full; ${label} update skipped.`,\r\n      error,\r\n      notify: \"localStorageQuota\"\r\n    });\r\n    return;\r\n  }\r\n  recordStorageError({ scope: \"localStorage\", message: `${label} update failed.`, error });\r\n}\r\n\r\nfunction safeSetLocalStoragePayload(key, payload, { context = \"local storage\", maxBytes = null } = {}) {\r\n  if (typeof localStorage === \"undefined\") return false;\r\n  if (Number.isFinite(maxBytes)) {\r\n    const bytes = estimatePayloadBytes(payload);\r\n    if (bytes > maxBytes) {\r\n      recordStorageError({\r\n        scope: \"localStorage\",\r\n        message: `Local storage is full; ${context} update skipped.`,\r\n        notify: \"localStorageQuota\"\r\n      });\r\n      return false;\r\n    }\r\n  }\r\n  try {\r\n    localStorage.setItem(key, payload);\r\n    return true;\r\n  } catch (error) {\r\n    handleLocalStorageWriteError(context, error);\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction safeSetLocalStorageJson(key, value, options = {}) {\r\n  return safeSetLocalStoragePayload(key, JSON.stringify(value), options);\r\n}\r\n\r\nfunction safeSetLocalStorageString(key, value, options = {}) {\r\n  return safeSetLocalStoragePayload(key, String(value), options);\r\n}\r\n\r\nfunction getStoredUiTheme() {\r\n  try {\r\n    return normalizeUiTheme(localStorage.getItem(UI_THEME_KEY));\r\n  } catch (error) {\r\n    return UI_THEME_DEFAULT;\r\n  }\r\n}\r\n\r\nfunction setStoredUiTheme(value) {\r\n  safeSetLocalStorageString(UI_THEME_KEY, value, { context: \"UI theme\" });\r\n}\r\n\r\nfunction readExternalStoragePromptState(storage) {\r\n  if (!storage) return null;\r\n  try {\r\n    const raw = storage.getItem(EXTERNAL_STORAGE_PROMPT_KEY);\r\n    if (!raw) return null;\r\n    return JSON.parse(raw);\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction getExternalStoragePromptState() {\r\n  const local = typeof localStorage === \"undefined\" ? null : readExternalStoragePromptState(localStorage);\r\n  if (local) return local;\r\n  const sessionStore = typeof sessionStorage === \"undefined\" ? null : readExternalStoragePromptState(sessionStorage);\r\n  return sessionStore || null;\r\n}\r\n\r\nfunction isExternalStoragePromptDismissed() {\r\n  if (session?.externalStoragePromptDismissed) return true;\r\n  const stored = getExternalStoragePromptState();\r\n  if (!stored) return false;\r\n  if (stored === true) return true;\r\n  if (typeof stored === \"string\") return stored === \"dismissed\";\r\n  return Boolean(stored.dismissedAt);\r\n}\r\n\r\nfunction setExternalStoragePromptDismissed(reason) {\r\n  const payload = {\r\n    dismissedAt: new Date().toISOString(),\r\n    reason: reason || \"skipped\"\r\n  };\r\n  let stored = false;\r\n  if (typeof localStorage !== \"undefined\") {\r\n    stored = safeSetLocalStorageJson(\r\n      EXTERNAL_STORAGE_PROMPT_KEY,\r\n      payload,\r\n      { context: \"external storage prompt status\" }\r\n    );\r\n  }\r\n  if (!stored && typeof sessionStorage !== \"undefined\") {\r\n    try {\r\n      sessionStorage.setItem(EXTERNAL_STORAGE_PROMPT_KEY, JSON.stringify(payload));\r\n    } catch {\r\n      // Ignore storage failures (private mode, quota, etc.).\r\n    }\r\n  }\r\n  if (session) session.externalStoragePromptDismissed = true;\r\n}\r\n\r\nfunction clearExternalStoragePromptDismissed() {\r\n  if (session) session.externalStoragePromptDismissed = false;\r\n  if (typeof localStorage !== \"undefined\") {\r\n    try {\r\n      localStorage.removeItem(EXTERNAL_STORAGE_PROMPT_KEY);\r\n    } catch {\r\n      // Ignore storage failures (private mode, quota, etc.).\r\n    }\r\n  }\r\n  if (typeof sessionStorage !== \"undefined\") {\r\n    try {\r\n      sessionStorage.removeItem(EXTERNAL_STORAGE_PROMPT_KEY);\r\n    } catch {\r\n      // Ignore storage failures (private mode, quota, etc.).\r\n    }\r\n  }\r\n}\r\n\r\nfunction getPreferredUiTheme() {\r\n  if (typeof window === \"undefined\" || !window.matchMedia) return UI_THEME_DEFAULT;\r\n  return window.matchMedia(\"(prefers-color-scheme: light)\").matches ? \"light\" : \"dark\";\r\n}\r\n\r\nfunction resolveUiTheme(value) {\r\n  const normalized = normalizeUiTheme(value);\r\n  return normalized === \"system\" ? getPreferredUiTheme() : normalized;\r\n}\r\n\r\nfunction updateMetaThemeColor(theme) {\r\n  if (typeof document === \"undefined\") return;\r\n  const meta = document.querySelector(\"meta[name=\\\"theme-color\\\"]\");\r\n  if (!meta) return;\r\n  const color = UI_THEME_META[theme] || UI_THEME_META[UI_THEME_DEFAULT];\r\n  meta.setAttribute(\"content\", color);\r\n}\r\n\r\nfunction handleUiThemeMedia(event) {\r\n  if (normalizeUiTheme(getStoredUiTheme()) !== \"system\") return;\r\n  const theme = event?.matches ? \"light\" : \"dark\";\r\n  document.documentElement.dataset.uiTheme = theme;\r\n  updateMetaThemeColor(theme);\r\n}\r\n\r\nfunction bindUiThemeMedia(selected) {\r\n  if (typeof window === \"undefined\" || !window.matchMedia) return;\r\n  if (!uiThemeMediaQuery) {\r\n    uiThemeMediaQuery = window.matchMedia(\"(prefers-color-scheme: light)\");\r\n  }\r\n  if (selected === \"system\") {\r\n    if (!uiThemeMediaBound) {\r\n      if (uiThemeMediaQuery.addEventListener) {\r\n        uiThemeMediaQuery.addEventListener(\"change\", handleUiThemeMedia);\r\n      } else if (uiThemeMediaQuery.addListener) {\r\n        uiThemeMediaQuery.addListener(handleUiThemeMedia);\r\n      }\r\n      uiThemeMediaBound = true;\r\n    }\r\n  } else if (uiThemeMediaBound && uiThemeMediaQuery) {\r\n    if (uiThemeMediaQuery.removeEventListener) {\r\n      uiThemeMediaQuery.removeEventListener(\"change\", handleUiThemeMedia);\r\n    } else if (uiThemeMediaQuery.removeListener) {\r\n      uiThemeMediaQuery.removeListener(handleUiThemeMedia);\r\n    }\r\n    uiThemeMediaBound = false;\r\n  }\r\n}\r\n\r\nfunction applyUiTheme(value, { persist = false } = {}) {\r\n  const normalized = normalizeUiTheme(value);\r\n  if (persist) {\r\n    setStoredUiTheme(normalized);\r\n  }\r\n  const resolved = resolveUiTheme(normalized);\r\n  if (typeof document !== \"undefined\") {\r\n    document.documentElement.dataset.uiTheme = resolved;\r\n  }\r\n  updateMetaThemeColor(resolved);\r\n  bindUiThemeMedia(normalized);\r\n  syncUiThemeSelect(normalized);\r\n}\r\n\r\nfunction syncUiThemeSelect(value) {\r\n  const select = $(\"uiThemeSelect\");\r\n  if (!select) return;\r\n  const normalized = normalizeUiTheme(value || getStoredUiTheme());\r\n  if (select.value !== normalized) {\r\n    select.value = normalized;\r\n  }\r\n}\r\n\r\n\r\nfunction calendarAnchorWeek() {\r\n  return Number.isFinite(state.ui?.calendarWeekIndex) ? state.ui.calendarWeekIndex : weekIndex();\r\n}\r\n\r\nfunction setCalendarAnchorWeek(next) {\r\n  const clamped = Math.max(0, Math.round(next));\r\n  if (state.ui.calendarWeekIndex === clamped) return false;\r\n  state.ui.calendarWeekIndex = clamped;\r\n  renderCalendarView();\r\n  if (!UI_REACT_ISLANDS_ENABLED) {\r\n    renderCalendarList(\"calendarFullList\", 12);\r\n  }\r\n  saveToActiveSlot();\r\n  emitStateChanged();\r\n  return true;\r\n}\r\n\r\nfunction setCalendarTab(tab) {\r\n  if (!tab) return;\r\n  state.ui.calendarTab = tab === \"public\" ? \"public\" : \"label\";\r\n  renderCalendarView();\r\n  if (!UI_REACT_ISLANDS_ENABLED) {\r\n    renderCalendarList(\"calendarFullList\", 12);\r\n  }\r\n  saveToActiveSlot();\r\n  emitStateChanged();\r\n}\r\n\r\nfunction setCalendarFilter(key, checked) {\r\n  if (!key) return;\r\n  if (!state.ui.calendarFilters) state.ui.calendarFilters = {};\r\n  state.ui.calendarFilters[key] = checked;\r\n  renderCalendarView();\r\n  if (!UI_REACT_ISLANDS_ENABLED) {\r\n    renderCalendarList(\"calendarFullList\", 12);\r\n  }\r\n  saveToActiveSlot();\r\n  emitStateChanged();\r\n}\r\n\r\nfunction shiftCalendarAnchorWeek(delta) {\r\n  if (!delta) return false;\r\n  return setCalendarAnchorWeek(calendarAnchorWeek() + delta);\r\n}\r\n\r\nfunction handleCalendarWheel(e) {\r\n  const now = Date.now();\r\n  if (now - calendarWheelAt > CALENDAR_WHEEL_RESET_MS) calendarWheelAcc = 0;\r\n  calendarWheelAt = now;\r\n  const delta = Math.abs(e.deltaX) > Math.abs(e.deltaY) ? e.deltaX : e.deltaY;\r\n  if (!Number.isFinite(delta) || delta === 0) return;\r\n  calendarWheelAcc += delta;\r\n  if (Math.abs(calendarWheelAcc) < CALENDAR_WHEEL_THRESHOLD) return;\r\n  const direction = calendarWheelAcc > 0 ? 1 : -1;\r\n  calendarWheelAcc = 0;\r\n  shiftCalendarAnchorWeek(direction);\r\n}\r\n\r\nfunction handleCalendarPointerDown(e) {\r\n  if (e.button && e.button !== 0) return;\r\n  calendarDragState = {\r\n    pointerId: e.pointerId,\r\n    startX: e.clientX,\r\n    startY: e.clientY,\r\n    startAt: Date.now(),\r\n    lastX: e.clientX,\r\n    lastY: e.clientY\r\n  };\r\n  if (typeof e.currentTarget?.setPointerCapture === \"function\") {\r\n    e.currentTarget.setPointerCapture(e.pointerId);\r\n  }\r\n}\r\n\r\nfunction handleCalendarPointerMove(e) {\r\n  if (!calendarDragState || e.pointerId !== calendarDragState.pointerId) return;\r\n  calendarDragState.lastX = e.clientX;\r\n  calendarDragState.lastY = e.clientY;\r\n}\r\n\r\nfunction handleCalendarPointerEnd(e) {\r\n  if (!calendarDragState || e.pointerId !== calendarDragState.pointerId) return;\r\n  const drag = calendarDragState;\r\n  calendarDragState = null;\r\n  if (typeof e.currentTarget?.releasePointerCapture === \"function\") {\r\n    e.currentTarget.releasePointerCapture(e.pointerId);\r\n  }\r\n  const endX = Number.isFinite(e.clientX) ? e.clientX : drag.lastX;\r\n  const endY = Number.isFinite(e.clientY) ? e.clientY : drag.lastY;\r\n  const dx = endX - drag.startX;\r\n  const dy = endY - drag.startY;\r\n  const dt = Math.max(1, Date.now() - drag.startAt);\r\n  const absX = Math.abs(dx);\r\n  const absY = Math.abs(dy);\r\n  const primaryDelta = absX >= absY ? dx : dy;\r\n  const primaryAbs = Math.abs(primaryDelta);\r\n  const velocity = primaryAbs / dt;\r\n  if (primaryAbs < CALENDAR_DRAG_THRESHOLD && velocity < CALENDAR_VELOCITY_THRESHOLD) return;\r\n  const direction = primaryDelta < 0 ? 1 : -1;\r\n  shiftCalendarAnchorWeek(direction);\r\n}\r\n\r\nconst RANKING_WINDOW_MARGIN = 12;\r\nconst RANKING_WINDOW_OFFSET = 8;\r\nlet rankingWindowDrag = null;\r\nlet rankingWindowDismissalBound = false;\r\n\r\nfunction clampRankingWindowPosition(left, top, width, height) {\r\n  const maxLeft = Math.max(RANKING_WINDOW_MARGIN, window.innerWidth - width - RANKING_WINDOW_MARGIN);\r\n  const maxTop = Math.max(RANKING_WINDOW_MARGIN, window.innerHeight - height - RANKING_WINDOW_MARGIN);\r\n  return {\r\n    left: clamp(left, RANKING_WINDOW_MARGIN, maxLeft),\r\n    top: clamp(top, RANKING_WINDOW_MARGIN, maxTop)\r\n  };\r\n}\r\n\r\nfunction ensureRankingWindowPosition(windowEl) {\r\n  if (!windowEl.dataset.positioned) {\r\n    windowEl.style.top = \"140px\";\r\n    windowEl.style.right = \"16px\";\r\n    windowEl.style.left = \"auto\";\r\n    windowEl.dataset.positioned = \"true\";\r\n    return;\r\n  }\r\n  const rect = windowEl.getBoundingClientRect();\r\n  const width = rect.width || windowEl.offsetWidth || 0;\r\n  const height = rect.height || windowEl.offsetHeight || 0;\r\n  if (!width || !height) return;\r\n  const next = clampRankingWindowPosition(rect.left, rect.top, width, height);\r\n  windowEl.style.left = `${next.left}px`;\r\n  windowEl.style.top = `${next.top}px`;\r\n  windowEl.style.right = \"auto\";\r\n}\r\n\r\nfunction positionRankingWindow(windowEl, anchorEl = null) {\r\n  if (!windowEl) return;\r\n  if (anchorEl && typeof anchorEl.getBoundingClientRect === \"function\") {\r\n    const rect = windowEl.getBoundingClientRect();\r\n    const width = rect.width || windowEl.offsetWidth || 0;\r\n    const height = rect.height || windowEl.offsetHeight || 0;\r\n    if (!width || !height) {\r\n      ensureRankingWindowPosition(windowEl);\r\n      return;\r\n    }\r\n    const anchorRect = anchorEl.getBoundingClientRect();\r\n    let left = anchorRect.left;\r\n    let top = anchorRect.bottom + RANKING_WINDOW_OFFSET;\r\n    if (left + width + RANKING_WINDOW_MARGIN > window.innerWidth) {\r\n      left = anchorRect.right - width;\r\n    }\r\n    if (top + height + RANKING_WINDOW_MARGIN > window.innerHeight) {\r\n      top = anchorRect.top - height - RANKING_WINDOW_OFFSET;\r\n    }\r\n    const next = clampRankingWindowPosition(left, top, width, height);\r\n    windowEl.style.left = `${next.left}px`;\r\n    windowEl.style.top = `${next.top}px`;\r\n    windowEl.style.right = \"auto\";\r\n    windowEl.dataset.positioned = \"true\";\r\n    return;\r\n  }\r\n  ensureRankingWindowPosition(windowEl);\r\n}\r\n\r\nfunction openRankingWindow(category, { anchor = null } = {}) {\r\n  const windowEl = $(\"rankingWindow\");\r\n  if (!windowEl) return;\r\n  windowEl.dataset.category = category;\r\n  windowEl.classList.remove(\"hidden\");\r\n  windowEl.setAttribute(\"aria-hidden\", \"false\");\r\n  renderRankingWindow(category);\r\n  positionRankingWindow(windowEl, anchor);\r\n}\r\n\r\nfunction closeRankingWindow() {\r\n  const windowEl = $(\"rankingWindow\");\r\n  if (!windowEl) return;\r\n  windowEl.classList.add(\"hidden\");\r\n  windowEl.setAttribute(\"aria-hidden\", \"true\");\r\n}\r\n\r\nfunction setupRankingWindowDrag() {\r\n  const windowEl = $(\"rankingWindow\");\r\n  const head = $(\"rankingWindowHead\");\r\n  if (!windowEl || !head || head.dataset.dragBound) return;\r\n  head.dataset.dragBound = \"true\";\r\n  head.addEventListener(\"pointerdown\", (event) => {\r\n    if (event.button && event.button !== 0) return;\r\n    if (event.target.closest(\"button\")) return;\r\n    const rect = windowEl.getBoundingClientRect();\r\n    rankingWindowDrag = {\r\n      pointerId: event.pointerId,\r\n      startX: event.clientX,\r\n      startY: event.clientY,\r\n      startLeft: rect.left,\r\n      startTop: rect.top,\r\n      width: rect.width,\r\n      height: rect.height\r\n    };\r\n    windowEl.style.left = `${rect.left}px`;\r\n    windowEl.style.top = `${rect.top}px`;\r\n    windowEl.style.right = \"auto\";\r\n    windowEl.setAttribute(\"data-dragging\", \"true\");\r\n    head.setPointerCapture(event.pointerId);\r\n    event.preventDefault();\r\n  });\r\n  head.addEventListener(\"pointermove\", (event) => {\r\n    if (!rankingWindowDrag || event.pointerId !== rankingWindowDrag.pointerId) return;\r\n    const dx = event.clientX - rankingWindowDrag.startX;\r\n    const dy = event.clientY - rankingWindowDrag.startY;\r\n    const nextLeft = rankingWindowDrag.startLeft + dx;\r\n    const nextTop = rankingWindowDrag.startTop + dy;\r\n    const next = clampRankingWindowPosition(nextLeft, nextTop, rankingWindowDrag.width, rankingWindowDrag.height);\r\n    windowEl.style.left = `${next.left}px`;\r\n    windowEl.style.top = `${next.top}px`;\r\n  });\r\n  const endDrag = (event) => {\r\n    if (!rankingWindowDrag || event.pointerId !== rankingWindowDrag.pointerId) return;\r\n    rankingWindowDrag = null;\r\n    windowEl.removeAttribute(\"data-dragging\");\r\n    if (typeof head.releasePointerCapture === \"function\") {\r\n      head.releasePointerCapture(event.pointerId);\r\n    }\r\n  };\r\n  head.addEventListener(\"pointerup\", endDrag);\r\n  head.addEventListener(\"pointercancel\", endDrag);\r\n}\r\n\r\nfunction setupRankingWindowDismissal() {\r\n  if (rankingWindowDismissalBound || typeof document === \"undefined\") return;\r\n  rankingWindowDismissalBound = true;\r\n  document.addEventListener(\"pointerdown\", (event) => {\r\n    if (event.pointerType === \"mouse\" && event.button !== 0) return;\r\n    const windowEl = $(\"rankingWindow\");\r\n    if (!windowEl || windowEl.classList.contains(\"hidden\")) return;\r\n    if (windowEl.contains(event.target)) return;\r\n    closeRankingWindow();\r\n  }, { capture: true });\r\n}\r\n\r\nfunction bindRivalRosterSelect(selectEl) {\r\n  if (!selectEl || selectEl.dataset.bound) return;\r\n  selectEl.dataset.bound = \"1\";\r\n  selectEl.addEventListener(\"change\", (event) => {\r\n    const next = event.target.value || null;\r\n    state.ui.rivalRosterId = next;\r\n    renderRivalRosterPanel();\r\n    saveToActiveSlot();\r\n  });\r\n}\r\n\r\nfunction roleLabel(role) {\r\n  return ROLE_LABELS[role] || role;\r\n}\r\n\r\nfunction getTrackSlotIds(role) {\r\n  const key = TRACK_ROLE_KEYS[role];\r\n  if (!key || !state.ui?.trackSlots) return [];\r\n  const list = Array.isArray(state.ui.trackSlots[key]) ? state.ui.trackSlots[key] : [];\r\n  return list.filter(Boolean);\r\n}\r\n\r\nfunction isCreatorOveruseSafe(creator, staminaCost) {\r\n  if (!creator) return false;\r\n  if (!Number.isFinite(staminaCost) || staminaCost <= 0) return true;\r\n  return getCreatorStaminaSpentToday(creator) + staminaCost <= STAMINA_OVERUSE_LIMIT;\r\n}\r\n\r\nfunction setTrackSlotIds(role, ids) {\r\n  const key = TRACK_ROLE_KEYS[role];\r\n  const limit = TRACK_ROLE_LIMITS?.[role] || 1;\r\n  if (!key) return;\r\n  const next = Array.from({ length: limit }, () => null);\r\n  const req = staminaRequirement(role);\r\n  const blocked = [];\r\n  const eligible = ids.filter((id) => {\r\n    const creator = getCreator(id);\r\n    if (!creator || creator.stamina < req) return false;\r\n    if (!isCreatorOveruseSafe(creator, req)) {\r\n      blocked.push(creator);\r\n      return false;\r\n    }\r\n    return true;\r\n  });\r\n  eligible.slice(0, limit).forEach((id, index) => {\r\n    next[index] = id;\r\n  });\r\n  if (!state.ui.trackSlots) {\r\n    state.ui.trackSlots = {\r\n      actId: null,\r\n      songwriterIds: Array.from({ length: TRACK_ROLE_LIMITS?.Songwriter || 1 }, () => null),\r\n      performerIds: Array.from({ length: TRACK_ROLE_LIMITS?.Performer || 1 }, () => null),\r\n      producerIds: Array.from({ length: TRACK_ROLE_LIMITS?.Producer || 1 }, () => null)\r\n    };\r\n  }\r\n  state.ui.trackSlots[key] = next;\r\n  if (blocked.length) {\r\n    const names = blocked.map((creator) => creator.name).join(\", \");\r\n    logEvent(\r\n      `Skipped ${roleLabel(role)} due to daily stamina limit (${STAMINA_OVERUSE_LIMIT}): ${names}.`,\r\n      \"warn\"\r\n    );\r\n  }\r\n  emitStateChanged();\r\n}\r\n\r\nfunction primaryTrackSlotTarget(role) {\r\n  return TRACK_ROLE_TARGETS[role] || \"track-writer-1\";\r\n}\r\n\r\nfunction collectAssignedTrackSlotIds(excludeId) {\r\n  const ids = new Set([\r\n    ...getTrackSlotIds(\"Songwriter\"),\r\n    ...getTrackSlotIds(\"Performer\"),\r\n    ...getTrackSlotIds(\"Producer\")\r\n  ]);\r\n  if (excludeId) ids.delete(excludeId);\r\n  return ids;\r\n}\r\n\r\nfunction recommendCreatorForSlot(targetId) {\r\n  const slot = getSlotElement(targetId);\r\n  if (!slot) return;\r\n  const role = slot.dataset.slotRole;\r\n  if (!role) {\r\n    logEvent(\"This slot does not support creator recommendations.\", \"warn\");\r\n    return;\r\n  }\r\n  const currentId = getSlotValue(targetId);\r\n  const assigned = collectAssignedTrackSlotIds(currentId);\r\n  const req = staminaRequirement(role);\r\n  const candidates = rankCandidates(role).filter((creator) => creator.ready && !assigned.has(creator.id));\r\n  const safe = candidates.filter((creator) => isCreatorOveruseSafe(creator, req));\r\n  if (!safe.length) {\r\n    shakeSlot(targetId);\r\n    if (!candidates.length) {\r\n      logEvent(`No available ${roleLabel(role)} creators with ${req} stamina.`, \"warn\");\r\n    } else {\r\n      logEvent(\r\n        `No available ${roleLabel(role)} creators under daily limit (${STAMINA_OVERUSE_LIMIT}).`,\r\n        \"warn\"\r\n      );\r\n    }\r\n    return;\r\n  }\r\n  const picked = safe[0];\r\n  assignToSlot(targetId, \"creator\", picked.id);\r\n  logEvent(`Recommended ${picked.name} for ${describeSlot(targetId)}.`);\r\n}\r\n\r\nconst expandedPanels = [];\r\nconst PANEL_LAYOUT_KEY = \"rls_panel_layout_v1\";\r\nconst SIDE_LAYOUT_KEY = \"rls_side_layout_v1\";\r\nlet isRestoringLayout = false;\r\nconst sideLayout = {\r\n  leftCollapsed: false,\r\n  rightCollapsed: false\r\n};\r\nconst SPLIT_LAYOUT_STATE_KEY = \"rls_split_layout_v1\";\r\nlet splitLayoutState = null;\r\nconst splitLayouts = new Set();\r\n\r\nconst PANEL_STATES = {\r\n  collapsed: \"collapsed\",\r\n  expanded: \"expanded\",\r\n  open: \"open\"\r\n};\r\n\r\nconst MAIN_SURFACES = [\"dashboard-overview\", \"charts\", \"create-track\", \"calendar-view\", \"release-desk\", \"era-desk\"];\r\n\r\nconst VIEW_PANEL_STATES = {\r\n  open: \"open\",\r\n  hidden: \"hidden\"\r\n};\r\nconst VIEW_DEFAULTS = {\r\n  dashboard: {\r\n    \"dashboard-overview\": VIEW_PANEL_STATES.open,\r\n    \"dashboard-focus\": VIEW_PANEL_STATES.open\r\n  },\r\n  charts: {\r\n    \"charts\": VIEW_PANEL_STATES.open\r\n  },\r\n  awards: {\r\n    \"awards-ledger\": VIEW_PANEL_STATES.open,\r\n    \"awards-detail\": VIEW_PANEL_STATES.open\r\n  },\r\n  create: {\r\n    \"create-track\": VIEW_PANEL_STATES.open,\r\n    \"tracks\": VIEW_PANEL_STATES.open\r\n  },\r\n  release: {\r\n    \"release-desk\": VIEW_PANEL_STATES.open,\r\n    \"release-projects\": VIEW_PANEL_STATES.open\r\n  },\r\n  releases: {\r\n    \"calendar-view\": VIEW_PANEL_STATES.open,\r\n    \"calendar-structures\": VIEW_PANEL_STATES.open\r\n  },\r\n  eras: {\r\n    \"era-desk\": VIEW_PANEL_STATES.open,\r\n    \"era-performance\": VIEW_PANEL_STATES.open\r\n  },\r\n  acts: {\r\n    \"harmony-acts\": VIEW_PANEL_STATES.open\r\n  },\r\n  creators: {\r\n    \"harmony-creators\": VIEW_PANEL_STATES.open\r\n  },\r\n  world: {\r\n    \"ccc-market\": VIEW_PANEL_STATES.open,\r\n    \"community-tools\": VIEW_PANEL_STATES.open,\r\n    \"community-rivals\": VIEW_PANEL_STATES.open,\r\n    \"community-cheats\": VIEW_PANEL_STATES.open\r\n  },\r\n  \"rival-rosters\": {\r\n    \"rival-rosters\": VIEW_PANEL_STATES.open\r\n  },\r\n  logs: {\r\n    \"eyerisocial\": VIEW_PANEL_STATES.open,\r\n    \"resource-ticks\": VIEW_PANEL_STATES.open,\r\n    \"system-log\": VIEW_PANEL_STATES.open\r\n  }\r\n};\r\n\r\nfunction getPanelTray() {\r\n  return document.querySelector(\"#panelTray\");\r\n}\r\n\r\nfunction updatePanelTrayVisibility() {\r\n  const tray = getPanelTray();\r\n  if (!tray) return;\r\n  tray.classList.toggle(\"has-panels\", !!tray.querySelector(\".panel.card\"));\r\n}\r\n\r\nfunction loadSideLayout() {\r\n  const raw = localStorage.getItem(SIDE_LAYOUT_KEY);\r\n  if (!raw) return;\r\n  try {\r\n    const parsed = JSON.parse(raw);\r\n    sideLayout.leftCollapsed = !!parsed.leftCollapsed;\r\n    sideLayout.rightCollapsed = !!parsed.rightCollapsed;\r\n  } catch {\r\n    // ignore invalid layout\r\n  }\r\n}\r\n\r\nfunction saveSideLayout() {\r\n  safeSetLocalStorageJson(SIDE_LAYOUT_KEY, sideLayout, { context: \"side panel layout\" });\r\n}\r\n\r\nfunction updateSideToggleButtons(leftCollapsed, rightCollapsed) {\r\n  const leftBtn = $(\"toggleLeftBtn\");\r\n  if (leftBtn) {\r\n    leftBtn.classList.toggle(\"active\", !leftCollapsed);\r\n    leftBtn.setAttribute(\"aria-pressed\", String(!leftCollapsed));\r\n    leftBtn.title = leftCollapsed ? \"Expand left panels\" : \"Collapse left panels\";\r\n  }\r\n  const rightBtn = $(\"toggleRightBtn\");\r\n  if (rightBtn) {\r\n    rightBtn.classList.toggle(\"active\", !rightCollapsed);\r\n    rightBtn.setAttribute(\"aria-pressed\", String(!rightCollapsed));\r\n    rightBtn.title = rightCollapsed ? \"Expand right panels\" : \"Collapse right panels\";\r\n  }\r\n}\r\n\r\nfunction getStoredGameMode() {\r\n  if (typeof localStorage === \"undefined\") return DEFAULT_GAME_MODE;\r\n  return localStorage.getItem(GAME_MODE_KEY) || DEFAULT_GAME_MODE;\r\n}\r\n\r\nfunction setStoredGameMode(modeId) {\r\n  if (typeof localStorage === \"undefined\") return;\r\n  safeSetLocalStorageString(GAME_MODE_KEY, modeId, { context: \"game mode\" });\r\n}\r\n\r\nfunction getSelectedGameModeId() {\r\n  const select = $(\"gameModeSelect\");\r\n  return select?.value || getStoredGameMode();\r\n}\r\n\r\nfunction syncGameModeSelect() {\r\n  const select = $(\"gameModeSelect\");\r\n  if (!select) return;\r\n  const modes = listGameModes();\r\n  select.innerHTML = modes.map((mode) => `<option value=\"${mode.id}\">${mode.label}</option>`).join(\"\");\r\n  const stored = getStoredGameMode();\r\n  select.value = modes.some((mode) => mode.id === stored) ? stored : DEFAULT_GAME_MODE;\r\n  const hint = $(\"gameModeHint\");\r\n  const active = modes.find((mode) => mode.id === select.value);\r\n  if (hint) hint.textContent = active?.description || \"\";\r\n  if (!select.dataset.bound) {\r\n    select.dataset.bound = \"1\";\r\n    select.addEventListener(\"change\", () => {\r\n      const next = select.value || DEFAULT_GAME_MODE;\r\n      setStoredGameMode(next);\r\n      const nextMode = modes.find((mode) => mode.id === next);\r\n      if (hint) hint.textContent = nextMode?.description || \"\";\r\n    });\r\n  }\r\n}\r\n\r\nfunction getStoredGameDifficulty() {\r\n  if (typeof localStorage === \"undefined\") return DEFAULT_GAME_DIFFICULTY;\r\n  return localStorage.getItem(GAME_DIFFICULTY_KEY) || DEFAULT_GAME_DIFFICULTY;\r\n}\r\n\r\nfunction setStoredGameDifficulty(difficultyId) {\r\n  if (typeof localStorage === \"undefined\") return;\r\n  safeSetLocalStorageString(GAME_DIFFICULTY_KEY, difficultyId, { context: \"game difficulty\" });\r\n}\r\n\r\nfunction getSelectedGameDifficultyId() {\r\n  const select = $(\"difficultySelect\");\r\n  return select?.value || getStoredGameDifficulty();\r\n}\r\n\r\nfunction syncDifficultySelect() {\r\n  const select = $(\"difficultySelect\");\r\n  if (!select) return;\r\n  const difficulties = listGameDifficulties();\r\n  select.innerHTML = difficulties.map((difficulty) => `<option value=\"${difficulty.id}\">${difficulty.label}</option>`).join(\"\");\r\n  const stored = getStoredGameDifficulty();\r\n  select.value = difficulties.some((difficulty) => difficulty.id === stored) ? stored : DEFAULT_GAME_DIFFICULTY;\r\n  const hint = $(\"difficultyHint\");\r\n  const active = difficulties.find((difficulty) => difficulty.id === select.value);\r\n  if (hint) hint.textContent = active?.description || \"\";\r\n  if (!select.dataset.bound) {\r\n    select.dataset.bound = \"1\";\r\n    select.addEventListener(\"change\", () => {\r\n      const next = select.value || DEFAULT_GAME_DIFFICULTY;\r\n      setStoredGameDifficulty(next);\r\n      const nextDifficulty = difficulties.find((difficulty) => difficulty.id === next);\r\n      if (hint) hint.textContent = nextDifficulty?.description || \"\";\r\n    });\r\n  }\r\n}\r\n\r\nfunction loadStartPreferences() {\r\n  if (typeof localStorage === \"undefined\") return null;\r\n  const raw = localStorage.getItem(START_PREFS_KEY);\r\n  if (!raw) return null;\r\n  try {\r\n    return JSON.parse(raw) || null;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction saveStartPreferences(prefs) {\r\n  if (typeof localStorage === \"undefined\") return;\r\n  safeSetLocalStorageJson(START_PREFS_KEY, prefs, { context: \"start preferences\" });\r\n}\r\n\r\nfunction getStartPreferenceElements() {\r\n  const theme1 = $(\"startTheme1\");\r\n  const theme2 = $(\"startTheme2\");\r\n  const mood1 = $(\"startMood1\");\r\n  const mood2 = $(\"startMood2\");\r\n  if (!theme1 || !theme2 || !mood1 || !mood2) return null;\r\n  return { theme1, theme2, mood1, mood2 };\r\n}\r\n\r\nfunction normalizeStartPreferences(prefs = {}) {\r\n  const themePool = Array.isArray(THEMES) ? THEMES : [];\r\n  const moodPool = Array.isArray(MOODS) ? MOODS : [];\r\n  const themes = Array.isArray(prefs.themes) ? prefs.themes.filter((theme) => themePool.includes(theme)) : [];\r\n  const moods = Array.isArray(prefs.moods) ? prefs.moods.filter((mood) => moodPool.includes(mood)) : [];\r\n  const uniqueThemes = [...new Set(themes)];\r\n  const uniqueMoods = [...new Set(moods)];\r\n  if (uniqueThemes.length < 2) {\r\n    uniqueThemes.push(...pickDistinct(themePool.filter((theme) => !uniqueThemes.includes(theme)), 2 - uniqueThemes.length));\r\n  }\r\n  if (uniqueMoods.length < 2) {\r\n    uniqueMoods.push(...pickDistinct(moodPool.filter((mood) => !uniqueMoods.includes(mood)), 2 - uniqueMoods.length));\r\n  }\r\n  return { themes: uniqueThemes.slice(0, 2), moods: uniqueMoods.slice(0, 2) };\r\n}\r\n\r\nfunction setStartPreferenceValues(prefs, options = {}) {\r\n  const elements = getStartPreferenceElements();\r\n  if (!elements) return;\r\n  const { theme1, theme2, mood1, mood2 } = elements;\r\n  const { persist = true } = options;\r\n  const normalized = normalizeStartPreferences(prefs);\r\n  theme1.value = normalized.themes[0] || \"\";\r\n  theme2.value = normalized.themes[1] || \"\";\r\n  mood1.value = normalized.moods[0] || \"\";\r\n  mood2.value = normalized.moods[1] || \"\";\r\n  setThemeSelectAccent(theme1);\r\n  setThemeSelectAccent(theme2);\r\n  if (persist) {\r\n    saveStartPreferences(normalized);\r\n  }\r\n}\r\n\r\nfunction readStartPreferences() {\r\n  const elements = getStartPreferenceElements();\r\n  if (!elements) return normalizeStartPreferences(loadStartPreferences() || {});\r\n  return normalizeStartPreferences({\r\n    themes: [elements.theme1.value, elements.theme2.value],\r\n    moods: [elements.mood1.value, elements.mood2.value]\r\n  });\r\n}\r\n\r\nfunction validateStartPreferences(prefs) {\r\n  const normalized = normalizeStartPreferences(prefs);\r\n  const themes = normalized.themes;\r\n  const moods = normalized.moods;\r\n  const hasMissingThemes = themes.some((theme) => !theme);\r\n  const hasMissingMoods = moods.some((mood) => !mood);\r\n  if (hasMissingThemes || hasMissingMoods) {\r\n    return {\r\n      ok: false,\r\n      message: \"Pick two Themes and two Moods before starting.\",\r\n      fields: [\"startTheme1\", \"startTheme2\", \"startMood1\", \"startMood2\"]\r\n    };\r\n  }\r\n  if (themes[0] === themes[1]) {\r\n    return { ok: false, message: \"Pick two different Themes before starting.\", fields: [\"startTheme1\", \"startTheme2\"] };\r\n  }\r\n  if (moods[0] === moods[1]) {\r\n    return { ok: false, message: \"Pick two different Moods before starting.\", fields: [\"startMood1\", \"startMood2\"] };\r\n  }\r\n  return { ok: true, prefs: normalized };\r\n}\r\n\r\nfunction pickRandomPreference(pool, exclude = []) {\r\n  const safePool = Array.isArray(pool) ? pool : [];\r\n  const filtered = safePool.filter((item) => !exclude.includes(item));\r\n  const options = filtered.length ? filtered : safePool;\r\n  const [picked] = pickDistinct(options, 1);\r\n  return picked || \"\";\r\n}\r\n\r\nfunction pickRandomPair(pool) {\r\n  const picks = pickDistinct(pool, 2);\r\n  return [picks[0] || \"\", picks[1] || \"\"];\r\n}\r\n\r\nfunction syncStartPreferenceSelects() {\r\n  const elements = getStartPreferenceElements();\r\n  if (!elements) return;\r\n  const { theme1, theme2, mood1, mood2 } = elements;\r\n  const themeOptions = buildThemeOptions([{ value: \"\", label: \"Select theme\" }]);\r\n  const moodOptions = buildMoodOptions([{ value: \"\", label: \"Select mood\" }]);\r\n  theme1.innerHTML = themeOptions;\r\n  theme2.innerHTML = themeOptions;\r\n  mood1.innerHTML = moodOptions;\r\n  mood2.innerHTML = moodOptions;\r\n\r\n  setStartPreferenceValues(loadStartPreferences() || {});\r\n  bindThemeSelectAccent(theme1);\r\n  bindThemeSelectAccent(theme2);\r\n\r\n  const onChange = () => setStartPreferenceValues({\r\n    themes: [theme1.value, theme2.value],\r\n    moods: [mood1.value, mood2.value]\r\n  });\r\n  [theme1, theme2, mood1, mood2].forEach((select) => {\r\n    if (select.dataset.bound) return;\r\n    select.dataset.bound = \"1\";\r\n    select.addEventListener(\"change\", onChange);\r\n  });\r\n\r\n  const bindRandom = (id, handler) => {\r\n    const btn = $(id);\r\n    if (!btn || btn.dataset.bound) return;\r\n    btn.dataset.bound = \"1\";\r\n    btn.addEventListener(\"click\", handler);\r\n  };\r\n  bindRandom(\"randomTheme1Btn\", () => {\r\n    const prefs = readStartPreferences();\r\n    const next = pickRandomPreference(THEMES, prefs.themes[1] ? [prefs.themes[1]] : []);\r\n    setStartPreferenceValues({ themes: [next, prefs.themes[1]], moods: prefs.moods });\r\n  });\r\n  bindRandom(\"randomTheme2Btn\", () => {\r\n    const prefs = readStartPreferences();\r\n    const next = pickRandomPreference(THEMES, prefs.themes[0] ? [prefs.themes[0]] : []);\r\n    setStartPreferenceValues({ themes: [prefs.themes[0], next], moods: prefs.moods });\r\n  });\r\n  bindRandom(\"randomMood1Btn\", () => {\r\n    const prefs = readStartPreferences();\r\n    const next = pickRandomPreference(MOODS, prefs.moods[1] ? [prefs.moods[1]] : []);\r\n    setStartPreferenceValues({ themes: prefs.themes, moods: [next, prefs.moods[1]] });\r\n  });\r\n  bindRandom(\"randomMood2Btn\", () => {\r\n    const prefs = readStartPreferences();\r\n    const next = pickRandomPreference(MOODS, prefs.moods[0] ? [prefs.moods[0]] : []);\r\n    setStartPreferenceValues({ themes: prefs.themes, moods: [prefs.moods[0], next] });\r\n  });\r\n  bindRandom(\"randomThemesBtn\", () => {\r\n    const prefs = readStartPreferences();\r\n    const [next1, next2] = pickRandomPair(THEMES);\r\n    setStartPreferenceValues({ themes: [next1, next2], moods: prefs.moods });\r\n  });\r\n  bindRandom(\"randomMoodsBtn\", () => {\r\n    const prefs = readStartPreferences();\r\n    const [next1, next2] = pickRandomPair(MOODS);\r\n    setStartPreferenceValues({ themes: prefs.themes, moods: [next1, next2] });\r\n  });\r\n  bindRandom(\"randomAllPrefsBtn\", () => {\r\n    const [themeA, themeB] = pickRandomPair(THEMES);\r\n    const [moodA, moodB] = pickRandomPair(MOODS);\r\n    setStartPreferenceValues({ themes: [themeA, themeB], moods: [moodA, moodB] });\r\n  });\r\n}\r\n\r\nfunction getSelectedStartPreferences() {\r\n  return readStartPreferences();\r\n}\r\n\r\nfunction getCccTrendSlots() {\r\n  const { visible } = collectTrendRanking();\r\n  const trendList = visible.length ? visible : (state.trends || []);\r\n  const limit = Number.isFinite(TREND_DETAIL_COUNT) ? TREND_DETAIL_COUNT : 3;\r\n  return trendList.filter(Boolean).slice(0, limit);\r\n}\r\n\r\nfunction getNextTrendIndex(currentIndex, count) {\r\n  if (!count) return 0;\r\n  if (!Number.isFinite(currentIndex)) return 0;\r\n  return (currentIndex + 1) % count;\r\n}\r\n\r\nfunction applyCccTrendFilter(kind) {\r\n  const selectId = kind === \"theme\" ? \"cccThemeFilter\" : \"cccMoodFilter\";\r\n  const slots = getCccTrendSlots();\r\n  if (!slots.length) {\r\n    logEvent(\"Top trends are not available yet.\", \"warn\");\r\n    shakeField(selectId);\r\n    return;\r\n  }\r\n  if (!state.ui) state.ui = {};\r\n  const indexKey = kind === \"theme\" ? \"cccThemeTrendIndex\" : \"cccMoodTrendIndex\";\r\n  const nextIndex = getNextTrendIndex(state.ui[indexKey], slots.length);\r\n  const genre = slots[nextIndex] || \"\";\r\n  const value = kind === \"theme\" ? themeFromGenre(genre) : moodFromGenre(genre);\r\n  if (!value) {\r\n    logEvent(\"Top trends are missing a valid genre slot.\", \"warn\");\r\n    shakeField(selectId);\r\n    return;\r\n  }\r\n  state.ui[indexKey] = nextIndex;\r\n  if (kind === \"theme\") {\r\n    state.ui.cccThemeFilter = value;\r\n  } else {\r\n    state.ui.cccMoodFilter = value;\r\n  }\r\n  const select = $(selectId);\r\n  if (select) {\r\n    select.value = value;\r\n    if (kind === \"theme\") setThemeSelectAccent(select);\r\n  }\r\n  renderAll();\r\n}\r\n\r\nfunction panelByKey(key) {\r\n  return document.querySelector(`.panel.card[data-panel=\"${key}\"]`);\r\n}\r\n\r\nfunction getRouteFromHash() {\r\n  const raw = window.location.hash || \"\";\r\n  const match = raw.replace(\"#/\", \"\").trim();\r\n  const normalized = ROUTE_ALIASES[match] || match;\r\n  return ROUTES.includes(normalized) ? normalized : DEFAULT_ROUTE;\r\n}\r\n\r\nfunction loadViewPanelState() {\r\n  const raw = localStorage.getItem(VIEW_PANEL_STATE_KEY);\r\n  if (!raw) return {};\r\n  try {\r\n    return JSON.parse(raw) || {};\r\n  } catch {\r\n    return {};\r\n  }\r\n}\r\n\r\nfunction saveViewPanelState(state) {\r\n  safeSetLocalStorageJson(VIEW_PANEL_STATE_KEY, state, { context: \"view panel state\" });\r\n}\r\n\r\nfunction normalizeViewPanelState(state) {\r\n  return state === VIEW_PANEL_STATES.hidden ? VIEW_PANEL_STATES.hidden : VIEW_PANEL_STATES.open;\r\n}\r\n\r\nfunction normalizePanelState(state) {\r\n  if (state === PANEL_STATES.collapsed || state === PANEL_STATES.expanded) return state;\r\n  return PANEL_STATES.open;\r\n}\r\n\r\nfunction ensureViewPanelState(route, root) {\r\n  const store = loadViewPanelState();\r\n  if (!store[route]) store[route] = {};\r\n  Object.values(store[route]).forEach((entry) => {\r\n    if (!entry) return;\r\n    entry.state = normalizeViewPanelState(entry.state);\r\n  });\r\n  const defaults = VIEW_DEFAULTS[route] || {};\r\n  if (root) {\r\n    root.querySelectorAll(\".panel.card\").forEach((panel) => {\r\n      const key = panelKey(panel);\r\n      if (!key) return;\r\n      if (!store[route][key]) {\r\n        store[route][key] = {\r\n          state: defaults[key] || VIEW_PANEL_STATES.open,\r\n          width: \"\",\r\n          height: \"\"\r\n        };\r\n      }\r\n    });\r\n  }\r\n  saveViewPanelState(store);\r\n  return store;\r\n}\r\n\r\nfunction getPanelStateEntry(route, key, root) {\r\n  const store = ensureViewPanelState(route, root);\r\n  return store[route]?.[key] || { state: VIEW_PANEL_STATES.open };\r\n}\r\n\r\nfunction logUiEvent(type, payload = {}) {\n  const log = loadUiEventLog();\n  const entry = {\n    ts: Date.now(),\n    gameTs: state.time?.epochMs,\r\n    route: state.ui?.activeView || activeRoute,\r\n    event_type: type,\r\n    payload\r\n  };\r\n  log.push(entry);\r\n  if (log.length > 800) log.shift();\r\n  let serialized = JSON.stringify(log);\r\n  let bytes = estimatePayloadBytes(serialized);\r\n  while (log.length && bytes > UI_EVENT_LOG_MAX_BYTES) {\r\n    log.shift();\r\n    serialized = JSON.stringify(log);\r\n    bytes = estimatePayloadBytes(serialized);\r\n  }\r\n  safeSetLocalStoragePayload(UI_EVENT_LOG_KEY, serialized, {\r\n    context: \"UI event log\",\r\n    maxBytes: UI_EVENT_LOG_MAX_BYTES\r\n  });\r\n  const isAction = type === \"action_submit\" || type === \"route_change\";\r\n  recordUsageEvent(`ui.${type}`, payload, {\n    route: entry.route,\n    gameTs: entry.gameTs,\n    isAction,\n    reportToConsole: type === \"action_submit\"\n  });\n}\n\nfunction closeOverlay(id, options = {}) {\n  if (!id) return;\n  const source = options?.source || \"direct\";\n  const overlay = $(id);\n  logUiEvent(\"overlay_close_attempt\", {\n    overlay_id: id,\n    source,\n    exists: Boolean(overlay)\n  });\n  if (!overlay) return;\n  const wasOpen = overlay.getAttribute(\"aria-hidden\") !== \"true\";\n  closeOverlayRaw(id);\n  const closed = overlay.getAttribute(\"aria-hidden\") === \"true\";\n  logUiEvent(\"overlay_close\", {\n    overlay_id: id,\n    source,\n    wasOpen,\n    closed\n  });\n  if (id === \"navMenu\") {\n    const btn = $(\"navMenuBtn\");\n    if (btn) btn.setAttribute(\"aria-expanded\", \"false\");\n  }\n}\n\nfunction loadUiEventLog() {\n  const raw = localStorage.getItem(UI_EVENT_LOG_KEY);\n  if (!raw) return [];\n  try {\r\n    return JSON.parse(raw) || [];\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\nfunction recordSessionReady(source) {\r\n  updateUsageSessionContext({\r\n    activeSlot: session.activeSlot,\r\n    label: state.label?.name || null,\r\n    gameMode: state.meta?.gameMode || DEFAULT_GAME_MODE,\r\n    difficulty: state.meta?.difficulty || DEFAULT_GAME_DIFFICULTY\r\n  });\r\n  recordUsageEvent(\"session.ready\", {\r\n    source,\r\n    activeSlot: session.activeSlot,\r\n    label: state.label?.name || null,\r\n    gameMode: state.meta?.gameMode || DEFAULT_GAME_MODE,\r\n    difficulty: state.meta?.difficulty || DEFAULT_GAME_DIFFICULTY\r\n  }, {\r\n    route: state.ui?.activeView || activeRoute,\r\n    gameTs: state.time?.epochMs,\r\n    reportToConsole: true\r\n  });\r\n}\r\n\r\nasync function refreshExternalStorageStatus(root) {\r\n  const scope = root || document;\r\n  const statusEl = scope.querySelector(\"#externalStorageStatus\");\r\n  const detailEl = scope.querySelector(\"#externalStorageDetail\");\r\n  const pickBtn = scope.querySelector(\"#externalStoragePickBtn\");\r\n  const syncBtn = scope.querySelector(\"#externalStorageSyncBtn\");\r\n  const importBtn = scope.querySelector(\"#externalStorageImportBtn\");\r\n  const clearBtn = scope.querySelector(\"#externalStorageClearBtn\");\r\n\r\n  if (!isExternalStorageSupported()) {\r\n    if (statusEl) statusEl.textContent = \"External storage is not supported in this browser.\";\r\n    if (detailEl) detailEl.textContent = \"Use Edge or Chrome on localhost or HTTPS.\";\r\n    if (pickBtn) pickBtn.disabled = true;\r\n    if (syncBtn) syncBtn.disabled = true;\r\n    if (importBtn) importBtn.disabled = true;\r\n    if (clearBtn) clearBtn.disabled = true;\r\n    return;\r\n  }\r\n\r\n  const status = await getExternalStorageStatus();\r\n  if (!status || status.status === \"not-set\") {\r\n    if (statusEl) statusEl.textContent = \"External storage not set.\";\r\n    if (detailEl) detailEl.textContent = \"Choose a folder to capture logs, saves, and database exports.\";\r\n    if (pickBtn) pickBtn.disabled = false;\r\n    if (syncBtn) syncBtn.disabled = true;\r\n    if (importBtn) importBtn.disabled = true;\r\n    if (clearBtn) clearBtn.disabled = true;\r\n    return;\r\n  }\r\n\r\n  if (statusEl) statusEl.textContent = `Folder: ${status.name || \"External folder\"}`;\r\n  if (detailEl) {\r\n    const hint = status.status === \"ready\"\r\n      ? \"Write access granted.\"\r\n      : \"Permission needed; click Sync or Import to re-authorize.\";\r\n    detailEl.textContent = hint;\r\n  }\r\n  if (pickBtn) pickBtn.disabled = false;\r\n  if (syncBtn) syncBtn.disabled = false;\r\n  if (importBtn) importBtn.disabled = false;\r\n  if (clearBtn) clearBtn.disabled = false;\r\n}\r\n\r\nasync function handleExternalStoragePick(root, { fromPrompt = false } = {}) {\r\n  const result = await requestExternalStorageHandle();\r\n  if (!result.ok) {\r\n    if (result.reason === \"cancelled\" && fromPrompt) {\r\n      setExternalStoragePromptDismissed(\"cancelled\");\r\n    } else if (result.reason !== \"cancelled\") {\r\n      logEvent(`External storage folder could not be set (${result.reason}).`, \"warn\");\r\n      const detail = result.detail || result.reason || \"unknown issue\";\r\n      showToast(\r\n        \"Save folder unavailable\",\r\n        `Unable to open the save folder picker (${detail}). Check browser permissions or try a supported browser.`,\r\n        { tone: \"warn\" }\r\n      );\r\n    }\r\n  }\r\n  const usageSession = getUsageSessionSnapshot();\r\n  if (result.ok) {\r\n    clearExternalStoragePromptDismissed();\r\n    const summary = await syncExternalStorageNow({ usageSession });\r\n    if (summary.ok) {\r\n      logEvent(`External storage synced (${summary.saves} saves, ${summary.charts} charts).`);\r\n    }\r\n  }\r\n  await refreshExternalStorageStatus(root);\r\n}\r\n\r\nasync function handleExternalStorageSync(root) {\r\n  const usageSession = getUsageSessionSnapshot();\r\n  const summary = await syncExternalStorageNow({ usageSession });\r\n  if (!summary.ok) {\r\n    logEvent(`External storage sync failed (${summary.reason || \"unknown\"}).`, \"warn\");\r\n  } else {\r\n    logEvent(`External storage synced (${summary.saves} saves, ${summary.charts} charts).`);\r\n  }\r\n  await refreshExternalStorageStatus(root);\r\n}\r\n\r\nasync function handleExternalStorageImport(root) {\r\n  const saveResult = await importSavesFromExternal();\r\n  const chartResult = await importChartHistoryFromExternal();\r\n  if (!saveResult.ok && !chartResult.ok) {\r\n    logEvent(\r\n      `External storage import failed (${saveResult.reason || chartResult.reason || \"unknown\"}).`,\r\n      \"warn\"\r\n    );\r\n  } else {\r\n    const saves = saveResult.ok ? saveResult.imported : 0;\r\n    const charts = chartResult.ok ? chartResult.imported : 0;\r\n    logEvent(`External storage imported (${saves} saves, ${charts} chart snapshots).`);\r\n    renderMainMenu();\r\n  }\r\n  await refreshExternalStorageStatus(root);\r\n}\r\n\r\nasync function handleExternalStorageClear(root) {\r\n  await clearExternalStorageHandle();\r\n  logEvent(\"External storage disconnected.\");\r\n  await refreshExternalStorageStatus(root);\r\n}\r\n\r\nfunction resolveExternalStoragePrompt() {\r\n  if (!externalStoragePromptResolve) return;\r\n  externalStoragePromptResolve();\r\n  externalStoragePromptResolve = null;\r\n  externalStoragePromptPromise = null;\r\n}\r\n\r\nfunction updateExternalStoragePromptStatus(status) {\r\n  const statusEl = $(\"externalStoragePromptStatus\");\r\n  const detailEl = $(\"externalStoragePromptDetail\");\r\n  const pickBtn = $(\"externalStoragePromptPickBtn\");\r\n  if (!statusEl || !detailEl || !pickBtn) return;\r\n\r\n  if (!status || status.supported === false || status.status === \"unsupported\") {\r\n    statusEl.textContent = \"External storage is not supported in this browser.\";\r\n    detailEl.textContent = \"Use Edge or Chrome on localhost or HTTPS.\";\r\n    pickBtn.disabled = true;\r\n    return;\r\n  }\r\n\r\n  if (status.status === \"ready\") {\r\n    statusEl.textContent = `Folder: ${status.name || \"External folder\"}`;\r\n    detailEl.textContent = \"Ready to sync saves, logs, and charts.\";\r\n    pickBtn.disabled = false;\r\n    return;\r\n  }\r\n\r\n  if (status.status === \"not-set\") {\r\n    statusEl.textContent = \"No folder selected yet.\";\r\n    detailEl.textContent = \"Choose a folder to store save slots and logs.\";\r\n    pickBtn.disabled = false;\r\n    return;\r\n  }\r\n\r\n  statusEl.textContent = `Folder: ${status.name || \"External folder\"}`;\r\n  detailEl.textContent = \"Permission needed; choose a folder to re-authorize.\";\r\n  pickBtn.disabled = false;\r\n}\r\n\r\nasync function refreshExternalStoragePromptStatus() {\r\n  const status = await getExternalStorageStatus();\r\n  updateExternalStoragePromptStatus(status);\r\n  return status;\r\n}\r\n\r\nasync function maybePromptExternalStorageOnStart() {\r\n  if (!isExternalStorageSupported()) return null;\r\n  if (!$(\"externalStoragePrompt\")) return null;\r\n  if (isExternalStoragePromptDismissed()) return null;\r\n  const status = await refreshExternalStoragePromptStatus();\r\n  if (status?.status === \"ready\") {\r\n    clearExternalStoragePromptDismissed();\r\n    return null;\r\n  }\r\n  if (externalStoragePromptPromise) return externalStoragePromptPromise;\r\n  openOverlay(\"externalStoragePrompt\");\r\n  externalStoragePromptPromise = new Promise((resolve) => {\r\n    externalStoragePromptResolve = resolve;\r\n  });\r\n  return externalStoragePromptPromise;\r\n}\r\n\r\nfunction chartScopeKey(chartKey) {\r\n  const base = chartKey === \"global\"\r\n    ? \"global\"\r\n    : NATIONS.includes(chartKey)\r\n      ? `nation:${chartKey}`\r\n      : `region:${chartKey}`;\r\n  const contentType = state.ui?.chartContentType || \"tracks\";\r\n  if (contentType === \"promotions\") return `promo:${base}`;\r\n  if (contentType === \"tours\") return `tour:${base}`;\r\n  return base;\r\n}\r\n\r\nfunction chartScopeLabel(chartKey) {\r\n  return game.chartScopeLabel(chartKey);\r\n}\r\n\r\nfunction resetChartHistoryView({ render = true } = {}) {\r\n  chartHistoryRequestId += 1;\r\n  if (state.ui.chartHistoryWeek === null && state.ui.chartHistorySnapshot === null) return;\r\n  state.ui.chartHistoryWeek = null;\r\n  state.ui.chartHistorySnapshot = null;\r\n  saveToActiveSlot();\r\n  if (render && $(\"chartList\")) {\r\n    requestChartsRender();\r\n    renderCharts();\r\n  }\r\n}\r\n\r\nasync function applyChartHistoryWeek(week, chartKey) {\r\n  if (!week || week < 1) return;\r\n  const currentWeek = weekIndex() + 1;\r\n  if (week > currentWeek) {\r\n    logEvent(`Charts are only available through ${formatWeekRangeLabel(currentWeek)}.`, \"warn\");\r\n    return;\r\n  }\r\n  const requestId = chartHistoryRequestId + 1;\r\n  chartHistoryRequestId = requestId;\r\n  const scope = chartScopeKey(chartKey);\r\n  const snapshot = await fetchChartSnapshot(scope, week);\r\n  if (requestId !== chartHistoryRequestId) return;\r\n  state.ui.chartHistoryWeek = week;\r\n  state.ui.chartHistorySnapshot = snapshot || null;\r\n  saveToActiveSlot();\r\n  if ($(\"chartList\")) {\r\n    requestChartsRender();\r\n    renderCharts();\r\n  }\r\n}\r\n\r\nasync function renderChartHistoryModal() {\r\n  const list = $(\"chartHistoryList\");\r\n  const scopeLabel = chartScopeLabel(state.ui.activeChart || \"global\");\r\n  const contentType = state.ui.chartContentType || \"tracks\";\r\n  const contentLabel = contentType === \"projects\"\r\n    ? \"Projects\"\r\n    : contentType === \"promotions\"\r\n      ? \"Promotions\"\r\n      : contentType === \"tours\"\r\n        ? \"Touring\"\r\n        : \"Tracks\";\r\n  const scopeEl = $(\"chartHistoryScope\");\r\n  if (scopeEl) scopeEl.textContent = `Scope: ${scopeLabel} (${contentLabel})`;\r\n  if (!list) return;\r\n  const weeks = await listChartWeeks();\r\n  const currentWeek = weekIndex() + 1;\r\n  const visibleWeeks = weeks.filter((entry) => entry.week <= currentWeek);\r\n  if (!visibleWeeks.length) {\r\n    list.innerHTML = `<div class=\"muted\">No chart history yet.</div>`;\r\n    return;\r\n  }\r\n  list.innerHTML = visibleWeeks.map((entry) => `\r\n    <div class=\"list-item\">\r\n      <div class=\"list-row\">\r\n        <div class=\"item-title\">${formatWeekRangeLabel(entry.week)}</div>\r\n        <button type=\"button\" class=\"ghost mini\" data-chart-week=\"${entry.week}\">View</button>\r\n      </div>\r\n    </div>\r\n  `).join(\"\");\r\n}\r\n\r\nfunction applyPanelStates(route, root) {\r\n  if (!root) return;\r\n  const store = ensureViewPanelState(route, root);\r\n  root.querySelectorAll(\".panel.card\").forEach((panel) => {\r\n    const key = panelKey(panel);\r\n    if (!key) return;\r\n    const entry = store[route]?.[key] || { state: VIEW_PANEL_STATES.open };\r\n    const normalized = normalizeViewPanelState(entry.state);\r\n    entry.state = normalized;\r\n    const isHidden = normalized === VIEW_PANEL_STATES.hidden;\r\n    panel.dataset.state = normalized;\r\n    panel.style.width = entry.width || \"\";\r\n    panel.style.height = entry.height || \"\";\r\n    setPanelVisibility(panel, !isHidden);\r\n    panel.classList.remove(\"panel--mini\");\r\n    addPanelActions(panel);\r\n    updateViewPanelActions(panel, normalized);\r\n    clampPanelRect(panel);\r\n  });\r\n  syncViewColumns(root);\r\n}\r\n\r\nfunction persistPanelSize(panel) {\r\n  const route = state.ui.activeView || activeRoute;\r\n  const root = document.querySelector(\".view\");\r\n  const store = ensureViewPanelState(route, root);\r\n  const key = panelKey(panel);\r\n  if (!key) return;\r\n  if (!store[route][key]) {\r\n    store[route][key] = { state: VIEW_PANEL_STATES.open, width: \"\", height: \"\" };\r\n  }\r\n  store[route][key].width = panel.style.width || \"\";\r\n  store[route][key].height = panel.style.height || \"\";\r\n  saveViewPanelState(store);\r\n}\r\n\r\nfunction setViewPanelState(route, key, nextState) {\r\n  const root = document.querySelector(\".view\");\r\n  const store = ensureViewPanelState(route, root);\r\n  if (!store[route][key]) {\r\n    store[route][key] = { state: VIEW_PANEL_STATES.open, width: \"\", height: \"\" };\r\n  }\r\n  const prevState = normalizeViewPanelState(store[route][key].state);\r\n  const normalizedNext = normalizeViewPanelState(nextState);\r\n  const panelBefore = root ? root.querySelector(`.panel.card[data-panel=\"${key}\"]`) : null;\r\n  const rectBefore = serializeRect(panelBefore);\r\n  store[route][key].state = normalizedNext;\r\n  saveViewPanelState(store);\r\n  applyPanelStates(route, root);\r\n  renderPanelMenu();\r\n  syncSidePanelsButton(root);\r\n  requestAnimationFrame(() => {\r\n    const panelAfter = root ? root.querySelector(`.panel.card[data-panel=\"${key}\"]`) : null;\r\n    const rectAfter = serializeRect(panelAfter);\r\n    logPanelTransition(route, key, prevState, normalizedNext, rectBefore, rectAfter);\r\n    if (normalizedNext === VIEW_PANEL_STATES.open && prevState !== normalizedNext) {\r\n      focusPanel(panelAfter, route, key, prevState, rectBefore, rectAfter);\r\n    }\r\n  });\r\n}\r\n\r\nfunction getViewPanelState(route, key) {\r\n  const root = document.querySelector(\".view\");\r\n  const store = ensureViewPanelState(route, root);\r\n  return normalizeViewPanelState(store[route]?.[key]?.state);\r\n}\r\n\r\nfunction serializeRect(panel) {\r\n  if (!panel || panel.hidden) return null;\r\n  const rect = panel.getBoundingClientRect();\r\n  return {\r\n    x: Math.round(rect.x),\r\n    y: Math.round(rect.y),\r\n    width: Math.round(rect.width),\r\n    height: Math.round(rect.height)\r\n  };\r\n}\r\n\r\nfunction clampPanelRect(panel) {\r\n  if (!panel || panel.hidden) return;\r\n  const parent = panel.parentElement;\r\n  if (!parent) return;\r\n  const parentRect = parent.getBoundingClientRect();\r\n  const maxWidth = Math.max(220, parentRect.width - 12);\r\n  const maxHeight = Math.max(120, parentRect.height - 12);\r\n  const width = parseFloat(panel.style.width) || 0;\r\n  const height = parseFloat(panel.style.height) || 0;\r\n  if (width > 0) panel.style.width = `${clamp(width, 220, maxWidth)}px`;\r\n  if (height > 0) panel.style.height = `${clamp(height, 120, maxHeight)}px`;\r\n}\r\n\r\nfunction clampAllPanels() {\r\n  document.querySelectorAll(\".panel.card\").forEach((panel) => clampPanelRect(panel));\r\n}\r\n\r\nfunction logPanelTransition(route, key, prevState, nextState, rectBefore, rectAfter) {\r\n  if (prevState === nextState) return;\r\n  let eventType = \"panel.state\";\r\n  if (nextState === VIEW_PANEL_STATES.hidden) eventType = \"panel.hide\";\r\n  if (nextState === VIEW_PANEL_STATES.open && prevState === VIEW_PANEL_STATES.hidden) eventType = \"panel.show\";\r\n  logUiEvent(eventType, {\r\n    panel_id: key,\r\n    view_id: route,\r\n    prev_state: prevState,\r\n    next_state: nextState,\r\n    rect_before: rectBefore,\r\n    rect_after: rectAfter\r\n  });\r\n}\r\n\r\nfunction focusPanel(panel, route, key, prevState, rectBefore, rectAfter) {\r\n  if (!panel) return;\r\n  panel.classList.add(\"panel--focus\");\r\n  panel.scrollIntoView({ behavior: \"smooth\", block: \"nearest\" });\r\n  window.setTimeout(() => {\r\n    panel.classList.remove(\"panel--focus\");\r\n  }, 450);\r\n  logUiEvent(\"panel.focus\", {\r\n    panel_id: key,\r\n    view_id: route,\r\n    prev_state: prevState,\r\n    next_state: VIEW_PANEL_STATES.open,\r\n    rect_before: rectBefore,\r\n    rect_after: rectAfter\r\n  });\r\n}\r\n\r\nfunction syncViewColumns(root) {\r\n  if (!root) return;\r\n  const side = root.querySelector(\".view-side\");\r\n  if (!side) return;\r\n  const hasVisible = Array.from(side.querySelectorAll(\".panel.card\")).some((panel) => !panel.hidden);\r\n  root.classList.toggle(\"view--single\", !hasVisible);\r\n}\r\n\r\nfunction getViewSidePanels(root) {\r\n  const scope = root || document.querySelector(\".view\");\r\n  if (!scope) return [];\r\n  return Array.from(scope.querySelectorAll(\".view-side .panel.card\"));\r\n}\r\n\r\nfunction syncSidePanelsButton(root) {\r\n  const btn = $(\"sidePanelsBtn\");\r\n  if (!btn) return;\r\n  const panels = getViewSidePanels(root);\r\n  if (!panels.length) {\r\n    btn.disabled = true;\r\n    btn.classList.remove(\"active\");\r\n    btn.setAttribute(\"aria-pressed\", \"false\");\r\n    btn.title = \"No side panels in this view.\";\r\n    return;\r\n  }\r\n  const anyVisible = panels.some((panel) => !panel.classList.contains(\"panel-hidden\"));\r\n  btn.disabled = false;\r\n  btn.classList.toggle(\"active\", anyVisible);\r\n  btn.setAttribute(\"aria-pressed\", String(anyVisible));\r\n  btn.title = anyVisible ? \"Hide side panels\" : \"Show side panels\";\r\n}\r\n\r\nfunction toggleSidePanels() {\r\n  const route = state.ui.activeView || activeRoute;\r\n  const root = document.querySelector(\".view\");\r\n  const panels = getViewSidePanels(root);\r\n  if (!panels.length) return;\r\n  const anyVisible = panels.some((panel) => !panel.classList.contains(\"panel-hidden\"));\r\n  if (anyVisible) {\r\n    const openKeys = panels\r\n      .filter((panel) => !panel.classList.contains(\"panel-hidden\"))\r\n      .map((panel) => panelKey(panel))\r\n      .filter(Boolean);\r\n    if (!state.ui.sidePanelRestore) state.ui.sidePanelRestore = {};\r\n    state.ui.sidePanelRestore[route] = openKeys;\r\n    openKeys.forEach((key) => setViewPanelState(route, key, VIEW_PANEL_STATES.hidden));\r\n  } else {\r\n    const restoreKeys = state.ui.sidePanelRestore?.[route];\r\n    const keys = restoreKeys && restoreKeys.length\r\n      ? restoreKeys\r\n      : panels.map((panel) => panelKey(panel)).filter(Boolean);\r\n    keys.forEach((key) => setViewPanelState(route, key, VIEW_PANEL_STATES.open));\r\n  }\r\n  syncSidePanelsButton(root);\r\n  saveToActiveSlot();\r\n}\r\n\r\n\r\nfunction updateRoute(route) {\r\n  const next = ROUTES.includes(route) ? route : DEFAULT_ROUTE;\r\n  showViewSwitchToast();\r\n  endUiRenderHold();\r\n  if (activeRoute === next && hasMountedRoute) {\r\n    hideViewSwitchToast();\r\n    return;\r\n  }\r\n  const prevRoute = activeRoute;\r\n  if (prevRoute === \"charts\" && next !== \"charts\") {\r\n    resetChartHistoryView({ render: false });\r\n  }\r\n  if (next === \"charts\" && state.ui.chartHistoryWeek && state.ui.chartHistoryWeek > weekIndex() + 1) {\r\n    resetChartHistoryView({ render: false });\r\n  }\r\n  activeRoute = next;\r\n  state.ui.activeView = next;\r\n  if (next === \"charts\") requestChartsRender();\r\n  if (next === \"world\") requestWorldRender();\r\n  document.querySelectorAll(\".app-nav a[data-route], .nav-menu a[data-route]\").forEach((link) => {\r\n    link.classList.toggle(\"active\", link.dataset.route === next);\r\n  });\r\n  mountView(next);\r\n  hasMountedRoute = true;\r\n  logUiEvent(\"route_change\", { route: next });\r\n  hideViewSwitchToast();\r\n}\r\n\r\nfunction mountView(route) {\r\n  const appRoot = $(\"app\");\r\n  if (!appRoot) return;\r\n  appRoot.innerHTML = \"\";\r\n  const template = document.getElementById(`view-${route}`);\r\n  if (!template) return;\r\n  const fragment = template.content.cloneNode(true);\r\n  appRoot.appendChild(fragment);\r\n  const root = appRoot.querySelector(\".view\");\r\n  if (root) root.dataset.view = route;\r\n  refreshSelectOptions();\r\n  ensureSlotDropdowns();\r\n  updateSlotDropdowns();\r\n  applyPanelStates(route, root);\r\n  syncSidePanelsButton(root);\r\n  setupPanelResizers(root);\r\n  setupSplitLayouts(root);\r\n  bindViewHandlers(route, root);\r\n  renderAll();\r\n}\r\n\r\nfunction initRouter() {\r\n  window.addEventListener(\"hashchange\", () => {\r\n    updateRoute(getRouteFromHash());\r\n  });\r\n  updateRoute(getRouteFromHash());\r\n}\r\n\r\nfunction isPanelVisible(panel) {\r\n  if (!panel) return false;\r\n  if (panel.classList.contains(\"panel-hidden\")) return false;\r\n  const state = panel.dataset.state || PANEL_STATES.open;\r\n  return state !== PANEL_STATES.collapsed;\r\n}\r\n\r\nfunction ensureMainSurface() {\r\n  const center = document.querySelector(\".center\");\r\n  if (!center) return;\r\n  MAIN_SURFACES.forEach((key) => {\r\n    const panel = panelByKey(key);\r\n    if (panel) panel.classList.remove(\"panel--surface\");\r\n  });\r\n  let surface = null;\r\n  for (const key of MAIN_SURFACES) {\r\n    const panel = panelByKey(key);\r\n    if (isPanelVisible(panel)) {\r\n      surface = panel;\r\n      break;\r\n    }\r\n  }\r\n  if (!surface) {\r\n    const chartPanel = panelByKey(\"charts\");\r\n    if (chartPanel) {\r\n      setPanelVisibility(chartPanel, true);\r\n      setPanelState(chartPanel, PANEL_STATES.open);\r\n      surface = chartPanel;\r\n    }\r\n  }\r\n  MAIN_SURFACES.forEach((key) => {\r\n    const panel = panelByKey(key);\r\n    if (!panel || panel === surface) return;\r\n    if (panel.classList.contains(\"panel--expanded\")) return;\r\n    const dock = panel.dataset.origDock || \"footer\";\r\n    const target = document.querySelector(`.${dock}`) || document.querySelector(\".footer\");\r\n    if (target && !target.contains(panel)) {\r\n      target.appendChild(panel);\r\n      panel.dataset.dock = dock;\r\n    }\r\n  });\r\n  if (!surface) return;\r\n  if (!center.contains(surface)) {\r\n    center.appendChild(surface);\r\n    surface.dataset.dock = \"center\";\r\n  }\r\n  surface.classList.add(\"panel--surface\");\r\n}\r\n\r\nfunction syncSideColumns() {\r\n  const app = document.querySelector(\".app\");\r\n  if (!app) return;\r\n  const leftPanels = Array.from(document.querySelectorAll(\".left .panel.card\"));\r\n  const rightPanels = Array.from(document.querySelectorAll(\".right .panel.card\"));\r\n  const leftVisible = leftPanels.some((panel) => !panel.classList.contains(\"panel-hidden\"));\r\n  const rightVisible = rightPanels.some((panel) => !panel.classList.contains(\"panel-hidden\"));\r\n  const leftCollapsed = leftVisible ? sideLayout.leftCollapsed : true;\r\n  const rightCollapsed = rightVisible ? sideLayout.rightCollapsed : true;\r\n  app.classList.toggle(\"left-collapsed\", leftCollapsed);\r\n  app.classList.toggle(\"right-collapsed\", rightCollapsed);\r\n  updateSideToggleButtons(leftCollapsed, rightCollapsed);\r\n}\r\n\r\nfunction toggleSidePanel(side) {\r\n  if (side !== \"left\" && side !== \"right\") return;\r\n  const key = side === \"left\" ? \"leftCollapsed\" : \"rightCollapsed\";\r\n  sideLayout[key] = !sideLayout[key];\r\n  saveSideLayout();\r\n  syncSideColumns();\r\n}\r\n\r\nfunction syncLayoutState() {\r\n  updatePanelTrayVisibility();\r\n  ensureMainSurface();\r\n  syncSideColumns();\r\n}\r\n\r\nfunction removeLegacyHiddenShelves() {\r\n  document.querySelectorAll(\".hidden-shelf\").forEach((shelf) => shelf.remove());\r\n}\r\n\r\nfunction ensurePanelHeader(panel) {\r\n  let head = panel.querySelector(\".card-head\");\r\n  if (!head) {\r\n    const title = panel.querySelector(\"h2\");\r\n    head = document.createElement(\"div\");\r\n    head.className = \"card-head\";\r\n    if (title) {\r\n      panel.insertBefore(head, panel.firstChild);\r\n      head.appendChild(title);\r\n    } else {\r\n      panel.insertBefore(head, panel.firstChild);\r\n    }\r\n  }\r\n  return head;\r\n}\r\n\r\nfunction addPanelActions(panel) {\r\n  const head = ensurePanelHeader(panel);\r\n  if (head.querySelector(\".panel-actions\")) return;\r\n  const actions = document.createElement(\"div\");\r\n  actions.className = \"panel-actions\";\r\n  actions.innerHTML = `\r\n    <button type=\"button\" class=\"ghost mini\" data-panel-action=\"hide\">Hide</button>\r\n  `;\r\n  head.appendChild(actions);\r\n}\r\n\r\nfunction updateViewPanelActions(panel, state) {\r\n  const hideBtn = panel.querySelector(\"[data-panel-action=\\\"hide\\\"]\");\r\n  if (hideBtn) {\r\n    hideBtn.textContent = state === VIEW_PANEL_STATES.hidden ? \"Show\" : \"Hide\";\r\n  }\r\n}\r\n\r\nfunction setPanelState(panel, state) {\r\n  panel.classList.toggle(\"panel--expanded\", state === PANEL_STATES.expanded);\r\n  panel.classList.toggle(\"panel--collapsed\", state === PANEL_STATES.collapsed);\r\n  panel.dataset.state = state;\r\n  panel.setAttribute(\"aria-expanded\", state === PANEL_STATES.expanded ? \"true\" : \"false\");\r\n  panel.removeAttribute(\"title\");\r\n  updatePanelButtons(panel);\r\n}\r\n\r\nfunction updatePanelButtons(panel) {\r\n  const focusBtn = panel.querySelector(\".panel-focus\");\r\n  const collapseBtn = panel.querySelector(\".panel-collapse-btn\");\r\n  const state = panel.dataset.state || PANEL_STATES.open;\r\n  if (focusBtn) focusBtn.disabled = state === PANEL_STATES.expanded;\r\n  if (collapseBtn) {\r\n    collapseBtn.textContent = state === PANEL_STATES.collapsed ? \"Show\" : \"Hide\";\r\n  }\r\n}\r\n\r\nfunction syncFocusCount() {\r\n  const focus = document.querySelector(\".center\");\r\n  if (focus) focus.dataset.expandedCount = String(expandedPanels.length);\r\n}\r\n\r\nfunction expandPanel(panel) {\r\n  if (panel.classList.contains(\"panel-fixed\")) return;\r\n  if (panel.classList.contains(\"panel--expanded\")) {\r\n    const idx = expandedPanels.indexOf(panel);\r\n    if (idx >= 0) {\r\n      expandedPanels.splice(idx, 1);\r\n      expandedPanels.push(panel);\r\n      syncFocusCount();\r\n    }\r\n    savePanelLayout();\r\n    syncLayoutState();\r\n    return;\r\n  }\r\n  const focus = document.querySelector(\".center\");\r\n  if (!focus) return;\r\n  if (expandedPanels.length >= 2) {\r\n    minimizePanel(expandedPanels[0]);\r\n  }\r\n  if (!panel.dataset.origDock) {\r\n    const parent = panel.parentElement;\r\n    if (parent && parent.classList.contains(\"left\")) panel.dataset.origDock = \"left\";\r\n    if (parent && parent.classList.contains(\"right\")) panel.dataset.origDock = \"right\";\r\n    if (parent && parent.classList.contains(\"footer\")) panel.dataset.origDock = \"footer\";\r\n  }\r\n  focus.appendChild(panel);\r\n  panel.dataset.dock = \"center\";\r\n  setPanelState(panel, PANEL_STATES.expanded);\r\n  expandedPanels.push(panel);\r\n  syncFocusCount();\r\n  savePanelLayout();\r\n  syncLayoutState();\r\n}\r\n\r\nfunction restorePanel(panel) {\r\n  if (panel.classList.contains(\"panel-fixed\")) return;\r\n  const dock = panel.dataset.origDock || \"footer\";\r\n  const target = document.querySelector(`.${dock}`) || document.querySelector(\".footer\");\r\n  if (target) target.appendChild(panel);\r\n  panel.dataset.dock = dock;\r\n  setPanelState(panel, PANEL_STATES.open);\r\n  setPanelVisibility(panel, true);\r\n  savePanelLayout();\r\n  syncLayoutState();\r\n}\r\n\r\nfunction minimizePanel(panel) {\r\n  if (panel.dataset.state === PANEL_STATES.open) return;\r\n  restorePanel(panel);\r\n  const idx = expandedPanels.indexOf(panel);\r\n  if (idx >= 0) expandedPanels.splice(idx, 1);\r\n  syncFocusCount();\r\n}\r\n\r\nfunction collapsePanel(panel) {\r\n  if (panel.classList.contains(\"panel-fixed\")) return;\r\n  if (panel.dataset.state === PANEL_STATES.collapsed) return;\r\n  const dock = panel.dataset.origDock || \"footer\";\r\n  const target = document.querySelector(`.${dock}`) || document.querySelector(\".footer\");\r\n  if (target) target.appendChild(panel);\r\n  panel.dataset.dock = dock;\r\n  setPanelState(panel, PANEL_STATES.collapsed);\r\n  setPanelVisibility(panel, false);\r\n  resetPanelSizing(panel);\r\n  const idx = expandedPanels.indexOf(panel);\r\n  if (idx >= 0) expandedPanels.splice(idx, 1);\r\n  syncFocusCount();\r\n  savePanelLayout();\r\n  syncLayoutState();\r\n}\r\n\r\nfunction setupPanelLayout() {\r\n  removeLegacyHiddenShelves();\r\n  document.querySelectorAll(\".top-bar .panel.card\").forEach((panel) => {\r\n    panel.classList.add(\"panel-fixed\");\r\n  });\r\n  document.querySelectorAll(\".panel.card\").forEach((panel) => {\r\n    if (!panel.classList.contains(\"panel-fixed\")) {\r\n      const parent = panel.parentElement;\r\n      if (parent && parent.classList.contains(\"left\")) panel.dataset.origDock = \"left\";\r\n      if (parent && parent.classList.contains(\"right\")) panel.dataset.origDock = \"right\";\r\n      if (parent && parent.classList.contains(\"footer\")) panel.dataset.origDock = \"footer\";\r\n      if (parent && parent.classList.contains(\"center\")) panel.dataset.origDock = \"center\";\r\n      panel.dataset.dock = panel.dataset.origDock || \"footer\";\r\n      setPanelState(panel, PANEL_STATES.open);\r\n    }\r\n    addPanelActions(panel);\r\n  });\r\n\r\n  // Move non-core center panels to footer dock by default.\r\n  const footer = document.querySelector(\".footer\");\r\n  if (footer) {\r\n    document.querySelectorAll(\".center .panel.card\").forEach((panel) => {\r\n      if (!panel.classList.contains(\"panel-fixed\")) {\r\n        const title = panelTitle(panel);\r\n        if (!isCorePanel(panel)) {\r\n          panel.dataset.dock = \"footer\";\r\n          footer.appendChild(panel);\r\n        }\r\n      }\r\n    });\r\n  }\r\n  syncFocusCount();\r\n  setupFocusDismissal();\r\n  syncLayoutState();\r\n}\r\n\r\nfunction setPanelVisibility(panel, visible) {\r\n  panel.classList.toggle(\"panel-hidden\", !visible);\r\n  panel.hidden = !visible;\r\n}\r\n\r\nfunction panelTitle(panel) {\r\n  const heading = panel.querySelector(\"h2\");\r\n  return heading ? heading.textContent?.trim() : \"\";\r\n}\r\n\r\nfunction isCorePanel(panel) {\r\n  const title = panelTitle(panel);\r\n  return title === \"Gameplay Screen: Charts\"\r\n    || title === \"Create Track\"\r\n    || title === \"Release Desk\"\r\n    || title === \"Release\"\r\n    || title === \"Calendar\";\r\n}\r\n\r\nfunction applyDefaultLayout() {\r\n  resetViewLayout();\r\n}\r\n\r\nfunction resetViewLayout() {\r\n  localStorage.removeItem(VIEW_PANEL_STATE_KEY);\r\n  localStorage.removeItem(PANEL_LAYOUT_KEY);\r\n  localStorage.removeItem(SIDE_LAYOUT_KEY);\r\n  sideLayout.leftCollapsed = false;\r\n  sideLayout.rightCollapsed = false;\r\n  hasMountedRoute = false;\r\n  updateRoute(DEFAULT_ROUTE);\r\n  renderPanelMenu();\r\n}\r\n\r\nconst PROMO_BUDGET_MIN = 100;\r\nconst AUTO_PROMO_SLOT_LIMIT = 4;\r\n\r\nfunction getPromoInflationMultiplier() {\r\n  const currentYear = new Date(state.time?.epochMs || Date.now()).getUTCFullYear();\r\n  const baseYear = state.meta?.startYear || new Date(state.time?.startEpochMs || state.time?.epochMs || Date.now()).getUTCFullYear();\r\n  const yearsElapsed = Math.max(0, currentYear - baseYear);\r\n  const annualInflation = 0.02;\r\n  return Math.pow(1 + annualInflation, yearsElapsed);\r\n}\r\n\r\nfunction isPromoPrimeTimeEnabled() {\r\n  return Boolean(state.ui?.promoPrimeTime);\r\n}\r\n\r\nfunction resolvePromoTypeVariant(typeId) {\r\n  if (typeId === \"livePerformance\" && isPromoPrimeTimeEnabled()) return \"primeShowcase\";\r\n  return typeId;\r\n}\r\n\r\nfunction resolvePromoTypeCardDetails(typeId) {\r\n  return getPromoTypeDetails(resolvePromoTypeVariant(typeId));\r\n}\r\n\r\nfunction derivePromoTypesForRun(typeIds) {\r\n  const list = Array.isArray(typeIds) ? typeIds : [typeIds];\r\n  return list.map((typeId) => resolvePromoTypeVariant(typeId)).filter(Boolean);\r\n}\r\n\r\nfunction promoBudgetBaseCost(typeId) {\r\n  const details = getPromoTypeDetails(typeId);\r\n  return Math.max(PROMO_BUDGET_MIN, details.cost);\r\n}\r\n\r\nfunction promoWeeksFromBudget(budget) {\r\n  return clamp(Math.floor(budget / 1200) + 1, 1, 4);\r\n}\r\n\r\nfunction listPromoTimeframesSafe() {\r\n  return Array.isArray(PROMO_TIMEFRAMES) ? PROMO_TIMEFRAMES : [];\r\n}\r\n\r\nfunction resolvePromoScheduleEpochMs(week, dayIndex, timeframeId) {\r\n  if (!Number.isFinite(week) || !Number.isFinite(dayIndex) || !timeframeId) return null;\r\n  const frames = listPromoTimeframesSafe();\r\n  const frame = frames.find((entry) => entry.id === timeframeId);\r\n  if (!frame) return null;\r\n  const safeWeek = Math.max(1, Math.round(week));\r\n  const safeDay = clamp(Math.round(dayIndex), 0, 6);\r\n  const hourMs = 60 * 60 * 1000;\r\n  return weekStartEpochMs(safeWeek) + safeDay * 24 * hourMs + frame.startHour * hourMs;\r\n}\r\n\r\nfunction getPromoScheduleState() {\r\n  const rawWeek = state.ui?.promoScheduleWeek;\r\n  const rawDay = state.ui?.promoScheduleDay;\r\n  const weekValue = rawWeek === null || rawWeek === undefined || rawWeek === \"\"\r\n    ? null\r\n    : Number(rawWeek);\r\n  const dayValue = rawDay === null || rawDay === undefined || rawDay === \"\"\r\n    ? null\r\n    : Number(rawDay);\r\n  const timeframeId = state.ui?.promoScheduleTimeframe || \"\";\r\n  const hasWeek = Number.isFinite(weekValue);\r\n  const hasDay = Number.isFinite(dayValue);\r\n  const hasFrame = Boolean(timeframeId);\r\n  const wantsSchedule = hasWeek || hasDay || hasFrame;\r\n  const complete = hasWeek && hasDay && hasFrame;\r\n  const epochMs = complete ? resolvePromoScheduleEpochMs(weekValue, dayValue, timeframeId) : null;\r\n  return {\r\n    wantsSchedule,\r\n    complete,\r\n    epochMs,\r\n    week: weekValue,\r\n    day: dayValue,\r\n    timeframeId\r\n  };\r\n}\r\n\r\nfunction normalizePromoBudgetValue(raw, typeId, inflationMultiplier) {\r\n  const baseCost = getPromoTypeCosts(typeId, inflationMultiplier).adjustedCost;\r\n  const parsed = Number(raw);\r\n  if (!Number.isFinite(parsed)) return baseCost;\r\n  return Math.max(PROMO_BUDGET_MIN, Math.round(parsed));\r\n}\r\n\r\nfunction ensurePromoBudgets(inflationMultiplier) {\r\n  if (!state.ui) state.ui = {};\r\n  if (!state.ui.promoBudgets || typeof state.ui.promoBudgets !== \"object\") {\r\n    state.ui.promoBudgets = {};\r\n  }\r\n  Object.keys(PROMO_TYPE_DETAILS).forEach((typeId) => {\r\n    const current = state.ui.promoBudgets[typeId];\r\n    const normalized = normalizePromoBudgetValue(current, typeId, inflationMultiplier);\r\n    state.ui.promoBudgets[typeId] = normalized;\r\n  });\r\n  return state.ui.promoBudgets;\r\n}\r\n\r\nfunction getPromoBudgetForType(typeId, inflationMultiplier) {\r\n  const budgets = ensurePromoBudgets(inflationMultiplier);\r\n  return normalizePromoBudgetValue(budgets[typeId], typeId, inflationMultiplier);\r\n}\r\n\r\nfunction setPromoBudgetForType(typeId, value, inflationMultiplier) {\r\n  const budgets = ensurePromoBudgets(inflationMultiplier);\r\n  const normalized = normalizePromoBudgetValue(value, typeId, inflationMultiplier);\r\n  budgets[typeId] = normalized;\r\n  return normalized;\r\n}\r\n\r\nfunction getPromoBudgetsForTypes(typeIds, inflationMultiplier, options = {}) {\n  const list = Array.isArray(typeIds) ? typeIds : [typeIds];\n  const budgets = {};\n  const adjusted = {};\n  const multipliers = {};\n  let baseTotal = 0;\n  let total = 0;\n  const epochMs = Number.isFinite(options.epochMs) ? options.epochMs : state.time?.epochMs;\n  list.filter(Boolean).forEach((typeId) => {\n    const budget = getPromoBudgetForType(typeId, inflationMultiplier);\n    const facilityId = getPromoFacilityForType(typeId);\n    const rawMultiplier = facilityId ? getPromoFacilityPriceMultiplier(facilityId, epochMs).multiplier : 1;\n    const multiplier = Number.isFinite(rawMultiplier) ? rawMultiplier : 1;\n    const adjustedCost = Math.round(budget * multiplier);\n    budgets[typeId] = budget;\n    adjusted[typeId] = adjustedCost;\n    multipliers[typeId] = multiplier;\n    baseTotal += budget;\n    total += adjustedCost;\n  });\n  return { budgets, baseTotal, total, adjusted, multipliers };\n}\n\r\nfunction resolvePromoProjectFromTrack(track) {\r\n  if (!track) return null;\r\n  const projectName = track.projectName || `${track.title} - Single`;\r\n  const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n  return {\r\n    projectName,\r\n    projectType,\r\n    actId: track.actId || null,\r\n    eraId: track.eraId || null\r\n  };\r\n}\r\n\r\nfunction listPromoProjectTracks(project) {\r\n  if (!project?.projectName) return [];\r\n  const targetName = normalizeProjectName(project.projectName);\r\n  const targetType = normalizeProjectType(project.projectType || \"Single\");\r\n  return state.tracks.filter((track) => {\r\n    if (project.eraId && track.eraId !== project.eraId) return false;\r\n    if (project.actId && track.actId !== project.actId) return false;\r\n    const trackProject = track.projectName || `${track.title} - Single`;\r\n    if (normalizeProjectName(trackProject) !== targetName) return false;\r\n    if (normalizeProjectType(track.projectType || \"Single\") !== targetType) return false;\r\n    return true;\r\n  });\r\n}\r\n\r\nfunction listPromoEligibleTracks(projectTracks) {\r\n  if (!Array.isArray(projectTracks) || !projectTracks.length) return [];\r\n  const scheduledIds = new Set(state.releaseQueue.map((entry) => entry.trackId).filter(Boolean));\r\n  return projectTracks.filter((track) => {\r\n    if (!track) return false;\r\n    if (isTrackReleaseReleased(track)) return true;\r\n    if (isTrackReleaseScheduled(track)) return true;\r\n    return scheduledIds.has(track.id);\r\n  });\r\n}\r\n\r\nfunction getPromoTargetContext(trackId, projectId, actId) {\r\n  const track = trackId ? getTrack(trackId) : null;\r\n  const parsedProject = projectId ? parsePromoProjectKey(projectId) : null;\r\n  let act = actId ? getAct(actId) : null;\r\n  let era = null;\r\n  let project = null;\r\n  if (track) {\r\n    if (!act && track.actId) act = getAct(track.actId);\r\n    era = track.eraId ? getEraById(track.eraId) : null;\r\n    project = resolvePromoProjectFromTrack(track);\r\n  } else if (parsedProject) {\r\n    era = parsedProject.eraId ? getEraById(parsedProject.eraId) : null;\r\n    if (!act) {\r\n      const resolvedActId = parsedProject.actId || era?.actId || null;\r\n      act = resolvedActId ? getAct(resolvedActId) : null;\r\n    }\r\n    project = {\r\n      projectName: parsedProject.projectName,\r\n      projectType: normalizeProjectType(parsedProject.projectType || \"Single\"),\r\n      actId: parsedProject.actId || act?.id || null,\r\n      eraId: parsedProject.eraId || null\r\n    };\r\n  }\r\n  if (!era && act) era = getLatestActiveEraForAct(act.id);\r\n  const projectTracks = project ? listPromoProjectTracks(project) : [];\r\n  const scheduled = track ? state.releaseQueue.find((entry) => entry.trackId === track.id) : null;\r\n  const isReleased = Boolean(track && isTrackReleaseReleased(track));\r\n  const isScheduled = Boolean(track && (isTrackReleaseScheduled(track) || (scheduled && !isReleased)));\r\n  return { track, act, era, project, projectTracks, scheduled, isReleased, isScheduled };\r\n}\r\n\r\nfunction getPromoTypeLockouts(context) {\r\n  const lockouts = {};\r\n  const track = context?.track || null;\r\n  Object.keys(PROMO_TYPE_DETAILS).forEach((typeId) => {\r\n    const details = PROMO_TYPE_DETAILS[typeId];\r\n    if (details?.requiresTrack && !track) {\r\n      lockouts[typeId] = \"Track required\";\r\n    }\r\n  });\r\n  if (!track) return lockouts;\r\n  if (context.isScheduled) lockouts.musicVideo = \"After release\";\r\n  if (track.promo?.musicVideoUsed) lockouts.musicVideo = \"Used\";\r\n  return lockouts;\r\n}\r\n\r\nfunction getPromoAudienceTier(track, act) {\r\n  if (!track && !act) return { label: \"Audience variance\", offset: 0, score: 0 };\r\n  const country = state.label?.country;\r\n  const profile = country && typeof NATION_PROFILES !== \"undefined\" ? NATION_PROFILES[country] : null;\r\n  const alignment = track?.alignment || act?.alignment || null;\r\n  const theme = track?.theme || null;\r\n  const mood = track?.mood || null;\r\n  const genre = track?.genre || null;\r\n  const hasSignals = Boolean(alignment || theme || mood || genre);\r\n  if (!profile || !hasSignals) return { label: \"Audience variance\", offset: 0, score: 0 };\r\n  let score = 0;\r\n  if (alignment && alignment === profile.alignment) score += 1;\r\n  if (theme && theme === profile.theme) score += 1;\r\n  if (mood && Array.isArray(profile.moods) && profile.moods.includes(mood)) score += 1;\r\n  if (genre && Array.isArray(state.trends) && state.trends.includes(genre)) score += 1;\r\n  if (score >= 3) return { label: \"Tailwind audience\", offset: 3, score };\r\n  if (score === 2) return { label: \"Aligned audience\", offset: 1, score };\r\n  if (score === 1) return { label: \"Mixed audience\", offset: 0, score };\r\n  return { label: \"Headwind audience\", offset: -2, score };\r\n}\r\n\r\nfunction buildPromoEfficiencyText(typeId, budget, inflationMultiplier) {\r\n  const baseCost = getPromoTypeCosts(typeId, inflationMultiplier).adjustedCost;\r\n  const ratio = baseCost > 0 ? budget / baseCost : 1;\r\n  const deltaPct = Math.round((ratio - 1) * 100);\r\n  let label = \"Standard\";\r\n  if (deltaPct >= 20) label = \"Boosted\";\r\n  if (deltaPct <= -20) label = \"Lean\";\r\n  const deltaText = deltaPct === 0 ? \"0%\" : `${deltaPct > 0 ? \"+\" : \"\"}${deltaPct}%`;\r\n  return `Efficiency: ${label} (${deltaText} vs typical)`;\r\n}\r\n\r\nfunction buildPromoExpectationText(budget, track, act) {\r\n  const weeks = promoWeeksFromBudget(budget);\r\n  const audience = getPromoAudienceTier(track, act);\r\n  const baseLift = 10;\r\n  const minLift = Math.max(0, baseLift + audience.offset - 4);\r\n  const maxLift = Math.max(minLift, baseLift + audience.offset + 4);\r\n  return `Expected lift: +${minLift}-${maxLift} chart pts/wk | Window: ${weeks}w (${audience.label})`;\r\n}\r\n\r\nfunction getPromoTypeFallback(root, lockouts, fallbackTypeId) {\r\n  const scope = root || document;\r\n  const ordered = Array.from(scope.querySelectorAll(\"[data-promo-type]\"))\r\n    .map((card) => card.dataset.promoType)\r\n    .filter(Boolean);\r\n  const fallbackOrder = ordered.length ? ordered : [fallbackTypeId || DEFAULT_PROMO_TYPE];\r\n  return fallbackOrder.find((typeId) => !lockouts?.[typeId]) || null;\r\n}\r\n\r\nfunction getSelectedPromoTypes(root) {\r\n  const scope = root || document;\r\n  return Array.from(scope.querySelectorAll(\"[data-promo-type].is-active\"))\r\n    .map((card) => card.dataset.promoType)\r\n    .filter(Boolean);\r\n}\r\n\r\nfunction ensurePromoTypeSelection(root, fallbackTypeId, lockouts = {}) {\r\n  const scope = root || document;\r\n  let selected = getSelectedPromoTypes(scope);\r\n  if (!selected.length) {\r\n    const fallback = fallbackTypeId || DEFAULT_PROMO_TYPE;\r\n    selected = [fallback];\r\n  }\r\n  if (lockouts && Object.keys(lockouts).length) {\r\n    selected = selected.filter((typeId) => !lockouts[typeId]);\r\n    if (!selected.length) {\r\n      const fallback = getPromoTypeFallback(scope, lockouts, fallbackTypeId) || fallbackTypeId || DEFAULT_PROMO_TYPE;\r\n      selected = fallback ? [fallback] : [];\r\n    }\r\n  }\r\n  syncPromoTypeCards(scope, selected, lockouts);\r\n  return selected;\r\n}\r\n\r\nfunction hydratePromoTypeCards(root) {\r\n  const scope = root || document;\r\n  const cards = scope.querySelectorAll(\"[data-promo-type]\");\r\n  if (!cards.length) return;\r\n  cards.forEach((card) => {\r\n    const typeId = card.dataset.promoType;\r\n    if (!typeId) return;\r\n    const details = resolvePromoTypeCardDetails(typeId);\r\n    const label = card.querySelector(\"[data-promo-label]\");\r\n    if (label) label.textContent = details.label;\r\n    const requirement = card.querySelector(\"[data-promo-requirement]\");\r\n    if (requirement) requirement.textContent = `Requirement: ${details.requirement}`;\r\n    const cost = card.querySelector(\"[data-promo-cost]\");\r\n    if (cost) cost.textContent = `Typical cost: ${formatMoney(details.cost)}`;\r\n  });\r\n}\r\n\r\nfunction syncPromoTypeCards(root, typeIds, lockouts = {}) {\r\n  const scope = root || document;\r\n  const cards = scope.querySelectorAll(\"[data-promo-type]\");\r\n  if (!cards.length) return;\r\n  const selected = new Set((Array.isArray(typeIds) ? typeIds : [typeIds]).filter(Boolean));\r\n  cards.forEach((card) => {\r\n    const typeId = card.dataset.promoType;\r\n    const lockout = typeId ? lockouts?.[typeId] : null;\r\n    const isLocked = Boolean(lockout);\r\n    const isActive = Boolean(typeId && selected.has(typeId) && !isLocked);\r\n    card.classList.toggle(\"is-active\", isActive);\r\n    card.classList.toggle(\"is-disabled\", isLocked);\r\n    if (isLocked) {\r\n      card.setAttribute(\"aria-disabled\", \"true\");\r\n      card.setAttribute(\"disabled\", \"\");\r\n    } else {\r\n      card.removeAttribute(\"aria-disabled\");\r\n      card.removeAttribute(\"disabled\");\r\n    }\r\n    card.setAttribute(\"aria-checked\", isActive ? \"true\" : \"false\");\r\n    const status = card.querySelector(\"[data-promo-status]\");\r\n    if (status) {\r\n      status.textContent = isLocked\r\n        ? (typeof lockout === \"string\" ? lockout : \"Unavailable\")\r\n        : (isActive ? \"Selected\" : \"Select\");\r\n    }\r\n  });\r\n}\r\n\r\nfunction syncPromoBudgetCards(root, { trackContext, lockouts = {}, inflationMultiplier }) {\r\n  const scope = root || document;\r\n  const cards = scope.querySelectorAll(\"[data-promo-type]\");\r\n  if (!cards.length) return;\r\n  const track = trackContext?.track || null;\r\n  const act = trackContext?.act || null;\r\n  cards.forEach((card) => {\r\n    const typeId = card.dataset.promoType;\r\n    if (!typeId) return;\r\n    const effectiveType = resolvePromoTypeVariant(typeId);\r\n    const isLocked = Boolean(lockouts?.[typeId]);\r\n    const budgetKey = effectiveType;\r\n    const budget = setPromoBudgetForType(budgetKey, state.ui?.promoBudgets?.[budgetKey], inflationMultiplier);\r\n    const input = card.querySelector(\"[data-promo-budget]\");\r\n    if (input) {\r\n      input.min = String(PROMO_BUDGET_MIN);\r\n      input.step = \"100\";\r\n      input.value = String(budget);\r\n      input.disabled = isLocked;\r\n      input.dataset.promoType = budgetKey;\r\n    }\r\n    const efficiency = card.querySelector(\"[data-promo-efficiency]\");\r\n    if (efficiency) efficiency.textContent = buildPromoEfficiencyText(effectiveType, budget, inflationMultiplier);\r\n    const expectation = card.querySelector(\"[data-promo-expectation]\");\r\n    if (expectation) expectation.textContent = buildPromoExpectationText(budget, track, act);\r\n  });\r\n}\r\n\r\nfunction syncPrimeTimeToggle(root, trackContext) {\r\n  const scope = root || document;\r\n  const toggle = scope.querySelector(\"#promoPrimeTimeToggle\");\r\n  if (!toggle) return;\r\n  const enabled = isPromoPrimeTimeEnabled();\r\n  if (toggle.checked !== enabled) toggle.checked = enabled;\r\n  const note = scope.querySelector(\"[data-promo-primetime-note]\");\r\n  if (!note) return;\r\n  if (!enabled) {\r\n    note.textContent = \"Upgrade to Prime Time for higher cost + prestige gates.\";\r\n    return;\r\n  }\r\n  const actId = trackContext?.act?.id || state.ui?.promoSlots?.actId || null;\r\n  const trackId = trackContext?.track?.id || null;\r\n  const eligibility = typeof game.checkPrimeShowcaseEligibility === \"function\"\r\n    ? game.checkPrimeShowcaseEligibility(actId, trackId)\r\n    : { ok: true, reason: \"\" };\r\n  note.textContent = eligibility.ok\r\n    ? \"Prime Time eligible.\"\r\n    : `Prime Time locked: ${eligibility.reason || \"Requirements not met.\"}`;\r\n}\r\n\r\nfunction formatPromoFacilityWindowLabel(availability) {\n  if (!availability?.timeframeLabel) return \"today\";\n  const prefix = availability.isUpcoming ? \"Next \" : \"\";\n  return `${prefix}${availability.timeframeLabel}`;\n}\n\nfunction formatPromoFacilityPricing(multiplier) {\n  if (!Number.isFinite(multiplier) || multiplier === 1) return \"\";\n  if (multiplier <= 0) return \"pricing free\";\n  return `pricing x${multiplier.toFixed(2)}`;\n}\n\nfunction buildPromoPricingNote(typeIds, multipliers = {}) {\n  const list = Array.isArray(typeIds) ? typeIds : [typeIds];\n  const byFacility = new Map();\n  list.filter(Boolean).forEach((typeId) => {\n    const facilityId = getPromoFacilityForType(typeId);\n    if (!facilityId) return;\n    const multiplier = Number.isFinite(multipliers?.[typeId]) ? multipliers[typeId] : 1;\n    if (multiplier === 1) return;\n    if (!byFacility.has(facilityId)) byFacility.set(facilityId, multiplier);\n  });\n  if (!byFacility.size) return \"\";\n  return Array.from(byFacility.entries())\n    .map(([facilityId, multiplier]) => {\n      const label = facilityId === \"broadcast\" ? \"Broadcast pricing\" : \"Filming pricing\";\n      if (multiplier <= 0) return `${label} free`;\n      return `${label} x${multiplier.toFixed(2)}`;\n    })\n    .join(\" | \");\n}\n\nfunction buildPromoFacilityHint(typeId) {\n  const facility = getPromoFacilityForType(typeId);\n  if (!facility) return \"\";\n  const scheduleState = getPromoScheduleState();\n  const availability = getPromoFacilityAvailability(facility, scheduleState.complete ? scheduleState.epochMs : undefined);\n  const pricing = getPromoFacilityPriceMultiplier(facility, scheduleState.complete ? scheduleState.epochMs : undefined);\n  const priceLabel = formatPromoFacilityPricing(pricing?.multiplier);\n  const label = facility === \"broadcast\" ? \"Broadcast slots\" : \"Filming slots\";\n  const windowLabel = formatPromoFacilityWindowLabel(availability);\n  const priceSuffix = priceLabel ? ` | ${priceLabel}` : \"\";\n  return ` | ${label} (${windowLabel}): ${availability.available}/${availability.capacity}${priceSuffix}`;\n}\n\r\nfunction getPromoFacilityNeeds(typeIds) {\r\n  const list = Array.isArray(typeIds) ? typeIds : [typeIds];\r\n  return list.reduce((acc, typeId) => {\r\n    if (!typeId) return acc;\r\n    const facility = getPromoFacilityForType(typeId);\r\n    if (!facility) return acc;\r\n    acc[facility] = (acc[facility] || 0) + 1;\r\n    return acc;\r\n  }, {});\r\n}\r\n\r\nfunction buildPromoFacilityHints(typeIds) {\n  const needs = getPromoFacilityNeeds(typeIds);\n  const entries = Object.entries(needs);\n  if (!entries.length) return \"\";\n  const scheduleState = getPromoScheduleState();\n  const availabilityEpoch = scheduleState.complete ? scheduleState.epochMs : undefined;\n  return entries.map(([facilityId, count]) => {\n    const availability = getPromoFacilityAvailability(facilityId, availabilityEpoch);\n    const pricing = getPromoFacilityPriceMultiplier(facilityId, availabilityEpoch);\n    const priceLabel = formatPromoFacilityPricing(pricing?.multiplier);\n    const label = facilityId === \"broadcast\" ? \"Broadcast slots\" : \"Filming slots\";\n    const neededLabel = count > 1 ? ` (need ${count})` : \"\";\n    const windowLabel = formatPromoFacilityWindowLabel(availability);\n    const priceSuffix = priceLabel ? ` | ${priceLabel}` : \"\";\n    return `${label} (${windowLabel}): ${availability.available}/${availability.capacity}${neededLabel}${priceSuffix}`;\n  }).join(\" | \");\n}\n\r\nfunction updateAutoPromoSummary(scope) {\r\n  const root = scope || document;\r\n  const summary = root.querySelector(\"#autoPromoSummary\");\r\n  if (!summary) return;\r\n  syncAutoPromoVisibility(root);\r\n  const enabled = Boolean(state.meta?.autoRollout?.enabled);\r\n  const slots = ensureAutoPromoSlots();\r\n  const budgetSlots = ensureAutoPromoBudgetSlots() || [];\r\n  const walletCash = state.label.wallet?.cash ?? state.label.cash ?? 0;\r\n  const selectedTypes = Array.isArray(state.ui?.promoTypes) && state.ui.promoTypes.length\r\n    ? state.ui.promoTypes\r\n    : [state.ui?.promoType || DEFAULT_PROMO_TYPE];\r\n  const effectiveTypes = derivePromoTypesForRun(selectedTypes);\r\n  const typeLabels = selectedTypes.map((typeId) => resolvePromoTypeCardDetails(typeId).label).join(\", \");\r\n  const scheduleHours = hoursUntilNextScheduledTime(WEEKLY_SCHEDULE.chartUpdate);\r\n  const scheduleText = formatHourCountdown(scheduleHours);\r\n  const scheduleLabel = scheduleText === \"-\" ? \"-\" : `${scheduleText}h`;\r\n  const totalPct = budgetSlots.reduce((sum, value) => sum + (Number.isFinite(value) ? value : 0), 0);\r\n  const pctLabel = `${Math.round(totalPct * 100)}%`;\r\n  const rows = [];\r\n  let totalBudgetPerType = 0;\r\n  for (let index = 0; index < AUTO_PROMO_SLOT_LIMIT; index += 1) {\r\n    const actId = slots.actIds[index] || null;\r\n    const projectId = slots.projectIds[index] || null;\r\n    const trackId = slots.trackIds[index] || null;\r\n    const hasTarget = Boolean(actId || projectId || trackId);\r\n    const pct = Number.isFinite(budgetSlots[index]) ? budgetSlots[index] : 0;\r\n    if (!hasTarget && pct <= 0) continue;\r\n    const context = getPromoTargetContext(trackId, projectId, actId);\r\n    const market = context.track?.marketId\r\n      ? getMarketTrackById(context.track.marketId)\r\n      : context.track\r\n        ? getMarketTrackByTrackId(context.track.id)\r\n        : null;\r\n    const projectTargets = context.project ? listPromoEligibleTracks(context.projectTracks) : [];\r\n    const projectBoostable = projectTargets.some((entry) => {\r\n      if (entry.status === \"Released\") {\r\n        const entryMarket = entry.marketId\r\n          ? getMarketTrackById(entry.marketId)\r\n          : getMarketTrackByTrackId(entry.id);\r\n        return entryMarket && (entryMarket.promoWeeks || 0) <= 0;\r\n      }\r\n      return Math.max(0, entry.promo?.preReleaseWeeks || 0) <= 0;\r\n    });\r\n    let targetLabel = \"No target\";\r\n    if (context.track) {\r\n      targetLabel = `Track \"${context.track.title}\"`;\r\n    } else if (context.project) {\r\n      targetLabel = `Project \"${context.project.projectName}\"`;\r\n    } else if (context.act) {\r\n      targetLabel = `Act \"${context.act.name}\"`;\r\n    }\r\n    let readiness = \"Ready\";\r\n    if (!hasTarget) readiness = \"Assign Act/Project/Track\";\r\n    if (hasTarget && !context.act) readiness = \"Select an Act\";\r\n    if (context.era && context.era.status !== \"Active\") readiness = \"No active era\";\r\n    if (context.track && !context.isReleased) readiness = \"Track must be released\";\r\n    if (context.track && market && (market.promoWeeks || 0) > 0) readiness = \"Track already in promo weeks\";\r\n    if (!context.track && context.project && !projectTargets.length) {\r\n      readiness = \"Project needs scheduled or released tracks\";\r\n    }\r\n    if (!context.track && context.project && projectTargets.length && !projectBoostable) {\r\n      readiness = \"Project already in promo weeks\";\r\n    }\r\n    if (!context.track && !context.project && context.act && (context.act.promoWeeks || 0) > 0) {\r\n      readiness = \"Act already in promo weeks\";\r\n    }\r\n    if (pct <= 0) readiness = \"Budget 0%\";\r\n    if (!enabled) readiness = \"Disabled\";\r\n    const budget = pct > 0 ? computeAutoPromoBudget(walletCash, pct) : 0;\r\n    if (hasTarget && pct > 0) totalBudgetPerType += budget;\r\n    rows.push({\r\n      label: `Slot ${index + 1}: ${targetLabel}`,\r\n      pctLabel: `${Math.round(pct * 100)}%`,\r\n      readiness,\r\n      budget\r\n    });\r\n  }\r\n  const totalSpend = totalBudgetPerType * selectedTypes.length;\r\n  const facilityHint = buildPromoFacilityHints(effectiveTypes);\r\n  const facilityLine = facilityHint ? `<div class=\"muted\">${facilityHint}</div>` : \"\";\r\n  const budgetLine = totalBudgetPerType\r\n    ? `${formatMoney(totalBudgetPerType)} each (${formatMoney(totalSpend)} total)`\r\n    : `${formatMoney(0)} (auto promo will skip)`;\r\n  const rowsLine = rows.length\r\n    ? rows.map((row) => `<div class=\"muted\">${row.label} | ${row.pctLabel} | ${row.readiness}</div>`).join(\"\")\r\n    : `<div class=\"muted\">No auto promo slots set.</div>`;\r\n  summary.innerHTML = `\r\n    <div class=\"list-item\">\r\n      <div class=\"item-title\">Auto Promo Plan</div>\r\n      <div class=\"muted\">${enabled ? \"Enabled\" : \"Disabled\"} | Next check ${scheduleLabel} (chart update)</div>\r\n      <div class=\"muted\">Allocation total: ${pctLabel} | Budget ${budgetLine}</div>\r\n      <div class=\"muted\">Types: ${typeLabels || \"None\"}</div>\r\n      ${rowsLine}\r\n      ${facilityLine}\r\n      <div class=\"muted\">Steps: validate target, reserve facilities, apply promo weeks.</div>\r\n    </div>\r\n  `;\r\n}\r\n\r\nfunction updateAutoPromoBudgetTotal(scope, budgetSlots) {\r\n  const root = scope || document;\r\n  const totalEl = root.querySelector(\"#autoPromoBudgetTotal\");\r\n  if (!totalEl) return;\r\n  const slots = Array.isArray(budgetSlots) ? budgetSlots : ensureAutoPromoBudgetSlots() || [];\r\n  const totalPct = slots.reduce((sum, value) => sum + (Number.isFinite(value) ? value : 0), 0);\r\n  totalEl.textContent = `Total allocation: ${Math.round(totalPct * 100)}% (max 100%)`;\r\n}\r\n\r\nfunction syncAutoPromoVisibility(scope) {\r\n  const root = scope || document;\r\n  const section = root.querySelector(\"#autoPromoTargetsSection\");\r\n  if (!section) return;\r\n  const enabled = Boolean(state.meta?.autoRollout?.enabled);\r\n  section.classList.toggle(\"hidden\", !enabled);\r\n}\r\n\r\nfunction syncAutoPromoBudgetControls(scope) {\r\n  const root = scope || document;\r\n  const slots = ensureAutoPromoBudgetSlots() || [];\r\n  root.querySelectorAll(\"[data-auto-promo-pct]\").forEach((input) => {\r\n    const index = Number(input.dataset.autoPromoIndex || 0);\r\n    if (!Number.isFinite(index) || index < 0) return;\r\n    const pct = Number.isFinite(slots[index]) ? slots[index] : 0;\r\n    input.value = String(Math.round(pct * 100));\r\n  });\r\n  updateAutoPromoBudgetTotal(root, slots);\r\n}\r\n\r\nfunction updatePromoTypeHint(root) {\r\n  const scope = root || document;\r\n  const select = scope.querySelector(\"#promoTypeSelect\");\r\n  const hint = scope.querySelector(\"#promoTypeHint\");\r\n  const trackContext = getPromoTargetContext(\r\n    state.ui?.promoSlots?.trackId,\r\n    state.ui?.promoSlots?.projectId,\r\n    state.ui?.promoSlots?.actId\r\n  );\r\n  const lockouts = getPromoTypeLockouts(trackContext);\r\n  const selectedTypes = ensurePromoTypeSelection(scope, select ? select.value : DEFAULT_PROMO_TYPE, lockouts);\r\n  const primaryType = select && selectedTypes.includes(select.value) ? select.value : selectedTypes[0];\r\n  if (select && primaryType) select.value = primaryType;\r\n  state.ui.promoTypes = selectedTypes.slice();\r\n  state.ui.promoType = primaryType || DEFAULT_PROMO_TYPE;\r\n  syncPrimeTimeToggle(scope, trackContext);\n  const inflationMultiplier = getPromoInflationMultiplier();\n  hydratePromoTypeCards(scope);\n  syncPromoTypeCards(scope, selectedTypes, lockouts);\n  syncPromoBudgetCards(scope, { trackContext, lockouts, inflationMultiplier });\n  const effectiveTypes = derivePromoTypesForRun(selectedTypes);\n  const scheduleState = getPromoScheduleState();\n  const pricingEpoch = scheduleState.complete ? scheduleState.epochMs : undefined;\n  const { budgets, total } = getPromoBudgetsForTypes(effectiveTypes, inflationMultiplier, { epochMs: pricingEpoch });\n  const totalSpend = formatMoney(total);\n  const perTypeSpend = selectedTypes.length === 1 ? formatMoney(budgets[effectiveTypes[0]]) : null;\r\n  if (hint) {\r\n    if (selectedTypes.length === 1) {\r\n      const typeId = selectedTypes[0];\r\n      const effectiveType = resolvePromoTypeVariant(typeId);\r\n      hint.textContent = `Selected: ${buildPromoHint(effectiveType, inflationMultiplier)} | Budget: ${perTypeSpend || totalSpend} | Total: ${totalSpend}${buildPromoFacilityHint(effectiveType)}`;\r\n    } else {\r\n      const labels = selectedTypes.map((typeId) => resolvePromoTypeCardDetails(typeId).label).join(\", \");\r\n      const facilityHint = buildPromoFacilityHints(effectiveTypes);\r\n      const facilitySuffix = facilityHint ? ` | ${facilityHint}` : \"\";\r\n      hint.textContent = `Selected (${selectedTypes.length}): ${labels}. Budgets are per type; total spend: ${totalSpend}${facilitySuffix}`;\r\n    }\r\n  }\r\n  const budgetTotal = scope.querySelector(\"#promoBudgetTotal\");\r\n  if (budgetTotal) {\r\n    const typeCount = selectedTypes.length;\r\n    const perTypeLabel = typeCount > 1 ? ` (${typeCount} types)` : \"\";\r\n    budgetTotal.textContent = `Total spend: ${totalSpend}${perTypeLabel}`;\r\n  }\r\n  const promoBtn = scope.querySelector(\"#promoBtn\");\r\n  if (promoBtn) {\r\n    const label = selectedTypes.length > 1 ? \"Fund Promo Pushes\" : \"Fund Promo Push\";\r\n    promoBtn.textContent = `${label} (${totalSpend})`;\r\n  }\r\n  updateAutoPromoSummary(scope);\r\n}\r\n\r\nfunction updateAutoCreateSummary(scope) {\r\n  const root = scope || document;\r\n  const summary = root.querySelector(\"#autoCreateSummary\");\r\n  if (!summary) return;\r\n  const statusEl = root.querySelector(\"#autoCreateStatus\");\r\n  const reasonsEl = root.querySelector(\"#autoCreateReasons\");\r\n  const modeEl = root.querySelector(\"#autoCreateModeLabel\");\r\n  const enabledEl = root.querySelector(\"#autoCreateEnabledLabel\");\r\n  const rolesEl = root.querySelector(\"#autoCreateRolesLabel\");\r\n  const actsEl = root.querySelector(\"#autoCreateActsLabel\");\r\n  const cashEl = root.querySelector(\"#autoCreateCashLabel\");\r\n  const nextRunEl = root.querySelector(\"#autoCreateNextRunLabel\");\r\n  const eraEl = root.querySelector(\"#autoCreateEraLabel\");\r\n  const focusActionsEl = root.querySelector(\"#autoCreateFocusActions\");\r\n\r\n  const settings = state.meta?.autoCreate;\r\n  const walletCash = state.label.wallet?.cash ?? state.label.cash ?? 0;\r\n  const reserve = Number.isFinite(settings?.minCash) ? settings.minCash : 0;\r\n  const budgetPct = Number.isFinite(settings?.budgetPct) ? clamp(settings.budgetPct, 0, 1) : 0;\r\n  const budgetCap = computeAutoCreateBudget(walletCash, budgetPct, reserve);\r\n  const modeLabel = settings?.mode === \"collab\" ? \"Collab\" : \"Solo\";\r\n  const enabled = Boolean(settings?.enabled);\r\n  const scheduleHours = hoursUntilNextScheduledTime(WEEKLY_SCHEDULE.chartUpdate);\r\n  const scheduleText = formatHourCountdown(scheduleHours);\r\n  const nextRunText = scheduleText === \"-\" ? \"Pending\" : `${scheduleText}h`;\r\n  const activeEras = getActiveEras().filter((era) => era.status === \"Active\");\r\n  const focusEra = getFocusedEra();\r\n  const focusLabel = focusEra ? focusEra.name : \"Not set\";\r\n  const actsReady = Array.isArray(state.acts) ? state.acts.length : 0;\r\n  const roleCounts = [\"Songwriter\", \"Performer\", \"Producer\"].map((role) => {\r\n    const ready = rankCandidates(role)\r\n      .filter((creator) => creator.ready && !creator.busy)\r\n      .length;\r\n    return `${role}s ${ready}`;\r\n  });\r\n  const reasons = [];\r\n  if (!settings) {\r\n    reasons.push(\"Auto create plan is unavailable.\");\r\n  } else {\r\n    if (!enabled) {\r\n      reasons.push(\"Auto create content is disabled.\");\r\n    } else {\r\n      if (roleCounts[0].endsWith(\"0\")) {\r\n        reasons.push(\"No ready Songwriter available.\");\r\n      }\r\n      if (modeLabel === \"Collab\") {\r\n        if (roleCounts[1].endsWith(\"0\")) {\r\n          reasons.push(\"No ready Vocalist available.\");\n        }\r\n        if (roleCounts[2].endsWith(\"0\")) {\r\n          reasons.push(\"No ready Producer available.\");\r\n        }\r\n      }\r\n      if (!actsReady) {\r\n        reasons.push(\"Assign at least one Act before auto-create.\");\r\n      }\r\n      if (walletCash <= reserve) {\r\n        reasons.push(`Cash reserve ${formatMoney(reserve)} must remain untouched.`);\r\n      }\r\n      if (budgetCap <= 0) {\r\n        reasons.push(\"Budget cap is zero; adjust the budget percentages or cash.\");\r\n      }\r\n      if (!focusEra) {\r\n        if (!activeEras.length) {\r\n          reasons.push(\"No active eras. Start an Era for an Act first.\");\r\n        }\r\n        reasons.push(\"Start an Era in Eras tab, then focus it (or keep only one active Era to auto-focus).\");\r\n      }\r\n    }\r\n  }\r\n  const ready = enabled && reasons.length === 0;\r\n  if (statusEl) {\r\n    statusEl.textContent = ready ? \"Ready\" : \"Blocked\";\r\n    statusEl.classList.toggle(\"ready\", ready);\r\n    statusEl.classList.toggle(\"blocked\", !ready);\r\n  }\r\n  if (reasonsEl) {\r\n    if (reasons.length) {\r\n      reasonsEl.innerHTML = `<div class=\"auto-create-blocked-heading\">Blocked because</div>` +\r\n        reasons.map((reason) => `<div class=\"blocked-item\">${reason}</div>`).join(\"\");\r\n      reasonsEl.classList.remove(\"hidden\");\r\n    } else {\r\n      reasonsEl.classList.add(\"hidden\");\r\n      reasonsEl.innerHTML = \"\";\r\n    }\r\n  }\r\n  if (focusActionsEl) {\r\n    const showFocusActions = enabled && !focusEra;\r\n    focusActionsEl.classList.toggle(\"hidden\", !showFocusActions);\r\n  }\r\n  if (modeEl) modeEl.textContent = modeLabel;\r\n  if (enabledEl) enabledEl.textContent = enabled ? \"Yes\" : \"No\";\r\n  if (rolesEl) rolesEl.textContent = roleCounts.join(\" | \");\r\n  if (actsEl) actsEl.textContent = actsReady ? formatCount(actsReady) : \"0\";\r\n  if (cashEl) cashEl.textContent = `Cap ${formatMoney(budgetCap)} | Reserve ${formatMoney(reserve)} | Cash ${formatMoney(walletCash)}`;\r\n  if (nextRunEl) nextRunEl.textContent = `Next run in ${nextRunText}`;\r\n  if (eraEl) eraEl.textContent = focusLabel;\r\n}\r\n\r\nfunction updateCreateModePanels(scope) {\r\n  const root = scope || document;\r\n  const mode = state.ui?.createMode === \"auto\" ? \"auto\" : \"manual\";\r\n  const manualPanel = root.querySelector(\"#createManualPanel\");\r\n  const autoPanel = root.querySelector(\"#createAutoPanel\");\r\n  if (manualPanel) manualPanel.classList.toggle(\"hidden\", mode !== \"manual\");\r\n  if (autoPanel) autoPanel.classList.toggle(\"hidden\", mode !== \"auto\");\r\n  root.querySelectorAll(\"[data-create-mode]\").forEach((btn) => {\r\n    const isActive = btn.dataset.createMode === mode;\r\n    btn.classList.toggle(\"active\", isActive);\r\n    btn.setAttribute(\"aria-pressed\", String(isActive));\r\n  });\r\n  if (mode === \"auto\") updateAutoCreateSummary(root);\r\n}\r\n\r\nfunction closeCreatorActsPopovers(exceptId = null) {\r\n  document.querySelectorAll(\"[data-creator-acts-popover]\").forEach((popover) => {\r\n    const popoverId = popover.dataset.creatorActsPopover;\r\n    if (exceptId && popoverId === exceptId) return;\r\n    popover.classList.remove(\"is-open\");\r\n    popover.setAttribute(\"aria-hidden\", \"true\");\r\n  });\r\n  document.querySelectorAll(\"[data-creator-acts-more]\").forEach((button) => {\r\n    const buttonId = button.dataset.creatorActsMore;\r\n    if (exceptId && buttonId === exceptId) return;\r\n    button.setAttribute(\"aria-expanded\", \"false\");\r\n  });\r\n}\r\n\r\nfunction toggleCreatorActsPopover(trigger) {\r\n  if (!trigger) return;\r\n  const creatorId = trigger.dataset.creatorActsMore;\r\n  if (!creatorId) return;\r\n  const popover = document.querySelector(`[data-creator-acts-popover=\"${creatorId}\"]`);\r\n  if (!popover) return;\r\n  const isOpen = popover.classList.contains(\"is-open\");\r\n  closeCreatorActsPopovers(creatorId);\r\n  if (isOpen) {\r\n    popover.classList.remove(\"is-open\");\r\n    popover.setAttribute(\"aria-hidden\", \"true\");\r\n    trigger.setAttribute(\"aria-expanded\", \"false\");\r\n  } else {\r\n    popover.classList.add(\"is-open\");\r\n    popover.setAttribute(\"aria-hidden\", \"false\");\r\n    trigger.setAttribute(\"aria-expanded\", \"true\");\r\n  }\r\n}\r\n\r\nfunction setLabelAlignmentStatus(message) {\r\n  const status = $(\"labelAlignmentStatus\");\r\n  if (status) status.textContent = message || \"\";\r\n}\r\n\r\nfunction bindGlobalHandlers() {\r\n  const on = (id, event, handler) => {\r\n    const el = $(id);\r\n    if (el) el.addEventListener(event, handler);\r\n  };\r\n  lastLoggedLabelAlignment = state.label?.alignment || null;\r\n  setLabelAlignmentStatus(state.label?.alignment ? `Current alignment: ${state.label.alignment}.` : \"\");\r\n  const syncLabelAlignmentSelections = (alignment) => {\r\n    if ($(\"labelAlignment\")) $(\"labelAlignment\").value = alignment;\r\n    if ($(\"trackAlignment\")) $(\"trackAlignment\").value = alignment;\r\n    if ($(\"actAlignmentSelect\")) $(\"actAlignmentSelect\").value = alignment;\r\n  };\r\n  const applyLabelAlignment = (alignment) => {\r\n    if (!state.label) {\r\n      logEvent(\"Label alignment unavailable; reload the UI and try again.\", \"warn\");\r\n      setLabelAlignmentStatus(\"Label alignment unavailable. Reload to recover.\");\r\n      return false;\r\n    }\r\n    state.label.alignment = alignment;\r\n    syncLabelAlignmentSelections(alignment);\r\n    renderStats();\r\n    saveToActiveSlot();\r\n    return true;\r\n  };\r\n  const getLabelAlignmentSelection = () => {\r\n    const select = $(\"labelAlignment\");\r\n    return select ? select.value : \"\";\r\n  };\r\n  const validateLabelAlignmentSelection = (alignment, logContext) => {\r\n    const cleaned = String(alignment || \"\").trim();\r\n    if (!cleaned) {\r\n      if (logContext) logEvent(\"Select a Label Alignment first.\", \"warn\");\r\n      setLabelAlignmentStatus(\"Select a label alignment to continue.\");\r\n      return \"\";\r\n    }\r\n    if (Array.isArray(ALIGNMENTS) && !ALIGNMENTS.includes(cleaned)) {\r\n      if (logContext) logEvent(\"Select a valid Label Alignment.\", \"warn\");\r\n      setLabelAlignmentStatus(\"Select a valid label alignment.\");\r\n      return \"\";\r\n    }\r\n    return cleaned;\r\n  };\r\n  const handleManualSave = async (refreshMenu) => {\n    if (!session.activeSlot) {\n      logEvent(\"Select a game slot before saving.\", \"warn\");\n      showToast(\"Save blocked\", \"Pick a game slot before saving.\", { tone: \"warn\" });\n      return;\n    }\n    try {\n      const result = saveToActiveSlot({ immediate: true, notify: false });\n      let externalReady = false;\n      try {\n        const status = await getExternalStorageStatus();\n        externalReady = status?.status === \"ready\";\n      } catch {\n        externalReady = false;\n      }\n      if (refreshMenu) renderMainMenu();\n      await updateSaveStatusPanel(document);\n      if (!result?.ok) {\n        if (externalReady) {\n          logEvent(\"Local save failed; external save queued.\", \"warn\");\n          showToast(\n            \"Save queued\",\n            \"Local storage is unavailable. External storage will sync this slot when ready.\",\n            { tone: \"warn\" }\n          );\n          return;\n        }\n        const detail = describeSaveFailure(result?.reason);\n        logEvent(\"Manual save failed.\", \"warn\");\n        showToast(\"Save failed\", detail, { tone: \"warn\" });\n        return;\n      }\n      const timestamp = formatTimestampShort(Date.now());\n      let locationLabel = \"\";\n      try {\n        locationLabel = await describeSaveLocation();\n      } catch {\n        locationLabel = \"Unknown location\";\r\n      }\r\n      const toastDetail = locationLabel ? `Saved at ${timestamp} (${locationLabel}).` : `Saved at ${timestamp}.`;\r\n      showToast(\"Save complete\", toastDetail, { tone: \"success\" });\r\n      logEvent(\"Saved Game Slot.\");\r\n    } catch (error) {\r\n      const detail = error?.message || \"Check storage permissions or retry.\";\n      logEvent(\"Manual save failed.\", \"warn\");\n      showToast(\"Save failed\", `Slot could not be saved: ${detail}`, { tone: \"warn\" });\n    }\n  };\n  const handleExportSave = async () => {\n    if (!session.activeSlot) {\n      logEvent(\"Select a game slot before exporting.\", \"warn\");\n      showToast(\"Export blocked\", \"Pick a game slot before exporting.\", { tone: \"warn\" });\n      return;\n    }\n    saveToActiveSlot({ immediate: true, notify: false });\n    const slot = session.activeSlot;\n    const data = getSlotData(slot) || state;\n    if (!data) {\n      logEvent(\"Save data unavailable for export.\", \"warn\");\n      showToast(\"Export failed\", \"Save data unavailable. Try again after loading a slot.\", { tone: \"warn\" });\n      return;\n    }\n    try {\n      const payload = JSON.stringify(data, null, 2);\n      const filename = buildSaveExportFilename(slot);\n      downloadFile(filename, payload, \"application/json\");\n      logEvent(`Exported save slot ${slot}.`);\n      showToast(\"Export ready\", `Saved ${filename}.`, { tone: \"success\" });\n    } catch (error) {\n      const detail = error?.message || \"Save data could not be serialized.\";\n      logEvent(\"Save export failed.\", \"warn\");\n      showToast(\"Export failed\", detail, { tone: \"warn\" });\n    }\n  };\n  const handleImportSaveFile = async (file) => {\n    if (!session.activeSlot) {\n      logEvent(\"Select a game slot before importing.\", \"warn\");\n      showToast(\"Import blocked\", \"Pick a game slot before importing.\", { tone: \"warn\" });\n      return;\n    }\n    if (!file) return;\n    let text = \"\";\n    try {\n      text = await file.text();\n    } catch (error) {\n      const detail = error?.message || \"Save file could not be read.\";\n      logEvent(\"Save import failed.\", \"warn\");\n      showToast(\"Import failed\", detail, { tone: \"warn\" });\n      return;\n    }\n    const decoded = decodeSavePayload(text);\n    if (!decoded.ok || !decoded.payload) {\n      logEvent(\"Save import failed (decode error).\", \"warn\");\n      showToast(\"Import failed\", \"Save file could not be decoded.\", { tone: \"warn\" });\n      return;\n    }\n    let data = null;\n    try {\n      data = JSON.parse(decoded.payload);\n    } catch (error) {\n      const detail = error?.message || \"Save file could not be parsed.\";\n      logEvent(\"Save import failed.\", \"warn\");\n      showToast(\"Import failed\", detail, { tone: \"warn\" });\n      return;\n    }\n    const slot = session.activeSlot;\n    const result = importSlotData(slot, data, { notify: false });\n    if (!result?.ok) {\n      const detail = describeSaveFailure(result?.reason);\n      logEvent(\"Save import failed.\", \"warn\");\n      showToast(\"Import failed\", detail, { tone: \"warn\" });\n      return;\n    }\n    renderMainMenu();\n    await updateSaveStatusPanel(document);\n    logEvent(`Imported save to slot ${slot}.`);\n    showToast(\"Import complete\", `Slot ${slot} updated.`, {\n      tone: \"success\",\n      actions: [\n        { label: \"Load\", handler: () => loadSlot(slot, false) },\n        { label: \"Dismiss\", handler: (toast) => toast?.remove() }\n      ]\n    });\n  };\n  const setTutorialTab = (tabId) => {\r\n    if (!tabId) return;\r\n    state.ui.tutorialTab = tabId;\r\n    document.querySelectorAll(\"#tutorialTabs .tab\").forEach((btn) => {\r\n      btn.classList.toggle(\"active\", btn.dataset.tutorialTab === tabId);\r\n    });\r\n    document.querySelectorAll(\"[data-tutorial-section]\").forEach((section) => {\r\n      section.classList.toggle(\"hidden\", section.dataset.tutorialSection !== tabId);\r\n    });\r\n  };\r\n  const focusRivalRoster = (labelName) => {\r\n    const label = String(labelName || \"\").trim();\r\n    if (!label) return;\r\n    const rival = getRivalByName(label);\r\n    if (!rival) return;\r\n    if (!state.ui) state.ui = {};\r\n    state.ui.rivalRosterId = rival.id;\r\n    renderRivalRosterPanel();\r\n    saveToActiveSlot();\r\n    window.location.hash = \"#/rival-rosters\";\r\n  };\r\n  const toggleHudStatsExpanded = (forceState = null) => {\r\n    if (!state.ui) state.ui = {};\r\n    const next = typeof forceState === \"boolean\" ? forceState : !state.ui.hudStatsExpanded;\r\n    state.ui.hudStatsExpanded = next;\r\n    renderStats();\r\n    saveToActiveSlot();\r\n  };\r\n\r\n  document.addEventListener(\"pointerdown\", (event) => {\r\n    if (event.pointerType === \"mouse\" && event.button !== 0) return;\r\n    if (!isUiRenderHoldTarget(event.target)) return;\r\n    startUiRenderHold();\r\n  }, { capture: true });\r\n  document.addEventListener(\"pointermove\", () => {\r\n    extendUiRenderHold();\r\n  }, { passive: true });\r\n  document.addEventListener(\"pointerup\", () => {\r\n    endUiRenderHold();\r\n  }, { capture: true });\r\n  document.addEventListener(\"pointercancel\", () => {\r\n    endUiRenderHold();\r\n  }, { capture: true });\r\n  window.addEventListener(\"blur\", () => {\r\n    endUiRenderHold();\r\n  });\r\n  document.addEventListener(\"click\", (event) => {\r\n    const target = event.target;\r\n    if (target.closest(\"[data-creator-acts-popover]\")) return;\r\n    if (target.closest(\"[data-creator-acts-more]\")) return;\r\n    closeCreatorActsPopovers();\r\n  });\r\n  document.addEventListener(\"click\", (event) => {\r\n    const trigger = event.target.closest(\"[data-ranking-more]\");\r\n    if (!trigger) return;\r\n    const category = trigger.dataset.rankingMore;\r\n    if (!category) return;\r\n    openRankingWindow(category, { anchor: trigger });\r\n  });\r\n  document.addEventListener(\"click\", (event) => {\r\n    const label = event.target.closest(\"[data-rival-label]\");\r\n    if (!label) return;\r\n    focusRivalRoster(label.dataset.rivalLabel);\r\n  });\r\n\r\n  on(\"pauseBtn\", \"click\", () => { setTimeSpeed(\"pause\"); });\r\n  on(\"playBtn\", \"click\", () => { setTimeSpeed(\"play\"); });\r\n  on(\"fastBtn\", \"click\", () => { setTimeSpeed(\"fast\"); });\r\n  on(\"skipTimeBtn\", \"click\", () => {\r\n    const now = new Date(state.time.epochMs);\r\n    if ($(\"skipDateInput\")) $(\"skipDateInput\").value = now.toISOString().slice(0, 10);\r\n    if ($(\"skipTimeInput\")) $(\"skipTimeInput\").value = `${String(now.getUTCHours()).padStart(2, \"0\")}:${String(now.getUTCMinutes()).padStart(2, \"0\")}`;\r\n    openOverlay(\"skipTimeModal\");\r\n  });\r\n  bindQuickSkipButtons();\r\n\r\n  on(\"menuBtn\", \"click\", () => {\r\n    openMainMenu();\r\n    syncGameModeSelect();\r\n    syncDifficultySelect();\r\n    syncUiThemeSelect();\r\n    updateTimeControlButtons();\r\n    syncTimeControlAria();\r\n  });\r\n  on(\"topLabelsMoreBtn\", \"click\", (event) => openRankingWindow(\"labels\", { anchor: event.currentTarget }));\r\n  on(\"topTrendsMoreBtn\", \"click\", (event) => openRankingWindow(\"trends\", { anchor: event.currentTarget }));\r\n  on(\"rankingWindowClose\", \"click\", () => closeRankingWindow());\r\n  on(\"tutorialBtn\", \"click\", () => {\r\n    renderRoleActions();\r\n    renderTutorialEconomy();\r\n    setTutorialTab(state.ui.tutorialTab || \"loops\");\r\n    openOverlay(\"tutorialModal\");\r\n  });\r\n  on(\"labelSettingsBtn\", \"click\", () => {\r\n    void refreshSaveLocationStatus();\r\n    refreshSelectOptions();\r\n    openOverlay(\"labelSettingsModal\");\r\n  });\r\n  on(\"dashboardAchievementViewBtn\", \"click\", () => {\r\n    window.location.hash = \"#/achievements\";\r\n  });\r\n  on(\"saveLocationChangeBtn\", \"click\", () => {\r\n    void (async () => {\r\n      await handleExternalStoragePick();\r\n      await refreshSaveLocationStatus();\r\n    })();\r\n  });\r\n  on(\"hudStatsMoreBtn\", \"click\", () => toggleHudStatsExpanded());\r\n  on(\"panelMenuBtn\", \"click\", () => {\r\n    renderPanelMenu();\r\n    openOverlay(\"panelMenu\");\r\n  });\r\n  on(\"navMenuBtn\", \"click\", () => {\r\n    openOverlay(\"navMenu\");\r\n    const btn = $(\"navMenuBtn\");\r\n    if (btn) btn.setAttribute(\"aria-expanded\", \"true\");\r\n  });\r\n  on(\"sidePanelsBtn\", \"click\", () => toggleSidePanels());\r\n  on(\"notificationsBtn\", \"click\", () => {\r\n    const target = $(\"notificationsBtn\")?.dataset.notificationTarget;\r\n    if (!target) {\r\n      logEvent(\"No alerts to review right now.\", \"info\");\r\n      return;\r\n    }\r\n    if (target !== \"create\" && target !== \"release\") {\r\n      logEvent(\"Unknown alert target; refresh the UI and try again.\", \"warn\");\r\n      return;\r\n    }\r\n    window.location.hash = `#/${target}`;\r\n  });\r\n  on(\"panelMenuClose\", \"click\", () => closeOverlay(\"panelMenu\"));\r\n  on(\"navMenuClose\", \"click\", () => {\r\n    closeOverlay(\"navMenu\");\r\n    const btn = $(\"navMenuBtn\");\r\n    if (btn) btn.setAttribute(\"aria-expanded\", \"false\");\r\n  });\r\n  on(\"resetLayoutBtn\", \"click\", () => {\r\n    resetViewLayout();\r\n    logEvent(\"Layout reset to default.\");\r\n  });\r\n  on(\"resetLayoutSettingsBtn\", \"click\", () => {\r\n    resetViewLayout();\r\n    logEvent(\"Layout reset to default.\");\r\n  });\r\n\r\n  on(\"menuCloseBtn\", \"click\", () => {\n    if (!session.activeSlot) return;\n    closeMainMenu();\n    updateTimeControlButtons();\n    syncTimeControlAria();\n  });\n  on(\"menuSaveBtn\", \"click\", () => handleManualSave(true));\n  on(\"menuExportBtn\", \"click\", () => handleExportSave());\n  on(\"menuImportBtn\", \"click\", () => {\n    const input = $(\"menuImportInput\");\n    if (input) {\n      input.value = \"\";\n      input.click();\n    }\n  });\n  on(\"menuImportInput\", \"change\", (event) => {\n    const input = event.currentTarget;\n    const file = input?.files ? input.files[0] : null;\n    if (input) input.value = \"\";\n    if (file) void handleImportSaveFile(file);\n  });\n  on(\"externalStoragePromptPickBtn\", \"click\", async () => {\n    await handleExternalStoragePick(document, { fromPrompt: true });\n    const status = await refreshExternalStoragePromptStatus();\r\n    if (status?.status === \"ready\") {\r\n      closeOverlay(\"externalStoragePrompt\");\r\n      resolveExternalStoragePrompt();\r\n    }\r\n  });\r\n  on(\"externalStoragePromptSkipBtn\", \"click\", () => {\r\n    closeOverlay(\"externalStoragePrompt\");\r\n    setExternalStoragePromptDismissed(\"skipped\");\r\n    logEvent(\"External storage setup skipped. Saves will remain local.\", \"warn\");\r\n    resolveExternalStoragePrompt();\r\n  });\r\n  on(\"uiThemeSelect\", \"change\", (e) => {\r\n    applyUiTheme(e.target.value, { persist: true });\r\n  });\r\n  on(\"saveNowBtn\", \"click\", () => {\r\n    void handleManualSave(false);\r\n  });\r\n  const lossList = $(\"usageLedgerList\");\r\n  if (lossList) {\r\n    lossList.addEventListener(\"click\", (e) => {\r\n      const btn = e.target.closest(\"[data-loss-action]\");\r\n      if (!btn) return;\r\n      const action = btn.dataset.lossAction;\r\n      const lossId = btn.dataset.lossId;\r\n      if (!lossId) return;\r\n      const entry = getLossArchives().find((item) => String(item.id) === String(lossId));\r\n      if (!entry) {\r\n        logEvent(\"Loss archive not found.\", \"warn\");\r\n        return;\r\n      }\r\n      if (action === \"download\") {\r\n        exportLossArchive(entry);\r\n        logUiEvent(\"loss_archive_export\", { loss_id: entry.id, label: entry.label });\r\n      }\r\n    });\r\n  }\r\n  const navMenu = $(\"navMenu\");\r\n  if (navMenu) {\r\n    navMenu.addEventListener(\"click\", (event) => {\r\n      const link = event.target.closest(\".nav-menu a[data-route]\");\r\n      if (!link) return;\r\n      closeOverlay(\"navMenu\");\r\n      const btn = $(\"navMenuBtn\");\r\n      if (btn) btn.setAttribute(\"aria-expanded\", \"false\");\r\n    });\r\n  }\r\n\r\n  on(\"skipTimeClose\", \"click\", () => closeOverlay(\"skipTimeModal\"));\r\n  on(\"skipCustomBtn\", \"click\", () => {\r\n    const days = Number($(\"skipDaysInput\").value || 0);\r\n    const hours = Number($(\"skipHoursInput\").value || 0);\r\n    const total = Math.max(0, days * 24 + hours);\r\n    if (total > 0) runTimeJump(total, `Skipping ${formatCount(total)} hours`);\r\n    closeOverlay(\"skipTimeModal\");\r\n  });\r\n  on(\"skipToDateBtn\", \"click\", () => {\r\n    const date = $(\"skipDateInput\").value;\r\n    const time = $(\"skipTimeInput\").value || \"00:00\";\r\n    if (!date) return;\r\n    const target = new Date(`${date}T${time}:00Z`).getTime();\r\n    const diffMs = target - state.time.epochMs;\r\n    if (diffMs <= 0) {\r\n      logEvent(\"Cannot skip to the past. Choose a future date.\", \"warn\");\r\n      return;\r\n    }\r\n    const hours = Math.floor(diffMs / HOUR_MS);\r\n    if (hours > 0) runTimeJump(hours, \"Skipping to target date\");\r\n    closeOverlay(\"skipTimeModal\");\r\n  });\r\n\r\n  on(\"quickRecipesBtn\", \"click\", () => {\r\n    renderQuickRecipes();\r\n    openOverlay(\"quickRecipesModal\");\r\n  });\r\n  on(\"quickRecipesClose\", \"click\", () => closeOverlay(\"quickRecipesModal\"));\r\n  on(\"tutorialClose\", \"click\", () => closeOverlay(\"tutorialModal\"));\r\n  on(\"labelSettingsClose\", \"click\", () => closeOverlay(\"labelSettingsModal\"));\r\n  const tutorialTabs = $(\"tutorialTabs\");\r\n  if (tutorialTabs) {\r\n    tutorialTabs.addEventListener(\"click\", (e) => {\r\n      const tabBtn = e.target.closest(\"[data-tutorial-tab]\");\r\n      if (!tabBtn) return;\r\n      const tabId = tabBtn.dataset.tutorialTab;\r\n      if (!tabId) return;\r\n      setTutorialTab(tabId);\r\n    });\r\n  }\r\n  const tutorialModal = $(\"tutorialModal\");\r\n  if (tutorialModal) {\r\n    tutorialModal.addEventListener(\"change\", (e) => {\r\n      const input = e.target.closest(\"[data-cheat-econ-key]\");\r\n      if (!input) return;\r\n      const target = input.dataset.cheatEconTarget;\r\n      const key = input.dataset.cheatEconKey;\r\n      if (!target || !key) return;\r\n      if (!state.meta.cheaterMode) {\r\n        logEvent(\"Enable Cheater Mode in Settings to edit economy tuning.\", \"warn\");\r\n        renderTutorialEconomy();\r\n        return;\r\n      }\r\n      let next = Number(input.value);\r\n      if (!Number.isFinite(next)) {\r\n        logEvent(\"Economy tuning values must be numeric.\", \"warn\");\r\n        renderTutorialEconomy();\r\n        return;\r\n      }\r\n      const min = input.min !== \"\" ? Number(input.min) : null;\r\n      const max = input.max !== \"\" ? Number(input.max) : null;\r\n      if (Number.isFinite(min)) next = Math.max(next, min);\r\n      if (Number.isFinite(max)) next = Math.min(next, max);\r\n      input.value = String(next);\r\n      const ok = setCheaterEconomyOverride(target, key, next);\r\n      if (!ok) {\r\n        logEvent(\"Cheater economy tuning update failed.\", \"warn\");\r\n        renderTutorialEconomy();\r\n        return;\r\n      }\r\n      renderTutorialEconomy();\r\n      renderAll({ save: false });\r\n      saveToActiveSlot();\r\n    });\r\n  }\r\n  on(\"calendarClose\", \"click\", () => closeOverlay(\"calendarModal\"));\r\n  on(\"calendarDayClose\", \"click\", () => closeOverlay(\"calendarDayModal\"));\r\n  document.addEventListener(\"click\", (e) => {\r\n    const trigger = e.target.closest(\"[data-calendar-day-more]\");\r\n    if (!trigger) return;\r\n    const dayTs = Number(trigger.dataset.dayTs || trigger.closest(\"[data-day-ts]\")?.dataset.dayTs);\r\n    if (!Number.isFinite(dayTs)) return;\r\n    if (!state.ui) state.ui = {};\r\n    state.ui.calendarDayFocus = dayTs;\r\n    renderCalendarDayDetail(dayTs);\r\n    openOverlay(\"calendarDayModal\");\r\n  });\r\n  if (!UI_REACT_ISLANDS_ENABLED) {\r\n    const calendarModal = $(\"calendarModal\");\r\n    if (calendarModal) {\r\n      calendarModal.querySelectorAll(\"[data-calendar-tab]\").forEach((btn) => {\r\n        btn.addEventListener(\"click\", () => {\r\n          const tab = btn.dataset.calendarTab;\r\n          if (!tab) return;\r\n          setCalendarTab(tab);\r\n        });\r\n      });\r\n      calendarModal.querySelectorAll(\"[data-calendar-filter]\").forEach((input) => {\r\n        input.addEventListener(\"change\", (e) => {\r\n          const key = e.target.dataset.calendarFilter;\r\n          if (!key) return;\r\n          setCalendarFilter(key, e.target.checked);\r\n        });\r\n      });\r\n    }\r\n  }\r\n  on(\"chartHistoryClose\", \"click\", () => closeOverlay(\"chartHistoryModal\"));\r\n  on(\"rankingModalClose\", \"click\", () => closeOverlay(\"rankingModal\"));\r\n  on(\"chartHistoryLatest\", \"click\", () => {\r\n    resetChartHistoryView();\r\n    closeOverlay(\"chartHistoryModal\");\r\n  });\r\n  on(\"walletClose\", \"click\", () => closeOverlay(\"walletModal\"));\r\n  on(\"endClose\", \"click\", () => {\r\n    closeOverlay(\"endModal\");\r\n    if (!session.activeSlot) {\r\n      openMainMenu();\r\n      syncGameModeSelect();\r\n      syncDifficultySelect();\r\n      syncUiThemeSelect();\r\n      updateTimeControlButtons();\r\n      syncTimeControlAria();\r\n    }\r\n  });\r\n  on(\"bailoutClose\", \"click\", () => {\r\n    if (declineBailout()) {\r\n      closeOverlay(\"bailoutModal\");\r\n      saveToActiveSlot();\r\n    }\r\n  });\r\n  on(\"bailoutAcceptBtn\", \"click\", () => {\r\n    if (acceptBailout()) {\r\n      closeOverlay(\"bailoutModal\");\r\n      renderAll();\r\n    }\r\n  });\r\n  on(\"bailoutDeclineBtn\", \"click\", () => {\r\n    if (declineBailout()) {\r\n      closeOverlay(\"bailoutModal\");\r\n      saveToActiveSlot();\r\n    }\r\n  });\r\n  on(\"communitiesClose\", \"click\", () => closeOverlay(\"communitiesModal\"));\r\n  on(\"harmonyClose\", \"click\", () => closeOverlay(\"harmonyModal\"));\r\n  on(\"autoAssignClose\", \"click\", () => closeOverlay(\"autoAssignModal\"));\r\n  on(\"autoAssignBest\", \"click\", () => {\r\n    assignBestCandidates();\r\n    closeOverlay(\"autoAssignModal\");\r\n  });\r\n  const autoAssignList = $(\"autoAssignList\");\r\n  if (autoAssignList) {\r\n    autoAssignList.addEventListener(\"click\", (e) => {\r\n      const btn = e.target.closest(\"[data-assign-role]\");\r\n      if (!btn) return;\r\n      if (btn.disabled) return;\r\n      const role = btn.dataset.assignRole;\r\n      const id = btn.dataset.assignId;\r\n      if (role === \"Songwriter\") setTrackSlotIds(\"Songwriter\", [id]);\r\n      if (role === \"Performer\") setTrackSlotIds(\"Performer\", [id]);\r\n      if (role === \"Producer\") setTrackSlotIds(\"Producer\", [id]);\r\n      renderSlots();\r\n      saveToActiveSlot();\r\n      updateTrackRecommendation();\r\n    });\r\n  }\r\n  const eraStatus = $(\"eraStatus\");\r\n  if (eraStatus) {\r\n    eraStatus.addEventListener(\"click\", (e) => {\r\n      const focusBtn = e.target.closest(\"[data-era-focus]\");\r\n      if (focusBtn) {\r\n        const eraId = focusBtn.dataset.eraFocus;\r\n        if (!eraId) return;\r\n        const nextFocus = state.ui.focusEraId === eraId ? null : eraId;\r\n        setFocusEraById(nextFocus);\r\n        logUiEvent(\"action_submit\", { action: \"focus_era\", eraId: nextFocus });\r\n        renderAll();\r\n        return;\r\n      }\r\n      const btn = e.target.closest(\"[data-era-end]\");\r\n      if (!btn) return;\r\n      const eraId = btn.dataset.eraEnd;\r\n      if (!eraId) return;\r\n      const ended = endEraById(eraId, \"manual\");\r\n      if (!ended) {\r\n        logEvent(\"Era could not be ended.\", \"warn\");\r\n        return;\r\n      }\r\n      logUiEvent(\"action_submit\", { action: \"end_era\", eraId });\r\n      renderEraStatus();\r\n      saveToActiveSlot();\r\n    });\r\n  }\r\n  on(\"eraFocusClear\", \"click\", () => {\r\n    if (!state.ui.focusEraId) return;\r\n    setFocusEraById(null);\r\n    logUiEvent(\"action_submit\", { action: \"focus_era_clear\" });\r\n    renderAll();\r\n  });\r\n\r\n  on(\"autoSaveToggle\", \"change\", (e) => {\r\n    state.meta.autoSave.enabled = e.target.checked;\r\n    state.meta.autoSave.lastSavedAt = Date.now();\r\n    saveToActiveSlot();\r\n  });\r\n  on(\"autoSaveMinutes\", \"change\", (e) => {\r\n    const minutes = Number(e.target.value);\r\n    state.meta.autoSave.minutes = clamp(minutes, 2, 10);\r\n    state.meta.autoSave.lastSavedAt = Date.now();\r\n    saveToActiveSlot();\r\n  });\r\n  on(\"cheaterModeToggle\", \"change\", (e) => {\r\n    if (!session.activeSlot) {\r\n      e.target.checked = Boolean(state.meta.cheaterMode);\r\n      logEvent(\"Select a game slot before changing cheater mode.\", \"warn\");\r\n      return;\r\n    }\r\n    setCheaterMode(e.target.checked);\r\n    renderTutorialEconomy();\r\n    renderMainMenu();\r\n    renderAll({ save: false });\r\n    saveToActiveSlot();\r\n  });\r\n\r\n  const panelMenuList = $(\"panelMenuList\");\r\n  if (panelMenuList) {\r\n    panelMenuList.addEventListener(\"click\", (e) => {\r\n      const toggleBtn = e.target.closest(\"[data-panel-toggle]\");\r\n      if (!toggleBtn) return;\r\n      const key = toggleBtn.dataset.panelToggle;\r\n      if (!key) return;\r\n      if (toggleBtn) {\r\n        const next = toggleBtn.textContent === \"Show\" ? VIEW_PANEL_STATES.open : VIEW_PANEL_STATES.hidden;\r\n        setViewPanelState(state.ui.activeView || activeRoute, key, next);\r\n      }\r\n    });\r\n  }\r\n\r\n  const exitMenuToGame = () => {\r\n    closeMainMenu();\r\n    updateTimeControlButtons();\r\n    syncTimeControlAria();\r\n  };\r\n  const slotList = $(\"slotList\");\r\n  if (slotList) {\r\n    slotList.addEventListener(\"click\", async (e) => {\r\n      const card = e.target.closest(\".slot-card\");\r\n      if (!card) return;\r\n      const slot = Number(card.dataset.slotIndex);\r\n      if (!slot) return;\r\n      const hasData = card.dataset.slotHasData === \"1\";\r\n      const actionBtn = e.target.closest(\"[data-slot-action]\");\r\n      if (actionBtn && actionBtn.disabled) return;\r\n      const action = actionBtn?.dataset.slotAction || card.dataset.slotDefault;\r\n      if (!action) return;\r\n      if (action === \"delete\") {\r\n        const ok = confirm(`Delete Game Slot ${slot}? This cannot be undone.`);\r\n        if (!ok) return;\r\n        deleteSlot(slot);\r\n        renderMainMenu();\r\n        return;\r\n      }\r\n      if (action === \"continue\") {\r\n        if (!hasData) {\r\n          logEvent(\"No saved game in this slot. Create a new label first.\", \"warn\");\r\n          return;\r\n        }\r\n        await loadSlot(slot, false);\r\n        lastLoggedLabelAlignment = state.label?.alignment || null;\r\n        setLabelAlignmentStatus(state.label?.alignment ? `Current alignment: ${state.label.alignment}.` : \"\");\r\n        exitMenuToGame();\r\n        return;\r\n      }\r\n      if (action === \"new\") {\r\n        const ok = !hasData || confirm(`Overwrite Game Slot ${slot} with a new game?`);\r\n        if (!ok) return;\r\n        const mode = getSelectedGameModeId();\r\n        const difficulty = getSelectedGameDifficultyId();\r\n        const startPreferences = getSelectedStartPreferences();\r\n        const validation = validateStartPreferences(startPreferences);\r\n        const normalizedPrefs = validation.prefs || startPreferences;\r\n        setStartPreferenceValues(normalizedPrefs);\r\n        await loadSlot(slot, true, { mode, difficulty, startPreferences: normalizedPrefs });\r\n        lastLoggedLabelAlignment = state.label?.alignment || null;\r\n        setLabelAlignmentStatus(state.label?.alignment ? `Current alignment: ${state.label.alignment}.` : \"\");\r\n        exitMenuToGame();\r\n      }\r\n    });\r\n  }\r\n\r\n  document.addEventListener(\"click\", (e) => {\r\n    const recommendBtn = e.target.closest(\"[data-slot-recommend]\");\r\n    if (recommendBtn) {\r\n      recommendCreatorForSlot(recommendBtn.dataset.slotRecommend);\r\n      return;\r\n    }\r\n    const clearBtn = e.target.closest(\"[data-slot-clear]\");\r\n    if (clearBtn) {\r\n      clearSlot(clearBtn.dataset.slotClear);\r\n      return;\r\n    }\r\n    const slot = e.target.closest(\".id-slot\");\r\n    if (slot) {\r\n      slot.focus();\r\n      setSlotTarget(slot.dataset.slotTarget);\r\n    }\r\n  });\r\n\r\n  document.addEventListener(\"dragstart\", (e) => {\r\n    const item = e.target.closest(\"[data-entity-type]\");\r\n    if (!item || !e.dataTransfer) return;\r\n    const payload = { type: item.dataset.entityType, id: item.dataset.entityId };\r\n    e.dataTransfer.setData(\"text/plain\", JSON.stringify(payload));\r\n  });\r\n\r\n  document.addEventListener(\"dragover\", (e) => {\r\n    const slot = e.target.closest(\".id-slot\");\r\n    if (!slot) return;\r\n    e.preventDefault();\r\n    document.querySelectorAll(\".id-slot.is-dragover\").forEach((target) => target.classList.remove(\"is-dragover\"));\r\n    slot.classList.add(\"is-dragover\");\r\n  });\r\n\r\n  document.addEventListener(\"drop\", (e) => {\r\n    const slot = e.target.closest(\".id-slot\");\r\n    if (!slot) return;\r\n    e.preventDefault();\r\n    slot.classList.remove(\"is-dragover\");\r\n    try {\r\n      const payload = JSON.parse(e.dataTransfer.getData(\"text/plain\"));\r\n      if (!payload) return;\r\n      assignToSlot(slot.dataset.slotTarget, payload.type, payload.id);\r\n    } catch {\r\n      logEvent(\"Drop failed: invalid ID payload.\", \"warn\");\r\n    }\r\n  });\r\n\r\n  document.addEventListener(\"dragend\", () => {\r\n    document.querySelectorAll(\".id-slot.is-dragover\").forEach((slot) => slot.classList.remove(\"is-dragover\"));\r\n  });\r\n\r\n  const mainMenu = $(\"mainMenu\");\r\n  if (mainMenu) {\r\n    mainMenu.addEventListener(\"click\", (e) => {\r\n      if (e.target !== mainMenu) return;\r\n      if (!session.activeSlot) return;\r\n      closeMainMenu();\r\n    });\r\n  }\r\n\r\n  document.addEventListener(\"keydown\", (e) => {\r\n    const active = document.activeElement;\r\n    const slotTargetEl = active?.closest ? active.closest(\".id-slot\") : null;\r\n    if (slotTargetEl && (e.code === \"Enter\" || e.code === \"Space\")) {\r\n      e.preventDefault();\r\n      slotTargetEl.focus();\r\n      setSlotTarget(slotTargetEl.dataset.slotTarget);\r\n      return;\r\n    }\r\n    const label = active?.closest ? active.closest(\"[data-rival-label]\") : null;\r\n    if (label && (e.code === \"Enter\" || e.code === \"Space\")) {\r\n      e.preventDefault();\r\n      focusRivalRoster(label.dataset.rivalLabel);\r\n      return;\r\n    }\r\n    if (active && (active.tagName === \"INPUT\" || active.isContentEditable)) return;\r\n    if (e.code === \"Space\") {\r\n      e.preventDefault();\r\n      setTimeSpeed(state.time.speed === \"pause\" ? \"play\" : \"pause\");\r\n      return;\r\n    }\r\n    if (e.key === \"f\" || e.key === \"F\") {\r\n      setTimeSpeed(\"fast\");\r\n      return;\r\n    }\r\n    if (e.key === \"p\" || e.key === \"P\") {\r\n      setTimeSpeed(\"play\");\r\n      return;\r\n    }\r\n  });\r\n\r\n  const chartHistoryList = $(\"chartHistoryList\");\r\n  if (chartHistoryList) {\r\n    chartHistoryList.addEventListener(\"click\", (e) => {\r\n      const btn = e.target.closest(\"[data-chart-week]\");\r\n      if (!btn) return;\r\n      const week = Number(btn.dataset.chartWeek || 0);\r\n      if (!week) return;\r\n      const chartKey = state.ui.activeChart || \"global\";\r\n      applyChartHistoryWeek(week, chartKey).then(() => {\r\n        closeOverlay(\"chartHistoryModal\");\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nfunction bindViewHandlers(route, root) {\r\n  if (!root) return;\r\n  const on = (id, event, handler) => {\r\n    const el = root.querySelector(`#${id}`);\r\n    if (el) el.addEventListener(event, handler);\r\n  };\r\n\r\n  root.addEventListener(\"click\", (e) => {\n    const action = e.target.closest(\"[data-panel-action]\");\n    if (!action) return;\n    const panel = action.closest(\".panel.card\");\n    if (!panel) return;\n    const key = panelKey(panel);\r\n    if (!key) return;\r\n    const current = getViewPanelState(route, key);\r\n    if (action.dataset.panelAction === \"hide\") {\r\n      const next = current === VIEW_PANEL_STATES.hidden ? VIEW_PANEL_STATES.open : VIEW_PANEL_STATES.hidden;\r\n      setViewPanelState(route, key, next);\n    }\n  });\n\n  root.addEventListener(\"click\", (e) => {\n    const btn = e.target.closest(\"[data-task-action=\\\"auto-fulfill\\\"]\");\n    if (!btn) return;\n    if (btn.disabled) return;\n    const questId = btn.dataset.taskId;\n    if (!questId) return;\n    autoFulfillQuest(questId);\n    renderAll();\n    saveToActiveSlot();\n  });\n\n  if (route === \"releases\") {\n    const footerPanel = root.querySelector(\"#calendarFooterPanel\");\r\n    const syncFooter = () => {\r\n      const collapsed = !!state.ui?.calendarFooterCollapsed;\r\n      if (footerPanel) footerPanel.classList.toggle(\"is-collapsed\", collapsed);\r\n      const toggleBtn = footerPanel?.querySelector(\"[data-calendar-footer-toggle]\");\r\n      if (toggleBtn) {\r\n        toggleBtn.textContent = collapsed ? \"Expand\" : \"Minimize\";\r\n        toggleBtn.setAttribute(\"aria-pressed\", String(collapsed));\r\n      }\r\n    };\r\n    syncFooter();\r\n    root.addEventListener(\"click\", (event) => {\r\n      const toggleBtn = event.target.closest(\"[data-calendar-footer-toggle]\");\r\n      if (!toggleBtn) return;\r\n      if (!state.ui) state.ui = {};\r\n      state.ui.calendarFooterCollapsed = !state.ui.calendarFooterCollapsed;\r\n      syncFooter();\r\n      saveToActiveSlot();\r\n    });\r\n  }\r\n\r\n  if (route === \"release\") {\r\n    refreshTrackRolloutTemplates();\r\n    ensureTrackRolloutTrackSelection();\r\n    const trackSelect = root.querySelector(\"#trackRolloutTrackSelect\");\r\n    if (trackSelect) {\r\n      trackSelect.addEventListener(\"change\", (event) => {\r\n        const value = event.target?.value || null;\r\n        setTrackRolloutTrackId(value);\r\n      });\r\n    }\r\n    root.addEventListener(\"input\", (event) => {\r\n      if (!(event.target instanceof HTMLElement)) return;\r\n      if (event.target.matches(\"[data-track-rollout-weight]\")) {\r\n        updateTrackRolloutWeightFromUI(event.target);\r\n      }\r\n    });\r\n    root.addEventListener(\"change\", (event) => {\r\n      if (!(event.target instanceof HTMLElement)) return;\r\n      if (event.target.matches(\"[data-track-rollout-toggle]\")) {\r\n        updateTrackRolloutToggleFromUI(event.target);\r\n      }\r\n    });\r\n    root.addEventListener(\"click\", (event) => {\r\n      const templateBtn = event.target.closest(\"[data-track-rollout-template]\");\r\n      if (templateBtn) {\r\n        selectTrackRolloutTemplateFromUI(templateBtn.dataset.trackRolloutTemplate);\r\n        return;\r\n      }\r\n      if (event.target.closest(\"#trackRolloutApplyBtn\")) {\r\n        applyTrackRolloutToTrackFromUI();\r\n        return;\r\n      }\r\n      if (event.target.closest(\"#trackRolloutSaveBtn\")) {\r\n        saveTrackRolloutTemplateFromUI();\r\n        return;\r\n      }\r\n      if (event.target.closest(\"#trackRolloutUseExistingBtn\")) {\r\n        useExistingTrackRolloutTemplateFromUI();\r\n      }\r\n    });\r\n  }\r\n\r\n  if (route === \"world\") {\r\n    bindRivalRosterSelect(root.querySelector(\"#rivalRosterSelect\"));\r\n  }\r\n\r\n  if (route === \"rival-rosters\") {\r\n    bindRivalRosterSelect(root.querySelector(\"#rivalRosterViewSelect\"));\r\n  }\r\n\r\n  const setActiveChart = (chartKey) => {\r\n    if (!chartKey || state.ui.activeChart === chartKey) return;\r\n    state.ui.activeChart = chartKey;\r\n    if (state.ui.chartHistoryWeek) {\r\n      applyChartHistoryWeek(state.ui.chartHistoryWeek, state.ui.activeChart);\r\n    } else {\r\n      requestChartsRender();\r\n      renderCharts();\r\n    }\r\n  };\r\n\r\n  const chartTabs = root.querySelector(\"#chartTabs\");\r\n  if (chartTabs) {\r\n    chartTabs.addEventListener(\"click\", (e) => {\r\n      const tab = e.target.closest(\".tab\");\r\n      if (!tab) return;\r\n      setActiveChart(tab.dataset.chart);\r\n    });\r\n  }\r\n\r\n  const chartRegionTabs = root.querySelector(\"#chartRegionTabs\");\r\n  if (chartRegionTabs) {\r\n    chartRegionTabs.addEventListener(\"click\", (e) => {\r\n      const tab = e.target.closest(\".tab\");\r\n      if (!tab) return;\r\n      setActiveChart(tab.dataset.chart);\r\n    });\r\n  }\r\n\r\n  const chartTypeTabs = root.querySelector(\"#chartTypeTabs\");\r\n  if (chartTypeTabs) {\r\n    chartTypeTabs.addEventListener(\"click\", (e) => {\r\n      const tab = e.target.closest(\".tab\");\r\n      if (!tab) return;\r\n      const next = tab.dataset.chartContent || \"tracks\";\r\n      if (next === state.ui.chartContentType) return;\r\n      state.ui.chartContentType = next;\r\n      requestChartsRender();\r\n      renderCharts();\r\n    });\r\n  }\r\n\r\n  const chartPulseContentTabs = root.querySelector(\"#chartPulseContentTabs\");\r\n  if (chartPulseContentTabs) {\r\n    chartPulseContentTabs.addEventListener(\"click\", (e) => {\r\n      const tab = e.target.closest(\".tab\");\r\n      if (!tab) return;\r\n      const next = tab.dataset.chartPulseContent || \"tracks\";\r\n      if (next === state.ui.chartPulseContentType) return;\r\n      state.ui.chartPulseContentType = next;\r\n      renderAll({ save: false });\r\n      saveToActiveSlot();\r\n    });\r\n  }\r\n\r\n  const chartPulseScopeTabs = root.querySelector(\"#chartPulseScopeTabs\");\r\n  if (chartPulseScopeTabs) {\r\n    chartPulseScopeTabs.addEventListener(\"click\", (e) => {\r\n      const tab = e.target.closest(\".tab\");\r\n      if (!tab) return;\r\n      const next = tab.dataset.chartPulseScope || \"global\";\r\n      if (next === state.ui.chartPulseScopeType) return;\r\n      state.ui.chartPulseScopeType = next;\r\n      if (next === \"global\") {\r\n        state.ui.chartPulseScopeTarget = \"global\";\r\n      } else if (next === \"nation\") {\r\n        const labelNation = NATIONS.includes(state.label?.country) ? state.label.country : NATIONS[0];\r\n        if (!NATIONS.includes(state.ui.chartPulseScopeTarget)) {\r\n          state.ui.chartPulseScopeTarget = labelNation || \"Annglora\";\r\n        }\r\n      } else if (next === \"region\") {\r\n        const regionIds = REGION_DEFS.map((region) => region.id);\r\n        const labelRegion = REGION_DEFS.find((region) => region.nation === state.label?.country)?.id;\r\n        if (!regionIds.includes(state.ui.chartPulseScopeTarget)) {\r\n          state.ui.chartPulseScopeTarget = labelRegion || regionIds[0] || \"\";\r\n        }\r\n      }\r\n      renderAll({ save: false });\r\n      saveToActiveSlot();\r\n    });\r\n  }\r\n\r\n  const chartPulseTarget = root.querySelector(\"#chartPulseTarget\");\r\n  if (chartPulseTarget) {\r\n    chartPulseTarget.addEventListener(\"change\", (e) => {\r\n      state.ui.chartPulseScopeTarget = e.target.value;\r\n      renderAll({ save: false });\r\n      saveToActiveSlot();\r\n    });\r\n  }\r\n\r\n  const dashboardFocusTabs = root.querySelector(\"#dashboardFocusTabs\");\r\n  if (dashboardFocusTabs) {\r\n    dashboardFocusTabs.addEventListener(\"click\", (e) => {\r\n      const tab = e.target.closest(\".tab\");\r\n      if (!tab) return;\r\n      const next = tab.dataset.dashboardFocus || \"charts\";\r\n      if (next === state.ui.dashboardFocusPanel) return;\r\n      state.ui.dashboardFocusPanel = next;\r\n      renderAll({ save: false });\r\n      saveToActiveSlot();\r\n    });\r\n  }\r\n\r\n  const syncCreatePanelToggles = () => {\r\n    const help = root.querySelector(\"#createHelp\");\r\n    const helpBtn = root.querySelector(\"#createHelpToggle\");\r\n    if (help) help.classList.toggle(\"hidden\", !state.ui.createHelpOpen);\r\n    if (helpBtn) {\r\n      helpBtn.classList.toggle(\"active\", !!state.ui.createHelpOpen);\r\n      helpBtn.setAttribute(\"aria-expanded\", String(!!state.ui.createHelpOpen));\r\n    }\r\n    const advanced = root.querySelector(\"#createAdvancedOptions\");\r\n    const advancedBtn = root.querySelector(\"#createAdvancedToggle\");\r\n    if (advanced) advanced.classList.toggle(\"hidden\", !state.ui.createAdvancedOpen);\r\n    if (advancedBtn) {\r\n      advancedBtn.classList.toggle(\"active\", !!state.ui.createAdvancedOpen);\r\n      advancedBtn.setAttribute(\"aria-expanded\", String(!!state.ui.createAdvancedOpen));\r\n    }\r\n  };\r\n  const syncCreateAdvancedSlotVisibility = (forceState = null) => {\r\n    const open = forceState === null ? !!state.ui.createAdvancedOpen : !!forceState;\r\n    if (!open && forceState === null) return false;\r\n    if (!state.ui.trackSlotVisible) state.ui.trackSlotVisible = {};\r\n    let changed = false;\r\n    [\"Songwriter\", \"Performer\", \"Producer\"].forEach((role) => {\r\n      const limit = TRACK_ROLE_LIMITS?.[role] || 1;\r\n      const fallback = Math.min(DEFAULT_TRACK_SLOT_VISIBLE, limit);\r\n      const key = TRACK_ROLE_KEYS[role];\r\n      const assigned = Array.isArray(state.ui.trackSlots?.[key])\r\n        ? state.ui.trackSlots[key].filter(Boolean).length\r\n        : 0;\r\n      const next = open ? limit : Math.min(limit, Math.max(fallback, assigned));\r\n      if (state.ui.trackSlotVisible[role] !== next) {\r\n        state.ui.trackSlotVisible[role] = next;\r\n        changed = true;\r\n      }\r\n    });\r\n    return changed;\r\n  };\r\n\r\n  if (route === \"create\") {\r\n    syncCreatePanelToggles();\r\n    if (syncCreateAdvancedSlotVisibility()) {\r\n      emitStateChanged();\r\n    }\r\n    const modeTabs = root.querySelector(\"#createModeTabs\");\r\n    if (modeTabs) {\r\n      modeTabs.addEventListener(\"click\", (e) => {\r\n        const btn = e.target.closest(\"[data-create-mode]\");\r\n        if (!btn) return;\r\n        const nextMode = btn.dataset.createMode === \"auto\" ? \"auto\" : \"manual\";\r\n        state.ui.createMode = nextMode;\r\n        updateCreateModePanels(root);\r\n        saveToActiveSlot();\r\n      });\r\n    }\r\n    updateCreateModePanels(root);\r\n    on(\"createHelpToggle\", \"click\", () => {\r\n      state.ui.createHelpOpen = !state.ui.createHelpOpen;\r\n      syncCreatePanelToggles();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"createAdvancedToggle\", \"click\", () => {\r\n      state.ui.createAdvancedOpen = !state.ui.createAdvancedOpen;\r\n      syncCreateAdvancedSlotVisibility(state.ui.createAdvancedOpen);\r\n      syncCreatePanelToggles();\r\n      renderSlots();\r\n      emitStateChanged();\r\n      saveToActiveSlot();\r\n    });\r\n    const syncAutoCreateControls = () => {\r\n      const toggle = root.querySelector(\"#autoCreateToggle\");\r\n      const minCashInput = root.querySelector(\"#autoCreateMinCash\");\r\n      const budgetInput = root.querySelector(\"#autoCreateBudgetPct\");\r\n      const maxTracksInput = root.querySelector(\"#autoCreateMaxTracks\");\r\n      const modeSelect = root.querySelector(\"#autoCreateMode\");\r\n      if (toggle) toggle.checked = Boolean(state.meta?.autoCreate?.enabled);\r\n      if (minCashInput) minCashInput.value = String(Math.max(0, Math.round(state.meta?.autoCreate?.minCash ?? 0)));\r\n      if (budgetInput) budgetInput.value = String(Math.round((state.meta?.autoCreate?.budgetPct ?? 0) * 100));\r\n      if (maxTracksInput) maxTracksInput.value = String(Math.max(1, Math.round(state.meta?.autoCreate?.maxTracks ?? 1)));\r\n      if (modeSelect) modeSelect.value = state.meta?.autoCreate?.mode === \"collab\" ? \"collab\" : \"solo\";\r\n      updateAutoCreateSummary(root);\r\n    };\r\n    on(\"autoCreateToggle\", \"change\", (e) => {\r\n      if (!state.meta.autoCreate) return;\r\n      state.meta.autoCreate.enabled = e.target.checked;\r\n      logEvent(state.meta.autoCreate.enabled ? \"Auto create enabled.\" : \"Auto create disabled.\");\r\n      syncAutoCreateControls();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"autoCreateGoToEras\", \"click\", () => {\r\n      window.location.hash = \"#/eras\";\r\n    });\r\n    on(\"autoCreateMinCash\", \"change\", (e) => {\r\n      if (!state.meta.autoCreate) return;\r\n      const next = Math.max(0, Math.round(Number(e.target.value || 0)));\r\n      state.meta.autoCreate.minCash = next;\r\n      e.target.value = String(next);\r\n      updateAutoCreateSummary(root);\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"autoCreateBudgetPct\", \"change\", (e) => {\r\n      if (!state.meta.autoCreate) return;\r\n      const raw = Number(e.target.value || 0);\r\n      const pct = clamp(raw / 100, 0, 1);\r\n      state.meta.autoCreate.budgetPct = pct;\r\n      e.target.value = String(Math.round(pct * 100));\r\n      updateAutoCreateSummary(root);\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"autoCreateMaxTracks\", \"change\", (e) => {\r\n      if (!state.meta.autoCreate) return;\r\n      const raw = Math.round(Number(e.target.value || 1));\r\n      const next = clamp(raw, 1, 5);\r\n      state.meta.autoCreate.maxTracks = next;\r\n      e.target.value = String(next);\r\n      updateAutoCreateSummary(root);\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"autoCreateMode\", \"change\", (e) => {\r\n      if (!state.meta.autoCreate) return;\r\n      state.meta.autoCreate.mode = e.target.value === \"collab\" ? \"collab\" : \"solo\";\r\n      updateAutoCreateSummary(root);\r\n      saveToActiveSlot();\r\n    });\r\n    syncAutoCreateControls();\r\n    root.addEventListener(\"click\", (e) => {\r\n      const moreBtn = e.target.closest(\"[data-slot-more]\");\r\n      const lessBtn = e.target.closest(\"[data-slot-less]\");\r\n      const role = moreBtn?.dataset.slotMore || lessBtn?.dataset.slotLess;\r\n      if (!role) return;\r\n      const limit = TRACK_ROLE_LIMITS?.[role] || 1;\r\n      const minVisible = Math.min(DEFAULT_TRACK_SLOT_VISIBLE, limit);\r\n      if (!state.ui.trackSlotVisible) state.ui.trackSlotVisible = {};\r\n      const current = Number(state.ui.trackSlotVisible[role]) || minVisible;\r\n      const key = TRACK_ROLE_KEYS[role];\r\n      const assigned = Array.isArray(state.ui.trackSlots?.[key])\r\n        ? state.ui.trackSlots[key].filter(Boolean).length\r\n        : 0;\r\n      if (moreBtn) {\r\n        state.ui.trackSlotVisible[role] = Math.min(limit, current + 1);\r\n      } else if (lessBtn) {\r\n        state.ui.trackSlotVisible[role] = Math.max(minVisible, Math.max(assigned, current - 1));\r\n      }\r\n      renderSlots();\r\n      saveToActiveSlot();\r\n      emitStateChanged();\r\n    });\r\n  }\r\n\r\n  const trackTabs = root.querySelectorAll(\"[data-track-tab]\");\r\n  if (trackTabs.length) {\r\n    trackTabs.forEach((tab) => {\r\n      tab.addEventListener(\"click\", () => {\r\n        const next = tab.dataset.trackTab;\r\n        if (!next) return;\r\n        state.ui.trackPanelTab = next;\r\n        renderTracks();\r\n        saveToActiveSlot();\r\n      });\r\n    });\r\n  }\r\n\r\n  if (route === \"releases\") {\r\n    root.querySelectorAll(\"[data-calendar-tab]\").forEach((btn) => {\r\n      btn.addEventListener(\"click\", () => {\r\n        const tab = btn.dataset.calendarTab;\r\n        if (!tab) return;\r\n        setCalendarTab(tab);\r\n      });\r\n    });\r\n    root.querySelectorAll(\"[data-calendar-filter]\").forEach((input) => {\r\n      input.addEventListener(\"change\", (e) => {\r\n        const key = e.target.dataset.calendarFilter;\r\n        if (!key) return;\r\n        setCalendarFilter(key, e.target.checked);\r\n      });\r\n    });\r\n    const calendarGrid = root.querySelector(\"#calendarGrid\");\r\n    if (calendarGrid) {\r\n      calendarGrid.addEventListener(\"wheel\", handleCalendarWheel, { passive: true });\r\n      calendarGrid.addEventListener(\"pointerdown\", handleCalendarPointerDown);\r\n      calendarGrid.addEventListener(\"pointermove\", handleCalendarPointerMove);\r\n      calendarGrid.addEventListener(\"pointerup\", handleCalendarPointerEnd);\r\n      calendarGrid.addEventListener(\"pointercancel\", handleCalendarPointerEnd);\r\n    }\r\n  }\r\n\r\n  if (route === \"charts\") {\r\n    root.addEventListener(\"click\", (e) => {\r\n      if (!state.ui.chartHistoryWeek) return;\r\n      const chartPanel = root.querySelector(\".panel.card[data-panel=\\\"charts\\\"]\");\r\n      if (!chartPanel || chartPanel.contains(e.target)) return;\r\n      resetChartHistoryView();\r\n    });\r\n  }\r\n\r\n  if (route === \"awards\") {\r\n    const yearSelect = root.querySelector(\"#awardsYearSelect\");\r\n    if (yearSelect) {\r\n      yearSelect.addEventListener(\"change\", (e) => {\r\n        const nextYear = Number(e.target.value || 0);\r\n        state.ui.awardsYear = Number.isFinite(nextYear) && nextYear > 0 ? nextYear : null;\r\n        state.ui.awardsCategoryId = null;\r\n        renderActiveView(\"awards\");\r\n        saveToActiveSlot();\r\n      });\r\n    }\r\n    const viewTabs = root.querySelector(\"#awardsViewTabs\");\r\n    if (viewTabs) {\r\n      viewTabs.addEventListener(\"click\", (e) => {\r\n        const tab = e.target.closest(\"[data-awards-view]\");\r\n        if (!tab) return;\r\n        const nextView = tab.dataset.awardsView;\r\n        if (!nextView || nextView === state.ui.awardsView) return;\r\n        state.ui.awardsView = nextView;\r\n        renderActiveView(\"awards\");\r\n        saveToActiveSlot();\r\n      });\r\n    }\r\n    const selectCategory = (categoryId) => {\r\n      if (!categoryId) return;\r\n      state.ui.awardsCategoryId = categoryId;\r\n      renderActiveView(\"awards\");\r\n      saveToActiveSlot();\r\n    };\r\n    const selectChart = (chartType) => {\r\n      if (!chartType) return;\r\n      state.ui.awardsChartType = chartType;\r\n      renderActiveView(\"awards\");\r\n      saveToActiveSlot();\r\n    };\r\n    root.addEventListener(\"click\", (e) => {\r\n      const row = e.target.closest(\"[data-award-category]\");\r\n      if (row) {\r\n        selectCategory(row.dataset.awardCategory);\r\n        return;\r\n      }\r\n      const chartRow = e.target.closest(\"[data-award-chart]\");\r\n      if (!chartRow) return;\r\n      selectChart(chartRow.dataset.awardChart);\r\n    });\r\n    root.addEventListener(\"keydown\", (e) => {\r\n      if (e.key !== \"Enter\" && e.key !== \" \") return;\r\n      const row = e.target.closest(\"[data-award-category]\");\r\n      if (row) {\r\n        e.preventDefault();\r\n        selectCategory(row.dataset.awardCategory);\r\n        return;\r\n      }\r\n      const chartRow = e.target.closest(\"[data-award-chart]\");\r\n      if (!chartRow) return;\r\n      e.preventDefault();\r\n      selectChart(chartRow.dataset.awardChart);\r\n    });\r\n  }\r\n\r\n  if (route === \"logs\") {\r\n    on(\"externalStoragePickBtn\", \"click\", () => {\r\n      void handleExternalStoragePick(root).then(() => {\r\n        refreshSaveLocationStatus();\r\n      });\r\n    });\r\n    on(\"externalStorageSyncBtn\", \"click\", () => {\r\n      void handleExternalStorageSync(root);\r\n    });\r\n    on(\"externalStorageImportBtn\", \"click\", () => {\r\n      void handleExternalStorageImport(root);\r\n    });\r\n    on(\"externalStorageClearBtn\", \"click\", () => {\r\n      void handleExternalStorageClear(root);\r\n    });\r\n    void refreshExternalStorageStatus(root);\r\n\r\n    on(\"promoTypeSelect\", \"change\", (e) => {\r\n      const typeId = e.target.value || DEFAULT_PROMO_TYPE;\r\n      const trackContext = getPromoTargetContext(\r\n        state.ui?.promoSlots?.trackId,\r\n        state.ui?.promoSlots?.projectId,\r\n        state.ui?.promoSlots?.actId\r\n      );\r\n      const lockouts = getPromoTypeLockouts(trackContext);\r\n      syncPromoTypeCards(root, [typeId], lockouts);\r\n      updatePromoTypeHint(root);\r\n    });\r\n    on(\"promoPrimeTimeToggle\", \"change\", (e) => {\r\n      if (!state.ui) state.ui = {};\r\n      state.ui.promoPrimeTime = Boolean(e.target.checked);\r\n      updatePromoTypeHint(root);\r\n      saveToActiveSlot();\r\n    });\r\n    const promoGrid = root.querySelector(\"#promoTypeGrid\");\r\n    if (promoGrid) {\r\n      promoGrid.addEventListener(\"input\", (e) => {\r\n        const input = e.target.closest(\"[data-promo-budget]\");\r\n        if (!input) return;\r\n        const typeId = input.dataset.promoType || input.closest(\"[data-promo-type]\")?.dataset.promoType;\r\n        if (!typeId) return;\r\n        const inflationMultiplier = getPromoInflationMultiplier();\r\n        const next = setPromoBudgetForType(typeId, input.value, inflationMultiplier);\r\n        input.value = String(next);\r\n        updatePromoTypeHint(root);\r\n      });\r\n      promoGrid.addEventListener(\"click\", (e) => {\r\n        if (e.target.closest(\"[data-promo-budget]\")) return;\r\n        const card = e.target.closest(\"[data-promo-type]\");\r\n        if (!card) return;\r\n        const typeId = card.dataset.promoType;\r\n        if (!typeId) return;\r\n        const select = root.querySelector(\"#promoTypeSelect\");\r\n        const trackContext = getPromoTargetContext(\r\n          state.ui?.promoSlots?.trackId,\r\n          state.ui?.promoSlots?.projectId,\r\n          state.ui?.promoSlots?.actId\r\n        );\r\n        const lockouts = getPromoTypeLockouts(trackContext);\r\n        if (lockouts[typeId]) {\r\n          const details = getPromoTypeDetails(typeId);\r\n          const reason = typeof lockouts[typeId] === \"string\" ? lockouts[typeId] : \"Unavailable\";\r\n          logEvent(`${details.label} locked: ${reason}.`, \"warn\");\r\n          return;\r\n        }\r\n        const selected = ensurePromoTypeSelection(root, select ? select.value : DEFAULT_PROMO_TYPE, lockouts);\r\n        const isActive = selected.includes(typeId);\r\n        if (isActive && selected.length === 1) return;\r\n        const nextSelected = isActive\r\n          ? selected.filter((id) => id !== typeId)\r\n          : Array.from(new Set([...selected, typeId]));\r\n        syncPromoTypeCards(root, nextSelected, lockouts);\r\n        if (select) select.value = isActive ? (nextSelected[0] || typeId) : typeId;\r\n        updatePromoTypeHint(root);\r\n      });\r\n    }\r\n    hydratePromoTypeCards(root);\r\n    const initTrackContext = getPromoTargetContext(\r\n      state.ui?.promoSlots?.trackId,\r\n      state.ui?.promoSlots?.projectId,\r\n      state.ui?.promoSlots?.actId\r\n    );\r\n    const initLockouts = getPromoTypeLockouts(initTrackContext);\r\n    if (Array.isArray(state.ui.promoTypes) && state.ui.promoTypes.length) {\r\n      syncPromoTypeCards(root, state.ui.promoTypes, initLockouts);\r\n      const select = root.querySelector(\"#promoTypeSelect\");\r\n      if (select) select.value = state.ui.promoTypes[0];\r\n    } else if (state.ui.promoType) {\r\n      syncPromoTypeCards(root, [state.ui.promoType], initLockouts);\r\n      const select = root.querySelector(\"#promoTypeSelect\");\r\n      if (select) select.value = state.ui.promoType;\r\n    }\r\n    updatePromoTypeHint(root);\r\n  }\r\n\r\n  if (route === \"tour\") {\r\n    const setTourNotice = (message, tone = \"info\") => {\r\n      if (!state.ui) state.ui = {};\r\n      state.ui.tourNotice = { message, tone };\r\n    };\r\n    const clearTourNotice = () => {\r\n      if (!state.ui) state.ui = {};\r\n      state.ui.tourNotice = null;\r\n    };\r\n    const getDraft = () => {\r\n      const draft = getSelectedTourDraft();\r\n      if (!draft) {\r\n        setTourNotice(\"Select a tour draft first.\", \"warn\");\r\n        return null;\r\n      }\r\n      return draft;\r\n    };\r\n\r\n    root.addEventListener(\"focusin\", (e) => {\r\n      if (!e.target.closest(\"[data-tour-lock]\")) return;\r\n      if (!state.ui) state.ui = {};\r\n      state.ui.tourDeskLock = true;\r\n    });\r\n    root.addEventListener(\"focusout\", (e) => {\r\n      if (!e.target.closest(\"[data-tour-lock]\")) return;\r\n      if (!state.ui) state.ui = {};\r\n      state.ui.tourDeskLock = false;\r\n    });\r\n\r\n    on(\"tourDraftSelect\", \"change\", (e) => {\r\n      const draftId = e.target.value || null;\r\n      selectTourDraft(draftId);\r\n      clearTourNotice();\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourDraftCreateBtn\", \"click\", () => {\r\n      const actId = root.querySelector(\"#tourActSelect\")?.value || null;\r\n      const era = actId ? getLatestActiveEraForAct(actId) : null;\r\n      const draft = createTourDraft({ actId, eraId: era?.id || null });\r\n      setTourNotice(`Tour draft created: ${draft.name}.`, \"info\");\r\n      logUiEvent(\"action_submit\", { action: \"tour_create\", tourId: draft.id, actId, eraId: draft.eraId });\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourDraftDeleteBtn\", \"click\", () => {\r\n      const draft = getDraft();\r\n      if (!draft) {\r\n        renderTouringDesk();\r\n        return;\r\n      }\r\n      const removed = deleteTourDraft(draft.id);\r\n      setTourNotice(removed ? `Tour draft deleted: ${draft.name}.` : \"Unable to delete tour draft.\", removed ? \"info\" : \"warn\");\r\n      logUiEvent(\"action_submit\", { action: \"tour_delete\", tourId: draft.id });\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourNameInput\", \"change\", (e) => {\r\n      const draft = getDraft();\r\n      if (!draft) return;\r\n      updateTourDraft(draft.id, { name: e.target.value });\r\n      clearTourNotice();\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourActSelect\", \"change\", (e) => {\r\n      const draft = getDraft();\r\n      if (!draft) return;\r\n      const actId = e.target.value || null;\r\n      const era = actId ? getLatestActiveEraForAct(actId) : null;\r\n      updateTourDraft(draft.id, {\r\n        actId,\r\n        eraId: era?.id || null,\r\n        anchorTrackIds: [],\r\n        anchorProjectId: null\r\n      });\r\n      clearTourNotice();\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourEraSelect\", \"change\", (e) => {\r\n      const draft = getDraft();\r\n      if (!draft) return;\r\n      const eraId = e.target.value || null;\r\n      updateTourDraft(draft.id, { eraId });\r\n      clearTourNotice();\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourAnchorSelect\", \"change\", (e) => {\r\n      const draft = getDraft();\r\n      if (!draft) return;\r\n      const value = e.target.value || \"auto\";\r\n      const updates = { anchorTrackIds: [], anchorProjectId: null };\r\n      if (value === \"auto\") {\r\n        updates.anchorTrackIds = [];\r\n        updates.anchorProjectId = null;\r\n      } else if (value.startsWith(\"track:\")) {\r\n        updates.anchorTrackIds = [value.slice(6)];\r\n      } else {\r\n        updates.anchorProjectId = value;\r\n      }\r\n      updateTourDraft(draft.id, updates);\r\n      clearTourNotice();\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourWindowStart\", \"change\", (e) => {\r\n      const draft = getDraft();\r\n      if (!draft) return;\r\n      const raw = String(e.target.value || \"\").trim();\r\n      const week = raw ? Math.max(1, Math.round(Number(raw))) : null;\r\n      updateTourDraft(draft.id, { window: { startWeek: week } });\r\n      clearTourNotice();\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourWindowEnd\", \"change\", (e) => {\r\n      const draft = getDraft();\r\n      if (!draft) return;\r\n      const raw = String(e.target.value || \"\").trim();\r\n      const week = raw ? Math.max(1, Math.round(Number(raw))) : null;\r\n      updateTourDraft(draft.id, { window: { endWeek: week } });\r\n      clearTourNotice();\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourAutoCount\", \"change\", (e) => {\r\n      if (!state.ui) state.ui = {};\r\n      const raw = Math.round(Number(e.target.value || 0));\r\n      state.ui.tourAutoCount = Math.max(1, raw || 1);\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourAutoGenerateBtn\", \"click\", () => {\r\n      const draft = getDraft();\r\n      if (!draft) {\r\n        renderTouringDesk();\r\n        return;\r\n      }\r\n      const count = Math.max(1, Math.round(Number(state.ui?.tourAutoCount || 1)));\r\n      const filters = state.ui?.tourVenueFilters || {};\r\n      const result = autoGenerateTourDates({\r\n        draftId: draft.id,\r\n        count,\r\n        startWeek: draft.window?.startWeek ?? null,\r\n        endWeek: draft.window?.endWeek ?? null,\r\n        filters\r\n      });\r\n      if (!result.ok) {\r\n        setTourNotice(result.reason || \"Auto-generate failed.\", \"warn\");\r\n        logUiEvent(\"action_submit\", { action: \"tour_auto_fail\", tourId: draft.id, code: result.code });\r\n      } else {\r\n        const revenueLabel = Number.isFinite(result.projectedRevenue)\r\n          ? ` (Projected revenue ${formatMoney(result.projectedRevenue)}).`\r\n          : \".\";\r\n        setTourNotice(`Auto-generated ${result.booked?.length || 0} tour date(s)${revenueLabel}`, \"info\");\r\n        logUiEvent(\"action_submit\", { action: \"tour_auto_generate\", tourId: draft.id, count });\r\n      }\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n      emitStateChanged();\r\n    });\r\n    on(\"tourBalanceToggle\", \"change\", (e) => {\r\n      const enabled = Boolean(e.target.checked);\r\n      setTouringBalanceEnabled(enabled);\r\n      setTourNotice(`Touring balance ${enabled ? \"enabled\" : \"disabled\"}.`, \"info\");\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourBookingWeek\", \"change\", (e) => {\r\n      if (!state.ui) state.ui = {};\r\n      const raw = Math.round(Number(e.target.value || 0));\r\n      state.ui.tourBookingWeek = Math.max(1, raw || weekIndex() + 1);\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourBookingDay\", \"change\", (e) => {\r\n      if (!state.ui) state.ui = {};\r\n      state.ui.tourBookingDay = clamp(Math.round(Number(e.target.value || 0)), 0, 6);\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourVenueNation\", \"change\", (e) => {\r\n      if (!state.ui.tourVenueFilters) state.ui.tourVenueFilters = {};\r\n      state.ui.tourVenueFilters.nation = e.target.value || \"All\";\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourVenueRegion\", \"change\", (e) => {\r\n      if (!state.ui.tourVenueFilters) state.ui.tourVenueFilters = {};\r\n      state.ui.tourVenueFilters.regionId = e.target.value || \"All\";\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n    on(\"tourVenueTier\", \"change\", (e) => {\r\n      if (!state.ui.tourVenueFilters) state.ui.tourVenueFilters = {};\r\n      state.ui.tourVenueFilters.tier = e.target.value || \"All\";\r\n      renderTouringDesk();\r\n      saveToActiveSlot();\r\n    });\r\n\r\n    root.addEventListener(\"click\", (e) => {\r\n      const bookBtn = e.target.closest(\"[data-tour-book]\");\r\n      if (bookBtn) {\r\n        const draft = getDraft();\r\n        if (!draft) {\r\n          renderTouringDesk();\r\n          return;\r\n        }\r\n        const venueId = bookBtn.dataset.tourBook;\r\n        const weekNumber = state.ui?.tourBookingWeek || weekIndex() + 1;\r\n        const dayIndex = Number.isFinite(state.ui?.tourBookingDay) ? state.ui.tourBookingDay : 5;\r\n        const result = bookTourDate({ draftId: draft.id, venueId, weekNumber, dayIndex });\r\n        if (!result.ok) {\r\n          setTourNotice(result.reason || \"Tour booking blocked.\", \"warn\");\r\n          logUiEvent(\"action_submit\", { action: \"tour_book_fail\", tourId: draft.id, venueId, code: result.code });\r\n        } else {\r\n          setTourNotice(`Tour date booked: ${result.booking.venueLabel}.`, \"info\");\r\n          logUiEvent(\"action_submit\", { action: \"tour_book\", tourId: draft.id, venueId, weekNumber, dayIndex });\r\n        }\r\n        renderTouringDesk();\r\n        saveToActiveSlot();\r\n        emitStateChanged();\r\n      }\r\n\r\n      const removeBtn = e.target.closest(\"[data-tour-remove]\");\r\n      if (removeBtn) {\r\n        const bookingId = removeBtn.dataset.tourRemove;\r\n        const removed = removeTourBooking(bookingId);\r\n        setTourNotice(removed ? \"Tour date removed.\" : \"Tour date not found.\", removed ? \"info\" : \"warn\");\r\n        logUiEvent(\"action_submit\", { action: \"tour_remove\", bookingId, removed });\r\n        renderTouringDesk();\r\n        saveToActiveSlot();\r\n        emitStateChanged();\r\n      }\r\n    });\r\n  }\r\n\r\n  on(\"chartWeekBtn\", \"click\", () => {\r\n    renderChartHistoryModal();\r\n    openOverlay(\"chartHistoryModal\");\r\n  });\r\n\r\n  on(\"trackTitleRandom\", \"click\", () => {\r\n    const theme = $(\"themeSelect\").value;\r\n    const mood = $(\"moodSelect\").value;\r\n    $(\"trackTitle\").value = makeTrackTitle(theme, mood);\r\n  });\r\n  on(\"projectNameRandom\", \"click\", () => {\r\n    $(\"projectName\").value = makeProjectTitle();\r\n  });\r\n  const stageColumns = root.querySelector(\".create-stage-columns\");\n  if (stageColumns) {\n    stageColumns.addEventListener(\"click\", (e) => {\n      const recommendBtn = e.target.closest(\"[data-track-recommend]\");\n      if (recommendBtn) {\n        recommendAllCreators(recommendBtn.dataset.trackRecommend);\n        return;\n      }\n      const button = e.target.closest(\"[data-create-stage]\");\r\n      if (!button || button.disabled) return;\r\n      const stageId = button.dataset.createStage;\r\n      if (!stageId || ![\"sheet\", \"demo\", \"master\"].includes(stageId)) return;\r\n      state.ui.createStage = stageId;\r\n      let target = state.ui.slotTarget;\r\n      if (stageId === \"demo\") {\r\n        target = primaryTrackSlotTarget(\"Performer\");\r\n      } else if (stageId === \"master\") {\r\n        target = primaryTrackSlotTarget(\"Producer\");\r\n      } else if (stageId === \"sheet\") {\r\n        target = primaryTrackSlotTarget(\"Songwriter\");\r\n      } else if (!target) {\r\n        target = primaryTrackSlotTarget(\"Songwriter\");\r\n      }\r\n      state.ui.slotTarget = target;\r\n      renderAll();\n      emitStateChanged();\n    });\n  }\n  const stageActionBar = root.querySelector(\".create-stage-action-bar\");\n  if (stageActionBar) {\n    stageActionBar.addEventListener(\"click\", (e) => {\n      const recommendBtn = e.target.closest(\"[data-track-recommend]\");\n      if (!recommendBtn) return;\n      recommendAllCreators(recommendBtn.dataset.trackRecommend);\n    });\n  }\n  on(\"demoTrackSelect\", \"change\", (e) => {\r\n    if (state.ui.createTrackIds) state.ui.createTrackIds.demo = e.target.value || null;\r\n    if (state.ui.createStage === \"demo\") state.ui.createTrackId = state.ui.createTrackIds.demo;\r\n    renderAll();\r\n  });\r\n  on(\"masterTrackSelect\", \"change\", (e) => {\r\n    if (state.ui.createTrackIds) state.ui.createTrackIds.master = e.target.value || null;\r\n    if (state.ui.createStage === \"master\") state.ui.createTrackId = state.ui.createTrackIds.master;\r\n    renderAll();\r\n  });\r\n  on(\"themeSelect\", \"change\", () => {\r\n    updateGenrePreview();\r\n    updateTrackRecommendation();\r\n  });\r\n  on(\"moodSelect\", \"change\", () => {\r\n    updateGenrePreview();\r\n    updateTrackRecommendation();\r\n  });\r\n  on(\"projectName\", \"input\", () => {\r\n    renderCreateStageControls();\r\n  });\r\n  on(\"projectTypeSelect\", \"change\", () => {\r\n    updateTrackRecommendation();\r\n    renderCreateStageControls();\r\n  });\r\n  on(\"modifierSelect\", \"change\", () => {\r\n    updateTrackRecommendation();\r\n  });\r\n  on(\"trackAlignment\", \"change\", () => {\r\n    renderCreateStageControls();\r\n  });\r\n  on(\"recommendAllMode\", \"change\", (e) => {\r\n    state.ui.recommendAllMode = e.target.value;\r\n    renderAll();\r\n  });\r\n  on(\"autoAssignBtn\", \"click\", autoAssignCreators);\r\n  on(\"startTrackBtn\", \"click\", startTrackFromUI);\r\n  on(\"startSheetBtn\", \"click\", startSheetFromUI);\r\n  on(\"startDemoBtn\", \"click\", startDemoFromUI);\r\n  on(\"startMasterBtn\", \"click\", startMasterFromUI);\r\n\r\n  on(\"genreThemeFilter\", \"change\", (e) => {\r\n    state.ui.genreTheme = e.target.value;\r\n    renderGenreIndex();\r\n  });\r\n  on(\"genreMoodFilter\", \"change\", (e) => {\r\n    state.ui.genreMood = e.target.value;\r\n    renderGenreIndex();\r\n  });\r\n  on(\"trendScopeSelect\", \"change\", (e) => {\r\n    state.ui.trendScopeType = e.target.value;\r\n    renderAll();\r\n  });\r\n  on(\"trendScopeTarget\", \"change\", (e) => {\r\n    state.ui.trendScopeTarget = e.target.value;\r\n    renderAll();\r\n  });\r\n  on(\"releaseDistribution\", \"change\", () => {\r\n    renderReleaseDesk();\r\n  });\r\n\r\n  const readyList = root.querySelector(\"#readyList\");\r\n  if (readyList) {\r\n    readyList.addEventListener(\"click\", handleReleaseAction);\r\n    readyList.addEventListener(\"click\", handleReleaseActRecommendation);\r\n    readyList.addEventListener(\"focusin\", (e) => {\r\n      const select = e.target.closest(\"select[data-assign-act], select[data-release-type]\");\r\n      if (!select) return;\r\n      if (!state.ui) state.ui = {};\r\n      state.ui.releaseDeskLock = true;\r\n    });\r\n    readyList.addEventListener(\"focusout\", (e) => {\r\n      const select = e.target.closest(\"select[data-assign-act], select[data-release-type]\");\r\n      if (!select) return;\r\n      if (!state.ui) state.ui = {};\r\n      state.ui.releaseDeskLock = false;\r\n    });\r\n    readyList.addEventListener(\"change\", (e) => {\r\n      const actSelect = e.target.closest(\"[data-assign-act]\");\r\n      const releaseTypeSelect = e.target.closest(\"[data-release-type]\");\r\n      if (!actSelect && !releaseTypeSelect) return;\r\n      if (!state.ui) state.ui = {};\r\n      state.ui.releaseDeskLock = false;\r\n      if (actSelect) {\r\n        const trackId = actSelect.dataset.assignAct;\r\n        const actId = actSelect.value;\r\n        const assigned = assignTrackAct(trackId, actId);\r\n        if (assigned) {\r\n          logUiEvent(\"action_submit\", { action: \"assign_act\", trackId, actId });\r\n          renderAll();\r\n        }\r\n      }\r\n      if (releaseTypeSelect) {\r\n        const trackId = releaseTypeSelect.dataset.releaseType;\r\n        const track = trackId ? getTrack(trackId) : null;\r\n        if (!track) return;\r\n        const nextReleaseType = releaseTypeSelect.value === \"Project\" ? \"Project\" : \"Single\";\r\n        track.releaseType = nextReleaseType;\r\n        logUiEvent(\"action_submit\", { action: \"release_type_set\", trackId, releaseType: nextReleaseType });\r\n        renderReleaseDesk();\r\n        saveToActiveSlot();\r\n      }\r\n    });\r\n  }\r\n  on(\"calendarBtn\", \"click\", () => {\r\n    if (!UI_REACT_ISLANDS_ENABLED) {\r\n      renderCalendarList(\"calendarFullList\", 12);\r\n    }\r\n    openOverlay(\"calendarModal\");\r\n  });\r\n\r\n  on(\"promoScheduleWeek\", \"change\", (e) => {\r\n    if (!state.ui) state.ui = {};\r\n    const raw = String(e.target.value || \"\").trim();\r\n    const week = raw ? Math.max(1, Math.round(Number(raw))) : null;\r\n    state.ui.promoScheduleWeek = Number.isFinite(week) ? week : null;\r\n    saveToActiveSlot();\r\n  });\r\n  on(\"promoScheduleDay\", \"change\", (e) => {\r\n    if (!state.ui) state.ui = {};\r\n    const raw = String(e.target.value || \"\");\r\n    if (!raw) {\r\n      state.ui.promoScheduleDay = null;\r\n    } else {\r\n      const day = clamp(Math.round(Number(raw)), 0, 6);\r\n      state.ui.promoScheduleDay = Number.isFinite(day) ? day : null;\r\n    }\r\n    saveToActiveSlot();\r\n  });\r\n  on(\"promoScheduleTimeframe\", \"change\", (e) => {\r\n    if (!state.ui) state.ui = {};\r\n    const value = String(e.target.value || \"\");\r\n    state.ui.promoScheduleTimeframe = value || null;\r\n    saveToActiveSlot();\r\n  });\r\n  on(\"awardBidShowSelect\", \"change\", (e) => {\r\n    if (!state.ui) state.ui = {};\r\n    state.ui.awardBidShowId = e.target.value || null;\r\n    state.ui.awardBidSlotId = null;\r\n    renderAwardsCircuit();\r\n    saveToActiveSlot();\r\n  });\r\n  on(\"awardBidSlotSelect\", \"change\", (e) => {\r\n    if (!state.ui) state.ui = {};\r\n    state.ui.awardBidSlotId = e.target.value || null;\r\n    renderAwardsCircuit();\r\n    saveToActiveSlot();\r\n  });\r\n  on(\"awardBidActSelect\", \"change\", (e) => {\r\n    if (!state.ui) state.ui = {};\r\n    state.ui.awardBidActId = e.target.value || null;\r\n    state.ui.awardBidTrackId = null;\r\n    renderAwardsCircuit();\r\n    saveToActiveSlot();\r\n  });\r\n  on(\"awardBidTrackSelect\", \"change\", (e) => {\r\n    if (!state.ui) state.ui = {};\r\n    state.ui.awardBidTrackId = e.target.value || null;\r\n    renderAwardsCircuit();\r\n    saveToActiveSlot();\r\n  });\r\n  on(\"awardBidAmountInput\", \"input\", (e) => {\r\n    if (!state.ui) state.ui = {};\r\n    const raw = String(e.target.value || \"\").trim();\r\n    const amount = raw ? Math.max(0, Math.round(Number(raw))) : null;\r\n    state.ui.awardBidAmount = Number.isFinite(amount) ? amount : null;\r\n    renderAwardsCircuit();\r\n    saveToActiveSlot();\r\n  });\r\n  on(\"awardBidSubmitBtn\", \"click\", runAwardPerformanceBid);\r\n  on(\"promoBtn\", \"click\", runPromotion);\r\n  on(\"promoFocusPickBtn\", \"click\", pickPromoTargetsFromFocus);\r\n  on(\"autoRolloutToggle\", \"change\", (e) => {\r\n    if (!state.meta.autoRollout) {\r\n      state.meta.autoRollout = { enabled: false, lastCheckedAt: null };\r\n    }\r\n    state.meta.autoRollout.enabled = e.target.checked;\r\n    state.meta.autoRollout.lastCheckedAt = Date.now();\r\n    logEvent(state.meta.autoRollout.enabled ? \"Auto promo enabled.\" : \"Auto promo disabled.\");\r\n    syncAutoPromoVisibility(root);\r\n    updateAutoPromoSummary(root);\r\n    saveToActiveSlot();\r\n  });\r\n  const autoPromoBudgetGrid = root.querySelector(\"#autoPromoBudgetGrid\");\r\n  if (autoPromoBudgetGrid) {\r\n    autoPromoBudgetGrid.addEventListener(\"input\", (e) => {\r\n      const input = e.target.closest(\"[data-auto-promo-pct]\");\r\n      if (!input) return;\r\n      const index = Number(input.dataset.autoPromoIndex || -1);\r\n      if (!Number.isFinite(index) || index < 0) return;\r\n      const slots = ensureAutoPromoBudgetSlots() || [];\r\n      const raw = Number(input.value || 0);\r\n      let nextPct = clamp(raw / 100, 0, 1);\r\n      const totalWithout = slots.reduce((sum, value, idx) => {\r\n        if (idx === index) return sum;\r\n        return sum + (Number.isFinite(value) ? value : 0);\r\n      }, 0);\r\n      if (totalWithout + nextPct > 1) {\r\n        nextPct = Math.max(0, 1 - totalWithout);\r\n        logEvent(\"Auto promo budget allocation cannot exceed 100%.\", \"warn\");\r\n      }\r\n      slots[index] = nextPct;\r\n      if (state.meta?.autoRollout) {\r\n        state.meta.autoRollout.budgetPct = slots.reduce((sum, value) => sum + (Number.isFinite(value) ? value : 0), 0);\r\n      }\r\n      input.value = String(Math.round(nextPct * 100));\r\n      updateAutoPromoBudgetTotal(root, slots);\r\n      updateAutoPromoSummary(root);\r\n      saveToActiveSlot();\r\n    });\r\n  }\r\n\r\n  const autoRolloutToggle = root.querySelector(\"#autoRolloutToggle\");\r\n  if (autoRolloutToggle) {\r\n    autoRolloutToggle.checked = Boolean(state.meta.autoRollout?.enabled);\r\n  }\r\n  syncAutoPromoBudgetControls(root);\r\n  syncAutoPromoVisibility(root);\r\n  updateAutoPromoSummary(root);\r\n\r\n  on(\"refreshMarket\", \"click\", () => {\r\n    if (state.label.cash < 300) {\r\n      logEvent(\"Not enough cash to refresh market.\", \"warn\");\r\n      return;\r\n    }\r\n    state.label.cash -= 300;\r\n    state.marketCreators = buildMarketCreators();\r\n    ensureMarketCreators();\r\n    logEvent(\"Talent market refreshed.\");\r\n    renderAll();\r\n  });\r\n  on(\"cccThemeTrendBtn\", \"click\", () => {\r\n    applyCccTrendFilter(\"theme\");\r\n  });\r\n  on(\"cccMoodTrendBtn\", \"click\", () => {\r\n    applyCccTrendFilter(\"mood\");\r\n  });\r\n  on(\"cccThemeFilter\", \"change\", (e) => {\r\n    state.ui.cccThemeFilter = e.target.value || \"All\";\r\n    requestWorldRender();\r\n    renderAll();\r\n  });\r\n  on(\"cccMoodFilter\", \"change\", (e) => {\r\n    state.ui.cccMoodFilter = e.target.value || \"All\";\r\n    requestWorldRender();\r\n    renderAll();\r\n  });\r\n  on(\"cccSort\", \"change\", (e) => {\r\n    state.ui.cccSort = e.target.value || \"default\";\r\n    requestWorldRender();\r\n    renderAll();\r\n  });\r\n\r\n  const marketList = root.querySelector(\"#marketList\");\r\n  if (marketList) {\r\n    marketList.addEventListener(\"click\", (e) => {\r\n      const btn = e.target.closest(\"button[data-sign]\");\r\n      if (!btn || btn.disabled) return;\r\n      signCreatorById(btn.dataset.sign);\r\n    });\r\n  }\r\n  const communityToolsList = root.querySelector(\"#communityToolsList\");\r\n  if (communityToolsList) {\r\n    communityToolsList.addEventListener(\"click\", (e) => {\r\n      const btn = e.target.closest(\"button[data-modifier-buy]\");\r\n      if (!btn || btn.disabled) return;\r\n      const modifierId = btn.dataset.modifierBuy;\r\n      if (!modifierId) return;\r\n      const inflationMultiplier = getPromoInflationMultiplier();\r\n      const result = purchaseModifier(modifierId, { inflationMultiplier });\r\n      logUiEvent(\"action_submit\", {\r\n        action: \"purchase_modifier\",\r\n        modifierId,\r\n        outcome: result?.ok ? \"success\" : \"failed\",\r\n        cost: result?.cost\r\n      });\r\n      if (!result?.ok) {\r\n        shakeElement(btn);\r\n        requestWorldRender();\r\n        renderAll();\r\n        return;\r\n      }\r\n      refreshSelectOptions();\r\n      requestWorldRender();\r\n      renderAll();\r\n    });\r\n  }\r\n  root.querySelectorAll(\"[data-ccc-filter]\").forEach((input) => {\r\n    input.addEventListener(\"change\", (e) => {\r\n      const key = e.target.dataset.cccFilter;\r\n      if (!key) return;\r\n      if (!state.ui.cccFilters) {\r\n        state.ui.cccFilters = {\r\n          Songwriter: true,\r\n          Performer: true,\r\n          Producer: true\r\n        };\r\n      }\r\n      state.ui.cccFilters[key] = e.target.checked;\r\n      requestWorldRender();\r\n      renderAll();\r\n    });\r\n  });\r\n\r\n  on(\"cheatCccInjectBtn\", \"click\", () => {\r\n    if (!state.meta?.cheaterMode) {\r\n      logEvent(\"Enable Cheater Mode in Settings to inject Creator IDs.\", \"warn\");\r\n      requestWorldRender();\r\n      renderMarket();\r\n      return;\r\n    }\r\n    const ids = $(\"cheatCccIds\")?.value || \"\";\r\n    const role = $(\"cheatCccRole\")?.value || \"Songwriter\";\r\n    const ageValue = Number($(\"cheatCccAge\")?.value || \"\");\r\n    const age = Number.isFinite(ageValue) && ageValue > 0 ? ageValue : null;\r\n    const country = $(\"cheatCccCountry\")?.value || null;\r\n    const genderIdentity = $(\"cheatCccGender\")?.value || null;\r\n    const theme = $(\"cheatCccTheme\")?.value || null;\r\n    const mood = $(\"cheatCccMood\")?.value || null;\r\n    const portraitKey = $(\"cheatCccPortraitKey\")?.value || null;\r\n    const portraitFile = $(\"cheatCccPortraitFile\")?.value || null;\r\n    const result = injectCheaterMarketCreators({\r\n      ids,\r\n      role,\r\n      age,\r\n      country,\r\n      genderIdentity,\r\n      theme,\r\n      mood,\r\n      portraitKey,\r\n      portraitFile\r\n    });\r\n    const status = $(\"cheatCccStatus\");\r\n    if (status) status.textContent = result.message || \"\";\r\n    if (result.ok) saveToActiveSlot();\r\n    requestWorldRender();\r\n    renderMarket();\r\n  });\r\n  on(\"cheatCccClearBtn\", \"click\", () => {\r\n    const setValue = (id, value) => {\r\n      const input = $(id);\r\n      if (input) input.value = value;\r\n    };\r\n    setValue(\"cheatCccIds\", \"\");\r\n    setValue(\"cheatCccAge\", \"\");\r\n    setValue(\"cheatCccCountry\", \"\");\r\n    setValue(\"cheatCccGender\", \"\");\r\n    setValue(\"cheatCccTheme\", \"\");\r\n    setValue(\"cheatCccMood\", \"\");\r\n    setValue(\"cheatCccPortraitKey\", \"\");\r\n    setValue(\"cheatCccPortraitFile\", \"\");\r\n    const roleSelect = $(\"cheatCccRole\");\r\n    if (roleSelect) roleSelect.value = MARKET_ROLES?.[0] || \"Songwriter\";\r\n    const status = $(\"cheatCccStatus\");\r\n    if (status) status.textContent = \"\";\r\n  });\r\n\r\n  const actList = root.querySelector(\"#actList\");\r\n  if (actList) {\r\n    actList.addEventListener(\"click\", (e) => {\r\n      const selectBtn = e.target.closest(\"[data-act-select]\");\r\n      if (selectBtn) {\r\n        const act = getAct(selectBtn.dataset.actSelect);\r\n        if (!act) return;\r\n        if (!state.ui) state.ui = {};\r\n        if (!state.ui.trackSlots) {\r\n          state.ui.trackSlots = {\r\n            actId: null,\r\n            songwriterIds: Array.from({ length: TRACK_ROLE_LIMITS?.Songwriter || 1 }, () => null),\r\n            performerIds: Array.from({ length: TRACK_ROLE_LIMITS?.Performer || 1 }, () => null),\r\n            producerIds: Array.from({ length: TRACK_ROLE_LIMITS?.Producer || 1 }, () => null)\r\n          };\r\n        }\r\n        state.ui.trackSlots.actId = act.id;\r\n        logEvent(`Selected \"${act.name}\" for Create/Release.`);\r\n        renderSlots();\r\n        renderActs();\r\n        saveToActiveSlot();\r\n        return;\r\n      }\r\n      const eraStartBtn = e.target.closest(\"[data-act-start-era]\");\r\n      if (eraStartBtn) {\r\n        const act = getAct(eraStartBtn.dataset.actStartEra);\r\n        if (!act) return;\r\n        if (!state.ui) state.ui = {};\r\n        if (!state.ui.eraSlots) state.ui.eraSlots = { actId: null };\r\n        state.ui.eraSlots.actId = act.id;\r\n        const eraNameInput = $(\"eraNameInput\");\r\n        if (eraNameInput && !eraNameInput.value.trim()) {\r\n          eraNameInput.value = makeEraName(act.name);\r\n        }\r\n        saveToActiveSlot();\r\n        window.location.hash = \"#/eras\";\r\n        return;\r\n      }\r\n      const useBtn = e.target.closest(\"button[data-act-set]\");\r\n      if (useBtn) {\r\n        const act = getAct(useBtn.dataset.actSet);\r\n        if (!act) return;\r\n        const target = state.ui.slotTarget || \"era-act\";\r\n        const slot = getSlotElement(target);\r\n        if (slot && slot.dataset.slotType !== \"act\") {\r\n          logEvent(\"Select an Act ID slot first.\", \"warn\");\r\n          return;\r\n        }\r\n        assignToSlot(target, \"act\", act.id);\r\n        logEvent(`Assigned \"${act.name}\" to ${describeSlot(target)}.`);\r\n        return;\r\n      }\r\n      const renameBtn = e.target.closest(\"button[data-act-rename]\");\r\n      if (renameBtn) {\r\n        const actId = renameBtn.dataset.actRename;\r\n        const input = actList.querySelector(`[data-act-input=\"${actId}\"]`);\r\n        if (!input) return;\r\n        renameActById(actId, input.value);\r\n      }\r\n    });\r\n    actList.addEventListener(\"keydown\", (e) => {\r\n      if (e.key !== \"Enter\") return;\r\n      const input = e.target.closest(\"input[data-act-input]\");\r\n      if (!input) return;\r\n      renameActById(input.dataset.actInput, input.value);\r\n    });\r\n  }\r\n\r\n  on(\"quickActBtn\", \"click\", createQuickAct);\r\n  on(\"quickGroupActBtn\", \"click\", createQuickGroupAct);\r\n  on(\"quickActResetBtn\", \"click\", resetQuickActFilters);\r\n  on(\"quickActGroupSize\", \"change\", (e) => {\r\n    ensureQuickActFilters().groupSize = e.target.value || \"2-3\";\r\n  });\r\n  on(\"quickActGenderFilter\", \"change\", (e) => {\r\n    ensureQuickActFilters().genderIdentity = e.target.value || \"\";\r\n  });\r\n  on(\"quickActAgeGroupFilter\", \"change\", (e) => {\r\n    ensureQuickActFilters().ageGroup = e.target.value || \"\";\r\n  });\r\n  on(\"quickActThemeFilter\", \"change\", (e) => {\r\n    ensureQuickActFilters().theme = e.target.value || \"Any\";\r\n    setThemeSelectAccent(e.target);\r\n  });\r\n  on(\"quickActMoodFilter\", \"change\", (e) => {\r\n    ensureQuickActFilters().mood = e.target.value || \"Any\";\r\n  });\r\n  on(\"quickActAlignmentFilter\", \"change\", (e) => {\r\n    ensureQuickActFilters().alignment = e.target.value || \"Label\";\r\n  });\r\n  on(\"quickActSkillMin\", \"change\", (e) => {\r\n    const value = Number(e.target.value);\r\n    ensureQuickActFilters().minSkillLevel = Number.isFinite(value) ? value : null;\r\n  });\r\n  on(\"quickActSkillMax\", \"change\", (e) => {\r\n    const value = Number(e.target.value);\r\n    ensureQuickActFilters().maxSkillLevel = Number.isFinite(value) ? value : null;\r\n  });\r\n  on(\"createActBtn\", \"click\", createActFromUI);\r\n  on(\"actTypeSelect\", \"change\", updateActMemberFields);\r\n\r\n  on(\"renameLabelBtn\", \"click\", renameLabelFromUI);\r\n  on(\"labelNameInput\", \"keydown\", (e) => {\r\n    if (e.key === \"Enter\") renameLabelFromUI();\r\n  });\r\n  on(\"labelNameRandom\", \"click\", () => {\r\n    $(\"labelNameInput\").value = makeLabelName();\r\n  });\r\n  on(\"actNameRandom\", \"click\", () => {\r\n    const input = $(\"actName\");\r\n    const type = $(\"actTypeSelect\").value;\r\n    const actKind = type === \"Solo Act\" ? \"solo\" : \"group\";\r\n    const memberIds = [\r\n      state.ui.actSlots.lead,\r\n      state.ui.actSlots.member2,\r\n      state.ui.actSlots.member3\r\n    ].filter(Boolean);\r\n    const entry = makeActNameEntry({ actKind, memberIds });\r\n    input.value = entry.name;\r\n    input.dataset.nameKey = entry.nameKey;\r\n  });\r\n  on(\"actName\", \"input\", (e) => {\r\n    const target = e.target;\r\n    if (target?.dataset) delete target.dataset.nameKey;\r\n  });\r\n  const handleLabelAlignmentChange = (value) => {\r\n    const alignment = validateLabelAlignmentSelection(value, true);\r\n    if (!alignment) return;\r\n    if (!applyLabelAlignment(alignment)) return;\r\n    logEvent(`Label alignment set to ${state.label.alignment}.`);\r\n    lastLoggedLabelAlignment = state.label.alignment;\r\n    setLabelAlignmentStatus(`Logged label alignment: ${state.label.alignment}.`);\r\n  };\r\n  on(\"labelAlignment\", \"change\", (e) => {\r\n    handleLabelAlignmentChange(e.target?.value);\r\n  });\r\n  on(\"labelAlignment\", \"input\", (e) => {\r\n    handleLabelAlignmentChange(e.target?.value);\r\n  });\r\n  on(\"labelAlignmentConfirm\", \"click\", () => {\r\n    const alignment = validateLabelAlignmentSelection(getLabelAlignmentSelection(), true);\r\n    if (!alignment) return;\r\n    if (alignment !== state.label.alignment) {\r\n      if (!applyLabelAlignment(alignment)) return;\r\n    }\r\n    if (alignment !== lastLoggedLabelAlignment) {\r\n      logEvent(`Label alignment confirmed as ${state.label.alignment}.`);\r\n      lastLoggedLabelAlignment = state.label.alignment;\r\n      setLabelAlignmentStatus(`Confirmed log: ${state.label.alignment}.`);\r\n      return;\r\n    }\r\n    setLabelAlignmentStatus(`Label alignment already logged: ${state.label.alignment}.`);\r\n  });\r\n\r\n  on(\"eraNameRandom\", \"click\", () => {\r\n    const act = getAct(state.ui.eraSlots.actId) || getAct(state.ui.trackSlots.actId);\r\n    $(\"eraNameInput\").value = makeEraName(act ? act.name : makeActName());\r\n  });\r\n  on(\"startEraBtn\", \"click\", startEraFromUI);\r\n  on(\"endEraBtn\", \"click\", endEraFromUI);\r\n  on(\"rolloutStrategyCreate\", \"click\", createRolloutStrategyFromUI);\r\n  on(\"rolloutStrategySelect\", \"change\", selectRolloutStrategyFromUI);\r\n  on(\"rolloutStrategyTemplateCreate\", \"click\", createRolloutStrategyFromTemplateFromUI);\r\n  on(\"rolloutStrategyTemplateSelect\", \"change\", selectRolloutTemplateFromUI);\r\n  on(\"rolloutStrategyFocusType\", \"change\", updateRolloutStrategyFocusFromUI);\r\n  on(\"rolloutStrategyFocusTarget\", \"change\", updateRolloutStrategyFocusFromUI);\r\n  on(\"rolloutStrategyAddDrop\", \"click\", addRolloutDropFromUI);\r\n  on(\"rolloutStrategyAddEvent\", \"click\", addRolloutEventFromUI);\r\n  on(\"rolloutStrategyAutoRun\", \"change\", toggleRolloutStrategyAutoRunFromUI);\r\n  on(\"rolloutStrategyExpand\", \"click\", expandRolloutStrategyFromUI);\r\n\r\n  on(\"saveBtn\", \"click\", () => {\r\n    if (!session.activeSlot) {\r\n      logEvent(\"Select a slot before saving.\", \"warn\");\r\n      return;\r\n    }\r\n    saveToActiveSlot();\r\n    logEvent(`Saved to Slot ${session.activeSlot}.`);\r\n  });\r\n  on(\"loadInput\", \"change\", async (e) => {\r\n    const file = e.target.files[0];\r\n    if (!file) return;\r\n    if (!session.activeSlot) {\r\n      logEvent(\"Select a slot before loading a file.\", \"warn\");\r\n      return;\r\n    }\r\n    try {\r\n      const text = await file.text();\r\n      const parsed = JSON.parse(text);\r\n      resetState(parsed);\r\n      lastLoggedLabelAlignment = state.label?.alignment || null;\r\n      setLabelAlignmentStatus(state.label?.alignment ? `Current alignment: ${state.label.alignment}.` : \"\");\r\n      refreshSelectOptions();\r\n      await computeCharts();\r\n      renderAll();\r\n      logEvent(`Loaded save file into Slot ${session.activeSlot}.`);\r\n    } catch {\r\n      logEvent(\"Failed to load save file.\", \"warn\");\r\n    }\r\n  });\r\n\r\n  const creatorList = root.querySelector(\"#creatorList\");\r\n  if (creatorList) {\r\n    creatorList.addEventListener(\"click\", (e) => {\r\n      const actsBtn = e.target.closest(\"[data-creator-acts-more]\");\r\n      if (actsBtn) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        toggleCreatorActsPopover(actsBtn);\r\n        return;\r\n      }\r\n      if (e.target.closest(\"[data-creator-acts-popover]\")) return;\r\n      const item = e.target.closest(\"[data-entity-type=\\\"creator\\\"]\");\r\n      if (!item) return;\r\n      const target = state.ui.slotTarget;\r\n      if (!target) {\r\n        logEvent(\"Select an ID slot, then tap a Creator ID.\", \"warn\");\r\n        return;\r\n      }\r\n      assignToSlot(target, \"creator\", item.dataset.entityId);\r\n    });\r\n  }\r\n\r\n  const handleTrackListClick = (e) => {\r\n    const item = e.target.closest(\"[data-entity-type=\\\"track\\\"]\");\r\n    if (!item) return;\r\n    const target = state.ui.slotTarget;\r\n    if (!target) {\r\n      logEvent(\"Select an ID slot, then tap a Track ID.\", \"warn\");\r\n      return;\r\n    }\r\n    assignToSlot(target, \"track\", item.dataset.entityId);\r\n  };\r\n  root.querySelectorAll(\"#trackList, #trackArchiveList\").forEach((list) => {\r\n    list.addEventListener(\"click\", handleTrackListClick);\r\n  });\r\n\r\n  on(\"promoteIconBtn\", \"click\", () => logEvent(\"Promotion console opened from Comms.\"));\r\n  on(\"eyeriSocialBtn\", \"click\", () => logEvent(\"eyeriSocial post drafted.\"));\r\n\r\n  on(\"communitiesAreas\", \"click\", () => openOverlay(\"communitiesModal\"));\r\n  on(\"communitiesCreators\", \"click\", () => openOverlay(\"communitiesModal\"));\r\n  on(\"communitiesItems\", \"click\", () => openOverlay(\"communitiesModal\"));\r\n  on(\"communitiesCollabs\", \"click\", () => openOverlay(\"communitiesModal\"));\r\n  on(\"hubAreas\", \"click\", () => openOverlay(\"harmonyModal\"));\r\n  on(\"hubCreators\", \"click\", () => openOverlay(\"harmonyModal\"));\r\n  on(\"hubItems\", \"click\", () => openOverlay(\"harmonyModal\"));\r\n  on(\"hubCollabs\", \"click\", () => openOverlay(\"harmonyModal\"));\r\n\r\n  on(\"studioOwnerFilter\", \"change\", (e) => {\r\n    state.ui.studioOwnerFilter = e.target.value || \"all\";\r\n    renderStudiosList();\r\n    saveToActiveSlot();\r\n  });\r\n  root.querySelectorAll(\"[data-studio-filter]\").forEach((input) => {\r\n    input.addEventListener(\"change\", (e) => {\r\n      const key = e.target.dataset.studioFilter;\r\n      if (!key) return;\r\n      if (!state.ui.studioFilters) {\r\n        state.ui.studioFilters = {\r\n          owned: true,\r\n          unowned: true,\r\n          occupied: true,\r\n          unoccupied: true\r\n        };\r\n      }\r\n      state.ui.studioFilters[key] = e.target.checked;\r\n      renderStudiosList();\r\n      saveToActiveSlot();\r\n    });\r\n  });\r\n\r\n  on(\"socialShowInternal\", \"change\", (e) => {\r\n    state.ui.socialShowInternal = e.target.checked;\r\n    renderSocialFeed();\r\n    saveToActiveSlot();\r\n  });\r\n\r\n  root.querySelectorAll(\"[data-social-filter]\").forEach((input) => {\r\n    input.addEventListener(\"change\", (e) => {\r\n      const key = e.target.dataset.socialFilter;\r\n      if (!key) return;\r\n      state.ui.socialFilters[key] = e.target.checked;\r\n      renderSocialFeed();\r\n      saveToActiveSlot();\r\n    });\r\n  });\r\n\r\n  on(\"exportDebugBtn\", \"click\", exportDebugBundle);\r\n}\r\n\r\nfunction buildPromoOverlapDebugSnapshot() {\r\n  const releaseAtByTrackId = new Map();\r\n  (state.releaseQueue || []).forEach((entry) => {\r\n    if (!entry?.trackId || !Number.isFinite(entry.releaseAt)) return;\r\n    releaseAtByTrackId.set(entry.trackId, entry.releaseAt);\r\n  });\r\n\r\n  const resolveBankedMomentum = (track) => {\r\n    if (!track) return 0;\r\n    return Math.max(0, track.promo?.preReleaseMomentum || track.promo?.preReleaseWeeks || 0);\r\n  };\r\n\r\n  const findProjectTracks = (projectSpec) => {\r\n    if (!projectSpec?.projectName) return [];\r\n    const projectName = normalizeProjectName(projectSpec.projectName);\r\n    const projectType = normalizeProjectType(projectSpec.projectType || \"Single\");\r\n    return state.tracks.filter((track) => {\r\n      if (!track) return false;\r\n      if (projectSpec.actId && track.actId !== projectSpec.actId) return false;\r\n      if (projectSpec.eraId && track.eraId !== projectSpec.eraId) return false;\r\n      const trackProject = track.projectName || `${track.title} - Single`;\r\n      if (normalizeProjectName(trackProject) !== projectName) return false;\r\n      if (normalizeProjectType(track.projectType || \"Single\") !== projectType) return false;\r\n      return true;\r\n    });\r\n  };\r\n\r\n  const bankedTracks = [];\r\n  state.tracks.forEach((track) => {\r\n    const bankedMomentum = resolveBankedMomentum(track);\r\n    if (bankedMomentum <= 0) return;\r\n    const status = getTrackReleaseStatus(track);\r\n    const releaseAt = releaseAtByTrackId.get(track.id) || null;\r\n    const act = track.actId ? getAct(track.actId) : null;\r\n    bankedTracks.push({\r\n      trackId: track.id,\r\n      title: track.title || \"Unknown Track\",\r\n      actId: track.actId || null,\r\n      actName: act?.name || null,\r\n      projectName: track.projectName || `${track.title} - Single`,\r\n      projectType: normalizeProjectType(track.projectType || \"Single\"),\r\n      status,\r\n      statusLabel: getTrackReleaseStatusLabel(status),\r\n      releaseAt,\r\n      bankedMomentum\r\n    });\r\n  });\r\n\r\n  const projectTotals = new Map();\r\n  bankedTracks.forEach((entry) => {\r\n    const projectName = entry.projectName || \"Unknown Project\";\r\n    const projectType = normalizeProjectType(entry.projectType || \"Single\");\r\n    const projectKey = `${normalizeProjectName(projectName)}::${projectType}::${entry.actId || \"\"}`;\r\n    const current = projectTotals.get(projectKey) || {\r\n      projectName,\r\n      projectType,\r\n      actId: entry.actId || null,\r\n      actName: entry.actName || null,\r\n      bankedMomentum: 0,\r\n      trackCount: 0,\r\n      scheduledCount: 0,\r\n      releasedCount: 0\r\n    };\r\n    current.bankedMomentum += entry.bankedMomentum;\r\n    current.trackCount += 1;\r\n    if (entry.status === \"scheduled\") current.scheduledCount += 1;\r\n    if (entry.status === \"released\" || entry.status === \"shelved\") current.releasedCount += 1;\r\n    projectTotals.set(projectKey, current);\r\n  });\r\n\r\n  const scheduledPromos = [];\r\n  const isPromoAction = (actionType) => Boolean(actionType && PROMO_TYPE_DETAILS[actionType]);\r\n  const resolveTargetType = (entry) => {\r\n    if (entry?.targetType) return entry.targetType;\r\n    if (entry?.contentId && parsePromoProjectKey(entry.contentId)) return \"project\";\r\n    if (entry?.contentId) return \"track\";\r\n    return \"act\";\r\n  };\r\n\r\n  (state.scheduledEvents || []).forEach((entry) => {\r\n    if (!entry || entry.status === \"Cancelled\") return;\r\n    const actionType = entry.actionType || DEFAULT_PROMO_TYPE;\r\n    if (!isPromoAction(actionType)) return;\r\n    const targetType = resolveTargetType(entry);\r\n    const eventAt = Number.isFinite(entry.eventAt) ? entry.eventAt : entry.scheduledAt;\r\n    const base = {\r\n      id: entry.id,\r\n      source: entry.source || \"scheduledEvent\",\r\n      actionType,\r\n      scheduledAt: eventAt,\r\n      targetType,\r\n      actId: entry.actId || null,\r\n      label: entry.label || state.label?.name || \"\"\r\n    };\r\n    if (targetType === \"track\") {\r\n      const track = entry.contentId ? getTrack(entry.contentId) : null;\r\n      const status = track ? getTrackReleaseStatus(track) : null;\r\n      scheduledPromos.push({\r\n        ...base,\r\n        trackId: track?.id || entry.contentId || null,\r\n        trackTitle: track?.title || \"Unknown Track\",\r\n        trackStatus: status,\r\n        trackStatusLabel: status ? getTrackReleaseStatusLabel(status) : null,\r\n        releaseAt: track ? (releaseAtByTrackId.get(track.id) || null) : null,\r\n        bankedMomentum: track ? resolveBankedMomentum(track) : 0,\r\n        scheduledTarget: status === \"scheduled\"\r\n      });\r\n      return;\r\n    }\r\n    if (targetType === \"project\") {\r\n      const projectSpec = entry.contentId ? parsePromoProjectKey(entry.contentId) : null;\r\n      const projectName = projectSpec?.projectName || entry.projectName || \"Unknown Project\";\r\n      const projectType = normalizeProjectType(projectSpec?.projectType || \"Single\");\r\n      const projectTracks = projectSpec ? findProjectTracks(projectSpec) : [];\r\n      const scheduledCount = projectTracks.filter((track) => getTrackReleaseStatus(track) === \"scheduled\").length;\r\n      const releasedCount = projectTracks.filter((track) => isTrackReleaseReleased(track, { includeShelved: true })).length;\r\n      const bankedMomentum = projectTracks.reduce((sum, track) => sum + resolveBankedMomentum(track), 0);\r\n      scheduledPromos.push({\r\n        ...base,\r\n        projectName,\r\n        projectType,\r\n        projectTrackCount: projectTracks.length,\r\n        scheduledCount,\r\n        releasedCount,\r\n        bankedMomentum,\r\n        scheduledTarget: scheduledCount > 0\r\n      });\r\n      return;\r\n    }\r\n    scheduledPromos.push({ ...base, scheduledTarget: false });\r\n  });\r\n\r\n  const now = state.time?.epochMs || Date.now();\r\n  state.rivalReleaseQueue.forEach((entry) => {\r\n    if (!entry || (entry.queueType || \"release\") !== \"promo\") return;\r\n    const hasUpcomingRelease = state.rivalReleaseQueue.some((releaseEntry) => {\r\n      if (!releaseEntry || (releaseEntry.queueType || \"release\") !== \"release\") return false;\r\n      if (releaseEntry.label !== entry.label) return false;\r\n      return Number.isFinite(releaseEntry.releaseAt) && releaseEntry.releaseAt > now;\r\n    });\r\n    scheduledPromos.push({\r\n      id: entry.id,\r\n      source: \"rivalQueue\",\r\n      actionType: entry.promoType || DEFAULT_PROMO_TYPE,\r\n      scheduledAt: entry.releaseAt,\r\n      targetType: \"track\",\r\n      label: entry.label || \"\",\r\n      trackTitle: entry.title || \"Rival promo\",\r\n      scheduledTarget: hasUpcomingRelease\r\n    });\r\n  });\r\n\r\n  const rivalBanked = state.rivalReleaseQueue\r\n    .filter((entry) => (entry.queueType || \"release\") === \"release\" && Math.max(0, entry.preReleaseMomentum || 0) > 0)\r\n    .map((entry) => ({\r\n      id: entry.id,\r\n      label: entry.label || \"\",\r\n      title: entry.title || \"Scheduled release\",\r\n      releaseAt: entry.releaseAt || null,\r\n      bankedMomentum: Math.max(0, entry.preReleaseMomentum || 0)\r\n    }));\r\n\r\n  return {\r\n    generatedAt: new Date().toISOString(),\r\n    scheduledPromos,\r\n    bankedMomentum: {\r\n      tracks: bankedTracks,\r\n      projects: Array.from(projectTotals.values()),\r\n      rivals: rivalBanked\r\n    }\r\n  };\r\n}\r\n\r\nfunction exportDebugBundle() {\r\n  flushUsageSession();\r\n  const log = loadUiEventLog();\r\n  const eventLog = Array.isArray(state.events) ? state.events : [];\r\n  const usageSession = getUsageSessionSnapshot();\r\n  const storageHealth = getStorageHealthSnapshot();\r\n  const snapshot = {\r\n    route: state.ui.activeView || activeRoute,\r\n    week: weekIndex() + 1,\r\n    cash: state.label.cash,\r\n    activeSlot: session.activeSlot,\r\n    activeIdSlot: state.ui.slotTarget,\r\n    usageSessionId: usageSession?.id || null,\r\n    time: {\r\n      epochMs: state.time.epochMs,\r\n      totalHours: state.time.totalHours,\r\n      totalQuarters: state.time.totalQuarters\r\n    }\r\n  };\r\n  const summaryLines = [\r\n    \"# Usage Session Summary\",\r\n    `Generated: ${new Date().toISOString()}`,\r\n    `Route: ${snapshot.route}`,\r\n    `Date Range: ${formatWeekRangeLabel(snapshot.week)}`,\r\n    `Cash: ${formatMoney(snapshot.cash)}`,\r\n    `Active Slot: ${snapshot.activeSlot || \"-\"}`,\r\n    `Difficulty: ${state.meta?.difficulty || DEFAULT_GAME_DIFFICULTY}`,\r\n    `Usage Session: ${usageSession?.id || \"-\"}`,\r\n    `Usage Errors: ${usageSession?.errors?.length || 0}`,\r\n    \"\",\r\n    \"## Event Counts\"\r\n  ];\r\n  const counts = log.reduce((acc, entry) => {\r\n    acc[entry.event_type] = (acc[entry.event_type] || 0) + 1;\r\n    return acc;\r\n  }, {});\r\n  Object.keys(counts).sort().forEach((key) => {\r\n    summaryLines.push(`- ${key}: ${counts[key]}`);\r\n  });\r\n  const summary = summaryLines.join(\"\\n\");\r\n\r\n  downloadFile(\"usage_session.json\", JSON.stringify(log, null, 2), \"application/json\");\r\n  downloadFile(\"simulation_event_log.json\", JSON.stringify(eventLog, null, 2), \"application/json\");\r\n  downloadFile(\"usage_session_summary.md\", summary, \"text/markdown\");\r\n  downloadFile(\"state_snapshot.json\", JSON.stringify(snapshot, null, 2), \"application/json\");\r\n  downloadFile(\r\n    \"promo_overlap_snapshot.json\",\r\n    JSON.stringify(buildPromoOverlapDebugSnapshot(), null, 2),\r\n    \"application/json\"\r\n  );\r\n  downloadFile(\"storage_health.json\", JSON.stringify(storageHealth, null, 2), \"application/json\");\r\n  if (usageSession?.id) {\r\n    downloadFile(`usage_session_${usageSession.id}.json`, JSON.stringify(usageSession, null, 2), \"application/json\");\r\n  }\r\n  if (state.meta?.seedHistory) {\r\n    downloadFile(\"seed_history.json\", JSON.stringify(state.meta.seedHistory, null, 2), \"application/json\");\r\n  }\r\n  if (state.meta?.seedInfo) {\r\n    downloadFile(\"seed_info.json\", JSON.stringify(state.meta.seedInfo, null, 2), \"application/json\");\r\n  }\r\n  if (state.meta?.seedCalibration) {\r\n    downloadFile(\"seed_calibration.json\", JSON.stringify(state.meta.seedCalibration, null, 2), \"application/json\");\r\n  }\r\n  logEvent(`Debug bundle exported (${formatCount(log.length)} UI events, ${formatCount(eventLog.length)} system events).`);\r\n  logUiEvent(\"export_debug\", { ui_events: log.length, sim_events: eventLog.length });\r\n}\r\n\r\nfunction formatLossArchiveTimestamp(epochMs) {\r\n  const d = new Date(epochMs || Date.now());\r\n  const pad = (n) => String(n).padStart(2, \"0\");\r\n  return `${d.getFullYear()}-${pad(d.getMonth() + 1)}-${pad(d.getDate())}__${pad(d.getHours())}${pad(d.getMinutes())}${pad(d.getSeconds())}`;\r\n}\r\n\r\nfunction exportLossArchive(entry) {\r\n  if (!entry) return;\r\n  const stamp = formatLossArchiveTimestamp(entry.createdAt);\r\n  const labelSlug = String(entry.label || \"label\").replace(/[^a-zA-Z0-9]+/g, \"-\").replace(/^-+|-+$/g, \"\").slice(0, 24) || \"label\";\r\n  const base = `loss_${labelSlug}_${stamp}`;\r\n  downloadFile(`${base}.json`, JSON.stringify(entry, null, 2), \"application/json\");\r\n  const summary = [\r\n    \"# Loss Archive Summary\",\r\n    `Generated: ${new Date().toISOString()}`,\r\n    `Label: ${entry.label || \"-\"}`,\r\n    `Result: ${entry.result || \"loss\"}`,\r\n    `Difficulty: ${entry.difficulty || \"-\"}`,\r\n    `Reason: ${entry.reason || \"-\"}`,\r\n    `Slot: ${entry.slot || \"-\"}`,\r\n    `Date Range: ${entry.week ? formatWeekRangeLabel(entry.week) : \"-\"}`,\r\n    `Year: ${entry.year || \"-\"}`,\r\n    `Cash: ${formatMoney(entry.cash || 0)}`,\r\n    `EXP: ${formatCount(entry.exp || 0)}`,\r\n    `Game Date: ${entry.gameTime ? formatDate(entry.gameTime) : \"-\"}`,\r\n    \"\",\r\n    `UI events: ${Array.isArray(entry.uiEvents) ? entry.uiEvents.length : 0}`,\r\n    `System events: ${Array.isArray(entry.simEvents) ? entry.simEvents.length : 0}`\r\n  ].join(\"\\n\");\r\n  downloadFile(`${base}_summary.md`, summary, \"text/markdown\");\r\n}\r\n\r\nfunction downloadFile(name, content, type) {\r\n  const blob = new Blob([content], { type });\r\n  const url = URL.createObjectURL(blob);\r\n  const link = document.createElement(\"a\");\r\n  link.href = url;\r\n  link.download = name;\r\n  document.body.appendChild(link);\r\n  link.click();\r\n  link.remove();\r\n  URL.revokeObjectURL(url);\r\n}\r\n\r\nfunction panelKey(panel) {\r\n  return panel.dataset.panel || panel.getAttribute(\"data-panel\");\r\n}\r\n\r\nfunction panelDock(panel) {\r\n  if (panel.closest(\".panel-tray\")) return \"tray\";\r\n  if (panel.closest(\".left\")) return \"left\";\r\n  if (panel.closest(\".right\")) return \"right\";\r\n  if (panel.closest(\".center\")) return \"center\";\r\n  if (panel.closest(\".footer\")) return \"footer\";\r\n  return panel.dataset.origDock || \"footer\";\r\n}\r\n\r\nfunction setPanelOrder(container, panel, index) {\r\n  const children = Array.from(container.children);\r\n  if (index >= 0 && index < children.length) {\r\n    container.insertBefore(panel, children[index]);\r\n  } else {\r\n    container.appendChild(panel);\r\n  }\r\n}\r\n\r\nfunction savePanelLayout() {\r\n  if (isRestoringLayout) return;\r\n  const layout = {};\r\n  document.querySelectorAll(\".panel.card\").forEach((panel) => {\r\n    const key = panelKey(panel);\r\n    if (!key) return;\r\n    const dock = panelDock(panel);\r\n    const parent = panel.parentElement;\r\n    const order = parent ? Array.from(parent.children).indexOf(panel) : -1;\r\n    layout[key] = {\r\n      dock,\r\n      order,\r\n      state: panel.dataset.state || PANEL_STATES.open,\r\n      hidden: panel.classList.contains(\"panel-hidden\"),\r\n      width: panel.style.width || \"\",\r\n      height: panel.style.height || \"\",\r\n      marginLeft: panel.style.marginLeft || \"\",\r\n      marginTop: panel.style.marginTop || \"\"\r\n    };\r\n  });\r\n  safeSetLocalStorageJson(PANEL_LAYOUT_KEY, layout, { context: \"panel layout\" });\r\n}\r\n\r\nfunction loadPanelLayout() {\r\n  const raw = localStorage.getItem(PANEL_LAYOUT_KEY);\r\n  if (!raw) return false;\r\n  let layout = null;\r\n  try {\r\n    layout = JSON.parse(raw);\r\n  } catch {\r\n    return false;\r\n  }\r\n  if (!layout) return false;\r\n  isRestoringLayout = true;\r\n  Object.entries(layout).forEach(([key, entry]) => {\r\n    const panel = document.querySelector(`.panel.card[data-panel=\"${key}\"]`);\r\n    if (!panel) return;\r\n    setPanelVisibility(panel, !entry.hidden);\r\n    panel.style.width = entry.width || \"\";\r\n    panel.style.height = entry.height || \"\";\r\n    panel.style.marginLeft = entry.marginLeft || \"\";\r\n    panel.style.marginTop = entry.marginTop || \"\";\r\n    const state = normalizePanelState(entry.state || PANEL_STATES.open);\r\n    if (state === PANEL_STATES.collapsed) {\r\n      const dock = entry.dock || panel.dataset.origDock || \"footer\";\r\n      const target = document.querySelector(`.${dock}`) || document.querySelector(\".footer\");\r\n      if (target) setPanelOrder(target, panel, entry.order);\r\n      setPanelState(panel, PANEL_STATES.collapsed);\r\n      setPanelVisibility(panel, false);\r\n    } else if (state === PANEL_STATES.expanded) {\r\n      const center = document.querySelector(\".center\");\r\n      if (center) setPanelOrder(center, panel, entry.order);\r\n      setPanelState(panel, PANEL_STATES.expanded);\r\n    } else {\r\n      const container = document.querySelector(`.${entry.dock}`) || document.querySelector(\".footer\");\r\n      if (container) setPanelOrder(container, panel, entry.order);\r\n      setPanelState(panel, state);\r\n    }\r\n  });\r\n  syncFocusCount();\r\n  isRestoringLayout = false;\r\n  syncLayoutState();\r\n  return true;\r\n}\r\n\r\nfunction resetPanelSizing(panel) {\r\n  panel.style.width = \"\";\r\n  panel.style.height = \"\";\r\n  panel.style.marginLeft = \"\";\r\n  panel.style.marginTop = \"\";\r\n}\r\n\r\n\r\nfunction logRecommendation(type, payload) {\r\n  logEvent(`RECOMMEND ${type}: ${JSON.stringify(payload)}`);\r\n}\r\n\r\nfunction logChoice(type, payload) {\r\n  logEvent(`CHOICE ${type}: ${JSON.stringify(payload)}`);\r\n}\r\n\r\nfunction updateTrackRecommendation() {\r\n  const target = $(\"trackRecommend\");\r\n  if (!target) return;\r\n  const rec = recommendTrackPlan();\r\n  const writer = rec.songwriterId ? getCreator(rec.songwriterId) : null;\r\n  const performer = rec.performerId ? getCreator(rec.performerId) : null;\r\n  const producer = rec.producerId ? getCreator(rec.producerId) : null;\r\n  const modifierSelect = $(\"modifierSelect\");\r\n  const selectedModifierId = modifierSelect && modifierSelect.value ? modifierSelect.value : rec.modifierId;\r\n  const selectedModifier = getModifier(selectedModifierId);\r\n  const recModifier = getModifier(rec.modifierId);\r\n  const stage = state.ui.createStage || \"sheet\";\r\n  const stageLabel = stage === \"demo\"\r\n    ? \"Demo Recording\"\r\n    : stage === \"master\"\r\n      ? \"Master Recording\"\r\n      : \"Sheet Music\";\r\n  const stageIndex = stage === \"demo\" ? 1 : stage === \"master\" ? 2 : 0;\r\n  const stageInfo = STAGES[stageIndex];\r\n  const songwriterCount = getTrackSlotIds(\"Songwriter\").length;\r\n  const performerCount = getTrackSlotIds(\"Performer\").length;\r\n  const producerCount = getTrackSlotIds(\"Producer\").length;\r\n  const stageCount = stageIndex === 1 ? performerCount : stageIndex === 2 ? producerCount : songwriterCount;\r\n  const stageCountSafe = stageCount || 1;\r\n  const stageCrewIds = stageIndex === 1\r\n    ? getTrackSlotIds(\"Performer\")\r\n    : stageIndex === 2\r\n      ? getTrackSlotIds(\"Producer\")\r\n      : getTrackSlotIds(\"Songwriter\");\r\n  const stageCost = stageCrewIds.length ? getStageCost(stageIndex, selectedModifier, stageCrewIds) : 0;\r\n  const formatHours = (value) => {\r\n    if (!Number.isFinite(value)) return \"-\";\r\n    const rounded = Math.round(value * 100) / 100;\r\n    return rounded % 1 === 0 ? `${rounded}` : `${rounded}`;\r\n  };\r\n  const baseStageHours = getAdjustedStageHours(stageIndex, null, stageCountSafe);\r\n  const adjustedStageHours = getAdjustedStageHours(stageIndex, selectedModifier, stageCountSafe);\r\n  const stageDelta = adjustedStageHours - baseStageHours;\r\n  const stageDeltaLabel = stageDelta ? ` (${stageDelta > 0 ? \"+\" : \"\"}${formatHours(stageDelta)}h mod)` : \"\";\r\n  const baseTotalHours = getAdjustedTotalStageHours(null, {\r\n    Songwriter: songwriterCount || 1,\r\n    Performer: performerCount || 1,\r\n    Producer: producerCount || 1\r\n  });\r\n  const totalHours = getAdjustedTotalStageHours(selectedModifier, {\r\n    Songwriter: songwriterCount || 1,\r\n    Performer: performerCount || 1,\r\n    Producer: producerCount || 1\r\n  });\r\n  const totalDelta = totalHours - baseTotalHours;\r\n  const totalDeltaLabel = totalDelta ? ` (${totalDelta > 0 ? \"+\" : \"\"}${formatHours(totalDelta)}h mod)` : \"\";\r\n  const crewStats = stageCount ? getCrewStageStats(stageIndex, stageCount) : null;\r\n  const crewLine = stageInfo\r\n    ? stageCount\r\n      ? `<div class=\"muted\">Crew: ${stageCount} assigned | ${crewStats.minutesPerPiece}m per piece x${crewStats.pieces} | ${stageInfo.stamina * stageCount} stamina total</div>`\r\n      : `<div class=\"muted\">Crew: 0 assigned</div>`\r\n    : \"\";\r\n  const crewSummaryLine = `<div class=\"muted\">Selected crew: ${songwriterCount} songwriter(s) | ${performerCount} vocalist(s) | ${producerCount} producer(s)</div>`;\n  const stageLine = stageInfo\r\n    ? `Stage: ${stageLabel} | ${formatHours(adjustedStageHours)}h${stageDeltaLabel} | ${stageInfo.stamina} stamina each`\r\n    : `Stage: ${stageLabel}`;\r\n  const stageCostLine = stageInfo\r\n    ? `<div class=\"muted\">Stage cost: ${stageCrewIds.length ? formatMoney(stageCost) : \"-\"}</div>`\r\n    : \"\";\r\n  const totalLine = stageInfo\r\n    ? `<div class=\"muted\">Estimated total: ${formatHours(totalHours)}h${totalDeltaLabel}</div>`\r\n    : \"\";\r\n  const theme = $(\"themeSelect\") ? $(\"themeSelect\").value : \"\";\r\n  const mood = $(\"moodSelect\") ? $(\"moodSelect\").value : \"\";\r\n  const warnings = [];\r\n  const genreRanking = Array.isArray(state.genreRanking) ? state.genreRanking : [];\r\n  const selectedGenre = theme && mood ? `${theme} / ${mood}` : \"\";\r\n  const genreRank = genreRanking.length >= 40 && selectedGenre ? genreRanking.indexOf(selectedGenre) : -1;\r\n  if (genreRank >= 30 && genreRank <= 39) {\r\n    warnings.push(\"Unpopular genre may lower quality.\");\r\n  }\r\n  if (mood === \"Boring\") {\r\n    warnings.push(\"Boring moods reduce quality and never trend.\");\r\n  }\r\n  const warningHtml = warnings.length\r\n    ? warnings.map((note) => `<div class=\"muted\">Warning: ${note}</div>`).join(\"\")\r\n    : `<div class=\"muted\">Fit check: aligned creator preferences boost quality.</div>`;\r\n  target.innerHTML = `\r\n    <div class=\"muted\">${stageLine}</div>\r\n    ${stageCostLine}\r\n    ${crewLine}\r\n    ${totalLine}\r\n    ${crewSummaryLine}\r\n    <div class=\"muted\">Recommended: ${rec.theme} / ${rec.mood} | Modifier ${recModifier?.label || \"None\"} | Project ${rec.projectType}</div>\r\n    <div class=\"muted\">Songwriter ${writer ? writer.name : \"Unassigned\"} | Vocalist ${performer ? performer.name : \"Unassigned\"} | Producer ${producer ? producer.name : \"Unassigned\"}</div>\n    <div class=\"muted\">Act assignment happens at release.</div>\r\n    ${warningHtml}\r\n    <div class=\"tiny\">${rec.reasons}</div>\r\n  `;\r\n  renderCreateStageControls();\r\n}\r\n\r\nfunction applyTrackRecommendationPlan(rec, stage) {\r\n  if (stage === \"sheet\") {\r\n    const themeSelect = $(\"themeSelect\");\r\n    if (themeSelect) {\r\n      themeSelect.value = rec.theme;\r\n      setThemeSelectAccent(themeSelect);\r\n    }\r\n    if ($(\"moodSelect\")) $(\"moodSelect\").value = rec.mood;\r\n    if ($(\"modifierSelect\")) $(\"modifierSelect\").value = rec.modifierId;\r\n    if ($(\"projectTypeSelect\")) $(\"projectTypeSelect\").value = rec.projectType;\r\n  } else if (stage === \"demo\") {\r\n    if ($(\"moodSelect\")) $(\"moodSelect\").value = rec.mood;\r\n  }\r\n}\r\n\r\nfunction assignAllCreatorsToSlots() {\r\n  const roles = [\"Songwriter\", \"Performer\", \"Producer\"];\r\n  return roles.map((role) => {\r\n    const req = staminaRequirement(role);\r\n    const candidates = rankCandidates(role).filter((creator) => creator.ready && isCreatorOveruseSafe(creator, req));\r\n    setTrackSlotIds(role, candidates.map((creator) => creator.id));\r\n    return { role, count: getTrackSlotIds(role).length, req: staminaRequirement(role) };\r\n  });\r\n}\r\n\r\nfunction recommendAllCreators(stageOverride) {\r\n  const validStages = [\"sheet\", \"demo\", \"master\"];\r\n  const stage = validStages.includes(stageOverride)\r\n    ? stageOverride\r\n    : state.ui.createStage || \"sheet\";\r\n  if (stage !== state.ui.createStage) state.ui.createStage = stage;\r\n  const rec = recommendTrackPlan();\r\n  applyTrackRecommendationPlan(rec, stage);\r\n  const summary = assignAllCreatorsToSlots();\r\n  renderSlots();\r\n  saveToActiveSlot();\r\n  emitStateChanged();\r\n  updateGenrePreview();\r\n  updateTrackRecommendation();\r\n  const counts = summary.map((entry) => `${roleLabel(entry.role)} ${entry.count}`).join(\" | \");\r\n  logEvent(`Recommended all creators for track slots. ${counts || \"None assigned.\"}`);\r\n  const missing = summary.filter((entry) => entry.count === 0);\r\n  if (missing.length) {\r\n    const detail = missing.map((entry) => `${entry.role} (${entry.req} stamina)`).join(\", \");\r\n    logEvent(`No available creators for: ${detail}. Daily limit ${STAMINA_OVERUSE_LIMIT}.`, \"warn\");\r\n  }\r\n}\r\n\r\nfunction updateRecommendations() {\r\n  updateTrackRecommendation();\r\n}\r\n\r\nwindow.updateRecommendations = updateRecommendations;\r\nwindow.updateAutoCreateSummary = () => updateAutoCreateSummary(document);\r\nwindow.updateAutoPromoSummary = () => updateAutoPromoSummary(document);\r\nwindow.updateCreateModePanels = () => updateCreateModePanels(document);\r\n\r\nfunction ensureSlotDropdowns() {\r\n  try {\r\n    document.querySelectorAll(\".id-slot\").forEach((slot) => {\r\n      if (slot.closest(\"#rls-react-trackslots-root\")) return;\r\n      if (slot.querySelector(\".slot-select\")) return;\r\n      const select = document.createElement(\"select\");\r\n      select.className = \"slot-select\";\r\n      select.setAttribute(\"aria-label\", \"Select slot value\");\r\n      select.addEventListener(\"click\", (e) => e.stopPropagation());\r\n      select.addEventListener(\"change\", () => {\r\n        const target = slot.dataset.slotTarget;\r\n        const type = slot.dataset.slotType;\r\n        const value = select.value;\r\n        if (!target || !type) return;\r\n        if (!value) {\r\n          clearSlot(target);\r\n          return;\r\n        }\r\n        assignToSlot(target, type, value);\r\n      });\r\n      slot.appendChild(select);\r\n    });\r\n  } catch (error) {\r\n    console.error(\"ensureSlotDropdowns failed:\", error);\r\n  }\r\n}\r\n\r\nfunction listPromoProjectOptions(actId) {\r\n  const activeEraIds = new Set(\r\n    getActiveEras().filter((era) => era.status === \"Active\").map((era) => era.id)\r\n  );\r\n  const scheduledIds = new Set(state.releaseQueue.map((entry) => entry.trackId).filter(Boolean));\r\n  const projects = new Map();\r\n  state.tracks.forEach((track) => {\r\n    if (!track?.eraId || !activeEraIds.has(track.eraId)) return;\r\n    if (actId && track.actId !== actId) return;\r\n    const isReleased = isTrackReleaseReleased(track);\r\n    const isScheduled = isTrackReleaseScheduled(track) || scheduledIds.has(track.id);\r\n    if (!isReleased && !isScheduled) return;\r\n    const projectName = track.projectName || `${track.title} - Single`;\r\n    const projectType = normalizeProjectType(track.projectType || \"Single\");\r\n    const key = buildPromoProjectKey({\r\n      eraId: track.eraId,\r\n      actId: track.actId,\r\n      projectName,\r\n      projectType\r\n    });\r\n    if (!key) return;\r\n    if (projects.has(key)) return;\r\n    const act = track.actId ? getAct(track.actId) : null;\r\n    const actLabel = act ? ` | ${act.name}` : \"\";\r\n    projects.set(key, { value: key, label: `${projectName} (${projectType})${actLabel}` });\r\n  });\r\n  return Array.from(projects.values()).sort((a, b) => a.label.localeCompare(b.label));\r\n}\r\n\r\nif (typeof window !== \"undefined\") {\r\n  window.applyDefaultLayout = applyDefaultLayout;\r\n  window.resetViewLayout = resetViewLayout;\r\n  window.updateTimeControls = () => {\r\n    updateTimeControlButtons();\r\n    syncTimeControlAria();\r\n  };\r\n  window.stopAutoSkips = () => false;\r\n  window.loadCSV = loadCSV;\r\n  window.emitStateChanged = emitStateChanged;\r\n  window.updateSaveStatusPanel = () => updateSaveStatusPanel(document);\r\n  window.rlsUi = window.rlsUi || {};\r\n  window.rlsUi.setCalendarTab = setCalendarTab;\r\n  window.rlsUi.setCalendarFilter = setCalendarFilter;\r\n}\r\n\r\nfunction updateSlotDropdowns() {\r\n  try {\r\n  document.querySelectorAll(\".id-slot\").forEach((slot) => {\r\n    if (slot.closest(\"#rls-react-trackslots-root\")) return;\r\n    const select = slot.querySelector(\".slot-select\");\r\n    if (!select) return;\r\n    const target = slot.dataset.slotTarget;\r\n    const type = slot.dataset.slotType;\r\n    const role = slot.dataset.slotRole;\r\n    const currentValue = getSlotValue(target) || \"\";\r\n    const autoPromoSlot = parseAutoPromoSlotTarget(target);\r\n    const autoPromoSlots = autoPromoSlot ? ensureAutoPromoSlots() : null;\r\n    const isPromoActSlot = target === \"promo-act\" || autoPromoSlot?.kind === \"act\";\r\n    const isPromoProjectSlot = target === \"promo-project\" || autoPromoSlot?.kind === \"project\";\r\n    const isPromoTrackSlot = target === \"promo-track\" || autoPromoSlot?.kind === \"track\";\r\n\r\n    const options = [{ value: \"\", label: \"Unassigned\" }];\r\n    if (type === \"creator\") {\r\n      const req = role ? staminaRequirement(role) : 0;\r\n      const creators = state.creators.filter((creator) => !role || creator.role === role);\r\n      creators.forEach((creator) => {\r\n        const lowStamina = role && creator.stamina < req;\r\n        const roleText = roleLabel(creator.role);\r\n        const label = lowStamina\r\n          ? `${creator.name} (${roleText}) - Low stamina`\r\n          : `${creator.name} (${roleText})`;\r\n        options.push({ value: creator.id, label, disabled: lowStamina });\r\n      });\r\n    } else if (type === \"act\") {\r\n      let acts = state.acts;\r\n      if (isPromoActSlot) {\r\n        const activeActIds = new Set(\r\n          getActiveEras().filter((era) => era.status === \"Active\").map((era) => era.actId)\r\n        );\r\n        acts = state.acts.filter((act) => activeActIds.has(act.id));\r\n      }\r\n      acts.forEach((act) => {\r\n        options.push({ value: act.id, label: act.name });\r\n      });\r\n    } else if (type === \"project\") {\r\n      let actId = null;\r\n      if (target === \"promo-project\") {\r\n        actId = state.ui?.promoSlots?.actId || null;\r\n      } else if (isPromoProjectSlot && autoPromoSlots) {\r\n        actId = autoPromoSlots.actIds[autoPromoSlot.index] || null;\r\n      }\r\n      const projects = listPromoProjectOptions(actId);\r\n      projects.forEach((project) => {\r\n        options.push({ value: project.value, label: project.label });\r\n      });\r\n    } else if (type === \"track\") {\r\n      let tracks = state.tracks;\r\n      if (isPromoTrackSlot) {\r\n        const activeEraIds = new Set(\r\n          getActiveEras().filter((era) => era.status === \"Active\").map((era) => era.id)\r\n        );\r\n        let selectedActId = null;\r\n        let selectedProjectId = null;\r\n        if (target === \"promo-track\") {\r\n          selectedActId = state.ui?.promoSlots?.actId || null;\r\n          selectedProjectId = state.ui?.promoSlots?.projectId || null;\r\n        } else if (autoPromoSlot && autoPromoSlot.kind === \"track\" && autoPromoSlots) {\r\n          selectedActId = autoPromoSlots.actIds[autoPromoSlot.index] || null;\r\n          selectedProjectId = autoPromoSlots.projectIds[autoPromoSlot.index] || null;\r\n        }\r\n        const selectedProject = selectedProjectId ? parsePromoProjectKey(selectedProjectId) : null;\r\n        const projectName = selectedProject?.projectName || \"\";\r\n        const projectType = normalizeProjectType(selectedProject?.projectType || \"Single\");\r\n        const projectEraId = selectedProject?.eraId || null;\r\n        const projectActId = selectedProject?.actId || null;\r\n        tracks = state.tracks.filter((track) => {\r\n          if (!track.eraId || !activeEraIds.has(track.eraId)) return false;\r\n          if (isTrackReleaseReleased(track)) return true;\r\n          return state.releaseQueue.some((entry) => entry.trackId === track.id);\r\n        });\r\n        tracks = tracks.filter((track) => {\r\n          if (selectedActId && track.actId !== selectedActId) return false;\r\n          if (!selectedProject) return true;\r\n          if (projectEraId && track.eraId !== projectEraId) return false;\r\n          if (projectActId && track.actId !== projectActId) return false;\r\n          const trackProject = track.projectName || `${track.title} - Single`;\r\n          if (normalizeProjectName(trackProject) !== normalizeProjectName(projectName)) return false;\r\n          if (normalizeProjectType(track.projectType || \"Single\") !== projectType) return false;\r\n          return true;\r\n        });\r\n      }\r\n      tracks.forEach((track) => {\r\n        const releaseLabel = getTrackReleaseStatusLabel(getTrackReleaseStatus(track));\r\n        options.push({ value: track.id, label: `${track.title} (${releaseLabel})` });\r\n      });\r\n    }\r\n\r\n    select.innerHTML = \"\";\r\n    options.forEach((opt) => {\r\n      const option = document.createElement(\"option\");\r\n      option.value = opt.value;\r\n      option.textContent = opt.label;\r\n      if (opt.disabled) option.disabled = true;\r\n      select.appendChild(option);\r\n    });\r\n    select.value = currentValue;\r\n    select.disabled = slot.classList.contains(\"disabled\");\r\n  });\r\n  } catch (error) {\r\n    console.error(\"updateSlotDropdowns failed:\", error);\r\n  }\r\n}\r\n\r\nwindow.updateSlotDropdowns = updateSlotDropdowns;\r\nwindow.ensureSlotDropdowns = ensureSlotDropdowns;\r\n\r\nfunction ensureSocialDetailModal() {\r\n  if ($(\"socialDetailModal\")) return;\r\n  const overlay = document.createElement(\"div\");\r\n  overlay.id = \"socialDetailModal\";\r\n  overlay.className = \"overlay\";\r\n  overlay.setAttribute(\"aria-hidden\", \"true\");\r\n  overlay.innerHTML = `\r\n    <div class=\"overlay-card panel\">\r\n      <div class=\"card-head\">\r\n        <h2>Post Details</h2>\r\n        <button id=\"socialDetailClose\" type=\"button\" class=\"ghost\">Close</button>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <div id=\"socialDetailMeta\" class=\"muted\"></div>\r\n        <div id=\"socialDetailContent\" class=\"list\"></div>\r\n      </div>\r\n    </div>\r\n  `;\r\n  document.body.appendChild(overlay);\r\n  const closeBtn = $(\"socialDetailClose\");\r\n  if (closeBtn) {\r\n    closeBtn.addEventListener(\"click\", () => closeOverlay(\"socialDetailModal\"));\r\n  }\r\n  const feed = $(\"socialFeed\");\r\n  if (feed && !feed.dataset.detailBound) {\r\n    feed.dataset.detailBound = \"true\";\r\n    feed.addEventListener(\"click\", (event) => {\r\n      const item = event.target.closest(\".social-item\");\r\n      if (!item) return;\r\n      const id = item.dataset.postId;\r\n      if (!id) return;\r\n      const detail = resolveSocialDetail(id);\r\n      if (!detail) return;\r\n      const meta = $(\"socialDetailMeta\");\r\n      const content = $(\"socialDetailContent\");\r\n      if (meta) meta.textContent = `${detail.handle} | ${formatDate(detail.ts)} | ${detail.type}`;\r\n      if (content) {\r\n        const title = detail.title || detail.text || \"Update\";\r\n        const lines = detail.lines?.length ? detail.lines : (detail.text ? [detail.text] : []);\r\n        const body = lines.map((line) => `<div class=\"muted\">${line}</div>`).join(\"\");\r\n        content.innerHTML = `<div class=\"item-title\">${title}</div>${body}`;\r\n      }\r\n      openOverlay(\"socialDetailModal\");\r\n    });\r\n  }\r\n}\r\n\r\nfunction resolveSocialDetail(id) {\r\n  if (id.startsWith(\"LOG-\")) {\r\n    const ts = Number(id.replace(\"LOG-\", \"\"));\r\n    const entry = state.events.find((event) => event.ts === ts);\r\n    if (!entry) return null;\r\n    return { ts: entry.ts, handle: \"@System\", type: \"system\", text: entry.text, lines: [] };\r\n  }\r\n  const post = (state.social?.posts || []).find((entry) => entry.id === id);\r\n  if (!post) return null;\r\n  return post;\r\n}\r\n\r\nfunction renderPanelMenu() {\r\n  const list = $(\"panelMenuList\");\r\n  if (!list) return;\r\n  const root = document.querySelector(\".view\");\r\n  if (!root) return;\r\n  const route = state.ui.activeView || activeRoute;\r\n  const store = ensureViewPanelState(route, root);\r\n  const panels = Array.from(root.querySelectorAll(\".panel.card\"));\r\n  list.innerHTML = panels.map((panel) => {\r\n    const key = panelKey(panel);\r\n    const title = panelTitle(panel) || key || \"Panel\";\r\n    const entry = store[route]?.[key] || { state: VIEW_PANEL_STATES.open };\r\n    const stateLabel = entry.state === VIEW_PANEL_STATES.hidden ? \"Hidden\" : \"Open\";\r\n    const actionLabel = entry.state === VIEW_PANEL_STATES.hidden ? \"Show\" : \"Hide\";\r\n    return `\r\n      <div class=\"list-item\">\r\n        <div class=\"list-row\">\r\n          <div>\r\n            <div class=\"item-title\">${title}</div>\r\n            <div class=\"muted\">${stateLabel}</div>\r\n          </div>\r\n          <div class=\"actions\">\r\n            <button type=\"button\" class=\"ghost\" data-panel-toggle=\"${key}\">${actionLabel}</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }).join(\"\");\r\n}\r\n\r\nfunction setupFocusDismissal() {\r\n  const focus = document.querySelector(\".center\");\r\n  if (!focus) return;\r\n  focus.addEventListener(\"pointerdown\", (e) => {\r\n    if (e.target !== focus) return;\r\n    expandedPanels.slice().forEach((panel) => minimizePanel(panel));\r\n  });\r\n}\r\n\r\nfunction autoAssignCreators() {\r\n  renderAutoAssignModal();\r\n  openOverlay(\"autoAssignModal\");\r\n}\r\n\r\nfunction assignBestCandidates() {\r\n  const pickBest = (role) => {\r\n    const req = staminaRequirement(role);\r\n    const candidates = rankCandidates(role).filter((creator) => creator.ready && isCreatorOveruseSafe(creator, req));\r\n    if (!candidates.length) {\r\n      logEvent(`No available ${roleLabel(role)} creators under daily limit (${STAMINA_OVERUSE_LIMIT}).`, \"warn\");\r\n      return null;\r\n    }\r\n    return candidates[0].id || null;\r\n  };\r\n  setTrackSlotIds(\"Songwriter\", [pickBest(\"Songwriter\")]);\r\n  setTrackSlotIds(\"Performer\", [pickBest(\"Performer\")]);\r\n  setTrackSlotIds(\"Producer\", [pickBest(\"Producer\")]);\r\n  renderSlots();\r\n  saveToActiveSlot();\r\n  updateTrackRecommendation();\r\n}\r\n\r\nfunction renameLabelFromUI() {\r\n  const name = $(\"labelNameInput\").value.trim();\r\n  if (!name) {\r\n    logEvent(\"Label name cannot be empty.\", \"warn\");\r\n    $(\"labelNameInput\").value = state.label.name;\r\n    return;\r\n  }\r\n  if (name === state.label.name) return;\r\n  state.label.name = name;\r\n  state.marketTracks.forEach((track) => {\r\n    if (track.isPlayer) track.label = state.label.name;\r\n  });\r\n  $(\"labelNameInput\").value = state.label.name;\r\n  logEvent(`Label renamed to \"${state.label.name}\".`);\r\n  renderStats();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction startSoloTracksFromUI() {\r\n  const themeSelect = $(\"themeSelect\");\r\n  if (!themeSelect) {\r\n    logEvent(\"Theme selection unavailable.\", \"warn\");\r\n    return;\r\n  }\r\n  const theme = themeSelect.value;\r\n  if (!theme) {\r\n    shakeField(\"themeSelect\");\r\n    logEvent(\"Select a Theme to create sheet music.\", \"warn\");\r\n    return;\r\n  }\r\n  const moodSelect = $(\"moodSelect\");\r\n  const mood = moodSelect ? moodSelect.value : \"\";\r\n  const titleInput = $(\"trackTitle\").value.trim();\r\n  const projectNameInput = $(\"projectName\").value.trim();\r\n  const projectType = $(\"projectTypeSelect\") ? $(\"projectTypeSelect\").value : \"Single\";\r\n  const resolvedProjectType = normalizeProjectType(projectType);\r\n  const modifierId = $(\"modifierSelect\") ? $(\"modifierSelect\").value : \"None\";\r\n  const modifier = getModifier(modifierId);\r\n  const modifierCount = modifier && modifier.id !== \"None\" ? getModifierInventoryCount(modifier.id) : null;\r\n  const req = staminaRequirement(\"Songwriter\");\r\n  const assignedSongwriters = [...new Set(getTrackSlotIds(\"Songwriter\"))];\r\n  if (!assignedSongwriters.length) {\r\n    shakeSlot(primaryTrackSlotTarget(\"Songwriter\"));\r\n    logEvent(\"Cannot create sheet music: assign a Songwriter ID.\", \"warn\");\r\n    return;\r\n  }\r\n  const eligibleSongwriters = assignedSongwriters.filter((id) => {\r\n    const creator = getCreator(id);\r\n    return creator && creator.stamina >= req;\r\n  });\r\n  if (!eligibleSongwriters.length) {\r\n    logEvent(`No available Songwriter creators with ${req} stamina.`, \"warn\");\r\n    return;\r\n  }\r\n  if (eligibleSongwriters.length < assignedSongwriters.length) {\r\n    logEvent(\"Some songwriters were skipped due to low stamina.\", \"warn\");\r\n  }\r\n  const projectCheck = projectNameInput\r\n    ? evaluateProjectTrackConstraints(projectNameInput, resolvedProjectType)\r\n    : null;\r\n  if (projectCheck && !projectCheck.ok) {\r\n    shakeField(\"projectName\");\r\n    logEvent(projectCheck.reason, \"warn\");\r\n    return;\r\n  }\r\n  let maxTracksToCreate = eligibleSongwriters.length;\r\n  if (projectCheck?.limits && Number.isFinite(projectCheck.limits.max)) {\r\n    const remaining = projectCheck.limits.max - projectCheck.count;\r\n    if (remaining <= 0) {\r\n      logEvent(projectCheck.reason || \"Project track limit reached.\", \"warn\");\r\n      return;\r\n    }\r\n    if (remaining < maxTracksToCreate) {\r\n      logEvent(\r\n        `Only ${remaining} track slot${remaining === 1 ? \"\" : \"s\"} left for \"${projectNameInput}\" (${resolvedProjectType}).`,\r\n        \"warn\"\r\n      );\r\n      maxTracksToCreate = remaining;\r\n    }\r\n  }\r\n  if (modifier && modifier.id !== \"None\") {\r\n    if (!modifierCount) {\r\n      logEvent(`Modifier unavailable: ${modifier.label}.`, \"warn\");\r\n      return;\r\n    }\r\n    if (modifierCount < maxTracksToCreate) {\r\n      logEvent(`Only ${modifierCount} ${modifier.label} modifier${modifierCount === 1 ? \"\" : \"s\"} left.`, \"warn\");\r\n      maxTracksToCreate = modifierCount;\r\n    }\r\n  }\r\n  const availableStudios = getStudioAvailableSlots();\r\n  if (availableStudios <= 0) {\r\n    logEvent(\"No studio slots available. Finish a production or expand capacity first.\", \"warn\");\r\n    return;\r\n  }\r\n  const stageCosts = eligibleSongwriters.map((id) => getStageCost(0, modifier, [id]));\r\n  const minCost = stageCosts.length ? Math.min(...stageCosts) : 0;\r\n  if (state.label.cash < minCost) {\r\n    logEvent(\"Not enough cash to create new sheet music.\", \"warn\");\r\n    return;\r\n  }\r\n  const recommendation = recommendTrackPlan();\r\n  logRecommendation(\"startTrack\", {\r\n    version: recommendation.version,\r\n    actId: recommendation.actId,\r\n    theme: recommendation.theme,\r\n    mood: recommendation.mood,\r\n    songwriterIds: eligibleSongwriters,\r\n    modifierId: recommendation.modifierId,\r\n    projectType: recommendation.projectType,\r\n    studioSlotsAvailable: availableStudios,\r\n    reason: recommendation.reasons,\r\n    mode: \"solo\"\r\n  });\r\n  let startedCount = 0;\r\n  let stoppedByCash = false;\r\n  let stoppedByStudio = false;\r\n  for (let i = 0; i < eligibleSongwriters.length && startedCount < maxTracksToCreate; i += 1) {\r\n    const songwriterId = eligibleSongwriters[i];\r\n    const stageCost = getStageCost(0, modifier, [songwriterId]);\r\n    if (state.label.cash < stageCost) {\r\n      stoppedByCash = true;\r\n      break;\r\n    }\r\n    const title = titleInput\r\n      ? (eligibleSongwriters.length > 1 ? `${titleInput} ${i + 1}` : titleInput)\r\n      : makeTrackTitle(theme, mood);\r\n    const projectName = projectNameInput || makeProjectTitle();\r\n    const track = createTrack({\r\n      title,\r\n      theme,\r\n      songwriterIds: [songwriterId],\r\n      performerIds: [],\r\n      producerIds: [],\r\n      actId: null,\r\n      projectName,\r\n      projectType: resolvedProjectType,\r\n      modifierId\r\n    });\r\n    if (!track) {\r\n      stoppedByStudio = true;\r\n      break;\r\n    }\r\n    startedCount += 1;\r\n    logChoice(\"startTrack\", {\r\n      trackId: track.id,\r\n      theme,\r\n      mood,\r\n      songwriterIds: [songwriterId],\r\n      performerIds: [],\r\n      producerIds: [],\r\n      modifierId,\r\n      projectName,\r\n      projectType: resolvedProjectType,\r\n      mode: \"solo\"\r\n    });\r\n    logUiEvent(\"action_submit\", {\r\n      action: \"start_track\",\r\n      trackId: track.id,\r\n      theme,\r\n      mood,\r\n      projectType: resolvedProjectType,\r\n      mode: \"solo\",\r\n      songwriterId\r\n    });\r\n    const creator = getCreator(songwriterId);\r\n    const creatorLabel = creator ? ` by ${creator.name}` : \"\";\r\n    logEvent(`Created sheet music for \"${track.title}\" (Theme: ${track.theme})${creatorLabel}.`);\r\n  }\r\n  if (!startedCount) return;\r\n  if (eligibleSongwriters.length > 1) {\r\n    logEvent(`Created ${startedCount} solo track${startedCount === 1 ? \"\" : \"s\"}.`);\r\n  }\r\n  if (stoppedByCash) {\r\n    logEvent(\"Stopped early: not enough cash to create more tracks.\", \"warn\");\r\n  }\r\n  if (stoppedByStudio) {\r\n    logEvent(\"Stopped early: no studio slots available to create more sheet music.\", \"warn\");\r\n  }\r\n  $(\"trackTitle\").value = \"\";\r\n  $(\"projectName\").value = \"\";\r\n  if ($(\"projectTypeSelect\")) $(\"projectTypeSelect\").value = \"Single\";\r\n  renderAll();\r\n}\r\n\r\nfunction getSelectedStageTrackId(stageId) {\r\n  if (stageId === \"demo\") {\r\n    const selected = (state.ui.createTrackIds && state.ui.createTrackIds.demo)\r\n      || $(\"demoTrackSelect\")?.value\r\n      || null;\r\n    if (state.ui.createTrackIds) state.ui.createTrackIds.demo = selected || null;\r\n    return selected || null;\r\n  }\r\n  if (stageId === \"master\") {\r\n    const selected = (state.ui.createTrackIds && state.ui.createTrackIds.master)\r\n      || $(\"masterTrackSelect\")?.value\r\n      || null;\r\n    if (state.ui.createTrackIds) state.ui.createTrackIds.master = selected || null;\r\n    return selected || null;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction startDemoFromUI() {\r\n  const trackId = getSelectedStageTrackId(\"demo\");\r\n  if (!trackId) {\r\n    logEvent(\"Select a track awaiting demo recording.\", \"warn\");\r\n    return;\r\n  }\r\n  const track = getTrack(trackId);\r\n  if (!track) {\r\n    logEvent(\"Track not found for demo recording.\", \"warn\");\r\n    return;\r\n  }\r\n  const mood = $(\"moodSelect\") ? $(\"moodSelect\").value : \"\";\r\n  const performerIds = getTrackSlotIds(\"Performer\");\r\n  const started = startDemoStage(track, mood, performerIds);\r\n  if (started) {\r\n    logChoice(\"track_stage\", { trackId, action: \"demo\", mood, performerIds });\r\n    logUiEvent(\"action_submit\", { action: \"start_demo\", trackId, mood, performerIds });\r\n    renderAll();\r\n  }\r\n}\r\n\r\nfunction startMasterFromUI() {\r\n  const trackId = getSelectedStageTrackId(\"master\");\r\n  if (!trackId) {\r\n    logEvent(\"Select a track awaiting mastering.\", \"warn\");\r\n    return;\r\n  }\r\n  const track = getTrack(trackId);\r\n  if (!track) {\r\n    logEvent(\"Track not found for mastering.\", \"warn\");\r\n    return;\r\n  }\r\n  const producerIds = getTrackSlotIds(\"Producer\");\r\n  const alignment = $(\"trackAlignment\") ? $(\"trackAlignment\").value : \"\";\r\n  const started = startMasterStage(track, producerIds, alignment);\r\n  if (started) {\r\n    logChoice(\"track_stage\", { trackId, action: \"master\", producerIds, alignment });\r\n    logUiEvent(\"action_submit\", { action: \"start_master\", trackId, producerIds, alignment });\r\n    renderAll();\r\n  }\r\n}\r\n\r\nfunction startSheetFromUI() {\r\n  if (state.ui.recommendAllMode === \"solo\") {\r\n    startSoloTracksFromUI();\r\n    return;\r\n  }\r\n\r\n  const themeSelect = $(\"themeSelect\");\r\n  if (!themeSelect) {\r\n    logEvent(\"Theme selection unavailable.\", \"warn\");\r\n    return;\r\n  }\r\n  const theme = themeSelect.value;\r\n  if (!theme) {\r\n    shakeField(\"themeSelect\");\r\n    logEvent(\"Select a Theme to create sheet music.\", \"warn\");\r\n    return;\r\n  }\r\n  const moodSelect = $(\"moodSelect\");\r\n  const mood = moodSelect ? moodSelect.value : \"\";\r\n  const title = $(\"trackTitle\").value.trim() || makeTrackTitle(theme, mood);\r\n  const projectName = $(\"projectName\").value.trim() || makeProjectTitle();\r\n  const projectType = $(\"projectTypeSelect\") ? $(\"projectTypeSelect\").value : \"Single\";\r\n  const resolvedProjectType = normalizeProjectType(projectType);\r\n  const modifierId = $(\"modifierSelect\") ? $(\"modifierSelect\").value : \"None\";\r\n  const modifier = getModifier(modifierId);\r\n  if (modifier && modifier.id !== \"None\" && getModifierInventoryCount(modifier.id) <= 0) {\r\n    logEvent(`Modifier unavailable: ${modifier.label}.`, \"warn\");\r\n    return;\r\n  }\r\n  const songwriterIds = getTrackSlotIds(\"Songwriter\");\r\n  const performerIds = getTrackSlotIds(\"Performer\");\r\n  const producerIds = getTrackSlotIds(\"Producer\");\r\n  if (!songwriterIds.length) {\r\n    shakeSlot(primaryTrackSlotTarget(\"Songwriter\"));\r\n    logEvent(\"Cannot create sheet music: assign a Songwriter ID.\", \"warn\");\r\n    return;\r\n  }\r\n  const projectCheck = evaluateProjectTrackConstraints(projectName, resolvedProjectType);\r\n  if (!projectCheck.ok) {\r\n    shakeField(\"projectName\");\r\n    logEvent(projectCheck.reason, \"warn\");\r\n    return;\r\n  }\r\n  const availableStudios = getStudioAvailableSlots();\r\n  if (availableStudios <= 0) {\r\n    logEvent(\"No studio slots available. Finish a production or expand capacity first.\", \"warn\");\r\n    return;\r\n  }\r\n  const stageCost = getStageCost(0, modifier, songwriterIds);\r\n  if (state.label.cash < stageCost) {\r\n    logEvent(\"Not enough cash to create new sheet music.\", \"warn\");\r\n    return;\r\n  }\r\n  const recommendation = recommendTrackPlan();\r\n  logRecommendation(\"startTrack\", {\r\n    version: recommendation.version,\r\n    actId: recommendation.actId,\r\n    theme: recommendation.theme,\r\n    mood: recommendation.mood,\r\n    songwriterId: recommendation.songwriterId,\r\n    performerId: recommendation.performerId,\r\n    producerId: recommendation.producerId,\r\n    modifierId: recommendation.modifierId,\r\n    projectType: recommendation.projectType,\r\n    studioSlotsAvailable: availableStudios,\r\n    reason: recommendation.reasons\r\n  });\r\n  const track = createTrack({\r\n    title,\r\n    theme,\r\n    songwriterIds,\r\n    performerIds,\r\n    producerIds,\r\n    actId: null,\r\n    projectName,\r\n    projectType: resolvedProjectType,\r\n    modifierId\r\n  });\r\n  if (!track) return;\r\n  logChoice(\"startTrack\", {\r\n    trackId: track.id,\r\n    theme,\r\n    mood,\r\n    songwriterIds,\r\n    performerIds,\r\n    producerIds,\r\n    modifierId,\r\n    projectName,\r\n    projectType: resolvedProjectType\r\n  });\r\n  logUiEvent(\"action_submit\", {\r\n    action: \"start_track\",\r\n    trackId: track.id,\r\n    theme,\r\n    mood,\r\n    projectType: resolvedProjectType\r\n  });\r\n  logEvent(`Created sheet music for \"${track.title}\" (Theme: ${track.theme}).`);\r\n  $(\"trackTitle\").value = \"\";\r\n  $(\"projectName\").value = \"\";\r\n  if ($(\"projectTypeSelect\")) $(\"projectTypeSelect\").value = \"Single\";\r\n  renderAll();\r\n}\r\n\r\nfunction startTrackFromUI() {\r\n  const stage = state.ui.createStage || \"sheet\";\r\n  if (stage === \"demo\") {\r\n    startDemoFromUI();\r\n    return;\r\n  }\r\n  if (stage === \"master\") {\r\n    startMasterFromUI();\r\n    return;\r\n  }\r\n  startSheetFromUI();\r\n}\r\n\r\nconst CREATOR_ACT_LIMIT = 4;\r\nconst QUICK_ACT_GROUP_SIZES = [\"2-3\", \"2\", \"3\"];\r\nconst QUICK_ACT_GENDER_KEYS = [\"man\", \"woman\", \"nonbinary\", \"unspecified\"];\r\nconst QUICK_ACT_FILTER_DEFAULTS = {\r\n  groupSize: \"2-3\",\r\n  genderIdentity: \"\",\r\n  ageGroup: \"\",\r\n  theme: \"Any\",\r\n  mood: \"Any\",\r\n  alignment: \"Label\",\r\n  minSkillLevel: null,\r\n  maxSkillLevel: null\r\n};\r\n\r\nfunction buildCreatorActCounts() {\r\n  const counts = {};\r\n  state.acts.forEach((act) => {\r\n    if (!Array.isArray(act.memberIds)) return;\r\n    act.memberIds.forEach((id) => {\r\n      if (!id) return;\r\n      counts[id] = (counts[id] || 0) + 1;\r\n    });\r\n  });\r\n  return counts;\r\n}\r\n\r\nfunction getCreatorsOverActLimit(memberIds, actCounts) {\r\n  return memberIds\r\n    .map((id) => getCreator(id))\r\n    .filter((creator) => creator && (actCounts[creator.id] || 0) >= CREATOR_ACT_LIMIT);\r\n}\r\n\r\nfunction normalizeActMemberIds(memberIds) {\r\n  const ids = Array.isArray(memberIds) ? memberIds.filter(Boolean) : [];\r\n  return Array.from(new Set(ids)).sort();\r\n}\r\n\r\nfunction buildActMemberKey(memberIds) {\r\n  return normalizeActMemberIds(memberIds).join(\"|\");\r\n}\r\n\r\nfunction buildExistingActMemberKeys() {\r\n  const keys = new Set();\r\n  state.acts.forEach((act) => {\r\n    if (!Array.isArray(act.memberIds)) return;\r\n    const key = buildActMemberKey(act.memberIds);\r\n    if (key) keys.add(key);\r\n  });\r\n  return keys;\r\n}\r\n\r\nfunction findFirstUniqueMemberSet(pool, size, existingKeys) {\r\n  const total = pool.length;\r\n  if (size === 1) {\r\n    for (let i = 0; i < total; i += 1) {\r\n      const key = buildActMemberKey([pool[i]]);\r\n      if (!existingKeys.has(key)) return [pool[i]];\r\n    }\r\n    return null;\r\n  }\r\n  if (size === 2) {\r\n    for (let i = 0; i < total - 1; i += 1) {\r\n      for (let j = i + 1; j < total; j += 1) {\r\n        const members = [pool[i], pool[j]];\r\n        const key = buildActMemberKey(members);\r\n        if (!existingKeys.has(key)) return members;\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n  if (size === 3) {\r\n    for (let i = 0; i < total - 2; i += 1) {\r\n      for (let j = i + 1; j < total - 1; j += 1) {\r\n        for (let k = j + 1; k < total; k += 1) {\r\n          const members = [pool[i], pool[j], pool[k]];\r\n          const key = buildActMemberKey(members);\r\n          if (!existingKeys.has(key)) return members;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction pickUniqueMemberSet(pool, size, existingKeys) {\r\n  if (pool.length < size) return null;\r\n  const maxAttempts = Math.min(24, pool.length * 2 + 6);\r\n  for (let i = 0; i < maxAttempts; i += 1) {\r\n    const members = pickDistinct(pool, size);\r\n    if (members.length !== size) continue;\r\n    const key = buildActMemberKey(members);\r\n    if (!existingKeys.has(key)) return members;\r\n  }\r\n  return findFirstUniqueMemberSet(pool, size, existingKeys);\r\n}\r\n\r\nfunction pickUniqueQuickActMembers(pool, sizeOrder, existingKeys) {\r\n  const tried = new Set();\r\n  for (const size of sizeOrder) {\r\n    if (tried.has(size)) continue;\r\n    tried.add(size);\r\n    const members = pickUniqueMemberSet(pool, size, existingKeys);\r\n    if (members) return members;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction ensureQuickActFilters() {\r\n  if (!state.ui.quickActFilters || typeof state.ui.quickActFilters !== \"object\") {\r\n    state.ui.quickActFilters = { ...QUICK_ACT_FILTER_DEFAULTS };\r\n  }\r\n  return state.ui.quickActFilters;\r\n}\r\n\r\nfunction normalizeQuickActGender(value) {\r\n  const raw = String(value || \"\").trim().toLowerCase();\r\n  if (!raw) return \"\";\r\n  if (raw === \"non-binary\") return \"nonbinary\";\r\n  if (QUICK_ACT_GENDER_KEYS.includes(raw)) return raw;\r\n  return \"\";\r\n}\r\n\r\nfunction getCreatorSkillLevelForQuickAct(creator) {\r\n  const skill = Number.isFinite(creator?.skill) ? creator.skill : SKILL_MIN;\r\n  const bounded = clamp(skill, SKILL_MIN, SKILL_MAX) - SKILL_MIN;\r\n  const step = Math.max(1, (SKILL_MAX - SKILL_MIN + 1) / 10);\r\n  return clamp(Math.floor(bounded / step) + 1, 1, 10);\r\n}\r\n\r\nfunction resolveQuickActFilters() {\r\n  const raw = ensureQuickActFilters();\r\n  const groupSize = QUICK_ACT_GROUP_SIZES.includes(raw.groupSize) ? raw.groupSize : \"2-3\";\r\n  const genderIdentity = normalizeQuickActGender(raw.genderIdentity);\r\n  const ageGroup = typeof raw.ageGroup === \"string\" ? raw.ageGroup : \"\";\r\n  const theme = THEMES.includes(raw.theme) ? raw.theme : \"Any\";\r\n  const mood = MOODS.includes(raw.mood) ? raw.mood : \"Any\";\r\n  const alignment = raw.alignment === \"Label\" || ALIGNMENTS.includes(raw.alignment) ? raw.alignment : \"Label\";\r\n  let minSkillLevel = Number.isFinite(raw.minSkillLevel) ? clamp(Math.round(raw.minSkillLevel), 1, 10) : null;\r\n  let maxSkillLevel = Number.isFinite(raw.maxSkillLevel) ? clamp(Math.round(raw.maxSkillLevel), 1, 10) : null;\r\n  if (minSkillLevel && maxSkillLevel && minSkillLevel > maxSkillLevel) {\r\n    const swap = minSkillLevel;\r\n    minSkillLevel = maxSkillLevel;\r\n    maxSkillLevel = swap;\r\n  }\r\n  return {\r\n    groupSize,\r\n    genderIdentity,\r\n    ageGroup,\r\n    theme,\r\n    mood,\r\n    alignment,\r\n    minSkillLevel,\r\n    maxSkillLevel\r\n  };\r\n}\r\n\r\nfunction hasActiveQuickActFilters(filters) {\r\n  return Boolean(\r\n    filters.genderIdentity\r\n    || filters.ageGroup\r\n    || filters.theme !== \"Any\"\r\n    || filters.mood !== \"Any\"\r\n    || filters.minSkillLevel\r\n    || filters.maxSkillLevel\r\n  );\r\n}\r\n\r\nfunction filterQuickActCreators(filters, actCounts) {\r\n  return state.creators.filter((creator) => {\r\n    if ((actCounts[creator.id] || 0) >= CREATOR_ACT_LIMIT) return false;\r\n    if (filters.genderIdentity) {\r\n      const creatorGender = normalizeQuickActGender(creator.genderIdentity);\r\n      if (filters.genderIdentity === \"unspecified\") {\r\n        if (creatorGender) return false;\r\n      } else if (creatorGender !== filters.genderIdentity) {\r\n        return false;\r\n      }\r\n    }\r\n    if (filters.ageGroup && creator.ageGroup !== filters.ageGroup) return false;\r\n    if (filters.theme !== \"Any\" && !creator.prefThemes?.includes(filters.theme)) return false;\r\n    if (filters.mood !== \"Any\" && !creator.prefMoods?.includes(filters.mood)) return false;\r\n    const skillLevel = getCreatorSkillLevelForQuickAct(creator);\r\n    if (filters.minSkillLevel && skillLevel < filters.minSkillLevel) return false;\r\n    if (filters.maxSkillLevel && skillLevel > filters.maxSkillLevel) return false;\r\n    return true;\r\n  });\r\n}\r\n\r\nfunction createActFromUI() {\r\n  const nameInput = $(\"actName\");\r\n  const inputName = nameInput.value.trim();\r\n  const inputNameKey = nameInput.dataset.nameKey || null;\r\n  let name = inputName;\r\n  let nameKey = inputNameKey;\r\n  const type = $(\"actTypeSelect\").value;\r\n  const alignment = $(\"actAlignmentSelect\").value;\r\n  const lead = state.ui.actSlots.lead;\r\n  const member2 = state.ui.actSlots.member2;\r\n  const member3 = state.ui.actSlots.member3;\r\n  if (!lead) {\r\n    logEvent(\"Cannot create act: choose a lead creator.\", \"warn\");\r\n    return;\r\n  }\r\n  let members = [lead];\r\n  if (type === \"Group Act\") {\r\n    if (member2) members.push(member2);\r\n    if (member3) members.push(member3);\r\n    members = [...new Set(members)];\r\n    if (members.length < 2) {\r\n      logEvent(\"Group Act needs at least 2 members.\", \"warn\");\r\n      return;\r\n    }\r\n  }\r\n  const actCounts = buildCreatorActCounts();\r\n  const blockedCreators = getCreatorsOverActLimit(members, actCounts);\r\n  if (blockedCreators.length) {\r\n    const names = blockedCreators.map((creator) => creator.name).join(\", \");\r\n    const verb = blockedCreators.length === 1 ? \"is\" : \"are\";\r\n    logEvent(`Cannot create act: ${names} ${verb} already in ${CREATOR_ACT_LIMIT} acts.`, \"warn\");\r\n    return;\r\n  }\r\n  const actKind = type === \"Solo Act\" ? \"solo\" : \"group\";\r\n  if (!name) {\r\n    const generated = makeActNameEntry({ actKind, memberIds: members });\r\n    name = generated.name;\r\n    nameKey = generated.nameKey;\r\n  } else if (!inputNameKey) {\r\n    nameKey = null;\r\n  }\r\n  const act = registerAct(makeAct({ name, nameKey, type, alignment, memberIds: members }), { reason: \"Created\" });\r\n  if (!state.ui) state.ui = {};\r\n  state.ui.lastCreatedActId = act.id;\r\n  logUiEvent(\"action_submit\", { action: \"create_act\", actId: act.id, type });\r\n  logEvent(`Created ${act.type} \"${act.name}\".`);\r\n  const memberNames = members\r\n    .map((id) => getCreator(id))\r\n    .filter(Boolean)\r\n    .map((creator) => creator.name)\r\n    .filter(Boolean);\r\n  showToast(\r\n    `Act created: ${act.name}`,\r\n    memberNames.length ? `Members: ${memberNames.join(\", \")}` : \"Members assigned at creation.\",\r\n    { tone: \"success\" }\r\n  );\r\n  nameInput.value = \"\";\r\n  delete nameInput.dataset.nameKey;\r\n  state.ui.trackSlots.actId = act.id;\r\n  renderActs();\r\n  renderCreators();\r\n  renderSlots();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction createQuickAct() {\r\n  if (!state.creators.length) {\r\n    logEvent(\"No creators available to form an act.\", \"warn\");\r\n    return;\r\n  }\r\n  const actCounts = buildCreatorActCounts();\r\n  const eligibleCreators = state.creators.filter((creator) => (actCounts[creator.id] || 0) < CREATOR_ACT_LIMIT);\r\n  if (!eligibleCreators.length) {\r\n    logEvent(`No creators available to form an act (all creators are in ${CREATOR_ACT_LIMIT} acts).`, \"warn\");\r\n    return;\r\n  }\r\n  const existingKeys = buildExistingActMemberKeys();\r\n  const pool = eligibleCreators.map((creator) => creator.id);\r\n  const canGroup = pool.length >= 2;\r\n  const chooseGroup = canGroup && Math.random() < 0.5;\r\n  const sizeOrder = [];\r\n  if (chooseGroup) {\r\n    const canThree = pool.length >= 3;\r\n    const preferThree = canThree && Math.random() < 0.5;\r\n    if (preferThree) {\r\n      sizeOrder.push(3, 2);\r\n    } else {\r\n      sizeOrder.push(2, 3);\r\n    }\r\n    sizeOrder.push(1);\r\n  } else {\r\n    sizeOrder.push(1, 2, 3);\r\n  }\r\n  const memberIds = pickUniqueQuickActMembers(pool, sizeOrder, existingKeys);\r\n  if (!memberIds) {\r\n    logEvent(\"Quick Act skipped: all eligible member lineups already exist. Create an act manually to reuse members.\", \"warn\");\r\n    return;\r\n  }\r\n  const actKind = memberIds.length > 1 ? \"group\" : \"solo\";\r\n  const type = actKind === \"group\" ? \"Group Act\" : \"Solo Act\";\r\n  const actNameEntry = makeActNameEntry({ actKind, memberIds });\r\n  const act = registerAct(makeAct({\r\n    name: actNameEntry.name,\r\n    nameKey: actNameEntry.nameKey,\r\n    type,\r\n    alignment: state.label.alignment,\r\n    memberIds\r\n  }), { reason: \"Quick Act\" });\r\n  logUiEvent(\"action_submit\", { action: \"create_act_quick\", actId: act.id, type });\r\n  logEvent(`Created ${act.type} \"${act.name}\".`);\r\n  state.ui.trackSlots.actId = act.id;\r\n  renderActs();\r\n  renderCreators();\r\n  renderSlots();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction createQuickGroupAct() {\r\n  if (!state.creators.length) {\r\n    logEvent(\"No creators available to form a group act.\", \"warn\");\r\n    return;\r\n  }\r\n  const actCounts = buildCreatorActCounts();\r\n  const filters = resolveQuickActFilters();\r\n  const eligibleCreators = filterQuickActCreators(filters, actCounts);\r\n  if (!eligibleCreators.length) {\r\n    const filterNote = hasActiveQuickActFilters(filters)\r\n      ? \" No creators match the current filters.\"\r\n      : ` All creators are already in ${CREATOR_ACT_LIMIT} acts.`;\r\n    logEvent(`Quick Group Act blocked:${filterNote}`, \"warn\");\r\n    return;\r\n  }\r\n  const pool = eligibleCreators.map((creator) => creator.id);\r\n  const minRequired = filters.groupSize === \"3\" ? 3 : 2;\r\n  if (pool.length < minRequired) {\r\n    logEvent(`Quick Group Act blocked: need ${minRequired} creators, found ${pool.length}.`, \"warn\");\r\n    return;\r\n  }\r\n  const existingKeys = buildExistingActMemberKeys();\r\n  const sizeOrder = (() => {\r\n    if (filters.groupSize === \"2\") return [2];\r\n    if (filters.groupSize === \"3\") return [3];\r\n    return Math.random() < 0.5 ? [2, 3] : [3, 2];\r\n  })();\r\n  const memberIds = pickUniqueQuickActMembers(pool, sizeOrder, existingKeys);\r\n  if (!memberIds) {\r\n    logEvent(\"Quick Group Act skipped: all eligible member lineups already exist. Create an act manually to reuse members.\", \"warn\");\r\n    return;\r\n  }\r\n  const actNameEntry = makeActNameEntry({ actKind: \"group\", memberIds });\r\n  const alignment = filters.alignment === \"Label\" ? state.label.alignment : filters.alignment;\r\n  const act = registerAct(makeAct({\r\n    name: actNameEntry.name,\r\n    nameKey: actNameEntry.nameKey,\r\n    type: \"Group Act\",\r\n    alignment,\r\n    memberIds\r\n  }), { reason: \"Quick Group Act\" });\r\n  logUiEvent(\"action_submit\", { action: \"create_act_quick_group\", actId: act.id, type: act.type });\r\n  logEvent(`Created ${act.type} \"${act.name}\".`);\r\n  state.ui.trackSlots.actId = act.id;\r\n  renderActs();\r\n  renderCreators();\r\n  renderSlots();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction resetQuickActFilters() {\r\n  state.ui.quickActFilters = { ...QUICK_ACT_FILTER_DEFAULTS };\r\n  refreshSelectOptions();\r\n  renderAll();\r\n}\r\n\r\nfunction startEraFromUI() {\r\n  const actId = state.ui.eraSlots.actId;\r\n  if (!actId) {\r\n    logEvent(\"Cannot start Era: assign an Act ID.\", \"warn\");\r\n    return;\r\n  }\r\n  const rolloutId = $(\"eraRolloutSelect\").value || ROLLOUT_PRESETS[1].id;\r\n  const nameInput = $(\"eraNameInput\").value.trim();\r\n  const act = getAct(actId);\r\n  const name = nameInput || makeEraName(act ? act.name : \"New Act\");\r\n  const era = startEraForAct({ actId, name, rolloutId });\r\n  logUiEvent(\"action_submit\", { action: \"start_era\", eraId: era.id, actId });\r\n  $(\"eraNameInput\").value = \"\";\r\n  renderEraStatus();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction endEraFromUI() {\r\n  const actId = state.ui.eraSlots.actId;\r\n  const active = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const candidates = actId ? active.filter((entry) => entry.actId === actId) : active;\r\n  if (!candidates.length) {\r\n    logEvent(\"No active Era to end.\", \"warn\");\r\n    return;\r\n  }\r\n  const era = candidates.reduce((latest, entry) => {\r\n    const latestStamp = latest.startedAt ?? latest.startedWeek ?? 0;\r\n    const entryStamp = entry.startedAt ?? entry.startedWeek ?? 0;\r\n    return entryStamp >= latestStamp ? entry : latest;\r\n  }, candidates[0]);\r\n  const ended = endEraById(era.id, \"manual\");\r\n  if (!ended) {\r\n    logEvent(\"Era could not be ended.\", \"warn\");\r\n    return;\r\n  }\r\n  logUiEvent(\"action_submit\", { action: \"end_era\", eraId: era.id });\r\n  renderEraStatus();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction getSelectedRolloutStrategyIdFromUI() {\r\n  const select = $(\"rolloutStrategySelect\");\r\n  if (select && select.value) return select.value;\r\n  return state.ui?.viewContext?.rolloutStrategyId || null;\r\n}\r\n\r\nfunction getSelectedRolloutTemplateIdFromUI() {\r\n  const select = $(\"rolloutStrategyTemplateSelect\");\r\n  if (select && select.value) return select.value;\r\n  return state.ui?.viewContext?.selectedRolloutTemplateId || null;\r\n}\r\n\r\nfunction resolveRolloutTemplateLabel(templateId) {\r\n  if (!templateId) return \"Plan\";\r\n  const match = getRolloutPlanById(templateId);\r\n  return match?.label || templateId;\r\n}\r\n\r\nfunction selectRolloutTemplateFromUI(e) {\r\n  const templateId = e.target.value || null;\r\n  if (!state.ui.viewContext) {\r\n    state.ui.viewContext = {\r\n      actId: null,\r\n      eraId: null,\r\n      releaseId: null,\r\n      projectId: null,\r\n      plannedReleaseIds: [],\r\n      selectedRolloutTemplateId: null,\r\n      rolloutStrategyId: null\r\n    };\r\n  }\r\n  state.ui.viewContext.selectedRolloutTemplateId = templateId;\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction getRolloutWeekFromUI() {\r\n  const input = $(\"rolloutStrategyWeek\");\r\n  if (!input) return null;\r\n  const value = Math.floor(Number(input.value) || 0);\r\n  return value > 0 ? value : null;\r\n}\r\n\r\nfunction getRolloutFocusTypeFromUI() {\r\n  const select = $(\"rolloutStrategyFocusType\");\r\n  return select?.value || \"Era\";\r\n}\r\n\r\nfunction getRolloutFocusTargetFromUI() {\r\n  const input = $(\"rolloutStrategyFocusTarget\");\r\n  return input?.value ? input.value.trim() : \"\";\r\n}\r\n\r\nfunction resolveRolloutFocusTarget(focusType, rawValue) {\r\n  const value = rawValue ? rawValue.trim() : \"\";\r\n  if (!value) return { focusId: null, focusLabel: null };\r\n  if (focusType === \"Release\") {\r\n    const track = getTrack(value);\r\n    if (track) return { focusId: track.id, focusLabel: track.title };\r\n    return { focusId: value, focusLabel: value };\r\n  }\r\n  if (focusType === \"Project\") {\r\n    const match = state.tracks.find((track) => {\r\n      const projectName = track.projectName || `${track.title} - Single`;\r\n      return projectName === value;\r\n    });\r\n    const label = match?.projectName || (match ? `${match.title} - Single` : value);\r\n    return { focusId: null, focusLabel: label };\r\n  }\r\n  if (focusType === \"Tour\") {\r\n    const drafts = listTourDrafts();\r\n    const match = drafts.find((draft) => draft.id === value || draft.name === value);\r\n    if (match) return { focusId: match.id, focusLabel: match.name || match.id };\r\n    return { focusId: value, focusLabel: value };\r\n  }\r\n  if (focusType === \"Campaign\") {\r\n    return { focusId: null, focusLabel: value };\r\n  }\r\n  return { focusId: value, focusLabel: value };\r\n}\r\n\r\nfunction applyRolloutStrategyFocusFromUI(strategy, era) {\r\n  if (!strategy || !era) return;\r\n  const focusType = getRolloutFocusTypeFromUI();\r\n  if (focusType === \"Era\") {\r\n    strategy.focusType = \"Era\";\r\n    strategy.focusId = era.id;\r\n    strategy.focusLabel = era.name;\r\n    strategy.label = `${era.name} Plan`;\r\n    return;\r\n  }\r\n  strategy.focusType = focusType;\r\n  const resolved = resolveRolloutFocusTarget(focusType, getRolloutFocusTargetFromUI());\r\n  strategy.focusId = resolved.focusId;\r\n  strategy.focusLabel = resolved.focusLabel;\r\n  if (resolved.focusLabel) strategy.label = `${resolved.focusLabel} Plan`;\r\n}\r\n\r\nfunction updateRolloutStrategyFocusFromUI() {\r\n  const strategyId = getSelectedRolloutStrategyIdFromUI();\r\n  if (!strategyId) return;\r\n  const strategy = getRolloutStrategyById(strategyId);\r\n  if (!strategy) return;\r\n  const era = strategy.eraId ? getEraById(strategy.eraId) : getRolloutPlanningEra();\r\n  if (!era) return;\r\n  applyRolloutStrategyFocusFromUI(strategy, era);\r\n  renderEraStatus();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction createRolloutStrategyFromUI() {\r\n  const era = getRolloutPlanningEra();\r\n  if (!era) {\r\n    logEvent(\"Focus an active era to create a rollout plan.\", \"warn\");\r\n    return;\r\n  }\r\n  const strategy = createRolloutStrategyForEra(era);\r\n  if (!strategy) return;\r\n  applyRolloutStrategyFocusFromUI(strategy, era);\r\n  setSelectedRolloutStrategyId(strategy.id);\r\n  logUiEvent(\"action_submit\", { action: \"rollout_strategy_create\", eraId: era.id, strategyId: strategy.id });\r\n  renderEraStatus();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction createRolloutStrategyFromTemplateFromUI() {\r\n  const era = getRolloutPlanningEra();\r\n  if (!era) {\r\n    logEvent(\"Focus an active era to apply a rollout plan.\", \"warn\");\r\n    return;\r\n  }\r\n  const templateId = getSelectedRolloutTemplateIdFromUI();\r\n  if (!templateId) {\r\n    logEvent(\"Select a rollout plan first.\", \"warn\");\r\n    return;\r\n  }\r\n  const strategy = createRolloutStrategyFromTemplate(era, templateId);\r\n  if (!strategy) {\r\n    logEvent(\"Rollout plan could not be applied.\", \"warn\");\r\n    return;\r\n  }\r\n  setSelectedRolloutStrategyId(strategy.id);\r\n  const templateLabel = resolveRolloutTemplateLabel(templateId);\r\n  logEvent(`Rollout plan applied: ${templateLabel}. Add Track IDs before expanding.`);\r\n  logUiEvent(\"action_submit\", {\r\n    action: \"rollout_strategy_template\",\r\n    eraId: era.id,\r\n    strategyId: strategy.id,\r\n    templateId\r\n  });\r\n  renderEraStatus();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction selectRolloutStrategyFromUI(e) {\r\n  const strategyId = e.target.value || null;\r\n  setSelectedRolloutStrategyId(strategyId);\r\n  logUiEvent(\"action_submit\", { action: \"rollout_strategy_select\", strategyId });\r\n  renderEraStatus();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction addRolloutDropFromUI() {\r\n  const strategyId = getSelectedRolloutStrategyIdFromUI();\r\n  const weekNumber = getRolloutWeekFromUI();\r\n  const contentId = $(\"rolloutStrategyDropId\")?.value.trim();\r\n  if (!strategyId) {\r\n    logEvent(\"Select a rollout plan first.\", \"warn\");\r\n    return;\r\n  }\r\n  if (!weekNumber) {\r\n    logEvent(\"Select a valid rollout window.\", \"warn\");\r\n    return;\r\n  }\r\n  if (!contentId) {\r\n    logEvent(\"Drop requires a Track ID.\", \"warn\");\r\n    return;\r\n  }\r\n  const ok = addRolloutStrategyDrop(strategyId, weekNumber, contentId);\r\n  if (!ok) return;\r\n  logUiEvent(\"action_submit\", { action: \"rollout_drop_add\", strategyId, week: weekNumber, trackId: contentId });\r\n  $(\"rolloutStrategyDropId\").value = \"\";\r\n  renderEraStatus();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction addRolloutEventFromUI() {\r\n  const strategyId = getSelectedRolloutStrategyIdFromUI();\r\n  const weekNumber = getRolloutWeekFromUI();\r\n  const actionType = $(\"rolloutStrategyEventType\")?.value || \"\";\r\n  const contentId = $(\"rolloutStrategyEventContent\")?.value.trim();\r\n  if (!strategyId) {\r\n    logEvent(\"Select a rollout plan first.\", \"warn\");\r\n    return;\r\n  }\r\n  if (!weekNumber) {\r\n    logEvent(\"Select a valid rollout window.\", \"warn\");\r\n    return;\r\n  }\r\n  if (!actionType) {\r\n    logEvent(\"Event requires an action type.\", \"warn\");\r\n    return;\r\n  }\r\n  const ok = addRolloutStrategyEvent(strategyId, weekNumber, actionType, contentId);\r\n  if (!ok) return;\r\n  logUiEvent(\"action_submit\", { action: \"rollout_event_add\", strategyId, week: weekNumber, actionType, contentId });\r\n  $(\"rolloutStrategyEventContent\").value = \"\";\r\n  renderEraStatus();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction toggleRolloutStrategyAutoRunFromUI(e) {\r\n  const strategyId = getSelectedRolloutStrategyIdFromUI();\r\n  if (!strategyId) return;\r\n  const strategy = getRolloutStrategyById(strategyId);\r\n  if (!strategy) return;\r\n  strategy.autoRun = Boolean(e.target.checked);\r\n  if (strategy.autoRun && strategy.status === \"Draft\") strategy.status = \"Active\";\r\n  logEvent(strategy.autoRun ? \"Rollout auto-run enabled.\" : \"Rollout auto-run disabled.\");\r\n  logUiEvent(\"action_submit\", { action: \"rollout_auto_run\", strategyId, enabled: strategy.autoRun });\r\n  renderEraStatus();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction expandRolloutStrategyFromUI() {\r\n  const strategyId = getSelectedRolloutStrategyIdFromUI();\r\n  if (!strategyId) {\r\n    logEvent(\"Select a rollout plan first.\", \"warn\");\r\n    return;\r\n  }\r\n  const result = expandRolloutStrategy(strategyId, { mode: \"manual\" });\r\n  if (!result) return;\r\n  logUiEvent(\"action_submit\", { action: \"rollout_expand\", strategyId, ...result });\r\n  renderEraStatus();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction ensureTrackRolloutUiState() {\r\n  if (!state.ui) state.ui = {};\r\n  if (!state.ui.trackRollout || typeof state.ui.trackRollout !== \"object\") {\r\n    state.ui.trackRollout = {\r\n      trackId: null,\r\n      templateId: null,\r\n      weights: { ...TRACK_ROLLOUT_DEFAULT_WEIGHTS },\r\n      toggles: { ...TRACK_ROLLOUT_DEFAULT_TOGGLES },\r\n      duplicateTemplateId: null\r\n    };\r\n  }\r\n  return state.ui.trackRollout;\r\n}\r\n\r\nfunction resolveTrackRolloutDefaultToggles(track) {\r\n  const toggles = { ...TRACK_ROLLOUT_DEFAULT_TOGGLES };\r\n  const projectType = track?.projectType || track?.releaseType || \"Single\";\r\n  toggles.isSingle = String(projectType).toLowerCase() === \"single\";\r\n  return toggles;\r\n}\r\n\r\nfunction applyTrackRolloutDefaults(track) {\r\n  const rollout = ensureTrackRolloutUiState();\r\n  rollout.weights = { ...TRACK_ROLLOUT_DEFAULT_WEIGHTS };\r\n  rollout.toggles = resolveTrackRolloutDefaultToggles(track);\r\n  rollout.templateId = null;\r\n  rollout.duplicateTemplateId = null;\r\n}\r\n\r\nfunction getTrackRolloutTemplateById(templateId) {\r\n  const templates = getTrackRolloutTemplateCache();\r\n  if (!Array.isArray(templates)) return null;\r\n  return templates.find((template) => template?.template_id === templateId) || null;\r\n}\r\n\r\nfunction doesTrackRolloutMatchTemplate(draft, template) {\r\n  if (!draft || !template) return false;\r\n  const weightsMatch = TRACK_ROLLOUT_WEIGHT_KEYS.every(\r\n    (key) => Number(draft.weights?.[key]) === Number(template.weights_json?.[key])\r\n  );\r\n  if (!weightsMatch) return false;\r\n  return TRACK_ROLLOUT_TOGGLE_KEYS.every(\r\n    (key) => Boolean(draft.toggles?.[key]) === Boolean(template.toggles_json?.[key])\r\n  );\r\n}\r\n\r\nasync function refreshTrackRolloutTemplates({ force = false } = {}) {\r\n  if (!force && trackRolloutTemplatesStatus === \"loading\") return;\r\n  trackRolloutTemplatesStatus = \"loading\";\r\n  const requestId = ++trackRolloutTemplateRequestId;\r\n  try {\r\n    const templates = await listTrackRolloutTemplates();\r\n    if (requestId !== trackRolloutTemplateRequestId) return;\r\n    setTrackRolloutTemplateCache(templates);\r\n    trackRolloutTemplatesStatus = \"ready\";\r\n    renderTrackRolloutStrategy();\r\n  } catch (error) {\r\n    if (requestId !== trackRolloutTemplateRequestId) return;\r\n    trackRolloutTemplatesStatus = \"error\";\r\n    logEvent(\"Track rollout templates unavailable.\", \"warn\");\r\n  }\r\n}\r\n\r\nasync function refreshTrackRolloutInstance(trackId, { force = false } = {}) {\r\n  if (!trackId) return;\r\n  if (!force && trackRolloutLoadedTrackId === trackId) return;\r\n  const requestId = ++trackRolloutInstanceRequestId;\r\n  const track = getTrack(trackId);\r\n  try {\r\n    const instance = await fetchTrackRolloutInstance(trackId);\r\n    if (requestId !== trackRolloutInstanceRequestId) return;\r\n    const rollout = ensureTrackRolloutUiState();\r\n    trackRolloutLoadedTrackId = trackId;\r\n    if (instance) {\r\n      rollout.weights = { ...TRACK_ROLLOUT_DEFAULT_WEIGHTS, ...(instance.weights_json || {}) };\r\n      rollout.toggles = { ...TRACK_ROLLOUT_DEFAULT_TOGGLES, ...(instance.toggles_json || {}) };\r\n      rollout.templateId = instance.template_id || null;\r\n    } else {\r\n      applyTrackRolloutDefaults(track);\r\n    }\r\n    rollout.duplicateTemplateId = null;\r\n    renderTrackRolloutStrategy();\r\n  } catch (error) {\r\n    if (requestId !== trackRolloutInstanceRequestId) return;\r\n    logEvent(\"Track rollout could not be loaded.\", \"warn\");\r\n  }\r\n}\r\n\r\nfunction setTrackRolloutTrackId(trackId) {\r\n  const rollout = ensureTrackRolloutUiState();\r\n  rollout.trackId = trackId || null;\r\n  rollout.duplicateTemplateId = null;\r\n  applyTrackRolloutDefaults(trackId ? getTrack(trackId) : null);\r\n  trackRolloutLoadedTrackId = null;\r\n  renderTrackRolloutStrategy();\r\n  saveToActiveSlot();\r\n  if (trackId) refreshTrackRolloutInstance(trackId, { force: true });\r\n}\r\n\r\nfunction ensureTrackRolloutTrackSelection() {\r\n  const rollout = ensureTrackRolloutUiState();\r\n  const tracks = Array.isArray(state.tracks) ? state.tracks : [];\r\n  if (!tracks.length) {\r\n    rollout.trackId = null;\r\n    renderTrackRolloutStrategy();\r\n    return;\r\n  }\r\n  const selected = tracks.find((track) => track.id === rollout.trackId);\r\n  if (!selected) {\r\n    setTrackRolloutTrackId(tracks[0].id);\r\n    return;\r\n  }\r\n  refreshTrackRolloutInstance(selected.id);\r\n}\r\n\r\nfunction updateTrackRolloutWeightFromUI(target) {\r\n  const key = target?.dataset?.trackRolloutWeight;\r\n  if (!key) return;\r\n  const rollout = ensureTrackRolloutUiState();\r\n  const value = Number(target.value);\r\n  rollout.weights = { ...rollout.weights, [key]: Number.isFinite(value) ? value : 0 };\r\n  rollout.duplicateTemplateId = null;\r\n  renderTrackRolloutStrategy();\r\n}\r\n\r\nfunction updateTrackRolloutToggleFromUI(target) {\r\n  const key = target?.dataset?.trackRolloutToggle;\r\n  if (!key) return;\r\n  const rollout = ensureTrackRolloutUiState();\r\n  rollout.toggles = { ...rollout.toggles, [key]: Boolean(target.checked) };\r\n  rollout.duplicateTemplateId = null;\r\n  renderTrackRolloutStrategy();\r\n}\r\n\r\nfunction selectTrackRolloutTemplateFromUI(templateId) {\r\n  const rollout = ensureTrackRolloutUiState();\r\n  const template = getTrackRolloutTemplateById(templateId);\r\n  if (!template) {\r\n    logEvent(\"Track rollout template not found.\", \"warn\");\r\n    return;\r\n  }\r\n  rollout.templateId = template.template_id;\r\n  rollout.weights = { ...TRACK_ROLLOUT_DEFAULT_WEIGHTS, ...(template.weights_json || {}) };\r\n  rollout.toggles = { ...TRACK_ROLLOUT_DEFAULT_TOGGLES, ...(template.toggles_json || {}) };\r\n  rollout.duplicateTemplateId = null;\r\n  renderTrackRolloutStrategy();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction logTrackRolloutUsageEvent(type, payload) {\r\n  recordUsageEvent(type, payload, {\r\n    route: state.ui?.activeView || activeRoute,\r\n    gameTs: state.time?.epochMs,\r\n    isAction: true,\r\n    reportToConsole: true\r\n  });\r\n}\r\n\r\nasync function applyTrackRolloutToTrackFromUI() {\r\n  const rollout = ensureTrackRolloutUiState();\r\n  const trackId = rollout.trackId;\r\n  if (!trackId) {\r\n    logEvent(\"Select a track before applying a rollout strategy.\", \"warn\");\r\n    return;\r\n  }\r\n  const template = rollout.templateId ? getTrackRolloutTemplateById(rollout.templateId) : null;\r\n  const normalized = normalizeWeights(rollout.weights, { bucket: false }).weights;\r\n  const templateMatch = template && doesTrackRolloutMatchTemplate(\r\n    { weights: normalized, toggles: rollout.toggles },\r\n    template\r\n  );\r\n  const templateId = templateMatch ? template.template_id : null;\r\n  const instance = await saveTrackRolloutInstance({\r\n    trackId,\r\n    templateId,\r\n    weights: normalized,\r\n    toggles: rollout.toggles,\r\n    primaryFocus: templateMatch ? template.primary_focus : null,\r\n    secondaryFocus: templateMatch ? template.secondary_focus : null,\r\n    status: \"draft\"\r\n  });\r\n  if (!instance) {\r\n    logEvent(\"Track rollout could not be applied.\", \"warn\");\r\n    return;\r\n  }\r\n  rollout.weights = { ...TRACK_ROLLOUT_DEFAULT_WEIGHTS, ...(instance.weights_json || {}) };\r\n  rollout.toggles = { ...TRACK_ROLLOUT_DEFAULT_TOGGLES, ...(instance.toggles_json || {}) };\r\n  rollout.templateId = instance.template_id || null;\r\n  rollout.duplicateTemplateId = null;\r\n  logEvent(\"Track rollout applied.\");\r\n  logTrackRolloutUsageEvent(\"TRACK_ROLLOUT_SET_WEIGHTS\", { track_id: trackId, weights: instance.weights_json });\r\n  logTrackRolloutUsageEvent(\"TRACK_ROLLOUT_SET_TOGGLES\", { track_id: trackId, toggles: instance.toggles_json });\r\n  logTrackRolloutUsageEvent(\"TRACK_ROLLOUT_APPLY_TEMPLATE\", { track_id: trackId, template_id: instance.template_id || null });\r\n  renderTrackRolloutStrategy();\r\n  saveToActiveSlot();\r\n}\r\n\r\nasync function saveTrackRolloutTemplateFromUI() {\r\n  const rollout = ensureTrackRolloutUiState();\r\n  const trackId = rollout.trackId;\r\n  if (!trackId) {\r\n    logEvent(\"Select a track before saving a rollout template.\", \"warn\");\r\n    return;\r\n  }\r\n  const result = await saveTrackRolloutTemplate({\r\n    weights: rollout.weights,\r\n    toggles: rollout.toggles,\r\n    createdSource: \"player_saved\"\r\n  });\r\n  if (!result?.template) {\r\n    logEvent(\"Track rollout template could not be saved.\", \"warn\");\r\n    return;\r\n  }\r\n  logTrackRolloutUsageEvent(\"TRACK_ROLLOUT_SAVE_GLOBAL\", {\r\n    track_id: trackId,\r\n    template_id: result.template.template_id,\r\n    fingerprint: result.fingerprint\r\n  });\r\n  if (result.created) {\r\n    logTrackRolloutUsageEvent(\"ROLLOUT_TEMPLATE_CREATE_GLOBAL\", {\r\n      template_id: result.template.template_id,\r\n      fingerprint: result.fingerprint,\r\n      created_source: result.template.created_source\r\n    });\r\n    rollout.templateId = result.template.template_id;\r\n    rollout.weights = { ...TRACK_ROLLOUT_DEFAULT_WEIGHTS, ...(result.template.weights_json || {}) };\r\n    rollout.toggles = { ...TRACK_ROLLOUT_DEFAULT_TOGGLES, ...(result.template.toggles_json || {}) };\r\n    rollout.duplicateTemplateId = null;\r\n    logEvent(`Saved global rollout template: ${result.template.name || \"focus\"}.`);\r\n    await refreshTrackRolloutTemplates({ force: true });\r\n    renderTrackRolloutStrategy();\r\n    saveToActiveSlot();\r\n    return;\r\n  }\r\n  rollout.duplicateTemplateId = result.template.template_id;\r\n  logEvent(`Already exists: ${result.template.name || \"Existing focus\"}.`);\r\n  renderTrackRolloutStrategy();\r\n}\r\n\r\nfunction useExistingTrackRolloutTemplateFromUI() {\r\n  const rollout = ensureTrackRolloutUiState();\r\n  if (!rollout.duplicateTemplateId) return;\r\n  selectTrackRolloutTemplateFromUI(rollout.duplicateTemplateId);\r\n  rollout.duplicateTemplateId = null;\r\n  renderTrackRolloutStrategy();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction renameActById(actId, nextName) {\r\n  const act = getAct(actId);\r\n  if (!act) return;\r\n  const name = nextName.trim();\r\n  if (!name) {\r\n    logEvent(\"Act name cannot be empty.\", \"warn\");\r\n    renderActs();\r\n    return;\r\n  }\r\n  if (act.name === name) return;\r\n  act.name = name;\r\n  act.nameKey = null;\r\n  logEvent(`Act renamed to \"${act.name}\".`);\r\n  renderActs();\r\n  renderTracks();\r\n  renderReleaseDesk();\r\n  renderSlots();\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction pickPromoTargetsFromFocus() {\r\n  const focusEra = getFocusedEra();\r\n  const activeEras = getActiveEras().filter((entry) => entry.status === \"Active\");\r\n  const fallbackEra = !focusEra && activeEras.length === 1 ? activeEras[0] : null;\r\n  const targetEra = focusEra || fallbackEra;\r\n  if (!targetEra) {\r\n    logEvent(\"Select a focus era before picking promo targets.\", \"warn\");\r\n    return;\r\n  }\r\n  const act = targetEra.actId ? getAct(targetEra.actId) : null;\r\n  if (!act) {\r\n    logEvent(\"Act not found for the focused era.\", \"warn\");\r\n    return;\r\n  }\r\n  const candidates = state.tracks.filter((track) => {\r\n    if (track.eraId !== targetEra.id) return false;\r\n    if (isTrackReleaseReleased(track)) return true;\r\n    return state.releaseQueue.some((entry) => entry.trackId === track.id);\r\n  });\r\n  if (!candidates.length) {\r\n    const projectId = targetEra.projectName\r\n      ? buildPromoProjectKey({\r\n        eraId: targetEra.id,\r\n        actId: act.id,\r\n        projectName: targetEra.projectName,\r\n        projectType: targetEra.projectType || \"Single\"\r\n      })\r\n      : null;\r\n    const projectLabel = projectId ? parsePromoProjectKey(projectId) : null;\r\n    state.ui.promoSlots.actId = act.id;\r\n    state.ui.promoSlots.projectId = projectId;\r\n    state.ui.promoSlots.trackId = null;\r\n    logUiEvent(\"action_submit\", {\r\n      action: \"promo_focus_pick\",\r\n      eraId: targetEra.id,\r\n      actId: act.id,\r\n      projectId,\r\n      trackId: null\r\n    });\r\n    const projectNote = projectLabel ? ` + Project \"${projectLabel.projectName}\"` : \"\";\r\n    logEvent(`Promo targets set to Act \"${act.name}\"${projectNote}. No scheduled or released tracks found for this era.`);\r\n    renderSlots();\r\n    renderTracks();\r\n    updatePromoTypeHint(document);\r\n    saveToActiveSlot();\r\n    return;\r\n  }\r\n  const picked = candidates.reduce((latest, track) => {\r\n    const latestSchedule = isTrackReleaseReleased(latest)\r\n      ? latest.releasedAt\r\n      : state.releaseQueue.find((entry) => entry.trackId === latest.id)?.releaseAt;\r\n    const entrySchedule = isTrackReleaseReleased(track)\r\n      ? track.releasedAt\r\n      : state.releaseQueue.find((entry) => entry.trackId === track.id)?.releaseAt;\r\n    const latestStamp = latestSchedule || 0;\r\n    const entryStamp = entrySchedule || 0;\r\n    return entryStamp >= latestStamp ? track : latest;\r\n  }, candidates[0]);\r\n  const projectId = buildPromoProjectKeyFromTrack(picked);\r\n  const projectLabel = projectId ? parsePromoProjectKey(projectId) : null;\r\n  state.ui.promoSlots.actId = act.id;\r\n  state.ui.promoSlots.projectId = projectId;\r\n  state.ui.promoSlots.trackId = picked.id;\r\n  logUiEvent(\"action_submit\", {\r\n    action: \"promo_focus_pick\",\r\n    eraId: targetEra.id,\r\n    actId: act.id,\r\n    projectId,\r\n    trackId: picked.id\r\n  });\r\n  const projectNote = projectLabel ? ` + Project \"${projectLabel.projectName}\"` : \"\";\r\n  logEvent(`Promo targets set to Act \"${act.name}\"${projectNote} + \"${picked.title}\".`);\r\n  renderSlots();\r\n  renderTracks();\r\n  updatePromoTypeHint(document);\r\n  saveToActiveSlot();\r\n}\r\n\r\nfunction runPromotion() {\r\n  const trackId = state.ui.promoSlots.trackId;\r\n  const projectId = state.ui.promoSlots.projectId;\r\n  const slotActId = state.ui.promoSlots.actId;\r\n  const track = trackId ? getTrack(trackId) : null;\r\n  const actId = slotActId || (track ? track.actId : null);\r\n  if (!actId && !track && !projectId) {\r\n    logEvent(\"Select an Act, Project, or Track for the promo push.\", \"warn\");\r\n    return;\r\n  }\r\n  if (!state.ui.promoSlots.actId && actId) state.ui.promoSlots.actId = actId;\r\n  const trackContext = getPromoTargetContext(trackId, projectId, actId);\r\n  const act = trackContext.act;\r\n  const project = trackContext.project;\r\n  if (!act) {\r\n    logEvent(\"Promo push requires an Act selection.\", \"warn\");\r\n    return;\r\n  }\r\n  if (projectId && !project) {\r\n    logEvent(\"Project not found for promo push.\", \"warn\");\r\n    return;\r\n  }\r\n  if (trackId && !trackContext.track) {\r\n    logEvent(\"Track not found for promo push.\", \"warn\");\r\n    return;\r\n  }\r\n  if (project && project.actId && project.actId !== act.id) {\r\n    logEvent(\"Selected project does not belong to the selected act.\", \"warn\");\r\n    return;\r\n  }\r\n  if (trackContext.track && act && trackContext.track.actId && trackContext.track.actId !== act.id) {\r\n    logEvent(\"Selected track does not belong to the selected act.\", \"warn\");\r\n    return;\r\n  }\r\n  if (trackContext.track && projectId) {\r\n    const trackProjectId = buildPromoProjectKeyFromTrack(trackContext.track);\r\n    if (trackProjectId && trackProjectId !== projectId) {\r\n      logEvent(\"Selected track does not belong to the selected project.\", \"warn\");\r\n      return;\r\n    }\r\n  }\r\n  if (trackContext.track && !trackContext.isReleased && !trackContext.isScheduled) {\r\n    logEvent(\"Unreleased: schedule first.\", \"warn\");\r\n    return;\r\n  }\r\n  const projectTargets = project && !trackContext.track\r\n    ? listPromoEligibleTracks(trackContext.projectTracks)\r\n    : [];\r\n  if (!trackContext.track && project && !projectTargets.length) {\r\n    logEvent(\"Promo push requires scheduled or released tracks for the selected project.\", \"warn\");\r\n    return;\r\n  }\r\n  const select = $(\"promoTypeSelect\");\r\n  const lockouts = getPromoTypeLockouts(trackContext);\r\n  const selectedTypes = ensurePromoTypeSelection(document, select ? select.value : DEFAULT_PROMO_TYPE, lockouts);\r\n  if (!selectedTypes.length) {\r\n    logEvent(\"No available promo types for this promo target.\", \"warn\");\r\n    return;\r\n  }\r\n  const inflationMultiplier = getPromoInflationMultiplier();\r\n  const effectiveTypes = derivePromoTypesForRun(selectedTypes);\r\n  if (!effectiveTypes.length) {\r\n    logEvent(\"No available promo types for this promo target.\", \"warn\");\r\n    return;\r\n  }\r\n  if (isPromoPrimeTimeEnabled() && selectedTypes.includes(\"livePerformance\")) {\r\n    const eligibility = typeof game.checkPrimeShowcaseEligibility === \"function\"\r\n      ? game.checkPrimeShowcaseEligibility(act.id, trackContext.track?.id || null)\r\n      : { ok: true, reason: \"\" };\r\n    if (!eligibility.ok) {\r\n      logEvent(eligibility.reason || \"Prime Time eligibility not met.\", \"warn\");\r\n      return;\r\n    }\r\n  }\r\n  const scheduleState = getPromoScheduleState();\n  const pricingEpoch = scheduleState.complete ? scheduleState.epochMs : undefined;\n  const { budgets, baseTotal, total: totalCost, multipliers } = getPromoBudgetsForTypes(\n    effectiveTypes,\n    inflationMultiplier,\n    { epochMs: pricingEpoch }\n  );\n  if (!baseTotal || Number.isNaN(baseTotal)) {\n    logEvent(\"Promo budget total must be greater than 0.\", \"warn\");\n    return;\n  }\n  if (state.label.cash < totalCost) {\n    const label = effectiveTypes.length > 1 ? \"promo pushes\" : \"promo push\";\n    logEvent(`Not enough cash for ${label}.`, \"warn\");\n    return;\r\n  }\r\n  const era = trackContext.era || getActiveEras().find(\r\n    (entry) => entry.actId === act.id && entry.status === \"Active\"\r\n  );\r\n  if (!era || era.status !== \"Active\") {\r\n    logEvent(\"Promo push requires an active era for the selected act.\", \"warn\");\r\n    return;\r\n  }\r\n  const projectReleaseAt = projectTargets.length\r\n    ? projectTargets.map((entry) => {\r\n      if (entry.status === \"Released\") return entry.releasedAt;\r\n      const scheduled = state.releaseQueue.find((release) => release.trackId === entry.id);\r\n      return scheduled?.releaseAt || null;\r\n    }).filter(Number.isFinite).sort((a, b) => b - a)[0]\r\n    : null;\r\n  const releaseDate = trackContext.track\r\n    ? (trackContext.scheduled ? formatDate(trackContext.scheduled.releaseAt) : trackContext.track.releasedAt ? formatDate(trackContext.track.releasedAt) : \"TBD\")\r\n    : projectReleaseAt\r\n      ? formatDate(projectReleaseAt)\r\n      : formatDate(state.time.epochMs);\r\n  const market = trackContext.isReleased && trackContext.track\r\n    ? getMarketTrackById(trackContext.track.marketId)\r\n    : null;\r\n  if (trackContext.isReleased && trackContext.track && !market) {\r\n    logEvent(\"Track is not active on the market.\", \"warn\");\r\n    return;\r\n  }\r\n  if (scheduleState.wantsSchedule && !scheduleState.complete) {\n    logEvent(\"Select a schedule week, day, and timeframe or clear them to run now.\", \"warn\");\n    return;\n  }\n  const scheduledAt = scheduleState.complete ? scheduleState.epochMs : null;\r\n  if (scheduledAt && scheduledAt <= state.time.epochMs) {\r\n    logEvent(\"Scheduled promo time must be in the future.\", \"warn\");\r\n    return;\r\n  }\r\n  const availabilityEpoch = scheduledAt || state.time.epochMs;\r\n  const facilityNeeds = getPromoFacilityNeeds(effectiveTypes);\r\n  for (const [facilityId, count] of Object.entries(facilityNeeds)) {\r\n    const availability = getPromoFacilityAvailability(facilityId, availabilityEpoch);\r\n    if (availability.available < count) {\r\n      const label = facilityId === \"broadcast\" ? \"Broadcast slots\" : \"Filming slots\";\r\n      const plural = count === 1 ? \"type\" : \"types\";\r\n      const windowLabel = formatPromoFacilityWindowLabel(availability);\r\n      logEvent(`Not enough ${label} (${windowLabel}) for ${count} promo ${plural}.`, \"warn\");\r\n      return;\r\n    }\r\n  }\r\n  for (const promoType of effectiveTypes) {\r\n    const facilityId = getPromoFacilityForType(promoType);\r\n    if (!facilityId) continue;\r\n    const reservation = reservePromoFacilitySlot(\r\n      facilityId,\r\n      promoType,\r\n      trackContext.track?.id || null,\r\n      { actId: act.id, epochMs: availabilityEpoch }\r\n    );\r\n    if (!reservation.ok) {\r\n      logEvent(reservation.reason || \"No facility slots available for the current timeframe.\", \"warn\");\r\n      return;\r\n    }\r\n  }\r\n  state.label.cash -= totalCost;\r\n  if (trackContext.track) {\r\n    recordTrackPromoCost(trackContext.track, totalCost);\r\n  } else if (projectTargets.length) {\r\n    const perTrack = totalCost / projectTargets.length;\r\n    projectTargets.forEach((entry) => recordTrackPromoCost(entry, perTrack));\r\n  }\r\n  let boostWeeks = 0;\r\n  const weeksByType = {};\r\n  effectiveTypes.forEach((promoType) => {\r\n    const budget = budgets[promoType];\r\n    const weeks = promoWeeksFromBudget(budget);\r\n    weeksByType[promoType] = weeks;\r\n    boostWeeks = Math.max(boostWeeks, weeks);\r\n  });\r\n  if (scheduledAt) {\r\n    const promoTargetType = trackContext.track ? \"track\" : project ? \"project\" : \"act\";\r\n    const promoProjectName = trackContext.track?.projectName || project?.projectName || null;\r\n    const labelName = state.label?.name || \"Record Label\";\r\n    const contentId = trackContext.track ? trackContext.track.id : project ? projectId : null;\r\n    const frameLabel = listPromoTimeframesSafe().find((frame) => frame.id === scheduleState.timeframeId)?.label || \"\";\r\n    const dayLabel = DAYS?.[scheduleState.day] || \"Day\";\r\n    const scheduleLabel = frameLabel ? `${dayLabel} ${frameLabel}` : dayLabel;\r\n    for (const promoType of effectiveTypes) {\r\n      const budget = budgets[promoType];\r\n      const weeks = weeksByType[promoType] || boostWeeks;\r\n      const scheduled = scheduleManualPromoEvent({\r\n        promoType,\r\n        actId: act.id,\r\n        contentId,\r\n        scheduledAt,\r\n        budget,\r\n        weeks,\r\n        targetType: promoTargetType,\r\n        label: labelName,\r\n        projectName: promoProjectName,\r\n        facilityId: getPromoFacilityForType(promoType)\r\n      });\r\n      if (!scheduled.ok) {\r\n        logEvent(scheduled.reason || \"Promo schedule failed.\", \"warn\");\r\n        return;\r\n      }\r\n      logUiEvent(\"action_submit\", {\r\n        action: \"promotion_schedule\",\r\n        actId: act.id,\r\n        projectId: projectId || null,\r\n        projectName: promoProjectName || null,\r\n        trackId: trackContext.track?.id || null,\r\n        targetType: promoTargetType,\r\n        budget,\r\n        weeks,\r\n        promoType,\r\n        scheduledAt,\r\n        totalCost\r\n      });\r\n    }\r\n    const promoLabels = effectiveTypes.map((promoType) => getPromoTypeDetails(promoType).label).join(\", \");\r\n    logEvent(`Promo push scheduled for ${formatDate(scheduledAt)} (${scheduleLabel}) (${promoLabels}).`);\r\n    renderAll();\r\n    return;\r\n  }\r\n  const findMarketEntry = (entry) => {\r\n    if (!entry) return null;\r\n    if (entry.marketId) {\r\n      return getMarketTrackById(entry.marketId) || null;\r\n    }\r\n    return getMarketTrackByTrackId(entry.id) || null;\r\n  };\r\n  if (trackContext.track) {\r\n    const promo = trackContext.track.promo || { preReleaseWeeks: 0, preReleaseMomentum: 0, musicVideoUsed: false };\r\n    if (trackContext.isReleased && market) {\r\n      market.promoWeeks = Math.max(market.promoWeeks, boostWeeks);\r\n    } else {\r\n      const nextMomentum = Math.max(promo.preReleaseMomentum || 0, boostWeeks);\r\n      promo.preReleaseMomentum = nextMomentum;\r\n      promo.preReleaseWeeks = Math.max(promo.preReleaseWeeks || 0, nextMomentum);\r\n    }\r\n    if (selectedTypes.includes(\"musicVideo\")) promo.musicVideoUsed = true;\r\n    trackContext.track.promo = promo;\r\n  } else if (projectTargets.length) {\r\n    projectTargets.forEach((entry) => {\r\n      if (entry.status === \"Released\") {\r\n        const marketEntry = findMarketEntry(entry);\r\n        if (marketEntry) marketEntry.promoWeeks = Math.max(marketEntry.promoWeeks || 0, boostWeeks);\r\n        return;\r\n      }\r\n      const promo = entry.promo || { preReleaseWeeks: 0, preReleaseMomentum: 0, musicVideoUsed: false };\r\n      const nextMomentum = Math.max(promo.preReleaseMomentum || 0, boostWeeks);\r\n      promo.preReleaseMomentum = nextMomentum;\r\n      promo.preReleaseWeeks = Math.max(promo.preReleaseWeeks || 0, nextMomentum);\r\n      entry.promo = promo;\r\n    });\r\n  }\r\n  act.promoWeeks = Math.max(act.promoWeeks || 0, boostWeeks);\r\n  state.meta.promoRuns = (state.meta.promoRuns || 0) + effectiveTypes.length;\r\n  const promoIds = new Set([\r\n    ...(act.memberIds || [])\r\n  ]);\r\n  if (trackContext.track) {\r\n    (trackContext.track?.creators?.songwriterIds || []).forEach((id) => promoIds.add(id));\r\n    (trackContext.track?.creators?.performerIds || []).forEach((id) => promoIds.add(id));\r\n    (trackContext.track?.creators?.producerIds || []).forEach((id) => promoIds.add(id));\r\n  } else if (projectTargets.length) {\r\n    projectTargets.forEach((entry) => {\r\n      (entry.creators?.songwriterIds || []).forEach((id) => promoIds.add(id));\r\n      (entry.creators?.performerIds || []).forEach((id) => promoIds.add(id));\r\n      (entry.creators?.producerIds || []).forEach((id) => promoIds.add(id));\r\n    });\r\n  }\r\n  const promoIdList = Array.from(promoIds).filter(Boolean);\r\n  if (promoIdList.length) markCreatorPromo(promoIdList);\r\n  const promoStamp = state.time.epochMs;\r\n  const hasPerformanceTape = effectiveTypes.some((promoType) => promoType === \"livePerformance\" || promoType === \"primeShowcase\");\r\n  const promoTargetType = trackContext.track ? \"track\" : project ? \"project\" : \"act\";\r\n  const promoProjectName = trackContext.track?.projectName || project?.projectName || null;\r\n  const postTitle = trackContext.track ? trackContext.track.title : project ? project.projectName : act.name;\r\n  effectiveTypes.forEach((promoType) => {\r\n    const budget = budgets[promoType];\r\n    const weeks = weeksByType[promoType] || boostWeeks;\r\n    if (trackContext.track) {\r\n      game.recordPromoUsage({ track: trackContext.track, market, act, promoType, atMs: promoStamp });\r\n    } else {\r\n      game.recordPromoUsage({ act, promoType, atMs: promoStamp });\r\n    }\r\n    logUiEvent(\"action_submit\", {\r\n      action: \"promotion\",\r\n      actId: act.id,\r\n      projectId: projectId || null,\r\n      projectName: promoProjectName || null,\r\n      trackId: trackContext.track?.id || null,\r\n      targetType: promoTargetType,\r\n      budget,\r\n      weeks,\r\n      promoType,\r\n      totalCost\r\n    });\r\n    game.recordPromoContent({\r\n      promoType,\r\n      actId: act.id,\r\n      actName: act.name,\r\n      trackId: trackContext.track?.id || null,\r\n      marketId: market?.id || null,\r\n      trackTitle: trackContext.track ? trackContext.track.title : project ? project.projectName : null,\r\n      projectName: promoProjectName,\r\n      label: state.label?.name || \"\",\r\n      budget,\r\n      weeks,\r\n      isPlayer: true,\r\n      targetType: promoTargetType\r\n    });\r\n    if (typeof postFromTemplate === \"function\") {\r\n      postFromTemplate(promoType, {\r\n        trackTitle: postTitle,\r\n        actName: act.name,\r\n        releaseDate,\r\n        channel: trackContext.track?.distribution || \"Broadcast\",\r\n        handle: handleFromName(state.label.name, \"Label\"),\r\n        cost: budget,\r\n        requirement: getPromoTypeDetails(promoType).requirement\r\n      });\r\n    }\r\n  });\r\n  if (typeof postFromTemplate === \"function\") {\r\n    if (hasPerformanceTape) {\r\n      postFromTemplate(\"performanceTape\", {\r\n        trackTitle: postTitle,\r\n        actName: act.name,\r\n        releaseDate,\r\n        channel: trackContext.track?.distribution || \"Broadcast\",\r\n        handle: handleFromName(state.label.name, \"Label\")\r\n      });\r\n    }\r\n    renderSocialFeed();\r\n  } else {\r\n    logEvent(\"Promo template posting not available.\", \"warn\");\r\n  }\r\n  const promoLabels = effectiveTypes.map((promoType) => getPromoTypeDetails(promoType).label).join(\", \");\n  const verb = effectiveTypes.length > 1 ? \"Promo pushes funded\" : \"Promo push funded\";\n  const spendNote = effectiveTypes.length > 1 ? ` Total spend: ${formatMoney(totalCost)}.` : \"\";\n  const pricingNote = buildPromoPricingNote(effectiveTypes, multipliers);\n  const pricingSuffix = pricingNote ? ` ${pricingNote}.` : \"\";\n  const releaseNote = trackContext.isScheduled ? ` Release on ${releaseDate}.` : \"\";\n  const targetLabel = trackContext.track\n    ? `\"${trackContext.track.title}\"`\n    : project\n      ? `Project \"${project.projectName}\"`\n      : `Act \"${act.name}\"`;\n  logEvent(`${verb} for ${targetLabel} (${promoLabels}) (+${boostWeeks} weeks).${spendNote}${pricingSuffix}${releaseNote}`);\n  renderAll();\n}\n\r\nfunction runAwardPerformanceBid() {\r\n  const showId = state.ui.awardBidShowId || $(\"awardBidShowSelect\")?.value || null;\r\n  const slotId = state.ui.awardBidSlotId || $(\"awardBidSlotSelect\")?.value || null;\r\n  const actId = state.ui.awardBidActId || $(\"awardBidActSelect\")?.value || null;\r\n  const trackId = state.ui.awardBidTrackId || $(\"awardBidTrackSelect\")?.value || null;\r\n  const rawAmount = Number.isFinite(state.ui.awardBidAmount)\r\n    ? state.ui.awardBidAmount\r\n    : $(\"awardBidAmountInput\")\r\n      ? Number($(\"awardBidAmountInput\").value || 0)\r\n      : 0;\r\n  const bidAmount = Math.round(Number(rawAmount) || 0);\r\n  if (!showId || !slotId || !actId || !trackId) {\r\n    logEvent(\"Select an award show, slot, act, and track for the performance bid.\", \"warn\");\r\n    return;\r\n  }\r\n  if (!Number.isFinite(bidAmount) || bidAmount <= 0) {\r\n    logEvent(\"Enter a bid amount greater than 0.\", \"warn\");\r\n    return;\r\n  }\r\n  const result = placeAwardPerformanceBid({\r\n    showId,\r\n    slotId,\r\n    actId,\r\n    trackId,\r\n    bidAmount\r\n  });\r\n  if (!result?.ok) {\r\n    logEvent(result?.reason || \"Performance bid failed.\", \"warn\");\r\n    return;\r\n  }\r\n  logUiEvent(\"action_submit\", {\r\n    action: \"award_performance_bid\",\r\n    showId,\r\n    slotId,\r\n    actId,\r\n    trackId,\r\n    bidAmount\r\n  });\r\n  renderAll();\r\n}\r\n\r\nfunction handleReleaseActRecommendation(e) {\r\n  const btn = e.target.closest(\"button[data-act-recommend]\");\r\n  if (!btn) return;\r\n  const trackId = btn.dataset.actRecommend;\r\n  const track = getTrack(trackId);\r\n  if (!track) {\r\n    logEvent(`Act recommendation failed: track ${trackId || \"unknown\"} not found.`, \"warn\");\r\n    return;\r\n  }\r\n  const recommendation = recommendActForTrack(track);\r\n  if (!recommendation.actId) {\r\n    logEvent(recommendation.reason || \"No act recommendation available.\", \"warn\");\r\n    return;\r\n  }\r\n  const act = getAct(recommendation.actId);\r\n  if (!act) {\r\n    logEvent(\"Act not found for recommendation.\", \"warn\");\r\n    return;\r\n  }\r\n  const assigned = assignTrackAct(track.id, act.id);\r\n  if (!assigned) return;\r\n  logRecommendation(\"release_act\", {\r\n    version: recommendation.version,\r\n    trackId: track.id,\r\n    actId: act.id,\r\n    genre: recommendation.genre,\r\n    theme: recommendation.theme,\r\n    mood: recommendation.mood,\r\n    reason: recommendation.reason,\r\n    exactMatches: recommendation.exactMatches,\r\n    partialMatches: recommendation.partialMatches,\r\n    memberCount: recommendation.memberCount\r\n  });\r\n  logChoice(\"release_act\", {\r\n    trackId: track.id,\r\n    actId: act.id,\r\n    genre: recommendation.genre\r\n  });\r\n  logUiEvent(\"action_submit\", {\r\n    action: \"recommend_release_act\",\r\n    trackId: track.id,\r\n    actId: act.id\r\n  });\r\n  logEvent(`Recommended Act \"${act.name}\" for \"${track.title}\". ${recommendation.reason}`);\r\n  renderAll();\r\n}\r\n\r\nfunction handleReleaseAction(e) {\r\n  const scrapBtn = e.target.closest(\"button[data-track-scrap]\");\r\n  if (scrapBtn) {\r\n    const trackId = scrapBtn.dataset.trackScrap;\r\n    const track = getTrack(trackId);\r\n    if (!track) {\r\n      logEvent(`Scrap failed: track ${trackId || \"unknown\"} not found.`, \"warn\");\r\n      shakeElement(scrapBtn);\r\n      return;\r\n    }\r\n    const ok = confirm(`Scrap \"${track.title}\"? This removes the track from the release pipeline. Costs are not refunded.`);\r\n    if (!ok) return;\r\n    const result = scrapTrack(trackId, { reason: \"release desk\" });\r\n    logUiEvent(\"action_submit\", {\r\n      action: \"scrap_track\",\r\n      trackId,\r\n      status: getTrackReleaseStatus(track),\r\n      outcome: result.ok ? \"success\" : \"failed\",\r\n      reason: result.reason\r\n    });\r\n    if (!result.ok) {\r\n      shakeElement(scrapBtn);\r\n      return;\r\n    }\r\n    renderAll();\r\n    return;\r\n  }\r\n  const btn = e.target.closest(\"button[data-release]\");\r\n  if (!btn) return;\r\n  const trackId = btn.dataset.track;\r\n  const track = getTrack(trackId);\r\n  if (!track) {\r\n    logEvent(`Release action failed: track ${trackId || \"unknown\"} not found.`, \"warn\");\r\n    return;\r\n  }\r\n  if (!track.actId || !getAct(track.actId)) {\r\n    logEvent(\"Cannot release track: assign an Act first.\", \"warn\");\r\n    return;\r\n  }\r\n  const derivedGenre = track.genre || (track.theme && track.mood ? `${track.theme} / ${track.mood}` : \"\");\r\n  const rec = derivedGenre ? recommendReleasePlan({ ...track, genre: derivedGenre }) : recommendReleasePlan(track);\r\n  logRecommendation(\"release\", {\r\n    version: rec.version,\r\n    trackId: track.id,\r\n    distribution: rec.distribution,\r\n    rush: rec.rush,\r\n    scheduleKey: rec.scheduleKey,\r\n    scheduleHours: rec.scheduleHours,\r\n    reason: rec.reason\r\n  });\r\n  const resolveAsapHours = (dist, rushFlag) => {\r\n    const asapAt = getReleaseAsapAtForDistribution(dist, { rush: rushFlag });\r\n    return Math.max(0, (asapAt - state.time.epochMs) / HOUR_MS);\r\n  };\r\n  let distribution = $(\"releaseDistribution\") ? $(\"releaseDistribution\").value : \"Digital\";\r\n  let scheduleHours = 0;\r\n  let rush = false;\r\n  const scheduleWithHours = (hours, { rush: rushFlag = false } = {}) => {\r\n    rush = Boolean(rushFlag);\r\n    scheduleHours = hours;\r\n    scheduleRelease(track, scheduleHours, distribution, undefined, { rush });\r\n  };\r\n  if (btn.dataset.release === \"recommend\") {\r\n    distribution = rec.distribution;\r\n    rush = Boolean(rec.rush);\r\n    if (rec.scheduleKey === \"rush\") {\r\n      scheduleWithHours(resolveAsapHours(distribution, true), { rush: true });\r\n    } else if (rec.scheduleKey === \"now\") {\r\n      scheduleWithHours(resolveAsapHours(distribution, false));\r\n    } else {\r\n      scheduleWithHours(rec.scheduleHours, { rush });\r\n    }\r\n  } else if (btn.dataset.release === \"rush\") {\r\n    if (distribution !== \"Digital\") {\r\n      logEvent(\"Digital rush only applies to Digital distribution.\", \"warn\");\r\n      return;\r\n    }\r\n    scheduleWithHours(resolveAsapHours(distribution, true), { rush: true });\r\n  } else if (btn.dataset.release === \"asap\" || btn.dataset.release === \"now\") {\r\n    scheduleWithHours(resolveAsapHours(distribution, false));\r\n  } else if (btn.dataset.release === \"week\") {\r\n    scheduleWithHours(WEEK_HOURS);\r\n  } else if (btn.dataset.release === \"fortnight\") {\r\n    scheduleWithHours(WEEK_HOURS * 2);\r\n  }\r\n  logChoice(\"release\", {\r\n    trackId: track.id,\r\n    action: btn.dataset.release,\r\n    distribution,\r\n    scheduleHours,\r\n    rush\r\n  });\r\n  logUiEvent(\"action_submit\", {\r\n    action: \"release_track\",\r\n    trackId: track.id,\r\n    releaseAction: btn.dataset.release,\r\n    distribution,\r\n    scheduleHours,\r\n    rush\r\n  });\r\n  renderAll();\r\n}\r\n\r\nfunction signCreatorById(id) {\r\n  requestWorldRender();\r\n  const creator = state.marketCreators.find((entry) => entry.id === id) || null;\r\n  const result = attemptSignCreator({\r\n    creatorId: id,\r\n    recordLabelId: state.label?.name,\r\n    nowEpochMs: state.time.epochMs\r\n  });\r\n  if (!result) return;\r\n  logUiEvent(\"action_submit\", {\r\n    action: \"sign_creator\",\r\n    creatorId: id,\r\n    role: creator?.role,\r\n    outcome: result.ok ? \"accepted\" : (result.kind || \"unknown\").toLowerCase(),\r\n    reason: result.reason,\r\n    reasonDetail: result.detail\r\n  });\r\n  if (!result.ok) {\r\n    const card = document.querySelector(`[data-ccc-creator=\"${id}\"]`);\r\n    if (card) shakeElement(card);\r\n    const failureDetail = result.detail || result.reason || \"Signing could not be completed.\";\r\n    showToast(\"Sign failed\", failureDetail, { tone: \"warn\" });\r\n    renderAll();\r\n    return;\r\n  }\r\n  showToast(\r\n    `Signed ${creator?.name || \"Creator\"}`,\r\n    `${roleLabel(creator?.role || \"\")} for ${formatMoney(result.cost || 0)}`,\r\n    { tone: \"success\" }\r\n  );\r\n  renderCreators();\r\n  renderSlots();\r\n  renderAll();\r\n}\r\n\r\nexport async function initUI() {\n  applyUiTheme(getStoredUiTheme());\n  checkStorageHealth();\n  try {\n    await ensurePremadeRolloutTemplates();\n  } catch (error) {\n    logEvent(\"Track rollout premades could not be loaded.\", \"warn\");\r\n  }\r\n  ensureSlotDropdowns();\r\n  updateSlotDropdowns();\r\n  ensureSocialDetailModal();\r\n  setupOverlayDismissals();\r\n  setupHorizontalWheelScroll();\r\n  window.addEventListener(\"resize\", () => {\r\n    clampAllPanels();\r\n    clampSplitLayouts();\r\n  });\r\n  bindGlobalHandlers();\r\n  setupRankingWindowDrag();\r\n  setupRankingWindowDismissal();\r\n  updateTimeControlButtons();\r\n  syncTimeControlAria();\r\n  initRouter();\r\n  const stored = Number(sessionStorage.getItem(\"rls_active_slot\"));\r\n  if (stored && stored >= 1 && stored <= SLOT_COUNT) {\r\n    session.activeSlot = stored;\r\n    markUiLogStart();\r\n    const data = getSlotData(stored);\r\n    if (data) {\r\n      resetState(data);\r\n      lastLoggedLabelAlignment = state.label?.alignment || null;\r\n      setLabelAlignmentStatus(state.label?.alignment ? `Current alignment: ${state.label.alignment}.` : \"\");\r\n      refreshSelectOptions();\r\n      await computeCharts();\r\n      renderAll();\r\n      closeMainMenu();\r\n      recordSessionReady(\"slot-load\");\r\n      await maybePromptExternalStorageOnStart();\r\n      startGameLoop();\r\n      return;\r\n    }\r\n  }\r\n  openMainMenu();\r\n  syncGameModeSelect();\r\n  syncDifficultySelect();\r\n  syncStartPreferenceSelects();\r\n  syncUiThemeSelect();\r\n  recordSessionReady(\"main-menu\");\r\n  await maybePromptExternalStorageOnStart();\r\n}\r\n\r\nfunction setupPanelControls() {\r\n  document.querySelectorAll(\".panel.card\").forEach((panel) => {\r\n    if (panel.querySelector(\".panel-toggle-btn\")) return;\r\n    const btn = document.createElement(\"button\");\r\n    btn.type = \"button\";\r\n    btn.className = \"panel-toggle-btn ghost mini\";\r\n    btn.textContent = \"-\";\r\n    btn.addEventListener(\"click\", (event) => {\r\n      event.stopPropagation();\r\n      panel.classList.toggle(\"minimized\");\r\n      btn.textContent = panel.classList.contains(\"minimized\") ? \"+\" : \"-\";\r\n    });\r\n    panel.appendChild(btn);\r\n  });\r\n}\r\n\r\nfunction setupPanelResizers(root) {\r\n  const directions = [\"right\", \"bottom\", \"corner\", \"corner-bl\", \"top\", \"left\", \"corner-tr\", \"corner-tl\"];\r\n  const scope = root || document;\r\n  scope.querySelectorAll(\".panel.card\").forEach((panel) => {\r\n    if (panel.classList.contains(\"panel-fixed\")) return;\r\n    if (panel.querySelector(\".panel-resizer\")) return;\r\n    directions.forEach((dir) => {\r\n      const handle = document.createElement(\"div\");\r\n      handle.className = `panel-resizer ${dir}`;\r\n      handle.addEventListener(\"pointerdown\", (event) => {\r\n        event.preventDefault();\r\n        const startX = event.clientX;\r\n        const startY = event.clientY;\r\n        const startRect = panel.getBoundingClientRect();\r\n        const parentRect = panel.parentElement?.getBoundingClientRect();\r\n        const styles = getComputedStyle(panel);\r\n        const startMarginLeft = parseFloat(styles.marginLeft) || 0;\r\n        const startMarginTop = parseFloat(styles.marginTop) || 0;\r\n        const maxShiftLeft = parentRect ? Math.max(0, startRect.left - parentRect.left) : 0;\r\n        const maxShiftUp = parentRect ? Math.max(0, startRect.top - parentRect.top) : 0;\r\n        const maxWidth = parentRect ? Math.max(120, parentRect.width - 8) : startRect.width * 1.2;\r\n        const maxHeight = parentRect ? Math.max(120, parentRect.height - 8) : startRect.height * 1.2;\r\n        const minWidth = 220;\r\n        const minHeight = 120;\r\n\r\n        // bring the panel above siblings while resizing\r\n        panel.classList.add('resizing');\r\n        panel.style.zIndex = 60;\r\n\r\n        const onMove = (moveEvent) => {\r\n          const dx = moveEvent.clientX - startX;\r\n          const dy = moveEvent.clientY - startY;\r\n          const parent = panel.parentElement || document.body;\r\n          const parentRectNow = parent.getBoundingClientRect();\r\n          const parentStyle = getComputedStyle(parent);\r\n          let columns = 1;\r\n          let columnLeft = parentRectNow.left;\r\n          let columnRight = parentRectNow.right;\r\n          if (parentStyle.display && parentStyle.display.indexOf('grid') !== -1 && parentStyle.gridTemplateColumns) {\r\n            const cols = parentStyle.gridTemplateColumns.trim().split(/\\s+/).length || 1;\r\n            columns = Math.max(1, cols);\r\n            const colWidth = parentRectNow.width / columns;\r\n            const colIndex = Math.min(columns - 1, Math.max(0, Math.floor((startRect.left - parentRectNow.left) / colWidth)));\r\n            columnLeft = parentRectNow.left + colIndex * colWidth;\r\n            columnRight = columnLeft + colWidth;\r\n          }\r\n          let width = startRect.width;\r\n          let height = startRect.height;\r\n          let marginLeft = startMarginLeft;\r\n          let marginTop = startMarginTop;\r\n\r\n          const inFooter = Boolean(panel.closest(\".footer\"));\r\n          let useRight = dir === \"right\" || dir === \"corner\" || dir === \"corner-tr\";\r\n          let useLeft = dir === \"left\" || dir === \"corner-tl\" || dir === \"corner-bl\";\r\n          let useBottom = dir === \"bottom\" || dir === \"corner\" || dir === \"corner-bl\";\r\n          let useTop = dir === \"top\" || dir === \"corner-tr\" || dir === \"corner-tl\";\r\n\r\n          // If a panel sits in the footer, resizing upward is more intuitive.\r\n          if (inFooter && (dir === \"bottom\" || dir === \"corner\")) {\r\n            useBottom = false;\r\n            useTop = true;\r\n          }\r\n\r\n          // Right edge: increase width but never overflow parent\r\n          if (useRight) {\r\n            const maxAllowed = Math.max(minWidth, parentRectNow.right - startRect.left - 8);\r\n            width = clamp(startRect.width + dx, minWidth, Math.min(maxWidth, maxAllowed));\r\n            // also ensure we don't exceed the parent column (grid cell) boundary\r\n            width = Math.min(width, Math.max(minWidth, columnRight - startRect.left - 8));\r\n          }\r\n\r\n          // Left handle: compute new left edge, clamp within parent, and derive width + margin\r\n          if (useLeft) {\r\n            const minLeftBound = columnLeft + 8;\r\n            const proposedLeft = clamp(startRect.left + dx, minLeftBound, startRect.right - minWidth);\r\n            const newWidth = clamp(startRect.right - proposedLeft, minWidth, Math.min(maxWidth, columnRight - proposedLeft - 8));\r\n            width = Math.min(newWidth, Math.max(minWidth, columnRight - proposedLeft - 8));\r\n            marginLeft = startMarginLeft + (proposedLeft - startRect.left);\r\n            // ensure marginLeft doesn't push outside parent\r\n            const newLeft = startRect.left + (marginLeft - startMarginLeft);\r\n            if (newLeft < parentRectNow.left + 8) marginLeft += (parentRectNow.left + 8) - newLeft;\r\n          }\r\n\r\n          // Bottom / corner: increase height but never overflow parent bottom\r\n          if (useBottom) {\r\n            const maxAllowedH = Math.max(minHeight, parentRectNow.bottom - startRect.top - 8);\r\n            height = clamp(startRect.height + dy, minHeight, Math.min(maxHeight, maxAllowedH));\r\n            height = Math.min(height, Math.max(minHeight, parentRectNow.height - 8));\r\n          }\r\n\r\n          // Top handle: compute new top edge, clamp, and derive height + marginTop\r\n          if (useTop) {\r\n            const proposedTop = clamp(startRect.top + dy, parentRectNow.top, startRect.bottom - minHeight);\r\n            const newHeight = clamp(startRect.bottom - proposedTop, minHeight, Math.min(maxHeight, parentRectNow.bottom - proposedTop - 8));\r\n            height = Math.min(newHeight, Math.max(minHeight, parentRectNow.height - 8));\r\n            marginTop = startMarginTop + (proposedTop - startRect.top);\r\n            marginTop = clamp(marginTop, -Math.abs(maxShiftUp), Math.max(0, parentRectNow.bottom - startRect.bottom));\r\n          }\r\n\r\n          panel.style.width = `${width}px`;\r\n          panel.style.height = `${height}px`;\r\n          if (useLeft) panel.style.marginLeft = `${marginLeft}px`;\r\n          if (useTop) panel.style.marginTop = `${marginTop}px`;\r\n        };\r\n\r\n        const onUp = () => {\r\n          window.removeEventListener(\"pointermove\", onMove);\r\n          window.removeEventListener(\"pointerup\", onUp);\r\n          // after finishing resize, ensure panel placement and reset z-index\r\n          panel.classList.remove('resizing');\r\n          panel.style.zIndex = '';\r\n          ensurePanelPlacement(panel);\r\n          persistPanelSize(panel);\r\n        };\r\n\r\n        window.addEventListener(\"pointermove\", onMove);\r\n        window.addEventListener(\"pointerup\", onUp);\r\n      });\r\n      panel.appendChild(handle);\r\n    });\r\n  });\r\n}\r\n\r\n// Ensure a panel fits within the central viewport. If a panel's bottom edge\r\n// extends past the center area (i.e., it would overlap the center content),\r\n// move it to the `.footer` area and add a small restore button so players can\r\n// move it back. This keeps the center/chart area visible.\r\nfunction ensurePanelPlacement(panel) {\r\n  try {\r\n    if (panel.classList.contains(\"panel--expanded\")) return;\r\n    const centerEl = document.querySelector('.center');\r\n    const footerEl = document.querySelector('.footer');\r\n    if (!centerEl || !footerEl || !panel) return;\r\n    const panelRect = panel.getBoundingClientRect();\r\n    const centerRect = centerEl.getBoundingClientRect();\r\n    // If panel extends below the center's bottom by more than 24px, move it.\r\n    if (panelRect.bottom > centerRect.bottom - 24) {\r\n      const parent = panel.parentElement;\r\n      if (parent && parent.classList.contains('footer')) return; // already footer\r\n      // remember original column class to allow restore\r\n      const origCol = parent && (parent.classList.contains('left') ? 'left' : parent.classList.contains('center') ? 'center' : parent.classList.contains('right') ? 'right' : 'unknown');\r\n      panel.dataset.origParent = origCol;\r\n      panel.dataset.origIndex = Array.from(parent.children).indexOf(panel);\r\n      footerEl.appendChild(panel);\r\n      panel.classList.add('moved-to-footer');\r\n      // add a restore button if not present\r\n      if (!panel.querySelector('.restore-panel-btn')) {\r\n        const btn = document.createElement('button');\r\n        btn.type = 'button';\r\n        btn.className = 'restore-panel-btn ghost mini';\r\n        btn.textContent = 'Restore';\r\n        btn.addEventListener('click', (e) => {\r\n          e.stopPropagation();\r\n          restorePanelToOrigin(panel);\r\n        });\r\n        // put button into top-left corner of panel\r\n        const head = panel.querySelector('.card-head') || panel;\r\n        head.appendChild(btn);\r\n      }\r\n    }\r\n  } catch (err) {\r\n    // fail silently\r\n  }\r\n}\r\n\r\nfunction restorePanelToOrigin(panel) {\r\n  try {\r\n    const orig = panel.dataset.origParent || 'left';\r\n    const target = document.querySelector('.' + orig) || document.querySelector('.left') || document.querySelector('.center') || document.querySelector('.right');\r\n    if (!target) return;\r\n    const idx = Number(panel.dataset.origIndex || -1);\r\n    if (idx >= 0 && idx < target.children.length) {\r\n      target.insertBefore(panel, target.children[idx]);\r\n    } else {\r\n      target.appendChild(panel);\r\n    }\r\n    panel.classList.remove('moved-to-footer');\r\n    const btn = panel.querySelector('.restore-panel-btn');\r\n    if (btn) btn.remove();\r\n    delete panel.dataset.origParent;\r\n    delete panel.dataset.origIndex;\r\n  } catch (err) {\r\n    // ignore\r\n  }\r\n}\r\n\r\nfunction scanAllPanelsForOverflow() {\r\n  try {\r\n    document.querySelectorAll('.panel.card').forEach((panel) => {\r\n      ensurePanelPlacement(panel);\r\n    });\r\n  } catch (e) {}\r\n}\r\n\r\nfunction findHorizontalScrollTarget(start) {\r\n  let el = start instanceof Element ? start : null;\r\n  while (el && el !== document.body && el !== document.documentElement) {\r\n    if (!(el instanceof HTMLElement)) {\r\n      el = el.parentElement;\r\n      continue;\r\n    }\r\n    const style = getComputedStyle(el);\r\n    const overflowX = style.overflowX;\r\n    if (overflowX === \"auto\" || overflowX === \"scroll\" || overflowX === \"overlay\") {\r\n      const maxScroll = el.scrollWidth - el.clientWidth;\r\n      if (maxScroll > 1) {\r\n        const overflowY = style.overflowY;\r\n        const hasVertical = (overflowY === \"auto\" || overflowY === \"scroll\" || overflowY === \"overlay\")\r\n          && (el.scrollHeight - el.clientHeight > 1);\r\n        return { element: el, hasVertical };\r\n      }\r\n    }\r\n    el = el.parentElement;\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction handleHorizontalWheel(e) {\r\n  if (e.defaultPrevented || e.ctrlKey || e.metaKey) return;\r\n  const target = findHorizontalScrollTarget(e.target);\r\n  if (!target) return;\r\n  const deltaX = Number.isFinite(e.deltaX) ? e.deltaX : 0;\r\n  const deltaY = Number.isFinite(e.deltaY) ? e.deltaY : 0;\r\n  if (!deltaX && !deltaY) return;\r\n  const usingHorizontal = Math.abs(deltaX) > Math.abs(deltaY);\r\n  if (target.hasVertical && !e.shiftKey && !usingHorizontal) return;\r\n  const delta = usingHorizontal ? deltaX : deltaY;\r\n  if (!delta) return;\r\n  const before = target.element.scrollLeft;\r\n  target.element.scrollLeft = before + delta;\r\n  if (target.element.scrollLeft !== before) {\r\n    e.preventDefault();\r\n  }\r\n}\r\n\r\nfunction setupHorizontalWheelScroll() {\r\n  if (horizontalWheelBound || typeof document === \"undefined\") return;\r\n  horizontalWheelBound = true;\r\n  document.addEventListener(\"wheel\", handleHorizontalWheel, { passive: false });\r\n}\r\n\r\nfunction setupOverlayDismissals() {\n  const handleBackdropClick = (event) => {\n    const target = event.target;\n    if (!(target instanceof Element)) return;\n    const overlay = target.closest(\".overlay\");\n    if (!overlay || overlay.dataset.overlayLock === \"true\") return;\n    if (target.closest(\".overlay-card\")) return;\n    event.preventDefault();\n    event.stopPropagation();\n    if (overlay.id) closeOverlay(overlay.id, { source: \"backdrop\" });\n  };\n  document.addEventListener(\"click\", handleBackdropClick, true);\n\n  document.addEventListener(\"keydown\", (event) => {\n    if (event.defaultPrevented || event.key !== \"Escape\") return;\n    const overlays = Array.from(document.querySelectorAll(\".overlay[aria-hidden=\\\"false\\\"]\"));\n    const overlay = overlays[overlays.length - 1];\n    if (!overlay || overlay.dataset.overlayLock === \"true\") return;\n    event.preventDefault();\n    event.stopPropagation();\n    if (overlay.id) closeOverlay(overlay.id, { source: \"escape\" });\n  });\n}\n\r\nfunction formatRealTimeSeconds(seconds) {\r\n  if (!Number.isFinite(seconds)) return \"-\";\r\n  const rounded = Math.round(seconds * 100) / 100;\r\n  return `${rounded}s`;\r\n}\r\n\r\nfunction parseQuickSkipValue(value) {\r\n  const num = Number(value);\r\n  return Number.isFinite(num) && num > 0 ? num : null;\r\n}\r\n\r\nfunction getQuickSkipConfig(button) {\r\n  if (!button) return null;\r\n  return {\r\n    hours: parseQuickSkipValue(button.dataset.skipHours),\r\n    days: parseQuickSkipValue(button.dataset.skipDays),\r\n    months: parseQuickSkipValue(button.dataset.skipMonths),\r\n    label: button.dataset.skipLabel || \"\"\r\n  };\r\n}\r\n\r\nfunction formatQuickSkipDescriptor(config) {\r\n  if (!config) return \"\";\r\n  if (config.months) return `+${formatCount(config.months)}mo`;\r\n  if (config.days) return `+${formatCount(config.days)}d`;\r\n  if (config.hours) return `+${formatCount(config.hours)}h`;\r\n  return \"\";\r\n}\r\n\r\nfunction buildQuickSkipButtonParts(button, baseLabel) {\r\n  const config = getQuickSkipConfig(button);\r\n  const descriptor = formatQuickSkipDescriptor(config);\r\n  return {\r\n    label: baseLabel,\r\n    detail: descriptor ? `(${descriptor})` : \"\"\r\n  };\r\n}\r\n\r\nfunction setTimeControlLabel(button, label, detail) {\r\n  if (!button) return;\r\n  const title = button.ownerDocument.createElement(\"span\");\r\n  title.className = \"time-btn-title\";\r\n  title.textContent = label;\r\n  button.textContent = \"\";\r\n  button.appendChild(title);\r\n  if (detail) {\r\n    const sub = button.ownerDocument.createElement(\"span\");\r\n    sub.className = \"time-btn-sub\";\r\n    sub.textContent = detail;\r\n    button.appendChild(sub);\r\n  }\r\n  button.classList.add(\"time-control-btn\");\r\n}\r\n\r\nfunction daysInUtcMonth(year, monthIndex) {\r\n  return new Date(Date.UTC(year, monthIndex + 1, 0)).getUTCDate();\r\n}\r\n\r\nfunction addUtcMonths(date, months) {\r\n  const next = new Date(date.getTime());\r\n  const day = next.getUTCDate();\r\n  next.setUTCDate(1);\r\n  next.setUTCMonth(next.getUTCMonth() + months);\r\n  const maxDay = daysInUtcMonth(next.getUTCFullYear(), next.getUTCMonth());\r\n  next.setUTCDate(Math.min(day, maxDay));\r\n  return next;\r\n}\r\n\r\nfunction resolveQuickSkipHours(config) {\r\n  if (!config) return 0;\r\n  if (config.hours) return Math.round(config.hours);\r\n  if (config.days) return Math.round(config.days * 24);\r\n  if (config.months) {\r\n    const months = Math.round(config.months);\r\n    const target = addUtcMonths(new Date(state.time.epochMs), months);\r\n    const diffMs = target.getTime() - state.time.epochMs;\r\n    if (diffMs <= 0) return 0;\r\n    return Math.floor(diffMs / HOUR_MS);\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction buildQuickSkipRunLabel(config, totalHours) {\r\n  if (config?.label) return config.label;\r\n  if (config?.months) {\r\n    const months = Math.round(config.months);\r\n    return `Skipping ${formatCount(months)} month${months === 1 ? \"\" : \"s\"}`;\r\n  }\r\n  if (config?.days) {\r\n    const days = Math.round(config.days);\r\n    return `Skipping ${formatCount(days)} day${days === 1 ? \"\" : \"s\"}`;\r\n  }\r\n  if (config?.hours) {\r\n    const hours = Math.round(config.hours);\r\n    return `Skipping ${formatCount(hours)} hour${hours === 1 ? \"\" : \"s\"}`;\r\n  }\r\n  return `Skipping ${formatCount(totalHours)} hours`;\r\n}\r\n\r\nfunction runQuickSkipFromButton(button, { closeModal = false } = {}) {\r\n  const config = getQuickSkipConfig(button);\r\n  if (!config) return;\r\n  const totalHours = resolveQuickSkipHours(config);\r\n  if (!totalHours || totalHours <= 0) {\r\n    logEvent(\"Quick skip option is invalid.\", \"warn\");\r\n    return;\r\n  }\r\n  const label = buildQuickSkipRunLabel(config, totalHours);\r\n  runTimeJump(totalHours, label);\r\n  if (closeModal) closeOverlay(\"skipTimeModal\");\r\n}\r\n\r\nfunction bindQuickSkipButtons(root) {\r\n  const scope = root || document;\r\n  scope.querySelectorAll(QUICK_SKIP_SELECTOR).forEach((button) => {\r\n    if (button.dataset.skipBound) return;\r\n    button.dataset.skipBound = \"1\";\r\n    button.addEventListener(\"click\", () => {\r\n      const closeModal = Boolean(button.closest(\"#skipTimeModal\"));\r\n      runQuickSkipFromButton(button, { closeModal });\r\n    });\r\n  });\r\n}\r\n\r\nfunction loadSplitLayoutState() {\r\n  const raw = localStorage.getItem(SPLIT_LAYOUT_STATE_KEY);\r\n  if (!raw) return {};\r\n  try {\r\n    return JSON.parse(raw) || {};\r\n  } catch {\r\n    return {};\r\n  }\r\n}\r\n\r\nfunction getSplitLayoutState() {\r\n  if (!splitLayoutState) splitLayoutState = loadSplitLayoutState();\r\n  return splitLayoutState;\r\n}\r\n\r\nfunction saveSplitLayoutState() {\r\n  if (!splitLayoutState) return;\r\n  safeSetLocalStorageJson(SPLIT_LAYOUT_STATE_KEY, splitLayoutState, { context: \"split layout state\" });\r\n}\r\n\r\nfunction clampSplitLayout(layout) {\r\n  if (!layout?.isConnected) return;\r\n  const left = layout.querySelector(\".split-panel.is-left\");\r\n  const right = layout.querySelector(\".split-panel.is-right\");\r\n  if (!left || !right) return;\r\n  const rect = layout.getBoundingClientRect();\r\n  if (!rect.width) return;\r\n  const minLeft = Number(layout.dataset.splitMinLeft || 260);\r\n  const minRight = Number(layout.dataset.splitMinRight || 260);\r\n  const maxLeft = Math.max(minLeft, rect.width - minRight);\r\n  const leftWidth = left.getBoundingClientRect().width;\r\n  const nextLeft = clamp(leftWidth, minLeft, maxLeft);\r\n  const pct = (nextLeft / rect.width) * 100;\r\n  layout.style.setProperty(\"--split-left\", `${pct}%`);\r\n}\r\n\r\nfunction clampSplitLayouts() {\r\n  Array.from(splitLayouts).forEach((layout) => {\r\n    if (!layout.isConnected) {\r\n      splitLayouts.delete(layout);\r\n      return;\r\n    }\r\n    clampSplitLayout(layout);\r\n  });\r\n}\r\n\r\nfunction setupSplitLayouts(root) {\r\n  const scope = root || document;\r\n  scope.querySelectorAll(\".split-layout\").forEach((layout) => {\r\n    if (layout.dataset.splitBound) return;\r\n    const left = layout.querySelector(\".split-panel.is-left\");\r\n    const right = layout.querySelector(\".split-panel.is-right\");\r\n    const handle = layout.querySelector(\".split-handle\");\r\n    if (!left || !right || !handle) return;\r\n    layout.dataset.splitBound = \"true\";\r\n    splitLayouts.add(layout);\r\n\r\n    const key = layout.dataset.splitKey || \"\";\r\n    const defaults = Number(layout.dataset.splitDefault || 50);\r\n    const state = getSplitLayoutState();\r\n    const stored = key ? Number(state[key]) : NaN;\r\n    if (Number.isFinite(stored)) {\r\n      layout.style.setProperty(\"--split-left\", `${stored}%`);\r\n    } else if (Number.isFinite(defaults)) {\r\n      layout.style.setProperty(\"--split-left\", `${defaults}%`);\r\n    }\r\n    clampSplitLayout(layout);\r\n\r\n    handle.addEventListener(\"pointerdown\", (event) => {\r\n      if (event.pointerType === \"mouse\" && event.button !== 0) return;\r\n      event.preventDefault();\r\n      const pointerId = event.pointerId;\r\n      if (handle.setPointerCapture) {\r\n        try {\r\n          handle.setPointerCapture(pointerId);\r\n        } catch {\r\n          // Ignore capture errors; drag still works via window listeners.\r\n        }\r\n      }\r\n      const rect = layout.getBoundingClientRect();\r\n      const startX = event.clientX;\r\n      const startWidth = left.getBoundingClientRect().width;\r\n      const minLeft = Number(layout.dataset.splitMinLeft || 260);\r\n      const minRight = Number(layout.dataset.splitMinRight || 260);\r\n      const maxLeft = Math.max(minLeft, rect.width - minRight);\r\n      let lastPct = null;\r\n\r\n      const onMove = (moveEvent) => {\r\n        const dx = moveEvent.clientX - startX;\r\n        const nextLeft = clamp(startWidth + dx, minLeft, maxLeft);\r\n        const pct = rect.width ? (nextLeft / rect.width) * 100 : defaults;\r\n        lastPct = pct;\r\n        layout.style.setProperty(\"--split-left\", `${pct}%`);\r\n      };\r\n\r\n      const onUp = () => {\r\n        window.removeEventListener(\"pointermove\", onMove);\r\n        window.removeEventListener(\"pointerup\", onUp);\r\n        window.removeEventListener(\"pointercancel\", onUp);\r\n        if (handle.releasePointerCapture) {\r\n          try {\r\n            if (handle.hasPointerCapture?.(pointerId)) handle.releasePointerCapture(pointerId);\r\n          } catch {\r\n            // Ignore release errors.\r\n          }\r\n        }\r\n        if (key && Number.isFinite(lastPct)) {\r\n          state[key] = Number(lastPct.toFixed(2));\r\n          saveSplitLayoutState();\r\n        }\r\n      };\r\n\r\n      window.addEventListener(\"pointermove\", onMove);\r\n      window.addEventListener(\"pointerup\", onUp);\r\n      window.addEventListener(\"pointercancel\", onUp);\r\n    });\r\n  });\r\n}\r\n\r\nfunction updateTimeControlLabels() {\r\n  const pauseBtn = $(\"pauseBtn\");\r\n  setTimeControlLabel(pauseBtn, \"Pause\", \"(stopped)\");\r\n  const playBtn = $(\"playBtn\");\r\n  if (playBtn) {\r\n    setTimeControlLabel(playBtn, \"Play\", `(1h = ${formatRealTimeSeconds(state.time?.secPerHourPlay)})`);\r\n  }\r\n  const fastBtn = $(\"fastBtn\");\r\n  if (fastBtn) {\r\n    setTimeControlLabel(fastBtn, \"Fast\", `(1h = ${formatRealTimeSeconds(state.time?.secPerHourFast)})`);\r\n  }\r\n  const autoDayBtn = $(\"autoSkipDayBtn\");\r\n  if (autoDayBtn) {\r\n    const { label, detail } = buildQuickSkipButtonParts(autoDayBtn, \"Auto Day\");\r\n    setTimeControlLabel(autoDayBtn, label, detail);\r\n  }\r\n  const autoWeekBtn = $(\"autoSkipWeekBtn\");\r\n  if (autoWeekBtn) {\r\n    const { label, detail } = buildQuickSkipButtonParts(autoWeekBtn, \"Auto Week\");\r\n    setTimeControlLabel(autoWeekBtn, label, detail);\r\n  }\r\n  const skipBtn = $(\"skipTimeBtn\");\r\n  setTimeControlLabel(skipBtn, \"Skip\", \"(custom)\");\r\n}\r\n\r\nfunction updateTimeControlButtons() {\r\n  updateTimeControlLabels();\r\n  const pauseBtn = $(\"pauseBtn\");\r\n  const playBtn = $(\"playBtn\");\r\n  const fastBtn = $(\"fastBtn\");\r\n  if (pauseBtn) pauseBtn.classList.toggle(\"active\", state.time.speed === \"pause\");\r\n  if (playBtn) playBtn.classList.toggle(\"active\", state.time.speed === \"play\");\r\n  if (fastBtn) fastBtn.classList.toggle(\"active\", state.time.speed === \"fast\");\r\n}\r\n\r\n// Accessibility: set aria-pressed on time controls\r\nfunction syncTimeControlAria() {\r\n  const map = { pause: 'pauseBtn', play: 'playBtn', fast: 'fastBtn' };\r\n  Object.keys(map).forEach((k) => {\r\n    const el = $(map[k]);\r\n    if (!el) return;\r\n    el.setAttribute('aria-pressed', state.time.speed === k ? 'true' : 'false');\r\n  });\r\n}\r\n\r\nfunction setSkipProgress(total, current, label) {\r\n  const fill = $(\"skipProgressFill\");\r\n  const meta = $(\"skipProgressMeta\");\r\n  const text = $(\"skipProgressLabel\");\r\n  if (text) text.textContent = label || \"Skipping time...\";\r\n  if (meta) meta.textContent = `${formatCount(current)} / ${formatCount(total)} hours`;\r\n  if (fill) {\r\n    const pct = total > 0 ? Math.min(100, Math.round((current / total) * 100)) : 0;\r\n    fill.style.width = `${pct}%`;\r\n  }\r\n}\r\n\r\nfunction openSkipProgress(label) {\r\n  setSkipProgress(1, 0, label);\r\n  openOverlay(\"skipProgressModal\");\r\n}\r\n\r\nfunction closeSkipProgress() {\r\n  closeOverlay(\"skipProgressModal\");\r\n}\r\n\r\nfunction runTimeJump(totalHours, label) {\r\n  if (!totalHours || totalHours <= 0) return;\r\n  if (timeJumpInFlight) {\r\n    logEvent(\"Time skip already running.\", \"warn\");\r\n    return;\r\n  }\n  timeJumpInFlight = true;\n  session.timeJumpActive = true;\n  startTimeJumpSummary(totalHours);\n  const chunkSize = totalHours >= 24 * 365 ? 48 : totalHours >= 24 * 90 ? 24 : 12;\n  let completed = 0;\n  let cancelled = false;\n  openSkipProgress(label);\r\n  setSkipProgress(totalHours, completed, label);\r\n\r\n  const cancelBtn = $(\"skipProgressCancel\");\r\n  const cancelHandler = () => { cancelled = true; };\r\n  if (cancelBtn) {\r\n    cancelBtn.disabled = false;\r\n    cancelBtn.addEventListener(\"click\", cancelHandler, { once: true });\r\n  }\r\n\r\n  const finish = (status) => {\n    timeJumpInFlight = false;\n    session.timeJumpActive = false;\n    logTimeJumpSummary({ status });\n    closeSkipProgress();\n    renderAll();\n  };\n\r\n  const step = async () => {\r\n    if (cancelled) {\n      logEvent(\"Time skip canceled.\", \"warn\");\n      finish(\"canceled\");\n      return;\n    }\n    const remaining = totalHours - completed;\r\n    const stepHours = Math.min(chunkSize, remaining);\r\n    try {\r\n      await advanceHours(stepHours, { renderQuarterly: false, renderAfter: false });\r\n    } catch (error) {\n      console.error(\"timeJump error:\", error);\n      logEvent(\"Time skip failed; stopping.\", \"warn\");\n      finish(\"failed\");\n      return;\n    }\n    completed += stepHours;\r\n    setSkipProgress(totalHours, completed, label);\r\n    if (completed >= totalHours) {\n      finish();\n      return;\n    }\r\n    setTimeout(step, 0);\r\n  };\r\n  setTimeout(step, 0);\r\n}\r\nexport default initUI;\r\n"]}