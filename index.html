<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Record Label Simulator - MVP</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding:wght@400;700&family=Ubuntu+Mono:wght@400;700&family=Ubuntu+Sans+Mono:wght@400;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,500,0,0" rel="stylesheet">
<link rel="stylesheet" href="assets/css/app.css">
<link rel="manifest" href="manifest.webmanifest">
<meta name="theme-color" content="#0f141c">
<link rel="icon" href="assets/icons/icon-192.png" sizes="192x192">
<link rel="apple-touch-icon" href="assets/icons/icon-192.png">
</head>
<body>
<div id="mainMenu" class="menu">
  <div class="menu-card panel">
    <div class="card-head">
      <div>
        <div class="brand-title">Record Label Simulator</div>
        <div class="brand-sub">Choose a game slot (one active per session)</div>
      </div>
      <button id="menuCloseBtn" type="button" class="ghost">Return</button>
    </div>
    <div id="slotList" class="menu-slots"></div>
    <div class="field">
      <label for="gameModeSelect">Game Mode</label>
      <select id="gameModeSelect" aria-label="Game mode selection"></select>
      <div id="gameModeHint" class="tiny"></div>
    </div>
    <div class="field">
      <label for="difficultySelect">Difficulty</label>
      <select id="difficultySelect" aria-label="Difficulty selection"></select>
      <div id="difficultyHint" class="tiny"></div>
    </div>
    <div class="field">
      <label for="startTheme1">Starting Preferences</label>
      <div class="tiny">Pick two Themes and two Moods to seed early Creator preferences.</div>
      <div class="input-row">
        <select id="startTheme1" aria-label="Starting theme 1"></select>
        <select id="startTheme2" aria-label="Starting theme 2"></select>
      </div>
      <div class="input-row">
        <select id="startMood1" aria-label="Starting mood 1"></select>
        <select id="startMood2" aria-label="Starting mood 2"></select>
      </div>
      <div class="tiny">Trends remain hidden until gameplay begins.</div>
    </div>
    <div class="field">
      <label for="autoSaveToggle">Auto Save</label>
      <div class="toggle-row">
        <input id="autoSaveToggle" type="checkbox" aria-label="Auto save toggle">
        <select id="autoSaveMinutes" aria-label="Auto save interval"></select>
      </div>
      <div class="tiny">Auto save writes to the active game slot every 2-10 minutes.</div>
    </div>
    <div class="actions">
      <button id="menuSaveBtn" type="button">Save Game Slot</button>
      <button id="resetLayoutSettingsBtn" type="button" class="ghost">Reset UI Layout</button>
    </div>
    <div class="tiny">Tip: reload the page to switch game slots.</div>
  </div>
</div>
<div id="walletModal" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2>Wallet</h2>
      <button id="walletClose" type="button" class="ghost">Close</button>
    </div>
    <div id="walletDetails" class="list"></div>
  </div>
</div>
<div id="panelMenu" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2>Panels</h2>
      <button id="panelMenuClose" type="button" class="ghost">Close</button>
    </div>
    <div class="card-body">
      <div class="muted">Toggle panels for the current view. Hidden panels are removed from layout.</div>
      <div id="panelMenuList" class="list" style="margin-top:10px"></div>
      <div class="actions">
        <button id="resetLayoutBtn" type="button" class="ghost">Reset Layout</button>
      </div>
    </div>
  </div>
</div>
<div id="tutorialModal" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2>Tutorial</h2>
      <button id="tutorialClose" type="button" class="ghost">Close</button>
    </div>
    <div class="card-body">
      <div class="callout">
        Start here: sign Creator IDs in the CCC, build a track (Sheet -> Demo -> Master), release it, and fund a promo push. Use time controls to move weeks and watch charts climb.
      </div>
      <div class="actions">
        <button id="quickRecipesBtn" type="button" class="ghost">Quick Recipes</button>
      </div>
      <div class="subhead">Quick Start (First Week)</div>
      <div class="list">
        <div class="list-item">
          <div class="item-title">Sign Creator IDs (Community -> CCC)</div>
          <div class="muted">Refresh the pool and sign at least one Songwriter, Performer, and Producer.</div>
        </div>
        <div class="list-item">
          <div class="item-title">Form an Act (Roster -> Harmony Hub)</div>
          <div class="muted">Assign Creator IDs to Act slots to prep releases and eras.</div>
        </div>
        <div class="list-item">
          <div class="item-title">Create content (Create view)</div>
          <div class="muted">Assign Creator IDs, pick Theme/Mood, then run Sheet -> Demo -> Master stages.</div>
        </div>
        <div class="list-item">
          <div class="item-title">Schedule release (Release Desk)</div>
          <div class="muted">Choose distribution; Digital is fast, Physical or Both pays more.</div>
        </div>
        <div class="list-item">
          <div class="item-title">Promote (Social -> eyeriSocial)</div>
          <div class="muted">Pick a released Track ID, set budget, and fund promo pushes.</div>
        </div>
      </div>
      <div class="subhead">Core Loop &amp; Timing</div>
      <div class="list">
        <div class="list-item">
          <div class="item-title">Charts update weekly (168 in-game hours)</div>
          <div class="muted">Use Pause/Play/Fast and Skip Time to move weeks.</div>
        </div>
        <div class="list-item">
          <div class="item-title">Trends guide demand</div>
          <div class="muted">Check Top Trends in Community/Create and follow recommendations.</div>
        </div>
        <div class="list-item">
          <div class="item-title">Studios and stamina are bottlenecks</div>
          <div class="muted">Active Studios cap parallel work; bigger teams are faster but drain stamina.</div>
        </div>
        <div class="list-item">
          <div class="item-title">Eras focus your cadence</div>
          <div class="muted">Use Era Desk to set a Focus Era for creation and promo priorities.</div>
        </div>
        <div class="list-item">
          <div class="item-title">Cashflow matters</div>
          <div class="muted">Watch Wallet for weekly revenue/upkeep and avoid negative cash.</div>
        </div>
      </div>
      <div class="subhead">Interface Tips</div>
      <div class="list">
        <div class="list-item">
          <div class="item-title">Use ID slots</div>
          <div class="muted">Tap a slot, then tap an ID, or drag IDs into slots. Use Clear to reset.</div>
        </div>
        <div class="list-item">
          <div class="item-title">Speed up assignments</div>
          <div class="muted">Auto Assign and Recommend All help fill creator slots quickly.</div>
        </div>
        <div class="list-item">
          <div class="item-title">Customize the layout</div>
          <div class="muted">Use Sidebars and Panels to toggle UI sections for each view.</div>
        </div>
        <div class="list-item">
          <div class="item-title">Save early, save often</div>
          <div class="muted">Enable Auto Save in Settings or manually save game slots.</div>
        </div>
      </div>
      <div class="subhead">Roles &amp; Actions</div>
      <div class="tiny muted">Status: Live = playable, Simulated = system-driven, Placeholder = planned.</div>
      <div id="roleActionsList" class="list" style="margin-top:10px"></div>
    </div>
  </div>
</div>
<div id="skipTimeModal" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2>Skip Time</h2>
      <button id="skipTimeClose" type="button" class="ghost">Close</button>
    </div>
    <div class="card-body">
      <div class="actions">
        <button id="skip24hBtn" type="button" class="ghost">+24 Hours</button>
        <button id="skip7dBtn" type="button" class="ghost">+7 Days</button>
        <button id="skip14dBtn" type="button" class="ghost">+14 Days</button>
        <button id="skip28dBtn" type="button" class="ghost">+28 Days</button>
      </div>
      <div class="form-grid" style="margin-top:10px">
        <div class="field">
          <label for="skipDaysInput">Skip Days</label>
          <input id="skipDaysInput" type="number" min="1" max="365" value="7">
        </div>
        <div class="field">
          <label for="skipHoursInput">Extra Hours</label>
          <input id="skipHoursInput" type="number" min="0" max="23" value="0">
        </div>
      </div>
      <div class="actions">
        <button id="skipCustomBtn" type="button">Skip Custom</button>
      </div>
      <div class="form-grid" style="margin-top:12px">
        <div class="field">
          <label for="skipDateInput">Target Date</label>
          <input id="skipDateInput" type="date">
        </div>
        <div class="field">
          <label for="skipTimeInput">Target Time (UTC)</label>
          <input id="skipTimeInput" type="time" value="00:00">
        </div>
      </div>
      <div class="actions">
        <button id="skipToDateBtn" type="button" class="ghost">Skip to Date</button>
      </div>
    </div>
  </div>
</div>
<div id="quickRecipesModal" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2>Quick Recipes</h2>
      <button id="quickRecipesClose" type="button" class="ghost">Close</button>
    </div>
    <div id="quickRecipesList" class="list"></div>
  </div>
</div>
<div id="skipProgressModal" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2>Skipping Time</h2>
      <button id="skipProgressCancel" type="button" class="ghost">Cancel</button>
    </div>
    <div class="card-body">
      <div id="skipProgressLabel" class="muted">Preparing time jump...</div>
      <div class="progress-bar">
        <div id="skipProgressFill" class="progress-fill"></div>
      </div>
      <div id="skipProgressMeta" class="tiny">0 / 0 hours</div>
    </div>
  </div>
</div>
<div id="calendarModal" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2>Release Calendar</h2>
      <button id="calendarClose" type="button" class="ghost">Close</button>
    </div>
    <div class="card-body">
      <div class="tabs" id="calendarModalTabs">
        <button class="tab active" data-calendar-tab="label" type="button">Label</button>
        <button class="tab" data-calendar-tab="public" type="button">Public</button>
        <button class="tab" data-calendar-tab="eras" type="button">Eras</button>
      </div>
      <div class="filter-row" id="calendarModalFilters">
        <label class="check-pill"><input type="checkbox" data-calendar-filter="labelScheduled">Label Scheduled</label>
        <label class="check-pill"><input type="checkbox" data-calendar-filter="labelReleased">Label Released</label>
        <label class="check-pill"><input type="checkbox" data-calendar-filter="rivalScheduled">Rival Scheduled</label>
        <label class="check-pill"><input type="checkbox" data-calendar-filter="rivalReleased">Rival Released</label>
      </div>
      <div id="calendarFullList" class="list"></div>
    </div>
  </div>
</div>
<div id="chartHistoryModal" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2>Chart History</h2>
      <button id="chartHistoryClose" type="button" class="ghost">Close</button>
    </div>
    <div class="card-body">
      <div id="chartHistoryScope" class="muted">Scope: -</div>
      <div class="actions">
        <button id="chartHistoryLatest" type="button" class="ghost">Return to Latest</button>
      </div>
      <div id="chartHistoryList" class="list"></div>
    </div>
  </div>
</div>
<div id="endModal" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2 id="endTitle">Game Over</h2>
      <button id="endClose" type="button" class="ghost">Close</button>
    </div>
    <div id="endMessage" class="list"></div>
  </div>
</div>
<div id="bailoutModal" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2>Bailout Offer</h2>
    </div>
    <div class="card-body">
      <div class="muted">Cash is below zero. Accept the bailout to continue with $10,000,000 and locked achievements, or decline to end the game.</div>
      <div class="actions" style="margin-top:12px">
        <button id="bailoutAcceptBtn" type="button">Accept Bailout</button>
        <button id="bailoutDeclineBtn" type="button" class="ghost">Decline</button>
      </div>
    </div>
  </div>
</div>
<div id="autoAssignModal" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2>Auto Assign - Top Candidates</h2>
      <button id="autoAssignClose" type="button" class="ghost">Close</button>
    </div>
    <div class="muted">Top 5 per role, sorted by readiness and skill. Low stamina IDs are deprioritized.</div>
    <div id="autoAssignList" class="list" style="margin-top:10px"></div>
    <div class="actions">
      <button id="autoAssignBest" type="button" class="ghost">Auto Pick Best</button>
    </div>
  </div>
</div>
<div id="communitiesModal" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2>Communities</h2>
      <button id="communitiesClose" type="button" class="ghost">Close</button>
    </div>
    <div class="muted">Explore areas, recruit creators, unlock tools, and find collabs across Gaia.</div>
  </div>
</div>
<div id="harmonyModal" class="overlay" aria-hidden="true">
  <div class="overlay-card panel">
    <div class="card-head">
      <h2>Harmony Hub</h2>
      <button id="harmonyClose" type="button" class="ghost">Close</button>
    </div>
    <div class="muted">Manage owned areas, equipped tools, and active collaborations.</div>
  </div>
</div>

<div class="shell">
  <header class="app-header">
    <div class="hud-left">
      <div class="label-summary">
        <div id="topActPortrait" class="label-portrait">RLS</div>
        <div class="label-meta">
          <div id="labelNameDisplay" class="label-title">Record Label</div>
          <div id="topActName" class="label-sub">Top Act: -</div>
        </div>
      </div>
      <div class="hud-stats-grid">
        <div class="hud-stat">
          <div class="stat-label">Cash</div>
          <div id="cashDisplay" class="stat-value">$0</div>
        </div>
        <div class="hud-stat">
          <div class="stat-label">Studios</div>
          <div id="studioDisplay" class="stat-value">0 / 0</div>
        </div>
        <div class="hud-stat">
          <div class="stat-label">Active Slot</div>
          <div id="slotDisplay" class="stat-value">-</div>
        </div>
        <div class="hud-stat">
          <div class="stat-label">Active ID Slot</div>
          <div id="slotTargetDisplay" class="stat-value">-</div>
        </div>
        <div class="hud-stat">
          <div class="stat-label">Focus Era</div>
          <div id="focusEraDisplay" class="stat-value">-</div>
        </div>
      </div>
    </div>
    <div class="hud-center">
      <div id="timeDisplay" class="time-display">SAT - JAN 01, 2400 - 12AM</div>
      <div class="time-row">
        <button id="pauseBtn" type="button" class="ghost">Pause</button>
        <button id="playBtn" type="button" class="ghost">Play</button>
        <button id="fastBtn" type="button" class="ghost">Fast</button>
        <button id="skipDayBtn" type="button" class="ghost">Skip 24h</button>
        <button id="skipWeekBtn" type="button" class="ghost">Skip 7d</button>
        <button id="skipTimeBtn" type="button" class="ghost">Skip Time</button>
      </div>
      <div class="time-meta">
        <span id="weekDisplay">Week 1</span> | <span id="chartCountdown">Charts update in 168h</span> | <span id="gameModeDisplay" class="pill mode-pill" aria-label="Game mode">-</span> <span id="gameDifficultyDisplay" class="pill difficulty-pill" aria-label="Game difficulty">-</span>
      </div>
    </div>
    <div class="hud-mid">
      <div class="world-summary world-summary--split">
        <div class="world-summary-col">
          <div class="stat-label">Top Labels</div>
          <div id="topLabelsHeaderList" class="top-mini-list"></div>
        </div>
        <div class="world-summary-col">
          <div class="stat-label">Top Trends</div>
          <div id="topTrendsHeaderList" class="top-mini-list"></div>
        </div>
      </div>
    </div>
    <div class="hud-right">
      <div class="hud-actions">
        <button id="tutorialBtn" type="button" class="ghost">
          <span class="material-symbols-rounded icon-glyph" aria-hidden="true">help</span>
          <span>Tutorial</span>
        </button>
        <button id="menuBtn" type="button" class="ghost">
          <span class="material-symbols-rounded icon-glyph" aria-hidden="true">settings</span>
          <span>Settings</span>
        </button>
        <button id="sidePanelsBtn" type="button" class="ghost">
          <span class="material-symbols-rounded icon-glyph" aria-hidden="true">view_sidebar</span>
          <span>Sidebars</span>
        </button>
        <button id="panelMenuBtn" type="button" class="ghost">
          <span class="material-symbols-rounded icon-glyph" aria-hidden="true">widgets</span>
          <span>Panels</span>
        </button>
      </div>
    </div>
    <div class="hud-nav-row">
      <nav class="app-nav">
        <a href="#/dashboard" data-route="dashboard" class="nav-item" aria-label="Dashboard" title="Dashboard">
          <span class="material-symbols-rounded nav-icon" aria-hidden="true">dashboard</span>
          <span class="nav-label">Dashboard</span>
        </a>
        <a href="#/charts" data-route="charts" class="nav-item" aria-label="Charts" title="Charts">
          <span class="material-symbols-rounded nav-icon" aria-hidden="true">bar_chart</span>
          <span class="nav-label">Charts</span>
        </a>
        <a href="#/create" data-route="create" class="nav-item" aria-label="Create" title="Create">
          <span class="material-symbols-rounded nav-icon" aria-hidden="true">edit_note</span>
          <span class="nav-label">Create</span>
        </a>
        <a href="#/releases" data-route="releases" class="nav-item" aria-label="Releases" title="Releases">
          <span class="material-symbols-rounded nav-icon" aria-hidden="true">album</span>
          <span class="nav-label">Releases</span>
        </a>
        <a href="#/eras" data-route="eras" class="nav-item" aria-label="Eras" title="Eras">
          <span class="material-symbols-rounded nav-icon" aria-hidden="true">calendar_month</span>
          <span class="nav-label">Eras</span>
        </a>
        <a href="#/roster" data-route="roster" class="nav-item" aria-label="Roster" title="Roster">
          <span class="material-symbols-rounded nav-icon" aria-hidden="true">groups</span>
          <span class="nav-label">Roster</span>
        </a>
        <a href="#/world" data-route="world" class="nav-item" aria-label="Community" title="Community">
          <span class="material-symbols-rounded nav-icon" aria-hidden="true">public</span>
          <span class="nav-label">Community</span>
        </a>
        <a href="#/logs" data-route="logs" class="nav-item" aria-label="Social" title="Social">
          <span class="material-symbols-rounded nav-icon" aria-hidden="true">forum</span>
          <span class="nav-label">Social</span>
        </a>
      </nav>
    </div>
  </header>

  <main id="app" class="app-main"></main>
</div>

<template id="view-dashboard">
  <div class="view view--dashboard">
    <section class="view-main">
      <div class="panel card panel--scroll" data-panel="dashboard-overview">
        <div class="card-head">
          <h2>Dashboard</h2>
          <div class="panel-tools">
            <div id="dashboardWeekLabel" class="tiny muted">Week -</div>
            <div id="dashboardDateLabel" class="tiny muted">-</div>
          </div>
        </div>
        <div class="card-body">
          <div id="dashboardStats" class="dashboard-grid"></div>
          <div class="subhead">Quick Actions</div>
          <div class="dashboard-actions">
            <a href="#/create" class="ghost mini">New Track</a>
            <a href="#/releases" class="ghost mini">Release Desk</a>
            <a href="#/roster" class="ghost mini">Roster</a>
            <a href="#/eras" class="ghost mini">Eras</a>
          </div>
        </div>
      </div>
      <div class="panel card panel--scroll" data-panel="dashboard-pipeline">
        <h2>Pipeline</h2>
        <div class="card-body">
          <div class="subhead">In Production</div>
          <div id="dashboardWorkOrders" class="list"></div>
          <div class="subhead">Upcoming Releases</div>
          <div id="dashboardReleaseQueue" class="list"></div>
        </div>
      </div>
    </section>
    <aside class="view-side">
      <div class="panel card panel--scroll" data-panel="dashboard-charts">
        <h2>Chart Pulse</h2>
        <div class="card-body">
          <div id="dashboardChartsList" class="list"></div>
          <div class="tiny">Global top 5.</div>
        </div>
      </div>
      <div class="panel card panel--scroll" data-panel="dashboard-eras">
        <h2>Active Eras</h2>
        <div class="card-body">
          <div id="dashboardEraList" class="list"></div>
        </div>
      </div>
    </aside>
  </div>
</template>

<template id="view-charts">
  <div class="view view--charts">
    <section class="view-main">
      <div class="panel card panel--scroll" data-panel="charts">
        <div class="card-head">
          <h2>Gameplay Screen: Charts</h2>
          <div class="tabs" id="chartTabs">
            <button class="tab active" data-chart="global" type="button">Global</button>
            <button class="tab" data-chart="Annglora" type="button">Annglora</button>
            <button class="tab" data-chart="Bytenza" type="button">Bytenza</button>
            <button class="tab" data-chart="Crowlya" type="button">Crowlya</button>
            <button class="tab" data-chart="Annglora Capital" type="button">Annglora Cap</button>
            <button class="tab" data-chart="Annglora Elsewhere" type="button">Annglora Else</button>
            <button class="tab" data-chart="Bytenza Capital" type="button">Bytenza Cap</button>
            <button class="tab" data-chart="Bytenza Elsewhere" type="button">Bytenza Else</button>
            <button class="tab" data-chart="Crowlya Capital" type="button">Crowlya Cap</button>
            <button class="tab" data-chart="Crowlya Elsewhere" type="button">Crowlya Else</button>
          </div>
        </div>
        <div class="card-body">
          <div class="callout">
            Charts update weekly (every 168 in-game hours). Keep an eye on trends to climb.
          </div>
          <div class="chart-meta-row">
            <button id="chartWeekBtn" type="button" class="ghost mini">
              <span id="chartWeekRange">Week 1</span>
            </button>
            <div id="chartMeta" class="tiny">-</div>
          </div>
          <div id="chartHistoryNotice" class="tiny muted"></div>
          <div id="chartList" class="list"></div>
        </div>
      </div>
    </section>
    <aside class="view-side">
      <div class="panel card panel--scroll" data-panel="release-desk">
        <h2>Release Desk</h2>
        <div class="card-body">
          <div class="callout">
            Assign an Act, then release ready tracks to enter charts. Digital is fast and low-overhead (baseline $0.69 single). Physical (or Both) takes two weeks for manufacturing/distribution but sells at higher prices (baseline $4.99 single).
          </div>
          <div class="field">
            <label for="releaseDistribution">Distribution</label>
            <select id="releaseDistribution">
              <option value="Digital">Digital</option>
              <option value="Physical">Physical</option>
              <option value="Both">Both</option>
            </select>
          </div>
          <div class="subhead">Ready</div>
          <div id="readyList" class="list"></div>
          <div class="subhead">Scheduled</div>
          <div id="releaseQueueList" class="list"></div>
        </div>
      </div>
      <div class="panel card panel--scroll" data-panel="label-rankings">
        <h2>Label Rankings</h2>
        <div class="card-body">
          <div id="labelRankings" class="list"></div>
        </div>
      </div>
    </aside>
  </div>
</template>

<template id="view-create">
  <div class="view view--create">
    <section class="view-main">
      <div class="panel card panel--scroll" data-panel="create-track">
        <div class="card-head">
          <h2>Create Content</h2>
          <div class="panel-tools">
            <button id="createHelpToggle" type="button" class="ghost mini">Help</button>
          </div>
        </div>
        <div class="card-body">
          <div id="createHelp" class="callout hidden">
            Quick start: tap an ID slot, assign Creator IDs, pick a Theme, then start sheet music. Acts are assigned later in Release Desk for release and promotion.
          </div>
          <div class="stage-picker">
            <div class="stage-title">Creation Stage</div>
            <div class="stage-buttons stage-buttons--compact" role="group" aria-label="Creation stage selection">
              <button type="button" class="ghost stage-btn" data-create-stage="all">All Stages</button>
              <button type="button" class="ghost stage-btn" data-create-stage="sheet">Sheet Music</button>
              <button type="button" class="ghost stage-btn" data-create-stage="demo">Demo Recording</button>
              <button type="button" class="ghost stage-btn" data-create-stage="master">Master Recording</button>
            </div>
          </div>
          <div class="subhead" data-stage="sheet,all">Track Details</div>
          <div class="form-grid" data-stage="sheet,all">
            <div class="field" data-stage="sheet">
              <label for="trackTitle">Title</label>
              <div class="input-row">
                <input id="trackTitle" type="text" placeholder="Auto-generate if empty">
                <button id="trackTitleRandom" type="button" class="ghost mini">Rnd</button>
              </div>
            </div>
            <div class="field" data-stage="sheet">
              <label for="projectName">Project</label>
              <div class="input-row">
                <input id="projectName" type="text" placeholder="Auto-generate if empty">
                <button id="projectNameRandom" type="button" class="ghost mini">Rnd</button>
              </div>
            </div>
            <div class="field" data-stage="sheet">
              <label for="projectTypeSelect">Content Type</label>
              <select id="projectTypeSelect">
                <option value="Single">Single</option>
                <option value="EP">EP</option>
                <option value="Album">Album</option>
              </select>
            </div>
            <div class="field" data-stage="sheet">
              <label for="themeSelect">Theme</label>
              <select id="themeSelect"></select>
            </div>
            <div class="field" data-stage="sheet">
              <label for="modifierSelect">Modifier Slot</label>
              <select id="modifierSelect"></select>
            </div>
          </div>
          <div class="subhead">Stage Inputs</div>
          <div class="form-grid">
            <div class="field" data-stage="demo,all">
              <label for="demoTrackSelect">Demo Track</label>
              <select id="demoTrackSelect"></select>
              <div id="demoTrackMeta" class="tiny muted"></div>
            </div>
            <div class="field" data-stage="master,all">
              <label for="masterTrackSelect">Master Track</label>
              <select id="masterTrackSelect"></select>
              <div id="masterTrackMeta" class="tiny muted"></div>
            </div>
            <div class="field">
              <label for="activeStudiosSelect">Active Studios</label>
              <select id="activeStudiosSelect"></select>
              <div id="activeStudiosMeta" class="tiny muted">Up to 3 studios can run per stage.</div>
            </div>
            <div class="field" data-stage="demo">
              <label for="moodSelect">Mood</label>
              <select id="moodSelect"></select>
            </div>
            <div class="field" data-stage="master">
              <label for="trackAlignment">Content Alignment</label>
              <select id="trackAlignment"></select>
            </div>
          </div>
          <div class="subhead">Recommendation</div>
          <div id="trackRecommend" class="callout"></div>
          <div class="section-head">
            <div class="subhead">Creator Slots</div>
            <div class="section-actions" data-stage="sheet,all">
              <button id="createAdvancedToggle" type="button" class="ghost mini">Advanced</button>
            </div>
          </div>
          <div id="trackSlotMeta" class="tiny muted">Songwriters up to 15, recorders up to 10, producers up to 5. Larger teams move faster but drain more stamina and can dilute fit bonuses.</div>
          <div id="trackSlotGrid" class="slot-grid slot-grid--stack"></div>
          <div id="createAdvancedOptions" class="advanced-options hidden">
            <div class="field">
              <label for="recommendAllMode">Recommend All Mode</label>
              <select id="recommendAllMode">
                <option value="solo">Solo tracks</option>
                <option value="collab">Collab track</option>
              </select>
              <div id="recommendAllHelp" class="tiny muted">Solo starts separate sheet music for each assigned songwriter. Collab fills one track with everyone.</div>
            </div>
          </div>
          <div class="actions">
            <button id="autoAssignBtn" type="button" class="ghost">Auto assign</button>
            <button id="trackRecommendAll" type="button" class="ghost">Recommend All</button>
            <button id="startTrackBtn" type="button" class="primary" data-stage-mode="single">Start Sheet Music</button>
          </div>
          <div class="actions pipeline-actions hidden" data-stage-mode="pipeline">
            <button id="startSheetBtn" type="button" class="primary">Start Sheet Music</button>
            <button id="startDemoBtn" type="button" class="ghost">Start Demo Recording</button>
            <button id="startMasterBtn" type="button" class="ghost">Start Master Recording</button>
          </div>
          <div id="genrePreview" class="tiny" data-stage="sheet">Planned Genre: -</div>
          <div class="tiny">Base cost: $2500 total. Modifiers adjust cost and time; stages consume 1, 2, and 3 in-game hours.</div>
        </div>
      </div>
    </section>
    <aside class="view-side">
      <div class="panel card panel--scroll" data-panel="tracks">
        <h2>Tracks</h2>
        <div class="tabs track-tabs" role="tablist" aria-label="Tracks panel tabs">
          <button class="tab" data-track-tab="active" type="button">Active</button>
          <button class="tab" data-track-tab="archive" type="button">Archive</button>
        </div>
        <div class="card-body">
          <div id="trackList" class="list track-panel-list" data-track-panel="active"></div>
          <div id="trackArchiveList" class="list track-panel-list hidden" data-track-panel="archive"></div>
        </div>
      </div>
    </aside>
  </div>
</template>

<template id="view-releases">
  <div class="view view--releases">
    <section class="view-main">
      <div class="panel card panel--scroll" data-panel="release-desk">
        <h2>Release Desk</h2>
        <div class="card-body">
          <div class="callout">
            Assign an Act, then release ready tracks to enter charts. Digital is fast and low-overhead (baseline $0.69 single). Physical (or Both) takes two weeks for manufacturing/distribution but sells at higher prices (baseline $4.99 single).
          </div>
          <div class="field">
            <label for="releaseDistribution">Distribution</label>
            <select id="releaseDistribution">
              <option value="Digital">Digital</option>
              <option value="Physical">Physical</option>
              <option value="Both">Both</option>
            </select>
          </div>
          <div class="subhead">Ready</div>
          <div id="readyList" class="list"></div>
          <div class="subhead">Scheduled</div>
          <div id="releaseQueueList" class="list"></div>
        </div>
      </div>
    </section>
    <aside class="view-side">
      <div class="panel card panel--scroll" data-panel="tracks">
        <h2>Tracks</h2>
        <div class="tabs track-tabs" role="tablist" aria-label="Tracks panel tabs">
          <button class="tab" data-track-tab="active" type="button">Active</button>
          <button class="tab" data-track-tab="archive" type="button">Archive</button>
        </div>
        <div class="card-body">
          <div id="trackList" class="list track-panel-list" data-track-panel="active"></div>
          <div id="trackArchiveList" class="list track-panel-list hidden" data-track-panel="archive"></div>
        </div>
      </div>
    </aside>
  </div>
</template>

<template id="view-eras">
  <div class="view view--eras">
    <section class="view-main">
      <div class="panel card panel--scroll" data-panel="era-desk">
        <h2>Era Desk</h2>
        <div class="card-body">
          <div class="callout">
            Eras run in four stages: Direction, Creation, Promotion, Legacy. Use the calendar to track internal schedules; use eyeriSocial to publish public updates.
          </div>
          <div class="id-slot" data-slot-target="era-act" data-slot-type="act">
            <div class="slot-label">Act ID</div>
            <div id="eraActSlot" class="slot-value">?</div>
            <button type="button" class="ghost mini" data-slot-clear="era-act">Clear</button>
          </div>
          <div class="field">
            <label for="eraNameInput">Era Name</label>
            <div class="input-row">
              <input id="eraNameInput" type="text" placeholder="e.g. Neon Signal: Dawn Phase">
              <button id="eraNameRandom" type="button" class="ghost mini">Rnd</button>
            </div>
          </div>
          <div class="field">
            <label for="eraRolloutSelect">Rollout Strategy</label>
            <select id="eraRolloutSelect"></select>
          </div>
          <div class="actions">
            <button id="startEraBtn" type="button">Start Era</button>
            <button id="endEraBtn" type="button" class="ghost">End Era</button>
          </div>
          <div class="subhead">Focus Era</div>
          <div class="list-item">
            <div class="list-row">
              <div>
                <div id="eraFocusLabel" class="item-title">No active eras</div>
                <div class="muted">Creation and promo pushes will prefer this era when possible.</div>
              </div>
              <button id="eraFocusClear" type="button" class="ghost mini">Clear</button>
            </div>
          </div>
          <div id="eraStatus" class="list"></div>
        </div>
      </div>
    </section>
    <aside class="view-side">
      <div class="panel card panel--scroll" data-panel="calendar">
        <div class="card-head">
          <h2>Calendar</h2>
          <button id="calendarBtn" type="button" class="ghost">Open</button>
        </div>
        <div class="card-body">
          <div class="tabs" id="calendarTabs">
            <button class="tab active" data-calendar-tab="label" type="button">Label</button>
            <button class="tab" data-calendar-tab="public" type="button">Public</button>
            <button class="tab" data-calendar-tab="eras" type="button">Eras</button>
          </div>
          <div class="filter-row" id="calendarFilters">
            <label class="check-pill"><input type="checkbox" data-calendar-filter="labelScheduled">Label Scheduled</label>
            <label class="check-pill"><input type="checkbox" data-calendar-filter="labelReleased">Label Released</label>
            <label class="check-pill"><input type="checkbox" data-calendar-filter="rivalScheduled">Rival Scheduled</label>
            <label class="check-pill"><input type="checkbox" data-calendar-filter="rivalReleased">Rival Released</label>
          </div>
          <div id="calendarList" class="list"></div>
        </div>
      </div>
      <div class="panel card panel--scroll" data-panel="tracks">
        <h2>Tracks</h2>
        <div class="tabs track-tabs" role="tablist" aria-label="Tracks panel tabs">
          <button class="tab" data-track-tab="active" type="button">Active</button>
          <button class="tab" data-track-tab="archive" type="button">Archive</button>
        </div>
        <div class="card-body">
          <div id="trackList" class="list track-panel-list" data-track-panel="active"></div>
          <div id="trackArchiveList" class="list track-panel-list hidden" data-track-panel="archive"></div>
        </div>
      </div>
    </aside>
  </div>
</template>

<template id="view-roster">
  <div class="view view--roster">
    <section class="view-main">
      <div class="panel card panel--scroll" data-panel="harmony-hub">
        <h2>Harmony Hub</h2>
        <div class="card-body">
          <div class="callout">
            Form and manage Acts by assigning Creator IDs. Track which Eras each Act is participating in.
          </div>
          <div class="subhead">Acts</div>
          <div id="actList" class="list"></div>
          <div class="actions">
            <button id="quickActBtn" type="button" class="ghost">Quick Act</button>
          </div>
          <div class="subhead">Create Act</div>
          <div class="field">
            <label for="actName">Act Name</label>
            <div class="input-row">
              <input id="actName" type="text" placeholder="e.g. Velvet Signal">
              <button id="actNameRandom" type="button" class="ghost mini">Rnd</button>
            </div>
          </div>
          <div class="field">
            <label for="actTypeSelect">Act Type</label>
            <select id="actTypeSelect"></select>
          </div>
          <div class="field">
            <label for="actAlignmentSelect">Act Alignment</label>
            <select id="actAlignmentSelect"></select>
          </div>
          <div class="subhead">Act Slots</div>
          <div class="slot-grid">
            <div class="id-slot" data-slot-target="act-lead" data-slot-type="creator">
              <div class="slot-label">Lead Creator ID</div>
              <div class="slot-id">
                <div class="slot-avatar" aria-hidden="true"></div>
                <div id="actLeadSlot" class="slot-value">?</div>
              </div>
              <button type="button" class="ghost mini" data-slot-clear="act-lead">Clear</button>
            </div>
            <div class="id-slot" data-slot-target="act-member2" data-slot-type="creator">
              <div class="slot-label">Member 2 ID</div>
              <div class="slot-id">
                <div class="slot-avatar" aria-hidden="true"></div>
                <div id="actMember2Slot" class="slot-value">?</div>
              </div>
              <button type="button" class="ghost mini" data-slot-clear="act-member2">Clear</button>
            </div>
            <div class="id-slot" data-slot-target="act-member3" data-slot-type="creator">
              <div class="slot-label">Member 3 ID</div>
              <div class="slot-id">
                <div class="slot-avatar" aria-hidden="true"></div>
                <div id="actMember3Slot" class="slot-value">?</div>
              </div>
              <button type="button" class="ghost mini" data-slot-clear="act-member3">Clear</button>
            </div>
          </div>
          <div class="actions">
            <button id="createActBtn" type="button">Create Act</button>
          </div>
          <div class="subhead">Creator Roster</div>
            <div id="creatorList" class="list ccc-market-grid"></div>
          <div class="tiny">Drag Creator IDs into slots, or tap after selecting a slot.</div>
        </div>
      </div>
    </section>
    <aside class="view-side">
      <div class="panel card panel--scroll" data-panel="communities">
        <div class="card-head">
          <h2>Communities</h2>
        </div>
        <div class="card-body">
          <div class="icon-grid">
            <button id="communitiesAreas" type="button" class="icon-btn"><span class="icon">AR</span>Areas</button>
            <button id="communitiesCreators" type="button" class="icon-btn"><span class="icon">CR</span>Creators</button>
            <button id="communitiesItems" type="button" class="icon-btn"><span class="icon">IT</span>Items &amp; Tools</button>
            <button id="communitiesCollabs" type="button" class="icon-btn"><span class="icon">CO</span>Collabs</button>
          </div>
          <div class="subhead">Creator Community Chamber (CCC)</div>
          <div class="tiny">Browse and sign Creator IDs in the CCC tab.</div>
          <div class="tiny">Opens popups for opportunities beyond your owned areas.</div>
        </div>
      </div>
      <div class="panel card panel--scroll" data-panel="label-settings">
        <h2>Label Settings</h2>
        <div class="card-body">
          <div class="field">
            <label for="labelNameInput">Record Label Name</label>
            <div class="input-row">
              <input id="labelNameInput" type="text" aria-label="Record label name">
              <button id="labelNameRandom" type="button" class="ghost mini">Rnd</button>
            </div>
          </div>
          <div class="actions">
            <button id="renameLabelBtn" type="button" class="ghost">Rename Label</button>
          </div>
          <div class="field">
            <label for="labelAlignment">Label Alignment</label>
            <select id="labelAlignment"></select>
          </div>
          <div class="field">
            <label for="saveBtn">Save and Load</label>
            <div class="time-row">
              <button id="saveBtn" type="button" class="ghost">Save Slot</button>
              <label class="file-btn">Load File <input type="file" id="loadInput" accept="application/json"></label>
            </div>
          </div>
        </div>
      </div>
    </aside>
  </div>
</template>

<template id="view-world">
  <div class="view view--world">
    <section class="view-main">
      <div class="panel card panel--scroll" data-panel="ccc-market">
        <div class="card-head">
          <h2>Creator Community Chamber</h2>
          <button id="refreshMarket" type="button" class="ghost">Refresh</button>
        </div>
        <div class="card-body">
          <div class="callout">
            CCC is a world-owned institution that prepares Members into Creator IDs for signing. Refresh rotates the pool; signing triggers alignment seeding and eyeriSocial announcements.
          </div>
          <div class="subhead">Available Creator IDs</div>
          <div class="filter-row">
            <label class="check-pill"><input type="checkbox" data-ccc-filter="Songwriter">Songwriters</label>
            <label class="check-pill"><input type="checkbox" data-ccc-filter="Performer">Performers</label>
            <label class="check-pill"><input type="checkbox" data-ccc-filter="Producer">Producers</label>
          </div>
          <div id="marketList" class="list ccc-market-grid"></div>
          <div class="tiny">Use the CCC to scout and sign new Creator IDs.</div>
        </div>
      </div>
    </section>
    <aside class="view-side">
      <div class="panel card panel--scroll" data-panel="top-labels">
        <h2>Top Labels</h2>
        <div class="card-body">
          <div id="topLabelsWorldList" class="top-mini-list"></div>
        </div>
      </div>
      <div class="panel card panel--scroll" data-panel="trends">
        <h2>Top Trends</h2>
        <div class="card-body">
          <div class="trend-filters">
            <div class="field">
              <label for="trendScopeSelect">Scope</label>
              <select id="trendScopeSelect">
                <option value="global">Global</option>
                <option value="nation">Nation</option>
                <option value="region">Region</option>
              </select>
            </div>
            <div class="field">
              <label id="trendScopeTargetLabel" for="trendScopeTarget">Nation/Region</label>
              <select id="trendScopeTarget"></select>
            </div>
          </div>
          <div id="trendScopeMeta" class="tiny muted"></div>
          <div id="trendList" class="list"></div>
        </div>
      </div>
    </aside>
  </div>
</template>

<template id="view-logs">
  <div class="view view--logs">
    <section class="view-main">
      <div class="panel card panel--scroll" data-panel="eyerisocial">
        <div class="card-head">
          <h2>eyeriSocial</h2>
          <label class="toggle-pill">
            <input id="socialShowInternal" type="checkbox">
            <span>Include Internal</span>
          </label>
        </div>
        <div class="card-body">
          <div class="callout">
            Live world feed and public promotions. Internal updates stay hidden unless included.
          </div>
          <div class="filter-row">
            <label class="check-pill"><input type="checkbox" data-social-filter="creator">Creators</label>
            <label class="check-pill"><input type="checkbox" data-social-filter="track">Tracks</label>
            <label class="check-pill"><input type="checkbox" data-social-filter="promo">Promo</label>
            <label class="check-pill"><input type="checkbox" data-social-filter="quest">Quests</label>
            <label class="check-pill"><input type="checkbox" data-social-filter="era">Eras</label>
            <label class="check-pill"><input type="checkbox" data-social-filter="economy">Economy</label>
            <label class="check-pill"><input type="checkbox" data-social-filter="chart">Charts</label>
            <label class="check-pill"><input type="checkbox" data-social-filter="contract">Contracts</label>
            <label class="check-pill"><input type="checkbox" data-social-filter="receipt">Receipts</label>
            <label class="check-pill"><input type="checkbox" data-social-filter="ccc">CCC</label>
            <label class="check-pill"><input type="checkbox" data-social-filter="system">System</label>
          </div>
          <div class="subhead">Promotional Content</div>
          <div class="id-slot" data-slot-target="promo-track" data-slot-type="track">
            <div class="slot-label">Track ID</div>
            <div id="promoTrackSlot" class="slot-value">?</div>
            <button type="button" class="ghost mini" data-slot-clear="promo-track">Clear</button>
          </div>
          <div class="list-item">
            <div class="list-row">
              <div>
                <div class="item-title">Focus Era</div>
                <div id="promoFocusLabel" class="muted">No active eras</div>
              </div>
              <button id="promoFocusPickBtn" type="button" class="ghost mini">Pick Track</button>
            </div>
          </div>
          <div class="field">
            <label id="promoTypeLabel">Promo Types</label>
            <select id="promoTypeSelect" class="hidden" aria-hidden="true" tabindex="-1">
              <option value="musicVideo">Music Video</option>
              <option value="livePerformance">Live Performance</option>
              <option value="eyeriSocialPost">eyeriSocial Post</option>
              <option value="eyeriSocialAd">eyeriSocial Ad</option>
              <option value="interview">Interview</option>
            </select>
            <div id="promoTypeGrid" class="promo-type-grid slot-grid slot-grid--multi" role="radiogroup" aria-labelledby="promoTypeLabel">
              <button type="button" class="promo-type-card is-active" data-promo-type="musicVideo" role="radio" aria-checked="true">
                <div class="promo-type-row">
                  <div class="slot-label">Promo Type</div>
                  <div class="promo-type-status" data-promo-status>Selected</div>
                </div>
                <div class="slot-value" data-promo-label>Music Video</div>
                <div class="promo-type-detail tiny" data-promo-requirement>Requirement: Final video + clearance</div>
                <div class="promo-type-detail tiny" data-promo-cost>Typical cost: $7,500</div>
              </button>
              <button type="button" class="promo-type-card" data-promo-type="livePerformance" role="radio" aria-checked="false">
                <div class="promo-type-row">
                  <div class="slot-label">Promo Type</div>
                  <div class="promo-type-status" data-promo-status>Select</div>
                </div>
                <div class="slot-value" data-promo-label>Live Performance</div>
                <div class="promo-type-detail tiny" data-promo-requirement>Requirement: Venue slot + live-ready set</div>
                <div class="promo-type-detail tiny" data-promo-cost>Typical cost: $3,000</div>
              </button>
              <button type="button" class="promo-type-card" data-promo-type="eyeriSocialPost" role="radio" aria-checked="false">
                <div class="promo-type-row">
                  <div class="slot-label">Promo Type</div>
                  <div class="promo-type-status" data-promo-status>Select</div>
                </div>
                <div class="slot-value" data-promo-label>eyeriSocial Post</div>
                <div class="promo-type-detail tiny" data-promo-requirement>Requirement: Cover art + caption</div>
                <div class="promo-type-detail tiny" data-promo-cost>Typical cost: $600</div>
              </button>
              <button type="button" class="promo-type-card" data-promo-type="eyeriSocialAd" role="radio" aria-checked="false">
                <div class="promo-type-row">
                  <div class="slot-label">Promo Type</div>
                  <div class="promo-type-status" data-promo-status>Select</div>
                </div>
                <div class="slot-value" data-promo-label>eyeriSocial Ad</div>
                <div class="promo-type-detail tiny" data-promo-requirement>Requirement: Multimedia post + placement</div>
                <div class="promo-type-detail tiny" data-promo-cost>Typical cost: $1,800</div>
              </button>
              <button type="button" class="promo-type-card" data-promo-type="interview" role="radio" aria-checked="false">
                <div class="promo-type-row">
                  <div class="slot-label">Promo Type</div>
                  <div class="promo-type-status" data-promo-status>Select</div>
                </div>
                <div class="slot-value" data-promo-label>Interview</div>
                <div class="promo-type-detail tiny" data-promo-requirement>Requirement: Press kit + talking points</div>
                <div class="promo-type-detail tiny" data-promo-cost>Typical cost: $1,200</div>
              </button>
            </div>
            <div id="promoTypeHint" class="tiny muted">Selected: Requirement: Final video + clearance | Typical cost: $7,500</div>
          </div>
          <div class="field">
            <label for="promoBudget">Promo Budget</label>
            <input id="promoBudget" type="number" min="100" step="100" value="7500">
          </div>
          <div class="field">
            <label class="toggle-pill">
              <input id="autoRolloutToggle" type="checkbox">
              <span>Auto Promo</span>
            </label>
            <div class="tiny">Auto-run promo pushes when your saved rules are met.</div>
          </div>
          <div class="actions">
            <button id="promoBtn" type="button">Fund Promo Push</button>
          </div>
          <div class="tiny">Tap a slot, then tap a released Track ID. Promo pushes last 1-4 weeks based on budget.</div>
          <div class="subhead">Feed</div>
          <div id="socialFeed" class="log"></div>
        </div>
      </div>
    </section>
    <aside class="view-side">
      <div class="panel card panel--scroll" data-panel="system-log">
        <h2>Internal Log</h2>
        <div class="card-body">
          <div id="eventLogList" class="list"></div>
        </div>
      </div>
      <div class="panel card panel--scroll" data-panel="usage-ledger">
        <h2>Loss Archives</h2>
        <div class="card-body">
          <div class="tiny">Keeps the last 3 losses with usage logs for review.</div>
          <div id="usageLedgerList" class="list"></div>
        </div>
      </div>
      <div class="panel card" data-panel="debug-export">
        <h2>Export Debug Bundle</h2>
        <div class="card-body">
          <div class="tiny">Exports UI usage log, a summary markdown, and a state snapshot.</div>
          <div class="actions">
            <button id="exportDebugBtn" type="button">Export Debug Bundle</button>
          </div>
        </div>
      </div>
    </aside>
  </div>
</template>

<script src="assets/js/data/constants.js"></script>
<script src="assets/js/data/names.js"></script>
<script src="assets/js/data/tracklist.js"></script>
<script src="assets/js/data/ai_labels.js"></script>
<script src="assets/js/data/social_templates.js"></script>
<script type="module" src="assets/js/dist/main.js"></script>
</body>
</html>
